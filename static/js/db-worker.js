importScripts("shared.js");
(function(){
shadow$provide[607]=function(xa,ca,Ya,L){function x(P,f){B(P,f);f.add(P)}function W(P,f,g){B(P,f);f.set(P,g)}function B(P,f){if(f.has(P))throw new TypeError("Cannot initialize the same private elements twice on an object");}function q(P,f,g){a:if("object"===typeof f&&null!==f){var a=f[Symbol.toPrimitive];if(void 0!==a){f=a.call(f,"string");if("object"!==typeof f)break a;throw new TypeError("@@toPrimitive must return a primitive value.");}f=String(f)}f="symbol"===typeof f?f:String(f);f in P?Object.defineProperty(P,
f,{value:g,enumerable:!0,configurable:!0,writable:!0}):P[f]=g;return P}function b(P,f,g){if(!f.has(P))throw new TypeError("attempted to get private field on non-instance");return g}function u(P,f){f=C(P,f,"get");P=f.get?f.get.call(P):f.value;return P}function A(P,f,g){f=C(P,f,"set");if(f.set)f.set.call(P,g);else{if(!f.writable)throw new TypeError("attempted to set read only private field");f.value=g}return g}function C(P,f,g){if(!f.has(P))throw new TypeError("attempted to "+g+" private field on non-instance");
return f.get(P)}ca(2);"use strict";Object.defineProperty(L,"__esModule",{value:!0});L.default=void 0;var E=(()=>function(P){function f(Hc){return t.locateFile?t.locateFile(Hc,aa):aa+Hc}function g(Hc,Ta,Ua){var xb=Ta+Ua;for(Ua=Ta;Hc[Ua]&&!(Ua>=xb);)++Ua;if(16<Ua-Ta&&Hc.buffer&&va)return va.decode(Hc.subarray(Ta,Ua));for(xb="";Ta<Ua;){var qb=Hc[Ta++];if(qb&128){var Yb=Hc[Ta++]&63;if(192==(qb&224))xb+=String.fromCharCode((qb&31)<<6|Yb);else{var cc=Hc[Ta++]&63;qb=224==(qb&240)?(qb&15)<<12|Yb<<6|cc:(qb&
7)<<18|Yb<<12|cc<<6|Hc[Ta++]&63;65536>qb?xb+=String.fromCharCode(qb):(qb-=65536,xb+=String.fromCharCode(55296|qb>>10,56320|qb&1023))}}else xb+=String.fromCharCode(qb)}return xb}function a(Hc,Ta,Ua,xb){if(!(0<xb))return 0;var qb=Ua;xb=Ua+xb-1;for(var Yb=0;Yb<Hc.length;++Yb){var cc=Hc.charCodeAt(Yb);if(55296<=cc&&57343>=cc){var yb=Hc.charCodeAt(++Yb);cc=65536+((cc&1023)<<10)|yb&1023}if(127>=cc){if(Ua>=xb)break;Ta[Ua++]=cc}else{if(2047>=cc){if(Ua+1>=xb)break;Ta[Ua++]=192|cc>>6}else{if(65535>=cc){if(Ua+
2>=xb)break;Ta[Ua++]=224|cc>>12}else{if(Ua+3>=xb)break;Ta[Ua++]=240|cc>>18;Ta[Ua++]=128|cc>>12&63}Ta[Ua++]=128|cc>>6&63}Ta[Ua++]=128|cc&63}}Ta[Ua]=0;return Ua-qb}function h(Hc){for(var Ta=0,Ua=0;Ua<Hc.length;++Ua){var xb=Hc.charCodeAt(Ua);127>=xb?Ta++:2047>=xb?Ta+=2:55296<=xb&&57343>=xb?(Ta+=4,++Ua):Ta+=3}return Ta}function l(){var Hc=za.buffer;t.HEAP8=Ha=new Int8Array(Hc);t.HEAP16=db=new Int16Array(Hc);t.HEAP32=Ea=new Int32Array(Hc);t.HEAPU8=Ja=new Uint8Array(Hc);t.HEAPU16=new Uint16Array(Hc);t.HEAPU32=
Ka=new Uint32Array(Hc);t.HEAPF32=new Float32Array(Hc);t.HEAPF64=new Float64Array(Hc);t.HEAP64=new BigInt64Array(Hc);t.HEAPU64=new BigUint64Array(Hc)}function m(Hc){ma++;t.monitorRunDependencies&&t.monitorRunDependencies(ma)}function D(Hc){ma--;t.monitorRunDependencies&&t.monitorRunDependencies(ma);0==ma&&(null!==na&&(clearInterval(na),na=null),Na&&(Hc=Na,Na=null,Hc()))}function w(Hc){if(t.onAbort)t.onAbort(Hc);Hc="Aborted("+Hc+")";oa(Hc);ra=!0;Hc=new WebAssembly.RuntimeError(Hc+". Build with -sASSERTIONS for more info.");
Q(Hc);throw Hc;}function r(Hc){try{if(Hc==Ra&&ua)return new Uint8Array(ua);if(X)return X(Hc);throw"both async and sync fetching of the wasm failed";}catch(Ta){w(Ta)}}function n(){return ua||!V&&!Z||"function"!=typeof fetch?Promise.resolve().then(function(){return r(Ra)}):fetch(Ra,{credentials:"same-origin"}).then(function(Hc){if(!Hc.ok)throw"failed to load wasm binary file at '"+Ra+"'";return Hc.arrayBuffer()}).catch(function(){return r(Ra)})}function e(Hc){for(;0<Hc.length;)Hc.shift()(t)}function F(){if("object"==
typeof crypto&&"function"==typeof crypto.getRandomValues){var Hc=new Uint8Array(1);return()=>{crypto.getRandomValues(Hc);return Hc[0]}}return()=>w("randomDevice")}function y(Hc,Ta,Ua){Ua=0<Ua?Ua:h(Hc)+1;Ua=Array(Ua);Hc=a(Hc,Ua,0,Ua.length);Ta&&(Ua.length=Hc);return Ua}function K(Hc){Hc=65536*Math.ceil(Hc/65536);var Ta=Qc(65536,Hc);if(!Ta)return 0;Ja.fill(0,Ta,Ta+Hc);return Ta}function U(Hc,Ta,Ua,xb){var qb=xb?"":"al "+Hc;Y(Hc,Yb=>{Yb||w('Loading data file "'+Hc+'" failed (no arrayBuffer).');Ta(new Uint8Array(Yb));
qb&&D(qb)},Yb=>{if(Ua)Ua();else throw'Loading data file "'+Hc+'" failed.';});qb&&m(qb)}function G(Hc){return Ka[Hc>>2]+4294967296*Ea[Hc+4>>2]}function R(Hc){var Ta=h(Hc)+1,Ua=Tc(Ta);Ua&&a(Hc,Ha,Ua,Ta);return Ua}function N(){if(!N.strings){var Hc={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:ha||"./this.program"},Ta;for(Ta in hb)void 0===hb[Ta]?delete Hc[Ta]:
Hc[Ta]=hb[Ta];var Ua=[];for(Ta in Hc)Ua.push(Ta+"\x3d"+Hc[Ta]);N.strings=Ua}return N.strings}function T(Hc){function Ta(){if(!Gc&&(Gc=!0,t.calledRun=!0,!ra)){t.noFSInit||Aa.init.initialized||Aa.init();Aa.ignorePermissions=!1;Jb.init();e(ja);H(t);if(t.onRuntimeInitialized)t.onRuntimeInitialized();if(t.postRun)for("function"==typeof t.postRun&&(t.postRun=[t.postRun]);t.postRun.length;)ta.unshift(t.postRun.shift());e(ta)}}if(!(0<ma)){if(t.preRun)for("function"==typeof t.preRun&&(t.preRun=[t.preRun]);t.preRun.length;)ka.unshift(t.preRun.shift());
e(ka);0<ma||(t.setStatus?(t.setStatus("Running..."),setTimeout(function(){setTimeout(function(){t.setStatus("")},1);Ta()},1)):Ta())}}P=P||{};var t="undefined"!=typeof P?P:{},I=t.url,H,Q;t.ready=new Promise(function(Hc,Ta){H=Hc;Q=Ta});const O=globalThis.sqlite3InitModuleState||Object.assign(Object.create(null),{debugModule:()=>{}});delete globalThis.sqlite3InitModuleState;O.debugModule("globalThis.location \x3d",globalThis.location);t["emscripten-bug-17951"]=function xb(Ta,Ua){Ta.env.foo=function(){};
const qb=t.locateFile(xb.uri,"undefined"===typeof aa?"":aa);O.debugModule("instantiateWasm() uri \x3d",qb);(WebAssembly.instantiateStreaming?async()=>WebAssembly.instantiateStreaming(fetch(qb,{credentials:"same-origin"}),Ta).then(Yb=>Ua(Yb.instance,Yb.module)):async()=>fetch(qb,{credentials:"same-origin"}).then(Yb=>Yb.arrayBuffer()).then(Yb=>WebAssembly.instantiate(Yb,Ta)).then(Yb=>Ua(Yb.instance,Yb.module)))();return{}};t["emscripten-bug-17951"].uri="sqlite3.wasm";var M=Object.assign({},t),ha="./this.program",
V="object"==typeof window,Z="function"==typeof importScripts,aa="",X;if(V||Z){Z?aa=self.location.href:"undefined"!=typeof document&&document.currentScript&&(aa=document.currentScript.src);I&&(aa=I);aa="string"===typeof aa&&0!==aa.indexOf("blob:")?aa.substr(0,aa.replace(/[?#].*/,"").lastIndexOf("/")+1):"";var fa=Ta=>{var Ua=new XMLHttpRequest;Ua.open("GET",Ta,!1);Ua.send(null);return Ua.responseText};Z&&(X=Ta=>{var Ua=new XMLHttpRequest;Ua.open("GET",Ta,!1);Ua.responseType="arraybuffer";Ua.send(null);
return new Uint8Array(Ua.response)});var Y=(Ta,Ua,xb)=>{var qb=new XMLHttpRequest;qb.open("GET",Ta,!0);qb.responseType="arraybuffer";qb.onload=()=>{200==qb.status||0==qb.status&&qb.response?Ua(qb.response):xb()};qb.onerror=xb;qb.send(null)}}var ea=t.print||console.log.bind(console),oa=t.printErr||console.warn.bind(console);Object.assign(t,M);M=null;t.thisProgram&&(ha=t.thisProgram);var ua;t.wasmBinary&&(ua=t.wasmBinary);"object"!=typeof WebAssembly&&w("no native wasm support detected");var ra=!1,
va="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0,Ha,Ja,db,Ea,Ka;M=t.INITIAL_MEMORY||16777216;var za=t.wasmMemory?t.wasmMemory:new WebAssembly.Memory({initial:M/65536,maximum:32768});l();M=za.buffer.byteLength;var ka=[],ja=[],ta=[],ma=0,na=null,Na=null;if(t.locateFile){var Ra="sqlite3.wasm";Ra.startsWith("data:application/octet-stream;base64,")||(Ra=f(Ra))}else Ra=(new URL("sqlite3.wasm",I)).href;var Sa,Ma,Xa={isAbs:Ta=>"/"===Ta.charAt(0),splitPath:Ta=>/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/.exec(Ta).slice(1),
normalizeArray:(Ta,Ua)=>{for(var xb=0,qb=Ta.length-1;0<=qb;qb--){var Yb=Ta[qb];"."===Yb?Ta.splice(qb,1):".."===Yb?(Ta.splice(qb,1),xb++):xb&&(Ta.splice(qb,1),xb--)}if(Ua)for(;xb;xb--)Ta.unshift("..");return Ta},normalize:Ta=>{var Ua=Xa.isAbs(Ta),xb="/"===Ta.substr(-1);(Ta=Xa.normalizeArray(Ta.split("/").filter(qb=>!!qb),!Ua).join("/"))||Ua||(Ta=".");Ta&&xb&&(Ta+="/");return(Ua?"/":"")+Ta},dirname:Ta=>{var Ua=Xa.splitPath(Ta);Ta=Ua[0];Ua=Ua[1];if(!Ta&&!Ua)return".";Ua&&=Ua.substr(0,Ua.length-1);return Ta+
Ua},basename:Ta=>{if("/"===Ta)return"/";Ta=Xa.normalize(Ta);Ta=Ta.replace(/\/$/,"");var Ua=Ta.lastIndexOf("/");return-1===Ua?Ta:Ta.substr(Ua+1)},join:function(){var Ta=Array.prototype.slice.call(arguments);return Xa.normalize(Ta.join("/"))},join2:(Ta,Ua)=>Xa.normalize(Ta+"/"+Ua)},jb={resolve:function(){for(var Ta="",Ua=!1,xb=arguments.length-1;-1<=xb&&!Ua;xb--){Ua=0<=xb?arguments[xb]:Aa.cwd();if("string"!=typeof Ua)throw new TypeError("Arguments to path.resolve must be strings");if(!Ua)return"";Ta=
Ua+"/"+Ta;Ua=Xa.isAbs(Ua)}Ta=Xa.normalizeArray(Ta.split("/").filter(qb=>!!qb),!Ua).join("/");return(Ua?"/":"")+Ta||"."},relative:(Ta,Ua)=>{function xb(yb){for(var Kb=0;Kb<yb.length&&""===yb[Kb];Kb++);for(var Bb=yb.length-1;0<=Bb&&""===yb[Bb];Bb--);return Kb>Bb?[]:yb.slice(Kb,Bb-Kb+1)}Ta=jb.resolve(Ta).substr(1);Ua=jb.resolve(Ua).substr(1);Ta=xb(Ta.split("/"));Ua=xb(Ua.split("/"));for(var qb=Math.min(Ta.length,Ua.length),Yb=qb,cc=0;cc<qb;cc++)if(Ta[cc]!==Ua[cc]){Yb=cc;break}qb=[];for(cc=Yb;cc<Ta.length;cc++)qb.push("..");
qb=qb.concat(Ua.slice(Yb));return qb.join("/")}},Jb={ttys:[],init:function(){},shutdown:function(){},register:function(Ta,Ua){Jb.ttys[Ta]={input:[],output:[],ops:Ua};Aa.registerDevice(Ta,Jb.stream_ops)},stream_ops:{open:function(Ta){var Ua=Jb.ttys[Ta.node.rdev];if(!Ua)throw new Aa.ErrnoError(43);Ta.tty=Ua;Ta.seekable=!1},close:function(Ta){Ta.tty.ops.fsync(Ta.tty)},fsync:function(Ta){Ta.tty.ops.fsync(Ta.tty)},read:function(Ta,Ua,xb,qb,Yb){if(!Ta.tty||!Ta.tty.ops.get_char)throw new Aa.ErrnoError(60);
for(var cc=Yb=0;cc<qb;cc++){try{var yb=Ta.tty.ops.get_char(Ta.tty)}catch(Kb){throw new Aa.ErrnoError(29);}if(void 0===yb&&0===Yb)throw new Aa.ErrnoError(6);if(null===yb||void 0===yb)break;Yb++;Ua[xb+cc]=yb}Yb&&(Ta.node.timestamp=Date.now());return Yb},write:function(Ta,Ua,xb,qb,Yb){if(!Ta.tty||!Ta.tty.ops.put_char)throw new Aa.ErrnoError(60);try{for(Yb=0;Yb<qb;Yb++)Ta.tty.ops.put_char(Ta.tty,Ua[xb+Yb])}catch(cc){throw new Aa.ErrnoError(29);}qb&&(Ta.node.timestamp=Date.now());return Yb}},default_tty_ops:{get_char:function(Ta){if(!Ta.input.length){var Ua=
null;"undefined"!=typeof window&&"function"==typeof window.prompt?(Ua=window.prompt("Input: "),null!==Ua&&(Ua+="\n")):"function"==typeof readline&&(Ua=readline(),null!==Ua&&(Ua+="\n"));if(!Ua)return null;Ta.input=y(Ua,!0)}return Ta.input.shift()},put_char:function(Ta,Ua){null===Ua||10===Ua?(ea(g(Ta.output,0)),Ta.output=[]):0!=Ua&&Ta.output.push(Ua)},fsync:function(Ta){Ta.output&&0<Ta.output.length&&(ea(g(Ta.output,0)),Ta.output=[])}},default_tty1_ops:{put_char:function(Ta,Ua){null===Ua||10===Ua?(oa(g(Ta.output,
0)),Ta.output=[]):0!=Ua&&Ta.output.push(Ua)},fsync:function(Ta){Ta.output&&0<Ta.output.length&&(oa(g(Ta.output,0)),Ta.output=[])}}},Fb={ops_table:null,mount:function(Ta){return Fb.createNode(null,"/",16895,0)},createNode:function(Ta,Ua,xb,qb){if(Aa.isBlkdev(xb)||Aa.isFIFO(xb))throw new Aa.ErrnoError(63);Fb.ops_table||(Fb.ops_table={dir:{node:{getattr:Fb.node_ops.getattr,setattr:Fb.node_ops.setattr,lookup:Fb.node_ops.lookup,mknod:Fb.node_ops.mknod,rename:Fb.node_ops.rename,unlink:Fb.node_ops.unlink,
rmdir:Fb.node_ops.rmdir,readdir:Fb.node_ops.readdir,symlink:Fb.node_ops.symlink},stream:{llseek:Fb.stream_ops.llseek}},file:{node:{getattr:Fb.node_ops.getattr,setattr:Fb.node_ops.setattr},stream:{llseek:Fb.stream_ops.llseek,read:Fb.stream_ops.read,write:Fb.stream_ops.write,allocate:Fb.stream_ops.allocate,mmap:Fb.stream_ops.mmap,msync:Fb.stream_ops.msync}},link:{node:{getattr:Fb.node_ops.getattr,setattr:Fb.node_ops.setattr,readlink:Fb.node_ops.readlink},stream:{}},chrdev:{node:{getattr:Fb.node_ops.getattr,
setattr:Fb.node_ops.setattr},stream:Aa.chrdev_stream_ops}});xb=Aa.createNode(Ta,Ua,xb,qb);Aa.isDir(xb.mode)?(xb.node_ops=Fb.ops_table.dir.node,xb.stream_ops=Fb.ops_table.dir.stream,xb.contents={}):Aa.isFile(xb.mode)?(xb.node_ops=Fb.ops_table.file.node,xb.stream_ops=Fb.ops_table.file.stream,xb.usedBytes=0,xb.contents=null):Aa.isLink(xb.mode)?(xb.node_ops=Fb.ops_table.link.node,xb.stream_ops=Fb.ops_table.link.stream):Aa.isChrdev(xb.mode)&&(xb.node_ops=Fb.ops_table.chrdev.node,xb.stream_ops=Fb.ops_table.chrdev.stream);
xb.timestamp=Date.now();Ta&&(Ta.contents[Ua]=xb,Ta.timestamp=xb.timestamp);return xb},getFileDataAsTypedArray:function(Ta){return Ta.contents?Ta.contents.subarray?Ta.contents.subarray(0,Ta.usedBytes):new Uint8Array(Ta.contents):new Uint8Array(0)},expandFileStorage:function(Ta,Ua){var xb=Ta.contents?Ta.contents.length:0;xb>=Ua||(Ua=Math.max(Ua,xb*(1048576>xb?2:1.125)>>>0),0!=xb&&(Ua=Math.max(Ua,256)),xb=Ta.contents,Ta.contents=new Uint8Array(Ua),0<Ta.usedBytes&&Ta.contents.set(xb.subarray(0,Ta.usedBytes),
0))},resizeFileStorage:function(Ta,Ua){if(Ta.usedBytes!=Ua)if(0==Ua)Ta.contents=null,Ta.usedBytes=0;else{var xb=Ta.contents;Ta.contents=new Uint8Array(Ua);xb&&Ta.contents.set(xb.subarray(0,Math.min(Ua,Ta.usedBytes)));Ta.usedBytes=Ua}},node_ops:{getattr:function(Ta){var Ua={};Ua.dev=Aa.isChrdev(Ta.mode)?Ta.id:1;Ua.ino=Ta.id;Ua.mode=Ta.mode;Ua.nlink=1;Ua.uid=0;Ua.gid=0;Ua.rdev=Ta.rdev;Aa.isDir(Ta.mode)?Ua.size=4096:Aa.isFile(Ta.mode)?Ua.size=Ta.usedBytes:Aa.isLink(Ta.mode)?Ua.size=Ta.link.length:Ua.size=
0;Ua.atime=new Date(Ta.timestamp);Ua.mtime=new Date(Ta.timestamp);Ua.ctime=new Date(Ta.timestamp);Ua.blksize=4096;Ua.blocks=Math.ceil(Ua.size/Ua.blksize);return Ua},setattr:function(Ta,Ua){void 0!==Ua.mode&&(Ta.mode=Ua.mode);void 0!==Ua.timestamp&&(Ta.timestamp=Ua.timestamp);void 0!==Ua.size&&Fb.resizeFileStorage(Ta,Ua.size)},lookup:function(Ta,Ua){throw Aa.genericErrors[44];},mknod:function(Ta,Ua,xb,qb){return Fb.createNode(Ta,Ua,xb,qb)},rename:function(Ta,Ua,xb){if(Aa.isDir(Ta.mode)){try{var qb=
Aa.lookupNode(Ua,xb)}catch(cc){}if(qb)for(var Yb in qb.contents)throw new Aa.ErrnoError(55);}delete Ta.parent.contents[Ta.name];Ta.parent.timestamp=Date.now();Ta.name=xb;Ua.contents[xb]=Ta;Ua.timestamp=Ta.parent.timestamp;Ta.parent=Ua},unlink:function(Ta,Ua){delete Ta.contents[Ua];Ta.timestamp=Date.now()},rmdir:function(Ta,Ua){var xb=Aa.lookupNode(Ta,Ua),qb;for(qb in xb.contents)throw new Aa.ErrnoError(55);delete Ta.contents[Ua];Ta.timestamp=Date.now()},readdir:function(Ta){var Ua=[".",".."],xb;for(xb in Ta.contents)Ta.contents.hasOwnProperty(xb)&&
Ua.push(xb);return Ua},symlink:function(Ta,Ua,xb){Ta=Fb.createNode(Ta,Ua,41471,0);Ta.link=xb;return Ta},readlink:function(Ta){if(!Aa.isLink(Ta.mode))throw new Aa.ErrnoError(28);return Ta.link}},stream_ops:{read:function(Ta,Ua,xb,qb,Yb){var cc=Ta.node.contents;if(Yb>=Ta.node.usedBytes)return 0;Ta=Math.min(Ta.node.usedBytes-Yb,qb);if(8<Ta&&cc.subarray)Ua.set(cc.subarray(Yb,Yb+Ta),xb);else for(qb=0;qb<Ta;qb++)Ua[xb+qb]=cc[Yb+qb];return Ta},write:function(Ta,Ua,xb,qb,Yb,cc){Ua.buffer===Ha.buffer&&(cc=
!1);if(!qb)return 0;Ta=Ta.node;Ta.timestamp=Date.now();if(Ua.subarray&&(!Ta.contents||Ta.contents.subarray)){if(cc)return Ta.contents=Ua.subarray(xb,xb+qb),Ta.usedBytes=qb;if(0===Ta.usedBytes&&0===Yb)return Ta.contents=Ua.slice(xb,xb+qb),Ta.usedBytes=qb;if(Yb+qb<=Ta.usedBytes)return Ta.contents.set(Ua.subarray(xb,xb+qb),Yb),qb}Fb.expandFileStorage(Ta,Yb+qb);if(Ta.contents.subarray&&Ua.subarray)Ta.contents.set(Ua.subarray(xb,xb+qb),Yb);else for(cc=0;cc<qb;cc++)Ta.contents[Yb+cc]=Ua[xb+cc];Ta.usedBytes=
Math.max(Ta.usedBytes,Yb+qb);return qb},llseek:function(Ta,Ua,xb){1===xb?Ua+=Ta.position:2===xb&&Aa.isFile(Ta.node.mode)&&(Ua+=Ta.node.usedBytes);if(0>Ua)throw new Aa.ErrnoError(28);return Ua},allocate:function(Ta,Ua,xb){Fb.expandFileStorage(Ta.node,Ua+xb);Ta.node.usedBytes=Math.max(Ta.node.usedBytes,Ua+xb)},mmap:function(Ta,Ua,xb,qb,Yb){if(!Aa.isFile(Ta.node.mode))throw new Aa.ErrnoError(43);Ta=Ta.node.contents;if(Yb&2||Ta.buffer!==Ha.buffer){if(0<xb||xb+Ua<Ta.length)Ta=Ta.subarray?Ta.subarray(xb,
xb+Ua):Array.prototype.slice.call(Ta,xb,xb+Ua);xb=!0;Ua=K(Ua);if(!Ua)throw new Aa.ErrnoError(48);Ha.set(Ta,Ua)}else xb=!1,Ua=Ta.byteOffset;return{ptr:Ua,allocated:xb}},msync:function(Ta,Ua,xb,qb,Yb){Fb.stream_ops.write(Ta,Ua,0,qb,xb,!1);return 0}}},Aa={root:null,mounts:[],devices:{},streams:[],nextInode:1,nameTable:null,currentPath:"/",initialized:!1,ignorePermissions:!0,ErrnoError:null,genericErrors:{},filesystems:null,syncFSRequests:0,lookupPath:(Ta,Ua={})=>{Ta=jb.resolve(Ta);if(!Ta)return{path:"",
node:null};Ua=Object.assign({follow_mount:!0,recurse_count:0},Ua);if(8<Ua.recurse_count)throw new Aa.ErrnoError(32);Ta=Ta.split("/").filter(yb=>!!yb);for(var xb=Aa.root,qb="/",Yb=0;Yb<Ta.length;Yb++){var cc=Yb===Ta.length-1;if(cc&&Ua.parent)break;xb=Aa.lookupNode(xb,Ta[Yb]);qb=Xa.join2(qb,Ta[Yb]);Aa.isMountpoint(xb)&&(!cc||cc&&Ua.follow_mount)&&(xb=xb.mounted.root);if(!cc||Ua.follow)for(cc=0;Aa.isLink(xb.mode);)if(xb=Aa.readlink(qb),qb=jb.resolve(Xa.dirname(qb),xb),xb=Aa.lookupPath(qb,{recurse_count:Ua.recurse_count+
1}).node,40<cc++)throw new Aa.ErrnoError(32);}return{path:qb,node:xb}},getPath:Ta=>{for(var Ua;;){if(Aa.isRoot(Ta))return Ta=Ta.mount.mountpoint,Ua?"/"!==Ta[Ta.length-1]?Ta+"/"+Ua:Ta+Ua:Ta;Ua=Ua?Ta.name+"/"+Ua:Ta.name;Ta=Ta.parent}},hashName:(Ta,Ua)=>{for(var xb=0,qb=0;qb<Ua.length;qb++)xb=(xb<<5)-xb+Ua.charCodeAt(qb)|0;return(Ta+xb>>>0)%Aa.nameTable.length},hashAddNode:Ta=>{var Ua=Aa.hashName(Ta.parent.id,Ta.name);Ta.name_next=Aa.nameTable[Ua];Aa.nameTable[Ua]=Ta},hashRemoveNode:Ta=>{var Ua=Aa.hashName(Ta.parent.id,
Ta.name);if(Aa.nameTable[Ua]===Ta)Aa.nameTable[Ua]=Ta.name_next;else for(Ua=Aa.nameTable[Ua];Ua;){if(Ua.name_next===Ta){Ua.name_next=Ta.name_next;break}Ua=Ua.name_next}},lookupNode:(Ta,Ua)=>{var xb=Aa.mayLookup(Ta);if(xb)throw new Aa.ErrnoError(xb,Ta);xb=Aa.hashName(Ta.id,Ua);for(xb=Aa.nameTable[xb];xb;xb=xb.name_next){var qb=xb.name;if(xb.parent.id===Ta.id&&qb===Ua)return xb}return Aa.lookup(Ta,Ua)},createNode:(Ta,Ua,xb,qb)=>{Ta=new Aa.FSNode(Ta,Ua,xb,qb);Aa.hashAddNode(Ta);return Ta},destroyNode:Ta=>
{Aa.hashRemoveNode(Ta)},isRoot:Ta=>Ta===Ta.parent,isMountpoint:Ta=>!!Ta.mounted,isFile:Ta=>32768===(Ta&61440),isDir:Ta=>16384===(Ta&61440),isLink:Ta=>40960===(Ta&61440),isChrdev:Ta=>8192===(Ta&61440),isBlkdev:Ta=>24576===(Ta&61440),isFIFO:Ta=>4096===(Ta&61440),isSocket:Ta=>49152===(Ta&49152),flagModes:{r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090},modeStringToFlags:Ta=>{var Ua=Aa.flagModes[Ta];if("undefined"==typeof Ua)throw Error("Unknown file open mode: "+Ta);return Ua},flagsToPermissionString:Ta=>
{var Ua=["r","w","rw"][Ta&3];Ta&512&&(Ua+="w");return Ua},nodePermissions:(Ta,Ua)=>{if(Aa.ignorePermissions)return 0;if(!Ua.includes("r")||Ta.mode&292){if(Ua.includes("w")&&!(Ta.mode&146)||Ua.includes("x")&&!(Ta.mode&73))return 2}else return 2;return 0},mayLookup:Ta=>{var Ua=Aa.nodePermissions(Ta,"x");return Ua?Ua:Ta.node_ops.lookup?0:2},mayCreate:(Ta,Ua)=>{try{return Aa.lookupNode(Ta,Ua),20}catch(xb){}return Aa.nodePermissions(Ta,"wx")},mayDelete:(Ta,Ua,xb)=>{try{var qb=Aa.lookupNode(Ta,Ua)}catch(Yb){return Yb.errno}if(Ta=
Aa.nodePermissions(Ta,"wx"))return Ta;if(xb){if(!Aa.isDir(qb.mode))return 54;if(Aa.isRoot(qb)||Aa.getPath(qb)===Aa.cwd())return 10}else if(Aa.isDir(qb.mode))return 31;return 0},mayOpen:(Ta,Ua)=>Ta?Aa.isLink(Ta.mode)?32:Aa.isDir(Ta.mode)&&("r"!==Aa.flagsToPermissionString(Ua)||Ua&512)?31:Aa.nodePermissions(Ta,Aa.flagsToPermissionString(Ua)):44,MAX_OPEN_FDS:4096,nextfd:(Ta=0,Ua=Aa.MAX_OPEN_FDS)=>{for(;Ta<=Ua;Ta++)if(!Aa.streams[Ta])return Ta;throw new Aa.ErrnoError(33);},getStream:Ta=>Aa.streams[Ta],
createStream:(Ta,Ua,xb)=>{Aa.FSStream||(Aa.FSStream=function(){this.shared={}},Aa.FSStream.prototype={},Object.defineProperties(Aa.FSStream.prototype,{object:{get:function(){return this.node},set:function(qb){this.node=qb}},isRead:{get:function(){return 1!==(this.flags&2097155)}},isWrite:{get:function(){return 0!==(this.flags&2097155)}},isAppend:{get:function(){return this.flags&1024}},flags:{get:function(){return this.shared.flags},set:function(qb){this.shared.flags=qb}},position:{get:function(){return this.shared.position},
set:function(qb){this.shared.position=qb}}}));Ta=Object.assign(new Aa.FSStream,Ta);Ua=Aa.nextfd(Ua,xb);Ta.fd=Ua;return Aa.streams[Ua]=Ta},closeStream:Ta=>{Aa.streams[Ta]=null},chrdev_stream_ops:{open:Ta=>{var Ua=Aa.getDevice(Ta.node.rdev);Ta.stream_ops=Ua.stream_ops;Ta.stream_ops.open&&Ta.stream_ops.open(Ta)},llseek:()=>{throw new Aa.ErrnoError(70);}},major:Ta=>Ta>>8,minor:Ta=>Ta&255,makedev:(Ta,Ua)=>Ta<<8|Ua,registerDevice:(Ta,Ua)=>{Aa.devices[Ta]={stream_ops:Ua}},getDevice:Ta=>Aa.devices[Ta],getMounts:Ta=>
{var Ua=[];for(Ta=[Ta];Ta.length;){var xb=Ta.pop();Ua.push(xb);Ta.push.apply(Ta,xb.mounts)}return Ua},syncfs:(Ta,Ua)=>{function xb(yb){Aa.syncFSRequests--;return Ua(yb)}function qb(yb){if(yb){if(!qb.errored)return qb.errored=!0,xb(yb)}else++cc>=Yb.length&&xb(null)}"function"==typeof Ta&&(Ua=Ta,Ta=!1);Aa.syncFSRequests++;1<Aa.syncFSRequests&&oa("warning: "+Aa.syncFSRequests+" FS.syncfs operations in flight at once, probably just doing extra work");var Yb=Aa.getMounts(Aa.root.mount),cc=0;Yb.forEach(yb=>
{if(!yb.type.syncfs)return qb(null);yb.type.syncfs(yb,Ta,qb)})},mount:(Ta,Ua,xb)=>{var qb="/"===xb,Yb=!xb;if(qb&&Aa.root)throw new Aa.ErrnoError(10);if(!qb&&!Yb){var cc=Aa.lookupPath(xb,{follow_mount:!1});xb=cc.path;cc=cc.node;if(Aa.isMountpoint(cc))throw new Aa.ErrnoError(10);if(!Aa.isDir(cc.mode))throw new Aa.ErrnoError(54);}Ua={type:Ta,opts:Ua,mountpoint:xb,mounts:[]};Ta=Ta.mount(Ua);Ta.mount=Ua;Ua.root=Ta;qb?Aa.root=Ta:cc&&(cc.mounted=Ua,cc.mount&&cc.mount.mounts.push(Ua));return Ta},unmount:Ta=>
{Ta=Aa.lookupPath(Ta,{follow_mount:!1});if(!Aa.isMountpoint(Ta.node))throw new Aa.ErrnoError(28);Ta=Ta.node;var Ua=Ta.mounted,xb=Aa.getMounts(Ua);Object.keys(Aa.nameTable).forEach(qb=>{for(qb=Aa.nameTable[qb];qb;){var Yb=qb.name_next;xb.includes(qb.mount)&&Aa.destroyNode(qb);qb=Yb}});Ta.mounted=null;Ua=Ta.mount.mounts.indexOf(Ua);Ta.mount.mounts.splice(Ua,1)},lookup:(Ta,Ua)=>Ta.node_ops.lookup(Ta,Ua),mknod:(Ta,Ua,xb)=>{var qb=Aa.lookupPath(Ta,{parent:!0}).node;Ta=Xa.basename(Ta);if(!Ta||"."===Ta||
".."===Ta)throw new Aa.ErrnoError(28);var Yb=Aa.mayCreate(qb,Ta);if(Yb)throw new Aa.ErrnoError(Yb);if(!qb.node_ops.mknod)throw new Aa.ErrnoError(63);return qb.node_ops.mknod(qb,Ta,Ua,xb)},create:(Ta,Ua)=>Aa.mknod(Ta,(void 0!==Ua?Ua:438)&4095|32768,0),mkdir:(Ta,Ua)=>Aa.mknod(Ta,(void 0!==Ua?Ua:511)&1023|16384,0),mkdirTree:(Ta,Ua)=>{Ta=Ta.split("/");for(var xb="",qb=0;qb<Ta.length;++qb)if(Ta[qb]){xb+="/"+Ta[qb];try{Aa.mkdir(xb,Ua)}catch(Yb){if(20!=Yb.errno)throw Yb;}}},mkdev:(Ta,Ua,xb)=>{"undefined"==
typeof xb&&(xb=Ua,Ua=438);return Aa.mknod(Ta,Ua|8192,xb)},symlink:(Ta,Ua)=>{if(!jb.resolve(Ta))throw new Aa.ErrnoError(44);var xb=Aa.lookupPath(Ua,{parent:!0}).node;if(!xb)throw new Aa.ErrnoError(44);Ua=Xa.basename(Ua);var qb=Aa.mayCreate(xb,Ua);if(qb)throw new Aa.ErrnoError(qb);if(!xb.node_ops.symlink)throw new Aa.ErrnoError(63);return xb.node_ops.symlink(xb,Ua,Ta)},rename:(Ta,Ua)=>{var xb=Xa.dirname(Ta),qb=Xa.dirname(Ua),Yb=Xa.basename(Ta),cc=Xa.basename(Ua);var yb=Aa.lookupPath(Ta,{parent:!0});
var Kb=yb.node;yb=Aa.lookupPath(Ua,{parent:!0});yb=yb.node;if(!Kb||!yb)throw new Aa.ErrnoError(44);if(Kb.mount!==yb.mount)throw new Aa.ErrnoError(75);var Bb=Aa.lookupNode(Kb,Yb);Ta=jb.relative(Ta,qb);if("."!==Ta.charAt(0))throw new Aa.ErrnoError(28);Ta=jb.relative(Ua,xb);if("."!==Ta.charAt(0))throw new Aa.ErrnoError(55);try{var ib=Aa.lookupNode(yb,cc)}catch(ub){}if(Bb!==ib){Ua=Aa.isDir(Bb.mode);if(Yb=Aa.mayDelete(Kb,Yb,Ua))throw new Aa.ErrnoError(Yb);if(Yb=ib?Aa.mayDelete(yb,cc,Ua):Aa.mayCreate(yb,
cc))throw new Aa.ErrnoError(Yb);if(!Kb.node_ops.rename)throw new Aa.ErrnoError(63);if(Aa.isMountpoint(Bb)||ib&&Aa.isMountpoint(ib))throw new Aa.ErrnoError(10);if(yb!==Kb&&(Yb=Aa.nodePermissions(Kb,"w")))throw new Aa.ErrnoError(Yb);Aa.hashRemoveNode(Bb);try{Kb.node_ops.rename(Bb,yb,cc)}catch(ub){throw ub;}finally{Aa.hashAddNode(Bb)}}},rmdir:Ta=>{var Ua=Aa.lookupPath(Ta,{parent:!0}).node;Ta=Xa.basename(Ta);var xb=Aa.lookupNode(Ua,Ta),qb=Aa.mayDelete(Ua,Ta,!0);if(qb)throw new Aa.ErrnoError(qb);if(!Ua.node_ops.rmdir)throw new Aa.ErrnoError(63);
if(Aa.isMountpoint(xb))throw new Aa.ErrnoError(10);Ua.node_ops.rmdir(Ua,Ta);Aa.destroyNode(xb)},readdir:Ta=>{Ta=Aa.lookupPath(Ta,{follow:!0}).node;if(!Ta.node_ops.readdir)throw new Aa.ErrnoError(54);return Ta.node_ops.readdir(Ta)},unlink:Ta=>{var Ua=Aa.lookupPath(Ta,{parent:!0}).node;if(!Ua)throw new Aa.ErrnoError(44);Ta=Xa.basename(Ta);var xb=Aa.lookupNode(Ua,Ta),qb=Aa.mayDelete(Ua,Ta,!1);if(qb)throw new Aa.ErrnoError(qb);if(!Ua.node_ops.unlink)throw new Aa.ErrnoError(63);if(Aa.isMountpoint(xb))throw new Aa.ErrnoError(10);
Ua.node_ops.unlink(Ua,Ta);Aa.destroyNode(xb)},readlink:Ta=>{Ta=Aa.lookupPath(Ta).node;if(!Ta)throw new Aa.ErrnoError(44);if(!Ta.node_ops.readlink)throw new Aa.ErrnoError(28);return jb.resolve(Aa.getPath(Ta.parent),Ta.node_ops.readlink(Ta))},stat:(Ta,Ua)=>{Ta=Aa.lookupPath(Ta,{follow:!Ua}).node;if(!Ta)throw new Aa.ErrnoError(44);if(!Ta.node_ops.getattr)throw new Aa.ErrnoError(63);return Ta.node_ops.getattr(Ta)},lstat:Ta=>Aa.stat(Ta,!0),chmod:(Ta,Ua,xb)=>{Ta="string"==typeof Ta?Aa.lookupPath(Ta,{follow:!xb}).node:
Ta;if(!Ta.node_ops.setattr)throw new Aa.ErrnoError(63);Ta.node_ops.setattr(Ta,{mode:Ua&4095|Ta.mode&-4096,timestamp:Date.now()})},lchmod:(Ta,Ua)=>{Aa.chmod(Ta,Ua,!0)},fchmod:(Ta,Ua)=>{Ta=Aa.getStream(Ta);if(!Ta)throw new Aa.ErrnoError(8);Aa.chmod(Ta.node,Ua)},chown:(Ta,Ua,xb,qb)=>{Ta="string"==typeof Ta?Aa.lookupPath(Ta,{follow:!qb}).node:Ta;if(!Ta.node_ops.setattr)throw new Aa.ErrnoError(63);Ta.node_ops.setattr(Ta,{timestamp:Date.now()})},lchown:(Ta,Ua,xb)=>{Aa.chown(Ta,Ua,xb,!0)},fchown:(Ta,Ua,
xb)=>{Ta=Aa.getStream(Ta);if(!Ta)throw new Aa.ErrnoError(8);Aa.chown(Ta.node,Ua,xb)},truncate:(Ta,Ua)=>{if(0>Ua)throw new Aa.ErrnoError(28);Ta="string"==typeof Ta?Aa.lookupPath(Ta,{follow:!0}).node:Ta;if(!Ta.node_ops.setattr)throw new Aa.ErrnoError(63);if(Aa.isDir(Ta.mode))throw new Aa.ErrnoError(31);if(!Aa.isFile(Ta.mode))throw new Aa.ErrnoError(28);var xb=Aa.nodePermissions(Ta,"w");if(xb)throw new Aa.ErrnoError(xb);Ta.node_ops.setattr(Ta,{size:Ua,timestamp:Date.now()})},ftruncate:(Ta,Ua)=>{Ta=Aa.getStream(Ta);
if(!Ta)throw new Aa.ErrnoError(8);if(0===(Ta.flags&2097155))throw new Aa.ErrnoError(28);Aa.truncate(Ta.node,Ua)},utime:(Ta,Ua,xb)=>{Ta=Aa.lookupPath(Ta,{follow:!0}).node;Ta.node_ops.setattr(Ta,{timestamp:Math.max(Ua,xb)})},open:(Ta,Ua,xb)=>{if(""===Ta)throw new Aa.ErrnoError(44);Ua="string"==typeof Ua?Aa.modeStringToFlags(Ua):Ua;xb=Ua&64?("undefined"==typeof xb?438:xb)&4095|32768:0;if("object"==typeof Ta)var qb=Ta;else{Ta=Xa.normalize(Ta);try{qb=Aa.lookupPath(Ta,{follow:!(Ua&131072)}).node}catch(cc){}}var Yb=
!1;if(Ua&64)if(qb){if(Ua&128)throw new Aa.ErrnoError(20);}else qb=Aa.mknod(Ta,xb,0),Yb=!0;if(!qb)throw new Aa.ErrnoError(44);Aa.isChrdev(qb.mode)&&(Ua&=-513);if(Ua&65536&&!Aa.isDir(qb.mode))throw new Aa.ErrnoError(54);if(!Yb&&(xb=Aa.mayOpen(qb,Ua)))throw new Aa.ErrnoError(xb);Ua&512&&!Yb&&Aa.truncate(qb,0);Ua&=-131713;qb=Aa.createStream({node:qb,path:Aa.getPath(qb),flags:Ua,seekable:!0,position:0,stream_ops:qb.stream_ops,ungotten:[],error:!1});qb.stream_ops.open&&qb.stream_ops.open(qb);!t.logReadFiles||
Ua&1||(Aa.readFiles||(Aa.readFiles={}),Ta in Aa.readFiles||(Aa.readFiles[Ta]=1));return qb},close:Ta=>{if(Aa.isClosed(Ta))throw new Aa.ErrnoError(8);Ta.getdents&&(Ta.getdents=null);try{Ta.stream_ops.close&&Ta.stream_ops.close(Ta)}catch(Ua){throw Ua;}finally{Aa.closeStream(Ta.fd)}Ta.fd=null},isClosed:Ta=>null===Ta.fd,llseek:(Ta,Ua,xb)=>{if(Aa.isClosed(Ta))throw new Aa.ErrnoError(8);if(!Ta.seekable||!Ta.stream_ops.llseek)throw new Aa.ErrnoError(70);if(0!=xb&&1!=xb&&2!=xb)throw new Aa.ErrnoError(28);
Ta.position=Ta.stream_ops.llseek(Ta,Ua,xb);Ta.ungotten=[];return Ta.position},read:(Ta,Ua,xb,qb,Yb)=>{if(0>qb||0>Yb)throw new Aa.ErrnoError(28);if(Aa.isClosed(Ta))throw new Aa.ErrnoError(8);if(1===(Ta.flags&2097155))throw new Aa.ErrnoError(8);if(Aa.isDir(Ta.node.mode))throw new Aa.ErrnoError(31);if(!Ta.stream_ops.read)throw new Aa.ErrnoError(28);var cc="undefined"!=typeof Yb;if(!cc)Yb=Ta.position;else if(!Ta.seekable)throw new Aa.ErrnoError(70);Ua=Ta.stream_ops.read(Ta,Ua,xb,qb,Yb);cc||(Ta.position+=
Ua);return Ua},write:(Ta,Ua,xb,qb,Yb,cc)=>{if(0>qb||0>Yb)throw new Aa.ErrnoError(28);if(Aa.isClosed(Ta))throw new Aa.ErrnoError(8);if(0===(Ta.flags&2097155))throw new Aa.ErrnoError(8);if(Aa.isDir(Ta.node.mode))throw new Aa.ErrnoError(31);if(!Ta.stream_ops.write)throw new Aa.ErrnoError(28);Ta.seekable&&Ta.flags&1024&&Aa.llseek(Ta,0,2);var yb="undefined"!=typeof Yb;if(!yb)Yb=Ta.position;else if(!Ta.seekable)throw new Aa.ErrnoError(70);Ua=Ta.stream_ops.write(Ta,Ua,xb,qb,Yb,cc);yb||(Ta.position+=Ua);
return Ua},allocate:(Ta,Ua,xb)=>{if(Aa.isClosed(Ta))throw new Aa.ErrnoError(8);if(0>Ua||0>=xb)throw new Aa.ErrnoError(28);if(0===(Ta.flags&2097155))throw new Aa.ErrnoError(8);if(!Aa.isFile(Ta.node.mode)&&!Aa.isDir(Ta.node.mode))throw new Aa.ErrnoError(43);if(!Ta.stream_ops.allocate)throw new Aa.ErrnoError(138);Ta.stream_ops.allocate(Ta,Ua,xb)},mmap:(Ta,Ua,xb,qb,Yb)=>{if(0!==(qb&2)&&0===(Yb&2)&&2!==(Ta.flags&2097155))throw new Aa.ErrnoError(2);if(1===(Ta.flags&2097155))throw new Aa.ErrnoError(2);if(!Ta.stream_ops.mmap)throw new Aa.ErrnoError(43);
return Ta.stream_ops.mmap(Ta,Ua,xb,qb,Yb)},msync:(Ta,Ua,xb,qb,Yb)=>Ta.stream_ops.msync?Ta.stream_ops.msync(Ta,Ua,xb,qb,Yb):0,munmap:Ta=>0,ioctl:(Ta,Ua,xb)=>{if(!Ta.stream_ops.ioctl)throw new Aa.ErrnoError(59);return Ta.stream_ops.ioctl(Ta,Ua,xb)},readFile:(Ta,Ua={})=>{Ua.flags=Ua.flags||0;Ua.encoding=Ua.encoding||"binary";if("utf8"!==Ua.encoding&&"binary"!==Ua.encoding)throw Error('Invalid encoding type "'+Ua.encoding+'"');var xb,qb=Aa.open(Ta,Ua.flags);Ta=Aa.stat(Ta).size;var Yb=new Uint8Array(Ta);
Aa.read(qb,Yb,0,Ta,0);"utf8"===Ua.encoding?xb=g(Yb,0):"binary"===Ua.encoding&&(xb=Yb);Aa.close(qb);return xb},writeFile:(Ta,Ua,xb={})=>{xb.flags=xb.flags||577;Ta=Aa.open(Ta,xb.flags,xb.mode);if("string"==typeof Ua){var qb=new Uint8Array(h(Ua)+1);Ua=a(Ua,qb,0,qb.length);Aa.write(Ta,qb,0,Ua,void 0,xb.canOwn)}else if(ArrayBuffer.isView(Ua))Aa.write(Ta,Ua,0,Ua.byteLength,void 0,xb.canOwn);else throw Error("Unsupported data type");Aa.close(Ta)},cwd:()=>Aa.currentPath,chdir:Ta=>{Ta=Aa.lookupPath(Ta,{follow:!0});
if(null===Ta.node)throw new Aa.ErrnoError(44);if(!Aa.isDir(Ta.node.mode))throw new Aa.ErrnoError(54);var Ua=Aa.nodePermissions(Ta.node,"x");if(Ua)throw new Aa.ErrnoError(Ua);Aa.currentPath=Ta.path},createDefaultDirectories:()=>{Aa.mkdir("/tmp");Aa.mkdir("/home");Aa.mkdir("/home/web_user")},createDefaultDevices:()=>{Aa.mkdir("/dev");Aa.registerDevice(Aa.makedev(1,3),{read:()=>0,write:(Ua,xb,qb,Yb,cc)=>Yb});Aa.mkdev("/dev/null",Aa.makedev(1,3));Jb.register(Aa.makedev(5,0),Jb.default_tty_ops);Jb.register(Aa.makedev(6,
0),Jb.default_tty1_ops);Aa.mkdev("/dev/tty",Aa.makedev(5,0));Aa.mkdev("/dev/tty1",Aa.makedev(6,0));var Ta=F();Aa.createDevice("/dev","random",Ta);Aa.createDevice("/dev","urandom",Ta);Aa.mkdir("/dev/shm");Aa.mkdir("/dev/shm/tmp")},createSpecialDirectories:()=>{Aa.mkdir("/proc");var Ta=Aa.mkdir("/proc/self");Aa.mkdir("/proc/self/fd");Aa.mount({mount:()=>{var Ua=Aa.createNode(Ta,"fd",16895,73);Ua.node_ops={lookup:(xb,qb)=>{var Yb=Aa.getStream(+qb);if(!Yb)throw new Aa.ErrnoError(8);xb={parent:null,mount:{mountpoint:"fake"},
node_ops:{readlink:()=>Yb.path}};return xb.parent=xb}};return Ua}},{},"/proc/self/fd")},createStandardStreams:()=>{t.stdin?Aa.createDevice("/dev","stdin",t.stdin):Aa.symlink("/dev/tty","/dev/stdin");t.stdout?Aa.createDevice("/dev","stdout",null,t.stdout):Aa.symlink("/dev/tty","/dev/stdout");t.stderr?Aa.createDevice("/dev","stderr",null,t.stderr):Aa.symlink("/dev/tty1","/dev/stderr");Aa.open("/dev/stdin",0);Aa.open("/dev/stdout",1);Aa.open("/dev/stderr",1)},ensureErrnoError:()=>{Aa.ErrnoError||(Aa.ErrnoError=
function(Ta,Ua){this.node=Ua;this.setErrno=function(xb){this.errno=xb};this.setErrno(Ta);this.message="FS error"},Aa.ErrnoError.prototype=Error(),Aa.ErrnoError.prototype.constructor=Aa.ErrnoError,[44].forEach(Ta=>{Aa.genericErrors[Ta]=new Aa.ErrnoError(Ta);Aa.genericErrors[Ta].stack="\x3cgeneric error, no stack\x3e"}))},staticInit:()=>{Aa.ensureErrnoError();Aa.nameTable=Array(4096);Aa.mount(Fb,{},"/");Aa.createDefaultDirectories();Aa.createDefaultDevices();Aa.createSpecialDirectories();Aa.filesystems=
{MEMFS:Fb}},init:(Ta,Ua,xb)=>{Aa.init.initialized=!0;Aa.ensureErrnoError();t.stdin=Ta||t.stdin;t.stdout=Ua||t.stdout;t.stderr=xb||t.stderr;Aa.createStandardStreams()},quit:()=>{Aa.init.initialized=!1;for(var Ta=0;Ta<Aa.streams.length;Ta++){var Ua=Aa.streams[Ta];Ua&&Aa.close(Ua)}},getMode:(Ta,Ua)=>{var xb=0;Ta&&(xb|=365);Ua&&(xb|=146);return xb},findObject:(Ta,Ua)=>{Ta=Aa.analyzePath(Ta,Ua);return Ta.exists?Ta.object:null},analyzePath:(Ta,Ua)=>{try{var xb=Aa.lookupPath(Ta,{follow:!Ua});Ta=xb.path}catch(Yb){}var qb=
{isRoot:!1,exists:!1,error:0,name:null,path:null,object:null,parentExists:!1,parentPath:null,parentObject:null};try{xb=Aa.lookupPath(Ta,{parent:!0}),qb.parentExists=!0,qb.parentPath=xb.path,qb.parentObject=xb.node,qb.name=Xa.basename(Ta),xb=Aa.lookupPath(Ta,{follow:!Ua}),qb.exists=!0,qb.path=xb.path,qb.object=xb.node,qb.name=xb.node.name,qb.isRoot="/"===xb.path}catch(Yb){qb.error=Yb.errno}return qb},createPath:(Ta,Ua,xb,qb)=>{Ta="string"==typeof Ta?Ta:Aa.getPath(Ta);for(Ua=Ua.split("/").reverse();Ua.length;)if(xb=
Ua.pop()){var Yb=Xa.join2(Ta,xb);try{Aa.mkdir(Yb)}catch(cc){}Ta=Yb}return Yb},createFile:(Ta,Ua,xb,qb,Yb)=>{Ta=Xa.join2("string"==typeof Ta?Ta:Aa.getPath(Ta),Ua);qb=Aa.getMode(qb,Yb);return Aa.create(Ta,qb)},createDataFile:(Ta,Ua,xb,qb,Yb,cc)=>{var yb=Ua;Ta&&(Ta="string"==typeof Ta?Ta:Aa.getPath(Ta),yb=Ua?Xa.join2(Ta,Ua):Ta);Ta=Aa.getMode(qb,Yb);yb=Aa.create(yb,Ta);if(xb){if("string"==typeof xb){Ua=Array(xb.length);qb=0;for(Yb=xb.length;qb<Yb;++qb)Ua[qb]=xb.charCodeAt(qb);xb=Ua}Aa.chmod(yb,Ta|146);
Ua=Aa.open(yb,577);Aa.write(Ua,xb,0,xb.length,0,cc);Aa.close(Ua);Aa.chmod(yb,Ta)}return yb},createDevice:(Ta,Ua,xb,qb)=>{Ta=Xa.join2("string"==typeof Ta?Ta:Aa.getPath(Ta),Ua);Ua=Aa.getMode(!!xb,!!qb);Aa.createDevice.major||(Aa.createDevice.major=64);var Yb=Aa.makedev(Aa.createDevice.major++,0);Aa.registerDevice(Yb,{open:cc=>{cc.seekable=!1},close:cc=>{qb&&qb.buffer&&qb.buffer.length&&qb(10)},read:(cc,yb,Kb,Bb,ib)=>{for(var ub=ib=0;ub<Bb;ub++){try{var wb=xb()}catch(eb){throw new Aa.ErrnoError(29);
}if(void 0===wb&&0===ib)throw new Aa.ErrnoError(6);if(null===wb||void 0===wb)break;ib++;yb[Kb+ub]=wb}ib&&(cc.node.timestamp=Date.now());return ib},write:(cc,yb,Kb,Bb,ib)=>{for(ib=0;ib<Bb;ib++)try{qb(yb[Kb+ib])}catch(ub){throw new Aa.ErrnoError(29);}Bb&&(cc.node.timestamp=Date.now());return ib}});return Aa.mkdev(Ta,Ua,Yb)},forceLoadFile:Ta=>{if(Ta.isDevice||Ta.isFolder||Ta.link||Ta.contents)return!0;if("undefined"!=typeof XMLHttpRequest)throw Error("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.");
if(fa)try{Ta.contents=y(fa(Ta.url),!0),Ta.usedBytes=Ta.contents.length}catch(Ua){throw new Aa.ErrnoError(29);}else throw Error("Cannot load without read() or XMLHttpRequest.");},createLazyFile:(Ta,Ua,xb,qb,Yb)=>{function cc(){this.lengthKnown=!1;this.chunks=[]}function yb(ub,wb,eb,pb,Gb){ub=ub.node.contents;if(Gb>=ub.length)return 0;pb=Math.min(ub.length-Gb,pb);if(ub.slice)for(var ec=0;ec<pb;ec++)wb[eb+ec]=ub[Gb+ec];else for(ec=0;ec<pb;ec++)wb[eb+ec]=ub.get(Gb+ec);return pb}cc.prototype.get=function(ub){if(!(ub>
this.length-1||0>ub)){var wb=ub%this.chunkSize;return this.getter(ub/this.chunkSize|0)[wb]}};cc.prototype.setDataGetter=function(ub){this.getter=ub};cc.prototype.cacheLength=function(){var ub=new XMLHttpRequest;ub.open("HEAD",xb,!1);ub.send(null);if(!(200<=ub.status&&300>ub.status||304===ub.status))throw Error("Couldn't load "+xb+". Status: "+ub.status);var wb=Number(ub.getResponseHeader("Content-length")),eb,pb=(eb=ub.getResponseHeader("Accept-Ranges"))&&"bytes"===eb;ub=(eb=ub.getResponseHeader("Content-Encoding"))&&
"gzip"===eb;var Gb=1048576;pb||(Gb=wb);var ec=this;ec.setDataGetter(xc=>{var Cc=xc*Gb,ic=(xc+1)*Gb-1;ic=Math.min(ic,wb-1);if("undefined"==typeof ec.chunks[xc]){var Nc=ec.chunks;if(Cc>ic)throw Error("invalid range ("+Cc+", "+ic+") or no bytes requested!");if(ic>wb-1)throw Error("only "+wb+" bytes available! programmer error!");var Lc=new XMLHttpRequest;Lc.open("GET",xb,!1);wb!==Gb&&Lc.setRequestHeader("Range","bytes\x3d"+Cc+"-"+ic);Lc.responseType="arraybuffer";Lc.overrideMimeType&&Lc.overrideMimeType("text/plain; charset\x3dx-user-defined");
Lc.send(null);if(!(200<=Lc.status&&300>Lc.status||304===Lc.status))throw Error("Couldn't load "+xb+". Status: "+Lc.status);Cc=void 0!==Lc.response?new Uint8Array(Lc.response||[]):y(Lc.responseText||"",!0);Nc[xc]=Cc}if("undefined"==typeof ec.chunks[xc])throw Error("doXHR failed!");return ec.chunks[xc]});if(ub||!wb)Gb=wb=1,Gb=wb=this.getter(0).length,ea("LazyFiles on gzip forces download of the whole file when length is accessed");this._length=wb;this._chunkSize=Gb;this.lengthKnown=!0};if("undefined"!=
typeof XMLHttpRequest){if(!Z)throw"Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc";var Kb=new cc;Object.defineProperties(Kb,{length:{get:function(){this.lengthKnown||this.cacheLength();return this._length}},chunkSize:{get:function(){this.lengthKnown||this.cacheLength();return this._chunkSize}}});Kb={isDevice:!1,contents:Kb}}else Kb={isDevice:!1,url:xb};var Bb=Aa.createFile(Ta,Ua,Kb,qb,Yb);Kb.contents?Bb.contents=Kb.contents:Kb.url&&
(Bb.contents=null,Bb.url=Kb.url);Object.defineProperties(Bb,{usedBytes:{get:function(){return this.contents.length}}});var ib={};Object.keys(Bb.stream_ops).forEach(ub=>{var wb=Bb.stream_ops[ub];ib[ub]=function(){Aa.forceLoadFile(Bb);return wb.apply(null,arguments)}});ib.read=(ub,wb,eb,pb,Gb)=>{Aa.forceLoadFile(Bb);return yb(ub,wb,eb,pb,Gb)};ib.mmap=(ub,wb,eb,pb,Gb)=>{Aa.forceLoadFile(Bb);pb=K(wb);if(!pb)throw new Aa.ErrnoError(48);yb(ub,Ha,pb,wb,eb);return{ptr:pb,allocated:!0}};Bb.stream_ops=ib;return Bb},
createPreloadedFile:(Ta,Ua,xb,qb,Yb,cc,yb,Kb,Bb,ib)=>{function ub(pb){function Gb(ec){ib&&ib();Kb||Aa.createDataFile(Ta,Ua,ec,qb,Yb,Bb);cc&&cc();D(eb)}Browser.handledByPreloadPlugin(pb,wb,Gb,()=>{yb&&yb();D(eb)})||Gb(pb)}var wb=Ua?jb.resolve(Xa.join2(Ta,Ua)):Ta,eb="cp "+wb;m(eb);"string"==typeof xb?U(xb,pb=>ub(pb),yb):ub(xb)},indexedDB:()=>window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB,DB_NAME:()=>"EM_FS_"+window.location.pathname,DB_VERSION:20,DB_STORE_NAME:"FILE_DATA",
saveFilesToDB:(Ta,Ua,xb)=>{Ua=Ua||(()=>{});xb=xb||(()=>{});var qb=Aa.indexedDB();try{var Yb=qb.open(Aa.DB_NAME(),Aa.DB_VERSION)}catch(cc){return xb(cc)}Yb.onupgradeneeded=()=>{ea("creating db");Yb.result.createObjectStore(Aa.DB_STORE_NAME)};Yb.onsuccess=()=>{var cc=Yb.result.transaction([Aa.DB_STORE_NAME],"readwrite"),yb=cc.objectStore(Aa.DB_STORE_NAME),Kb=0,Bb=0,ib=Ta.length;Ta.forEach(ub=>{ub=yb.put(Aa.analyzePath(ub).object.contents,ub);ub.onsuccess=()=>{Kb++;Kb+Bb==ib&&(0==Bb?Ua():xb())};ub.onerror=
()=>{Bb++;Kb+Bb==ib&&(0==Bb?Ua():xb())}});cc.onerror=xb};Yb.onerror=xb},loadFilesFromDB:(Ta,Ua,xb)=>{Ua=Ua||(()=>{});xb=xb||(()=>{});var qb=Aa.indexedDB();try{var Yb=qb.open(Aa.DB_NAME(),Aa.DB_VERSION)}catch(cc){return xb(cc)}Yb.onupgradeneeded=xb;Yb.onsuccess=()=>{var cc=Yb.result;try{var yb=cc.transaction([Aa.DB_STORE_NAME],"readonly")}catch(wb){xb(wb);return}var Kb=yb.objectStore(Aa.DB_STORE_NAME),Bb=0,ib=0,ub=Ta.length;Ta.forEach(wb=>{var eb=Kb.get(wb);eb.onsuccess=()=>{Aa.analyzePath(wb).exists&&
Aa.unlink(wb);Aa.createDataFile(Xa.dirname(wb),Xa.basename(wb),eb.result,!0,!0,!0);Bb++;Bb+ib==ub&&(0==ib?Ua():xb())};eb.onerror=()=>{ib++;Bb+ib==ub&&(0==ib?Ua():xb())}});yb.onerror=xb};Yb.onerror=xb}},nb={DEFAULT_POLLMASK:5,calculateAt:function(Ta,Ua,xb){if(Xa.isAbs(Ua))return Ua;Ta=-100===Ta?Aa.cwd():nb.getStreamFromFD(Ta).path;if(0==Ua.length){if(!xb)throw new Aa.ErrnoError(44);return Ta}return Xa.join2(Ta,Ua)},doStat:function(Ta,Ua,xb){try{var qb=Ta(Ua)}catch(cc){if(cc&&cc.node&&Xa.normalize(Ua)!==
Xa.normalize(Aa.getPath(cc.node)))return-54;throw cc;}Ea[xb>>2]=qb.dev;Ea[xb+8>>2]=qb.ino;Ea[xb+12>>2]=qb.mode;Ka[xb+16>>2]=qb.nlink;Ea[xb+20>>2]=qb.uid;Ea[xb+24>>2]=qb.gid;Ea[xb+28>>2]=qb.rdev;Ma=[qb.size>>>0,(Sa=qb.size,1<=+Math.abs(Sa)?0<Sa?(Math.min(+Math.floor(Sa/4294967296),4294967295)|0)>>>0:~~+Math.ceil((Sa-+(~~Sa>>>0))/4294967296)>>>0:0)];Ea[xb+40>>2]=Ma[0];Ea[xb+44>>2]=Ma[1];Ea[xb+48>>2]=4096;Ea[xb+52>>2]=qb.blocks;Ta=qb.atime.getTime();Ua=qb.mtime.getTime();var Yb=qb.ctime.getTime();Ma=
[Math.floor(Ta/1E3)>>>0,(Sa=Math.floor(Ta/1E3),1<=+Math.abs(Sa)?0<Sa?(Math.min(+Math.floor(Sa/4294967296),4294967295)|0)>>>0:~~+Math.ceil((Sa-+(~~Sa>>>0))/4294967296)>>>0:0)];Ea[xb+56>>2]=Ma[0];Ea[xb+60>>2]=Ma[1];Ka[xb+64>>2]=Ta%1E3*1E3;Ma=[Math.floor(Ua/1E3)>>>0,(Sa=Math.floor(Ua/1E3),1<=+Math.abs(Sa)?0<Sa?(Math.min(+Math.floor(Sa/4294967296),4294967295)|0)>>>0:~~+Math.ceil((Sa-+(~~Sa>>>0))/4294967296)>>>0:0)];Ea[xb+72>>2]=Ma[0];Ea[xb+76>>2]=Ma[1];Ka[xb+80>>2]=Ua%1E3*1E3;Ma=[Math.floor(Yb/1E3)>>>
0,(Sa=Math.floor(Yb/1E3),1<=+Math.abs(Sa)?0<Sa?(Math.min(+Math.floor(Sa/4294967296),4294967295)|0)>>>0:~~+Math.ceil((Sa-+(~~Sa>>>0))/4294967296)>>>0:0)];Ea[xb+88>>2]=Ma[0];Ea[xb+92>>2]=Ma[1];Ka[xb+96>>2]=Yb%1E3*1E3;Ma=[qb.ino>>>0,(Sa=qb.ino,1<=+Math.abs(Sa)?0<Sa?(Math.min(+Math.floor(Sa/4294967296),4294967295)|0)>>>0:~~+Math.ceil((Sa-+(~~Sa>>>0))/4294967296)>>>0:0)];Ea[xb+104>>2]=Ma[0];Ea[xb+108>>2]=Ma[1];return 0},doMsync:function(Ta,Ua,xb,qb,Yb){if(!Aa.isFile(Ua.node.mode))throw new Aa.ErrnoError(43);
if(qb&2)return 0;Ta=Ja.slice(Ta,Ta+xb);Aa.msync(Ua,Ta,Yb,xb,qb)},varargs:void 0,get:function(){nb.varargs+=4;return Ea[nb.varargs-4>>2]},getStr:function(Ta){return Ta?g(Ja,Ta,void 0):""},getStreamFromFD:function(Ta){Ta=Aa.getStream(Ta);if(!Ta)throw new Aa.ErrnoError(8);return Ta}},fb=[0,31,60,91,121,152,182,213,244,274,305,335],Va=[0,31,59,90,120,151,181,212,243,273,304,334],hb={};M=function(Ta,Ua,xb,qb){Ta||=this;this.parent=Ta;this.mount=Ta.mount;this.mounted=null;this.id=Aa.nextInode++;this.name=
Ua;this.mode=xb;this.node_ops={};this.stream_ops={};this.rdev=qb};Object.defineProperties(M.prototype,{read:{get:function(){return 365===(this.mode&365)},set:function(Ta){Ta?this.mode|=365:this.mode&=-366}},write:{get:function(){return 146===(this.mode&146)},set:function(Ta){Ta?this.mode|=146:this.mode&=-147}},isFolder:{get:function(){return Aa.isDir(this.mode)}},isDevice:{get:function(){return Aa.isChrdev(this.mode)}}});Aa.FSNode=M;Aa.staticInit();var Wa={__syscall_chmod:function(Ta,Ua){try{return Ta=
nb.getStr(Ta),Aa.chmod(Ta,Ua),0}catch(xb){if("undefined"==typeof Aa||!(xb instanceof Aa.ErrnoError))throw xb;return-xb.errno}},__syscall_faccessat:function(Ta,Ua,xb,qb){try{Ua=nb.getStr(Ua);Ua=nb.calculateAt(Ta,Ua);if(xb&-8)return-28;var Yb=Aa.lookupPath(Ua,{follow:!0}).node;if(!Yb)return-44;Ta="";xb&4&&(Ta+="r");xb&2&&(Ta+="w");xb&1&&(Ta+="x");return Ta&&Aa.nodePermissions(Yb,Ta)?-2:0}catch(cc){if("undefined"==typeof Aa||!(cc instanceof Aa.ErrnoError))throw cc;return-cc.errno}},__syscall_fchmod:function(Ta,
Ua){try{return Aa.fchmod(Ta,Ua),0}catch(xb){if("undefined"==typeof Aa||!(xb instanceof Aa.ErrnoError))throw xb;return-xb.errno}},__syscall_fchown32:function(Ta,Ua,xb){try{return Aa.fchown(Ta,Ua,xb),0}catch(qb){if("undefined"==typeof Aa||!(qb instanceof Aa.ErrnoError))throw qb;return-qb.errno}},__syscall_fcntl64:function(Ta,Ua,xb){nb.varargs=xb;try{var qb=nb.getStreamFromFD(Ta);switch(Ua){case 0:var Yb=nb.get();return 0>Yb?-28:Aa.createStream(qb,Yb).fd;case 1:case 2:return 0;case 3:return qb.flags;
case 4:return Yb=nb.get(),qb.flags|=Yb,0;case 5:return Yb=nb.get(),db[Yb+0>>1]=2,0;case 6:case 7:return 0;case 16:case 8:return-28;case 9:return Ea[$b()>>2]=28,-1;default:return-28}}catch(cc){if("undefined"==typeof Aa||!(cc instanceof Aa.ErrnoError))throw cc;return-cc.errno}},__syscall_fstat64:function(Ta,Ua){try{var xb=nb.getStreamFromFD(Ta);return nb.doStat(Aa.stat,xb.path,Ua)}catch(qb){if("undefined"==typeof Aa||!(qb instanceof Aa.ErrnoError))throw qb;return-qb.errno}},__syscall_ftruncate64:function(Ta,
Ua){try{Ua=-9007199254740992>Ua||9007199254740992<Ua?NaN:Number(Ua);if(isNaN(Ua))return-61;Aa.ftruncate(Ta,Ua);return 0}catch(xb){if("undefined"==typeof Aa||!(xb instanceof Aa.ErrnoError))throw xb;return-xb.errno}},__syscall_getcwd:function(Ta,Ua){try{if(0===Ua)return-28;var xb=Aa.cwd(),qb=h(xb)+1;if(Ua<qb)return-68;a(xb,Ja,Ta,Ua);return qb}catch(Yb){if("undefined"==typeof Aa||!(Yb instanceof Aa.ErrnoError))throw Yb;return-Yb.errno}},__syscall_ioctl:function(Ta,Ua,xb){nb.varargs=xb;try{var qb=nb.getStreamFromFD(Ta);
switch(Ua){case 21509:case 21505:return qb.tty?0:-59;case 21510:case 21511:case 21512:case 21506:case 21507:case 21508:return qb.tty?0:-59;case 21519:if(!qb.tty)return-59;var Yb=nb.get();return Ea[Yb>>2]=0;case 21520:return qb.tty?-28:-59;case 21531:return Yb=nb.get(),Aa.ioctl(qb,Ua,Yb);case 21523:return qb.tty?0:-59;case 21524:return qb.tty?0:-59;default:return-28}}catch(cc){if("undefined"==typeof Aa||!(cc instanceof Aa.ErrnoError))throw cc;return-cc.errno}},__syscall_lstat64:function(Ta,Ua){try{return Ta=
nb.getStr(Ta),nb.doStat(Aa.lstat,Ta,Ua)}catch(xb){if("undefined"==typeof Aa||!(xb instanceof Aa.ErrnoError))throw xb;return-xb.errno}},__syscall_mkdirat:function(Ta,Ua,xb){try{return Ua=nb.getStr(Ua),Ua=nb.calculateAt(Ta,Ua),Ua=Xa.normalize(Ua),"/"===Ua[Ua.length-1]&&(Ua=Ua.substr(0,Ua.length-1)),Aa.mkdir(Ua,xb,0),0}catch(qb){if("undefined"==typeof Aa||!(qb instanceof Aa.ErrnoError))throw qb;return-qb.errno}},__syscall_newfstatat:function(Ta,Ua,xb,qb){try{Ua=nb.getStr(Ua);var Yb=qb&256;Ua=nb.calculateAt(Ta,
Ua,qb&4096);return nb.doStat(Yb?Aa.lstat:Aa.stat,Ua,xb)}catch(cc){if("undefined"==typeof Aa||!(cc instanceof Aa.ErrnoError))throw cc;return-cc.errno}},__syscall_openat:function(Ta,Ua,xb,qb){nb.varargs=qb;try{Ua=nb.getStr(Ua);Ua=nb.calculateAt(Ta,Ua);var Yb=qb?nb.get():0;return Aa.open(Ua,xb,Yb).fd}catch(cc){if("undefined"==typeof Aa||!(cc instanceof Aa.ErrnoError))throw cc;return-cc.errno}},__syscall_readlinkat:function(Ta,Ua,xb,qb){try{Ua=nb.getStr(Ua);Ua=nb.calculateAt(Ta,Ua);if(0>=qb)return-28;
var Yb=Aa.readlink(Ua),cc=Math.min(qb,h(Yb)),yb=Ha[xb+cc];a(Yb,Ja,xb,qb+1);Ha[xb+cc]=yb;return cc}catch(Kb){if("undefined"==typeof Aa||!(Kb instanceof Aa.ErrnoError))throw Kb;return-Kb.errno}},__syscall_rmdir:function(Ta){try{return Ta=nb.getStr(Ta),Aa.rmdir(Ta),0}catch(Ua){if("undefined"==typeof Aa||!(Ua instanceof Aa.ErrnoError))throw Ua;return-Ua.errno}},__syscall_stat64:function(Ta,Ua){try{return Ta=nb.getStr(Ta),nb.doStat(Aa.stat,Ta,Ua)}catch(xb){if("undefined"==typeof Aa||!(xb instanceof Aa.ErrnoError))throw xb;
return-xb.errno}},__syscall_unlinkat:function(Ta,Ua,xb){try{return Ua=nb.getStr(Ua),Ua=nb.calculateAt(Ta,Ua),0===xb?Aa.unlink(Ua):512===xb?Aa.rmdir(Ua):w("Invalid flags passed to unlinkat"),0}catch(qb){if("undefined"==typeof Aa||!(qb instanceof Aa.ErrnoError))throw qb;return-qb.errno}},__syscall_utimensat:function(Ta,Ua,xb,qb){try{Ua=nb.getStr(Ua);Ua=nb.calculateAt(Ta,Ua,!0);if(xb){var Yb=G(xb),cc=Ea[xb+8>>2];yb=1E3*Yb+cc/1E6;xb+=16;Yb=G(xb);cc=Ea[xb+8>>2];Kb=1E3*Yb+cc/1E6}else var yb=Date.now(),
Kb=yb;Aa.utime(Ua,yb,Kb);return 0}catch(Bb){if("undefined"==typeof Aa||!(Bb instanceof Aa.ErrnoError))throw Bb;return-Bb.errno}},_emscripten_get_now_is_monotonic:function(){return!0},_localtime_js:function(Ta,Ua){Ta=new Date(1E3*G(Ta));Ea[Ua>>2]=Ta.getSeconds();Ea[Ua+4>>2]=Ta.getMinutes();Ea[Ua+8>>2]=Ta.getHours();Ea[Ua+12>>2]=Ta.getDate();Ea[Ua+16>>2]=Ta.getMonth();Ea[Ua+20>>2]=Ta.getFullYear()-1900;Ea[Ua+24>>2]=Ta.getDay();var xb=Ta.getFullYear();xb=(0!==xb%4||0===xb%100&&0!==xb%400?Va:fb)[Ta.getMonth()]+
Ta.getDate()-1;Ea[Ua+28>>2]=xb|0;Ea[Ua+36>>2]=-(60*Ta.getTimezoneOffset());var qb=new Date(Ta.getFullYear(),0,1);xb=(new Date(Ta.getFullYear(),6,1)).getTimezoneOffset();qb=qb.getTimezoneOffset();Ta=(xb!=qb&&Ta.getTimezoneOffset()==Math.min(qb,xb))|0;Ea[Ua+32>>2]=Ta},_mmap_js:function(Ta,Ua,xb,qb,Yb,cc,yb){try{var Kb=nb.getStreamFromFD(qb),Bb=Aa.mmap(Kb,Ta,Yb,Ua,xb),ib=Bb.ptr;Ea[cc>>2]=Bb.allocated;Ka[yb>>2]=ib;return 0}catch(ub){if("undefined"==typeof Aa||!(ub instanceof Aa.ErrnoError))throw ub;return-ub.errno}},
_munmap_js:function(Ta,Ua,xb,qb,Yb,cc){try{var yb=nb.getStreamFromFD(Yb);xb&2&&nb.doMsync(Ta,yb,Ua,qb,cc);Aa.munmap(yb)}catch(Kb){if("undefined"==typeof Aa||!(Kb instanceof Aa.ErrnoError))throw Kb;return-Kb.errno}},_tzset_js:function(Ta,Ua,xb){function qb(Bb){return(Bb=Bb.toTimeString().match(/\(([A-Za-z ]+)\)$/))?Bb[1]:"GMT"}var Yb=(new Date).getFullYear(),cc=new Date(Yb,0,1),yb=new Date(Yb,6,1);Yb=cc.getTimezoneOffset();var Kb=yb.getTimezoneOffset();Ka[Ta>>2]=60*Math.max(Yb,Kb);Ea[Ua>>2]=Number(Yb!=
Kb);Ta=qb(cc);Ua=qb(yb);Ta=R(Ta);Ua=R(Ua);Kb<Yb?(Ka[xb>>2]=Ta,Ka[xb+4>>2]=Ua):(Ka[xb>>2]=Ua,Ka[xb+4>>2]=Ta)},emscripten_date_now:function(){return Date.now()},emscripten_get_now:()=>performance.now(),emscripten_resize_heap:function(Ta){var Ua=Ja.length;Ta>>>=0;if(2147483648<Ta)return!1;for(var xb=1;4>=xb;xb*=2){var qb=Ua*(1+.2/xb);qb=Math.min(qb,Ta+100663296);var Yb=Math;qb=Math.max(Ta,qb);Yb=Yb.min.call(Yb,2147483648,qb+(65536-qb%65536)%65536);a:{qb=za.buffer;try{za.grow(Yb-qb.byteLength+65535>>>
16);l();var cc=1;break a}catch(yb){}cc=void 0}if(cc)return!0}return!1},environ_get:function(Ta,Ua){var xb=0;N().forEach(function(qb,Yb){var cc=Ua+xb;Yb=Ka[Ta+4*Yb>>2]=cc;for(cc=0;cc<qb.length;++cc)Ha[Yb++>>0]=qb.charCodeAt(cc);Ha[Yb>>0]=0;xb+=qb.length+1});return 0},environ_sizes_get:function(Ta,Ua){var xb=N();Ka[Ta>>2]=xb.length;var qb=0;xb.forEach(function(Yb){qb+=Yb.length+1});Ka[Ua>>2]=qb;return 0},fd_close:function(Ta){try{var Ua=nb.getStreamFromFD(Ta);Aa.close(Ua);return 0}catch(xb){if("undefined"==
typeof Aa||!(xb instanceof Aa.ErrnoError))throw xb;return xb.errno}},fd_fdstat_get:function(Ta,Ua){try{var xb=nb.getStreamFromFD(Ta),qb=xb.tty?2:Aa.isDir(xb.mode)?3:Aa.isLink(xb.mode)?7:4;Ha[Ua>>0]=qb;return 0}catch(Yb){if("undefined"==typeof Aa||!(Yb instanceof Aa.ErrnoError))throw Yb;return Yb.errno}},fd_read:function(Ta,Ua,xb,qb){try{a:{var Yb=nb.getStreamFromFD(Ta);Ta=Ua;Ua=void 0;for(var cc=0,yb=0;yb<xb;yb++){var Kb=Ka[Ta>>2],Bb=Ka[Ta+4>>2];Ta+=8;var ib=Aa.read(Yb,Ha,Kb,Bb,Ua);if(0>ib){var ub=
-1;break a}cc+=ib;if(ib<Bb)break;"undefined"!==typeof Ua&&(Ua+=ib)}ub=cc}Ka[qb>>2]=ub;return 0}catch(wb){if("undefined"==typeof Aa||!(wb instanceof Aa.ErrnoError))throw wb;return wb.errno}},fd_seek:function(Ta,Ua,xb,qb){try{Ua=-9007199254740992>Ua||9007199254740992<Ua?NaN:Number(Ua);if(isNaN(Ua))return 61;var Yb=nb.getStreamFromFD(Ta);Aa.llseek(Yb,Ua,xb);Ma=[Yb.position>>>0,(Sa=Yb.position,1<=+Math.abs(Sa)?0<Sa?(Math.min(+Math.floor(Sa/4294967296),4294967295)|0)>>>0:~~+Math.ceil((Sa-+(~~Sa>>>0))/
4294967296)>>>0:0)];Ea[qb>>2]=Ma[0];Ea[qb+4>>2]=Ma[1];Yb.getdents&&0===Ua&&0===xb&&(Yb.getdents=null);return 0}catch(cc){if("undefined"==typeof Aa||!(cc instanceof Aa.ErrnoError))throw cc;return cc.errno}},fd_sync:function(Ta){try{var Ua=nb.getStreamFromFD(Ta);return Ua.stream_ops&&Ua.stream_ops.fsync?Ua.stream_ops.fsync(Ua):0}catch(xb){if("undefined"==typeof Aa||!(xb instanceof Aa.ErrnoError))throw xb;return xb.errno}},fd_write:function(Ta,Ua,xb,qb){try{a:{var Yb=nb.getStreamFromFD(Ta);Ta=Ua;Ua=
void 0;for(var cc=0,yb=0;yb<xb;yb++){var Kb=Ka[Ta>>2],Bb=Ka[Ta+4>>2];Ta+=8;var ib=Aa.write(Yb,Ha,Kb,Bb,Ua);if(0>ib){var ub=-1;break a}cc+=ib;"undefined"!==typeof Ua&&(Ua+=ib)}ub=cc}Ka[qb>>2]=ub;return 0}catch(wb){if("undefined"==typeof Aa||!(wb instanceof Aa.ErrnoError))throw wb;return wb.errno}},memory:za};(function(){function Ta(Yb,cc){t.asm=Yb.exports;ja.unshift(t.asm.__wasm_call_ctors);D("wasm-instantiate")}function Ua(Yb){Ta(Yb.instance)}function xb(Yb){return n().then(function(cc){return WebAssembly.instantiate(cc,
qb)}).then(function(cc){return cc}).then(Yb,function(cc){oa("failed to asynchronously prepare wasm: "+cc);w(cc)})}var qb={env:Wa,wasi_snapshot_preview1:Wa};m("wasm-instantiate");if(t.instantiateWasm)try{return t.instantiateWasm(qb,Ta)}catch(Yb){oa("Module.instantiateWasm callback failed with error: "+Yb),Q(Yb)}(function(){return ua||"function"!=typeof WebAssembly.instantiateStreaming||Ra.startsWith("data:application/octet-stream;base64,")||"function"!=typeof fetch?xb(Ua):fetch(Ra,{credentials:"same-origin"}).then(function(Yb){return WebAssembly.instantiateStreaming(Yb,
qb).then(Ua,function(cc){oa("wasm streaming compile failed: "+cc);oa("falling back to ArrayBuffer instantiation");return xb(Ua)})})})().catch(Q);return{}})();t.___wasm_call_ctors=function(){return(t.___wasm_call_ctors=t.asm.__wasm_call_ctors).apply(null,arguments)};t._sqlite3_status64=function(){return(t._sqlite3_status64=t.asm.sqlite3_status64).apply(null,arguments)};t._sqlite3_status=function(){return(t._sqlite3_status=t.asm.sqlite3_status).apply(null,arguments)};t._sqlite3_db_status=function(){return(t._sqlite3_db_status=
t.asm.sqlite3_db_status).apply(null,arguments)};t._sqlite3_msize=function(){return(t._sqlite3_msize=t.asm.sqlite3_msize).apply(null,arguments)};t._sqlite3_vfs_find=function(){return(t._sqlite3_vfs_find=t.asm.sqlite3_vfs_find).apply(null,arguments)};t._sqlite3_initialize=function(){return(t._sqlite3_initialize=t.asm.sqlite3_initialize).apply(null,arguments)};t._sqlite3_malloc=function(){return(t._sqlite3_malloc=t.asm.sqlite3_malloc).apply(null,arguments)};t._sqlite3_free=function(){return(t._sqlite3_free=
t.asm.sqlite3_free).apply(null,arguments)};t._sqlite3_vfs_register=function(){return(t._sqlite3_vfs_register=t.asm.sqlite3_vfs_register).apply(null,arguments)};t._sqlite3_vfs_unregister=function(){return(t._sqlite3_vfs_unregister=t.asm.sqlite3_vfs_unregister).apply(null,arguments)};t._sqlite3_malloc64=function(){return(t._sqlite3_malloc64=t.asm.sqlite3_malloc64).apply(null,arguments)};t._sqlite3_realloc=function(){return(t._sqlite3_realloc=t.asm.sqlite3_realloc).apply(null,arguments)};t._sqlite3_realloc64=
function(){return(t._sqlite3_realloc64=t.asm.sqlite3_realloc64).apply(null,arguments)};t._sqlite3_value_text=function(){return(t._sqlite3_value_text=t.asm.sqlite3_value_text).apply(null,arguments)};t._sqlite3_randomness=function(){return(t._sqlite3_randomness=t.asm.sqlite3_randomness).apply(null,arguments)};t._sqlite3_stricmp=function(){return(t._sqlite3_stricmp=t.asm.sqlite3_stricmp).apply(null,arguments)};t._sqlite3_strnicmp=function(){return(t._sqlite3_strnicmp=t.asm.sqlite3_strnicmp).apply(null,
arguments)};t._sqlite3_uri_parameter=function(){return(t._sqlite3_uri_parameter=t.asm.sqlite3_uri_parameter).apply(null,arguments)};var $b=t.___errno_location=function(){return($b=t.___errno_location=t.asm.__errno_location).apply(null,arguments)};t._sqlite3_uri_boolean=function(){return(t._sqlite3_uri_boolean=t.asm.sqlite3_uri_boolean).apply(null,arguments)};t._sqlite3_serialize=function(){return(t._sqlite3_serialize=t.asm.sqlite3_serialize).apply(null,arguments)};t._sqlite3_prepare_v2=function(){return(t._sqlite3_prepare_v2=
t.asm.sqlite3_prepare_v2).apply(null,arguments)};t._sqlite3_step=function(){return(t._sqlite3_step=t.asm.sqlite3_step).apply(null,arguments)};t._sqlite3_column_int64=function(){return(t._sqlite3_column_int64=t.asm.sqlite3_column_int64).apply(null,arguments)};t._sqlite3_column_int=function(){return(t._sqlite3_column_int=t.asm.sqlite3_column_int).apply(null,arguments)};t._sqlite3_finalize=function(){return(t._sqlite3_finalize=t.asm.sqlite3_finalize).apply(null,arguments)};t._sqlite3_file_control=function(){return(t._sqlite3_file_control=
t.asm.sqlite3_file_control).apply(null,arguments)};t._sqlite3_reset=function(){return(t._sqlite3_reset=t.asm.sqlite3_reset).apply(null,arguments)};t._sqlite3_deserialize=function(){return(t._sqlite3_deserialize=t.asm.sqlite3_deserialize).apply(null,arguments)};t._sqlite3_clear_bindings=function(){return(t._sqlite3_clear_bindings=t.asm.sqlite3_clear_bindings).apply(null,arguments)};t._sqlite3_value_blob=function(){return(t._sqlite3_value_blob=t.asm.sqlite3_value_blob).apply(null,arguments)};t._sqlite3_value_bytes=
function(){return(t._sqlite3_value_bytes=t.asm.sqlite3_value_bytes).apply(null,arguments)};t._sqlite3_value_double=function(){return(t._sqlite3_value_double=t.asm.sqlite3_value_double).apply(null,arguments)};t._sqlite3_value_int=function(){return(t._sqlite3_value_int=t.asm.sqlite3_value_int).apply(null,arguments)};t._sqlite3_value_int64=function(){return(t._sqlite3_value_int64=t.asm.sqlite3_value_int64).apply(null,arguments)};t._sqlite3_value_subtype=function(){return(t._sqlite3_value_subtype=t.asm.sqlite3_value_subtype).apply(null,
arguments)};t._sqlite3_value_pointer=function(){return(t._sqlite3_value_pointer=t.asm.sqlite3_value_pointer).apply(null,arguments)};t._sqlite3_value_type=function(){return(t._sqlite3_value_type=t.asm.sqlite3_value_type).apply(null,arguments)};t._sqlite3_value_nochange=function(){return(t._sqlite3_value_nochange=t.asm.sqlite3_value_nochange).apply(null,arguments)};t._sqlite3_value_frombind=function(){return(t._sqlite3_value_frombind=t.asm.sqlite3_value_frombind).apply(null,arguments)};t._sqlite3_value_dup=
function(){return(t._sqlite3_value_dup=t.asm.sqlite3_value_dup).apply(null,arguments)};t._sqlite3_value_free=function(){return(t._sqlite3_value_free=t.asm.sqlite3_value_free).apply(null,arguments)};t._sqlite3_result_blob=function(){return(t._sqlite3_result_blob=t.asm.sqlite3_result_blob).apply(null,arguments)};t._sqlite3_result_error_toobig=function(){return(t._sqlite3_result_error_toobig=t.asm.sqlite3_result_error_toobig).apply(null,arguments)};t._sqlite3_result_error_nomem=function(){return(t._sqlite3_result_error_nomem=
t.asm.sqlite3_result_error_nomem).apply(null,arguments)};t._sqlite3_result_double=function(){return(t._sqlite3_result_double=t.asm.sqlite3_result_double).apply(null,arguments)};t._sqlite3_result_error=function(){return(t._sqlite3_result_error=t.asm.sqlite3_result_error).apply(null,arguments)};t._sqlite3_result_int=function(){return(t._sqlite3_result_int=t.asm.sqlite3_result_int).apply(null,arguments)};t._sqlite3_result_int64=function(){return(t._sqlite3_result_int64=t.asm.sqlite3_result_int64).apply(null,
arguments)};t._sqlite3_result_null=function(){return(t._sqlite3_result_null=t.asm.sqlite3_result_null).apply(null,arguments)};t._sqlite3_result_pointer=function(){return(t._sqlite3_result_pointer=t.asm.sqlite3_result_pointer).apply(null,arguments)};t._sqlite3_result_subtype=function(){return(t._sqlite3_result_subtype=t.asm.sqlite3_result_subtype).apply(null,arguments)};t._sqlite3_result_text=function(){return(t._sqlite3_result_text=t.asm.sqlite3_result_text).apply(null,arguments)};t._sqlite3_result_zeroblob=
function(){return(t._sqlite3_result_zeroblob=t.asm.sqlite3_result_zeroblob).apply(null,arguments)};t._sqlite3_result_zeroblob64=function(){return(t._sqlite3_result_zeroblob64=t.asm.sqlite3_result_zeroblob64).apply(null,arguments)};t._sqlite3_result_error_code=function(){return(t._sqlite3_result_error_code=t.asm.sqlite3_result_error_code).apply(null,arguments)};t._sqlite3_user_data=function(){return(t._sqlite3_user_data=t.asm.sqlite3_user_data).apply(null,arguments)};t._sqlite3_context_db_handle=function(){return(t._sqlite3_context_db_handle=
t.asm.sqlite3_context_db_handle).apply(null,arguments)};t._sqlite3_vtab_nochange=function(){return(t._sqlite3_vtab_nochange=t.asm.sqlite3_vtab_nochange).apply(null,arguments)};t._sqlite3_vtab_in_first=function(){return(t._sqlite3_vtab_in_first=t.asm.sqlite3_vtab_in_first).apply(null,arguments)};t._sqlite3_vtab_in_next=function(){return(t._sqlite3_vtab_in_next=t.asm.sqlite3_vtab_in_next).apply(null,arguments)};t._sqlite3_aggregate_context=function(){return(t._sqlite3_aggregate_context=t.asm.sqlite3_aggregate_context).apply(null,
arguments)};t._sqlite3_get_auxdata=function(){return(t._sqlite3_get_auxdata=t.asm.sqlite3_get_auxdata).apply(null,arguments)};t._sqlite3_set_auxdata=function(){return(t._sqlite3_set_auxdata=t.asm.sqlite3_set_auxdata).apply(null,arguments)};t._sqlite3_column_count=function(){return(t._sqlite3_column_count=t.asm.sqlite3_column_count).apply(null,arguments)};t._sqlite3_data_count=function(){return(t._sqlite3_data_count=t.asm.sqlite3_data_count).apply(null,arguments)};t._sqlite3_column_blob=function(){return(t._sqlite3_column_blob=
t.asm.sqlite3_column_blob).apply(null,arguments)};t._sqlite3_column_bytes=function(){return(t._sqlite3_column_bytes=t.asm.sqlite3_column_bytes).apply(null,arguments)};t._sqlite3_column_double=function(){return(t._sqlite3_column_double=t.asm.sqlite3_column_double).apply(null,arguments)};t._sqlite3_column_text=function(){return(t._sqlite3_column_text=t.asm.sqlite3_column_text).apply(null,arguments)};t._sqlite3_column_value=function(){return(t._sqlite3_column_value=t.asm.sqlite3_column_value).apply(null,
arguments)};t._sqlite3_column_type=function(){return(t._sqlite3_column_type=t.asm.sqlite3_column_type).apply(null,arguments)};t._sqlite3_column_name=function(){return(t._sqlite3_column_name=t.asm.sqlite3_column_name).apply(null,arguments)};t._sqlite3_bind_blob=function(){return(t._sqlite3_bind_blob=t.asm.sqlite3_bind_blob).apply(null,arguments)};t._sqlite3_bind_double=function(){return(t._sqlite3_bind_double=t.asm.sqlite3_bind_double).apply(null,arguments)};t._sqlite3_bind_int=function(){return(t._sqlite3_bind_int=
t.asm.sqlite3_bind_int).apply(null,arguments)};t._sqlite3_bind_int64=function(){return(t._sqlite3_bind_int64=t.asm.sqlite3_bind_int64).apply(null,arguments)};t._sqlite3_bind_null=function(){return(t._sqlite3_bind_null=t.asm.sqlite3_bind_null).apply(null,arguments)};t._sqlite3_bind_pointer=function(){return(t._sqlite3_bind_pointer=t.asm.sqlite3_bind_pointer).apply(null,arguments)};t._sqlite3_bind_text=function(){return(t._sqlite3_bind_text=t.asm.sqlite3_bind_text).apply(null,arguments)};t._sqlite3_bind_parameter_count=
function(){return(t._sqlite3_bind_parameter_count=t.asm.sqlite3_bind_parameter_count).apply(null,arguments)};t._sqlite3_bind_parameter_index=function(){return(t._sqlite3_bind_parameter_index=t.asm.sqlite3_bind_parameter_index).apply(null,arguments)};t._sqlite3_db_handle=function(){return(t._sqlite3_db_handle=t.asm.sqlite3_db_handle).apply(null,arguments)};t._sqlite3_stmt_readonly=function(){return(t._sqlite3_stmt_readonly=t.asm.sqlite3_stmt_readonly).apply(null,arguments)};t._sqlite3_stmt_isexplain=
function(){return(t._sqlite3_stmt_isexplain=t.asm.sqlite3_stmt_isexplain).apply(null,arguments)};t._sqlite3_stmt_status=function(){return(t._sqlite3_stmt_status=t.asm.sqlite3_stmt_status).apply(null,arguments)};t._sqlite3_sql=function(){return(t._sqlite3_sql=t.asm.sqlite3_sql).apply(null,arguments)};t._sqlite3_expanded_sql=function(){return(t._sqlite3_expanded_sql=t.asm.sqlite3_expanded_sql).apply(null,arguments)};t._sqlite3_preupdate_old=function(){return(t._sqlite3_preupdate_old=t.asm.sqlite3_preupdate_old).apply(null,
arguments)};t._sqlite3_preupdate_count=function(){return(t._sqlite3_preupdate_count=t.asm.sqlite3_preupdate_count).apply(null,arguments)};t._sqlite3_preupdate_depth=function(){return(t._sqlite3_preupdate_depth=t.asm.sqlite3_preupdate_depth).apply(null,arguments)};t._sqlite3_preupdate_blobwrite=function(){return(t._sqlite3_preupdate_blobwrite=t.asm.sqlite3_preupdate_blobwrite).apply(null,arguments)};t._sqlite3_preupdate_new=function(){return(t._sqlite3_preupdate_new=t.asm.sqlite3_preupdate_new).apply(null,
arguments)};t._sqlite3_value_numeric_type=function(){return(t._sqlite3_value_numeric_type=t.asm.sqlite3_value_numeric_type).apply(null,arguments)};t._sqlite3_errmsg=function(){return(t._sqlite3_errmsg=t.asm.sqlite3_errmsg).apply(null,arguments)};t._sqlite3_set_authorizer=function(){return(t._sqlite3_set_authorizer=t.asm.sqlite3_set_authorizer).apply(null,arguments)};t._sqlite3_strglob=function(){return(t._sqlite3_strglob=t.asm.sqlite3_strglob).apply(null,arguments)};t._sqlite3_strlike=function(){return(t._sqlite3_strlike=
t.asm.sqlite3_strlike).apply(null,arguments)};t._sqlite3_exec=function(){return(t._sqlite3_exec=t.asm.sqlite3_exec).apply(null,arguments)};t._sqlite3_auto_extension=function(){return(t._sqlite3_auto_extension=t.asm.sqlite3_auto_extension).apply(null,arguments)};t._sqlite3_cancel_auto_extension=function(){return(t._sqlite3_cancel_auto_extension=t.asm.sqlite3_cancel_auto_extension).apply(null,arguments)};t._sqlite3_reset_auto_extension=function(){return(t._sqlite3_reset_auto_extension=t.asm.sqlite3_reset_auto_extension).apply(null,
arguments)};t._sqlite3_prepare_v3=function(){return(t._sqlite3_prepare_v3=t.asm.sqlite3_prepare_v3).apply(null,arguments)};t._sqlite3_create_module=function(){return(t._sqlite3_create_module=t.asm.sqlite3_create_module).apply(null,arguments)};t._sqlite3_create_module_v2=function(){return(t._sqlite3_create_module_v2=t.asm.sqlite3_create_module_v2).apply(null,arguments)};t._sqlite3_drop_modules=function(){return(t._sqlite3_drop_modules=t.asm.sqlite3_drop_modules).apply(null,arguments)};t._sqlite3_declare_vtab=
function(){return(t._sqlite3_declare_vtab=t.asm.sqlite3_declare_vtab).apply(null,arguments)};t._sqlite3_vtab_on_conflict=function(){return(t._sqlite3_vtab_on_conflict=t.asm.sqlite3_vtab_on_conflict).apply(null,arguments)};t._sqlite3_vtab_collation=function(){return(t._sqlite3_vtab_collation=t.asm.sqlite3_vtab_collation).apply(null,arguments)};t._sqlite3_vtab_in=function(){return(t._sqlite3_vtab_in=t.asm.sqlite3_vtab_in).apply(null,arguments)};t._sqlite3_vtab_rhs_value=function(){return(t._sqlite3_vtab_rhs_value=
t.asm.sqlite3_vtab_rhs_value).apply(null,arguments)};t._sqlite3_vtab_distinct=function(){return(t._sqlite3_vtab_distinct=t.asm.sqlite3_vtab_distinct).apply(null,arguments)};t._sqlite3_keyword_name=function(){return(t._sqlite3_keyword_name=t.asm.sqlite3_keyword_name).apply(null,arguments)};t._sqlite3_keyword_count=function(){return(t._sqlite3_keyword_count=t.asm.sqlite3_keyword_count).apply(null,arguments)};t._sqlite3_keyword_check=function(){return(t._sqlite3_keyword_check=t.asm.sqlite3_keyword_check).apply(null,
arguments)};t._sqlite3_complete=function(){return(t._sqlite3_complete=t.asm.sqlite3_complete).apply(null,arguments)};t._sqlite3_libversion=function(){return(t._sqlite3_libversion=t.asm.sqlite3_libversion).apply(null,arguments)};t._sqlite3_libversion_number=function(){return(t._sqlite3_libversion_number=t.asm.sqlite3_libversion_number).apply(null,arguments)};t._sqlite3_shutdown=function(){return(t._sqlite3_shutdown=t.asm.sqlite3_shutdown).apply(null,arguments)};t._sqlite3_last_insert_rowid=function(){return(t._sqlite3_last_insert_rowid=
t.asm.sqlite3_last_insert_rowid).apply(null,arguments)};t._sqlite3_set_last_insert_rowid=function(){return(t._sqlite3_set_last_insert_rowid=t.asm.sqlite3_set_last_insert_rowid).apply(null,arguments)};t._sqlite3_changes64=function(){return(t._sqlite3_changes64=t.asm.sqlite3_changes64).apply(null,arguments)};t._sqlite3_changes=function(){return(t._sqlite3_changes=t.asm.sqlite3_changes).apply(null,arguments)};t._sqlite3_total_changes64=function(){return(t._sqlite3_total_changes64=t.asm.sqlite3_total_changes64).apply(null,
arguments)};t._sqlite3_total_changes=function(){return(t._sqlite3_total_changes=t.asm.sqlite3_total_changes).apply(null,arguments)};t._sqlite3_txn_state=function(){return(t._sqlite3_txn_state=t.asm.sqlite3_txn_state).apply(null,arguments)};t._sqlite3_close_v2=function(){return(t._sqlite3_close_v2=t.asm.sqlite3_close_v2).apply(null,arguments)};t._sqlite3_busy_handler=function(){return(t._sqlite3_busy_handler=t.asm.sqlite3_busy_handler).apply(null,arguments)};t._sqlite3_progress_handler=function(){return(t._sqlite3_progress_handler=
t.asm.sqlite3_progress_handler).apply(null,arguments)};t._sqlite3_busy_timeout=function(){return(t._sqlite3_busy_timeout=t.asm.sqlite3_busy_timeout).apply(null,arguments)};t._sqlite3_create_function=function(){return(t._sqlite3_create_function=t.asm.sqlite3_create_function).apply(null,arguments)};t._sqlite3_create_function_v2=function(){return(t._sqlite3_create_function_v2=t.asm.sqlite3_create_function_v2).apply(null,arguments)};t._sqlite3_create_window_function=function(){return(t._sqlite3_create_window_function=
t.asm.sqlite3_create_window_function).apply(null,arguments)};t._sqlite3_overload_function=function(){return(t._sqlite3_overload_function=t.asm.sqlite3_overload_function).apply(null,arguments)};t._sqlite3_trace_v2=function(){return(t._sqlite3_trace_v2=t.asm.sqlite3_trace_v2).apply(null,arguments)};t._sqlite3_commit_hook=function(){return(t._sqlite3_commit_hook=t.asm.sqlite3_commit_hook).apply(null,arguments)};t._sqlite3_update_hook=function(){return(t._sqlite3_update_hook=t.asm.sqlite3_update_hook).apply(null,
arguments)};t._sqlite3_rollback_hook=function(){return(t._sqlite3_rollback_hook=t.asm.sqlite3_rollback_hook).apply(null,arguments)};t._sqlite3_preupdate_hook=function(){return(t._sqlite3_preupdate_hook=t.asm.sqlite3_preupdate_hook).apply(null,arguments)};t._sqlite3_error_offset=function(){return(t._sqlite3_error_offset=t.asm.sqlite3_error_offset).apply(null,arguments)};t._sqlite3_errcode=function(){return(t._sqlite3_errcode=t.asm.sqlite3_errcode).apply(null,arguments)};t._sqlite3_extended_errcode=
function(){return(t._sqlite3_extended_errcode=t.asm.sqlite3_extended_errcode).apply(null,arguments)};t._sqlite3_errstr=function(){return(t._sqlite3_errstr=t.asm.sqlite3_errstr).apply(null,arguments)};t._sqlite3_limit=function(){return(t._sqlite3_limit=t.asm.sqlite3_limit).apply(null,arguments)};t._sqlite3_open=function(){return(t._sqlite3_open=t.asm.sqlite3_open).apply(null,arguments)};t._sqlite3_open_v2=function(){return(t._sqlite3_open_v2=t.asm.sqlite3_open_v2).apply(null,arguments)};t._sqlite3_create_collation=
function(){return(t._sqlite3_create_collation=t.asm.sqlite3_create_collation).apply(null,arguments)};t._sqlite3_create_collation_v2=function(){return(t._sqlite3_create_collation_v2=t.asm.sqlite3_create_collation_v2).apply(null,arguments)};t._sqlite3_collation_needed=function(){return(t._sqlite3_collation_needed=t.asm.sqlite3_collation_needed).apply(null,arguments)};t._sqlite3_table_column_metadata=function(){return(t._sqlite3_table_column_metadata=t.asm.sqlite3_table_column_metadata).apply(null,arguments)};
t._sqlite3_extended_result_codes=function(){return(t._sqlite3_extended_result_codes=t.asm.sqlite3_extended_result_codes).apply(null,arguments)};t._sqlite3_uri_key=function(){return(t._sqlite3_uri_key=t.asm.sqlite3_uri_key).apply(null,arguments)};t._sqlite3_uri_int64=function(){return(t._sqlite3_uri_int64=t.asm.sqlite3_uri_int64).apply(null,arguments)};t._sqlite3_db_name=function(){return(t._sqlite3_db_name=t.asm.sqlite3_db_name).apply(null,arguments)};t._sqlite3_db_filename=function(){return(t._sqlite3_db_filename=
t.asm.sqlite3_db_filename).apply(null,arguments)};t._sqlite3_compileoption_used=function(){return(t._sqlite3_compileoption_used=t.asm.sqlite3_compileoption_used).apply(null,arguments)};t._sqlite3_compileoption_get=function(){return(t._sqlite3_compileoption_get=t.asm.sqlite3_compileoption_get).apply(null,arguments)};t._sqlite3session_diff=function(){return(t._sqlite3session_diff=t.asm.sqlite3session_diff).apply(null,arguments)};t._sqlite3session_attach=function(){return(t._sqlite3session_attach=t.asm.sqlite3session_attach).apply(null,
arguments)};t._sqlite3session_create=function(){return(t._sqlite3session_create=t.asm.sqlite3session_create).apply(null,arguments)};t._sqlite3session_delete=function(){return(t._sqlite3session_delete=t.asm.sqlite3session_delete).apply(null,arguments)};t._sqlite3session_table_filter=function(){return(t._sqlite3session_table_filter=t.asm.sqlite3session_table_filter).apply(null,arguments)};t._sqlite3session_changeset=function(){return(t._sqlite3session_changeset=t.asm.sqlite3session_changeset).apply(null,
arguments)};t._sqlite3session_changeset_strm=function(){return(t._sqlite3session_changeset_strm=t.asm.sqlite3session_changeset_strm).apply(null,arguments)};t._sqlite3session_patchset_strm=function(){return(t._sqlite3session_patchset_strm=t.asm.sqlite3session_patchset_strm).apply(null,arguments)};t._sqlite3session_patchset=function(){return(t._sqlite3session_patchset=t.asm.sqlite3session_patchset).apply(null,arguments)};t._sqlite3session_enable=function(){return(t._sqlite3session_enable=t.asm.sqlite3session_enable).apply(null,
arguments)};t._sqlite3session_indirect=function(){return(t._sqlite3session_indirect=t.asm.sqlite3session_indirect).apply(null,arguments)};t._sqlite3session_isempty=function(){return(t._sqlite3session_isempty=t.asm.sqlite3session_isempty).apply(null,arguments)};t._sqlite3session_memory_used=function(){return(t._sqlite3session_memory_used=t.asm.sqlite3session_memory_used).apply(null,arguments)};t._sqlite3session_object_config=function(){return(t._sqlite3session_object_config=t.asm.sqlite3session_object_config).apply(null,
arguments)};t._sqlite3session_changeset_size=function(){return(t._sqlite3session_changeset_size=t.asm.sqlite3session_changeset_size).apply(null,arguments)};t._sqlite3changeset_start=function(){return(t._sqlite3changeset_start=t.asm.sqlite3changeset_start).apply(null,arguments)};t._sqlite3changeset_start_v2=function(){return(t._sqlite3changeset_start_v2=t.asm.sqlite3changeset_start_v2).apply(null,arguments)};t._sqlite3changeset_start_strm=function(){return(t._sqlite3changeset_start_strm=t.asm.sqlite3changeset_start_strm).apply(null,
arguments)};t._sqlite3changeset_start_v2_strm=function(){return(t._sqlite3changeset_start_v2_strm=t.asm.sqlite3changeset_start_v2_strm).apply(null,arguments)};t._sqlite3changeset_next=function(){return(t._sqlite3changeset_next=t.asm.sqlite3changeset_next).apply(null,arguments)};t._sqlite3changeset_op=function(){return(t._sqlite3changeset_op=t.asm.sqlite3changeset_op).apply(null,arguments)};t._sqlite3changeset_pk=function(){return(t._sqlite3changeset_pk=t.asm.sqlite3changeset_pk).apply(null,arguments)};
t._sqlite3changeset_old=function(){return(t._sqlite3changeset_old=t.asm.sqlite3changeset_old).apply(null,arguments)};t._sqlite3changeset_new=function(){return(t._sqlite3changeset_new=t.asm.sqlite3changeset_new).apply(null,arguments)};t._sqlite3changeset_conflict=function(){return(t._sqlite3changeset_conflict=t.asm.sqlite3changeset_conflict).apply(null,arguments)};t._sqlite3changeset_fk_conflicts=function(){return(t._sqlite3changeset_fk_conflicts=t.asm.sqlite3changeset_fk_conflicts).apply(null,arguments)};
t._sqlite3changeset_finalize=function(){return(t._sqlite3changeset_finalize=t.asm.sqlite3changeset_finalize).apply(null,arguments)};t._sqlite3changeset_invert=function(){return(t._sqlite3changeset_invert=t.asm.sqlite3changeset_invert).apply(null,arguments)};t._sqlite3changeset_invert_strm=function(){return(t._sqlite3changeset_invert_strm=t.asm.sqlite3changeset_invert_strm).apply(null,arguments)};t._sqlite3changeset_apply_v2=function(){return(t._sqlite3changeset_apply_v2=t.asm.sqlite3changeset_apply_v2).apply(null,
arguments)};t._sqlite3changeset_apply=function(){return(t._sqlite3changeset_apply=t.asm.sqlite3changeset_apply).apply(null,arguments)};t._sqlite3changeset_apply_v2_strm=function(){return(t._sqlite3changeset_apply_v2_strm=t.asm.sqlite3changeset_apply_v2_strm).apply(null,arguments)};t._sqlite3changeset_apply_strm=function(){return(t._sqlite3changeset_apply_strm=t.asm.sqlite3changeset_apply_strm).apply(null,arguments)};t._sqlite3changegroup_new=function(){return(t._sqlite3changegroup_new=t.asm.sqlite3changegroup_new).apply(null,
arguments)};t._sqlite3changegroup_add=function(){return(t._sqlite3changegroup_add=t.asm.sqlite3changegroup_add).apply(null,arguments)};t._sqlite3changegroup_output=function(){return(t._sqlite3changegroup_output=t.asm.sqlite3changegroup_output).apply(null,arguments)};t._sqlite3changegroup_add_strm=function(){return(t._sqlite3changegroup_add_strm=t.asm.sqlite3changegroup_add_strm).apply(null,arguments)};t._sqlite3changegroup_output_strm=function(){return(t._sqlite3changegroup_output_strm=t.asm.sqlite3changegroup_output_strm).apply(null,
arguments)};t._sqlite3changegroup_delete=function(){return(t._sqlite3changegroup_delete=t.asm.sqlite3changegroup_delete).apply(null,arguments)};t._sqlite3changeset_concat=function(){return(t._sqlite3changeset_concat=t.asm.sqlite3changeset_concat).apply(null,arguments)};t._sqlite3changeset_concat_strm=function(){return(t._sqlite3changeset_concat_strm=t.asm.sqlite3changeset_concat_strm).apply(null,arguments)};t._sqlite3session_config=function(){return(t._sqlite3session_config=t.asm.sqlite3session_config).apply(null,
arguments)};t._sqlite3_sourceid=function(){return(t._sqlite3_sourceid=t.asm.sqlite3_sourceid).apply(null,arguments)};t._sqlite3_wasm_pstack_ptr=function(){return(t._sqlite3_wasm_pstack_ptr=t.asm.sqlite3_wasm_pstack_ptr).apply(null,arguments)};t._sqlite3_wasm_pstack_restore=function(){return(t._sqlite3_wasm_pstack_restore=t.asm.sqlite3_wasm_pstack_restore).apply(null,arguments)};t._sqlite3_wasm_pstack_alloc=function(){return(t._sqlite3_wasm_pstack_alloc=t.asm.sqlite3_wasm_pstack_alloc).apply(null,
arguments)};t._sqlite3_wasm_pstack_remaining=function(){return(t._sqlite3_wasm_pstack_remaining=t.asm.sqlite3_wasm_pstack_remaining).apply(null,arguments)};t._sqlite3_wasm_pstack_quota=function(){return(t._sqlite3_wasm_pstack_quota=t.asm.sqlite3_wasm_pstack_quota).apply(null,arguments)};t._sqlite3_wasm_db_error=function(){return(t._sqlite3_wasm_db_error=t.asm.sqlite3_wasm_db_error).apply(null,arguments)};t._sqlite3_wasm_test_struct=function(){return(t._sqlite3_wasm_test_struct=t.asm.sqlite3_wasm_test_struct).apply(null,
arguments)};t._sqlite3_wasm_enum_json=function(){return(t._sqlite3_wasm_enum_json=t.asm.sqlite3_wasm_enum_json).apply(null,arguments)};t._sqlite3_wasm_vfs_unlink=function(){return(t._sqlite3_wasm_vfs_unlink=t.asm.sqlite3_wasm_vfs_unlink).apply(null,arguments)};t._sqlite3_wasm_db_vfs=function(){return(t._sqlite3_wasm_db_vfs=t.asm.sqlite3_wasm_db_vfs).apply(null,arguments)};t._sqlite3_wasm_db_reset=function(){return(t._sqlite3_wasm_db_reset=t.asm.sqlite3_wasm_db_reset).apply(null,arguments)};t._sqlite3_wasm_db_export_chunked=
function(){return(t._sqlite3_wasm_db_export_chunked=t.asm.sqlite3_wasm_db_export_chunked).apply(null,arguments)};t._sqlite3_wasm_db_serialize=function(){return(t._sqlite3_wasm_db_serialize=t.asm.sqlite3_wasm_db_serialize).apply(null,arguments)};t._sqlite3_wasm_vfs_create_file=function(){return(t._sqlite3_wasm_vfs_create_file=t.asm.sqlite3_wasm_vfs_create_file).apply(null,arguments)};t._sqlite3_wasm_posix_create_file=function(){return(t._sqlite3_wasm_posix_create_file=t.asm.sqlite3_wasm_posix_create_file).apply(null,
arguments)};t._sqlite3_wasm_kvvfsMakeKeyOnPstack=function(){return(t._sqlite3_wasm_kvvfsMakeKeyOnPstack=t.asm.sqlite3_wasm_kvvfsMakeKeyOnPstack).apply(null,arguments)};t._sqlite3_wasm_kvvfs_methods=function(){return(t._sqlite3_wasm_kvvfs_methods=t.asm.sqlite3_wasm_kvvfs_methods).apply(null,arguments)};t._sqlite3_wasm_vtab_config=function(){return(t._sqlite3_wasm_vtab_config=t.asm.sqlite3_wasm_vtab_config).apply(null,arguments)};t._sqlite3_wasm_db_config_ip=function(){return(t._sqlite3_wasm_db_config_ip=
t.asm.sqlite3_wasm_db_config_ip).apply(null,arguments)};t._sqlite3_wasm_db_config_pii=function(){return(t._sqlite3_wasm_db_config_pii=t.asm.sqlite3_wasm_db_config_pii).apply(null,arguments)};t._sqlite3_wasm_db_config_s=function(){return(t._sqlite3_wasm_db_config_s=t.asm.sqlite3_wasm_db_config_s).apply(null,arguments)};t._sqlite3_wasm_config_i=function(){return(t._sqlite3_wasm_config_i=t.asm.sqlite3_wasm_config_i).apply(null,arguments)};t._sqlite3_wasm_config_ii=function(){return(t._sqlite3_wasm_config_ii=
t.asm.sqlite3_wasm_config_ii).apply(null,arguments)};t._sqlite3_wasm_config_j=function(){return(t._sqlite3_wasm_config_j=t.asm.sqlite3_wasm_config_j).apply(null,arguments)};t._sqlite3_wasm_init_wasmfs=function(){return(t._sqlite3_wasm_init_wasmfs=t.asm.sqlite3_wasm_init_wasmfs).apply(null,arguments)};t._sqlite3_wasm_test_intptr=function(){return(t._sqlite3_wasm_test_intptr=t.asm.sqlite3_wasm_test_intptr).apply(null,arguments)};t._sqlite3_wasm_test_voidptr=function(){return(t._sqlite3_wasm_test_voidptr=
t.asm.sqlite3_wasm_test_voidptr).apply(null,arguments)};t._sqlite3_wasm_test_int64_max=function(){return(t._sqlite3_wasm_test_int64_max=t.asm.sqlite3_wasm_test_int64_max).apply(null,arguments)};t._sqlite3_wasm_test_int64_min=function(){return(t._sqlite3_wasm_test_int64_min=t.asm.sqlite3_wasm_test_int64_min).apply(null,arguments)};t._sqlite3_wasm_test_int64_times2=function(){return(t._sqlite3_wasm_test_int64_times2=t.asm.sqlite3_wasm_test_int64_times2).apply(null,arguments)};t._sqlite3_wasm_test_int64_minmax=
function(){return(t._sqlite3_wasm_test_int64_minmax=t.asm.sqlite3_wasm_test_int64_minmax).apply(null,arguments)};t._sqlite3_wasm_test_int64ptr=function(){return(t._sqlite3_wasm_test_int64ptr=t.asm.sqlite3_wasm_test_int64ptr).apply(null,arguments)};t._sqlite3_wasm_test_stack_overflow=function(){return(t._sqlite3_wasm_test_stack_overflow=t.asm.sqlite3_wasm_test_stack_overflow).apply(null,arguments)};t._sqlite3_wasm_test_str_hello=function(){return(t._sqlite3_wasm_test_str_hello=t.asm.sqlite3_wasm_test_str_hello).apply(null,
arguments)};t._sqlite3_wasm_SQLTester_strglob=function(){return(t._sqlite3_wasm_SQLTester_strglob=t.asm.sqlite3_wasm_SQLTester_strglob).apply(null,arguments)};var Tc=t._malloc=function(){return(Tc=t._malloc=t.asm.malloc).apply(null,arguments)};t._free=function(){return(t._free=t.asm.free).apply(null,arguments)};t._realloc=function(){return(t._realloc=t.asm.realloc).apply(null,arguments)};var Qc=t._emscripten_builtin_memalign=function(){return(Qc=t._emscripten_builtin_memalign=t.asm.emscripten_builtin_memalign).apply(null,
arguments)};t.stackSave=function(){return(t.stackSave=t.asm.stackSave).apply(null,arguments)};t.stackRestore=function(){return(t.stackRestore=t.asm.stackRestore).apply(null,arguments)};t.stackAlloc=function(){return(t.stackAlloc=t.asm.stackAlloc).apply(null,arguments)};t.wasmMemory=za;var Gc;Na=function Ua(){Gc||T();Gc||(Na=Ua)};if(t.preInit)for("function"==typeof t.preInit&&(t.preInit=[t.preInit]);0<t.preInit.length;)t.preInit.pop()();T();t.postRun||(t.postRun=[]);t.postRun.push(function(Ua){globalThis.sqlite3ApiBootstrap=
function Yb(qb=globalThis.sqlite3ApiConfig||Yb.defaultConfig){if(Yb.sqlite3)return console.warn("sqlite3ApiBootstrap() called multiple times.","Config and external initializers are ignored on calls after the first."),Yb.sqlite3;var cc=Object,yb=cc.assign,Kb=Object.create(null);var Bb="undefined"!==typeof Ua?!!Ua.HEAPU64:!!globalThis.BigInt64Array;const ib=yb.call(cc,Kb,{exports:void 0,memory:void 0,bigIntEnabled:Bb,debug:console.debug.bind(console),warn:console.warn.bind(console),error:console.error.bind(console),
log:console.log.bind(console),wasmfsOpfsDir:"/opfs",useStdAlloc:!1},qb||{});Object.assign(ib,{allocExportName:ib.useStdAlloc?"malloc":"sqlite3_malloc",deallocExportName:ib.useStdAlloc?"free":"sqlite3_free",reallocExportName:ib.useStdAlloc?"realloc":"sqlite3_realloc"},ib);["exports","memory","wasmfsOpfsDir"].forEach(dc=>{"function"===typeof ib[dc]&&(ib[dc]=ib[dc]())});const ub=Object.create(null),wb=Object.create(null),eb=dc=>ub.sqlite3_js_rc_str&&ub.sqlite3_js_rc_str(dc)||"Unknown result code #"+
dc;class pb extends Error{constructor(...dc){let hc;if(dc.length){var lc=dc[0];"number"===typeof lc&&lc===(lc|0)?(hc=dc[0],1===dc.length?super(eb(dc[0])):(lc=eb(hc),"object"===typeof dc[1]?super(lc,dc[1]):(dc[0]=lc+":",super(dc.join(" "))))):2===dc.length&&"object"===typeof dc[1]?super(...dc):super(dc.join(" "))}this.resultCode=hc||ub.SQLITE_ERROR;this.name="SQLite3Error"}}pb.toss=(...dc)=>{throw new pb(...dc);};const Gb=pb.toss;ib.wasmfsOpfsDir&&!/^\/[^/]+$/.test(ib.wasmfsOpfsDir)&&Gb("config.wasmfsOpfsDir must be falsy or in the form '/dir-name'.");
const ec=dc=>"bigint"!==typeof dc&&!!(dc===(dc|0)&&2147483647>=dc&&-2147483648<=dc),xc="undefined"===typeof SharedArrayBuffer?function(){}:SharedArrayBuffer,Cc=dc=>dc.buffer instanceof xc,ic=(dc,hc,lc)=>Cc(dc)?dc.slice(hc,lc):dc.subarray(hc,lc),Nc=dc=>dc&&(dc instanceof Uint8Array||dc instanceof Int8Array||dc instanceof ArrayBuffer),Lc=dc=>dc&&(dc instanceof Uint8Array||dc instanceof Int8Array||dc instanceof ArrayBuffer),od=dc=>Nc(dc)||Gb("Value is not of a supported TypedArray type."),pd=new TextDecoder("utf-8"),
Pc=function(dc,hc,lc){return pd.decode(ic(dc,hc,lc))},ob=function(dc){if(Lc(dc))return Pc(dc instanceof ArrayBuffer?new Uint8Array(dc):dc);if(Array.isArray(dc))return dc.join("");wb.isPtr(dc)&&(dc=wb.cstrToJs(dc));return dc};class pc extends Error{constructor(...dc){2===dc.length&&"object"===typeof dc[1]?super(...dc):dc.length?super(dc.join(" ")):super("Allocation failed.");this.resultCode=ub.SQLITE_NOMEM;this.name="WasmAllocError"}}pc.toss=(...dc)=>{throw new pc(...dc);};Object.assign(ub,{sqlite3_bind_blob:void 0,
sqlite3_bind_text:void 0,sqlite3_create_function_v2:(dc,hc,lc,Db,rc,Tb,kb,sb,Oa)=>{},sqlite3_create_function:(dc,hc,lc,Db,rc,Tb,kb,sb)=>{},sqlite3_create_window_function:(dc,hc,lc,Db,rc,Tb,kb,sb,Oa,Ab)=>{},sqlite3_prepare_v3:(dc,hc,lc,Db,rc,Tb)=>{},sqlite3_prepare_v2:(dc,hc,lc,Db,rc)=>{},sqlite3_exec:(dc,hc,lc,Db,rc)=>{},sqlite3_randomness:(dc,hc)=>{}});const Wb={affirmBindableTypedArray:od,flexibleString:ob,bigIntFits32:dc=>-2147483648n<=dc&&2147483647n>=dc,bigIntFits64:function lc(hc){lc._max||
(lc._max=BigInt("0x7fffffffffffffff"),lc._min=~lc._max);return hc>=lc._min&&hc<=lc._max},bigIntFitsDouble:function Db(lc){Db._min||(Db._min=Number.MIN_SAFE_INTEGER,Db._max=Number.MAX_SAFE_INTEGER);return lc>=Db._min&&lc<=Db._max},isBindableTypedArray:Nc,isInt32:ec,isSQLableTypedArray:Lc,isTypedArray:lc=>lc&&lc.constructor&&ec(lc.constructor.BYTES_PER_ELEMENT)?lc:!1,typedArrayToString:Pc,isUIThread:()=>globalThis.window===globalThis&&!!globalThis.document,isSharedTypedArray:Cc,toss:function(...lc){throw Error(lc.join(" "));
},toss3:Gb,typedArrayPart:ic,affirmDbHeader:function(lc){lc instanceof ArrayBuffer&&(lc=new Uint8Array(lc));15>lc.byteLength&&Gb("Input does not contain an SQLite3 database header.");for(let Db=0;15>Db;++Db)"SQLite format 3".charCodeAt(Db)!==lc[Db]&&Gb("Input does not contain an SQLite3 database header.")},affirmIsDb:function(lc){lc instanceof ArrayBuffer&&(lc=new Uint8Array(lc));const Db=lc.byteLength;(512>Db||0!==Db%512)&&Gb("Byte array size",Db,"is invalid for an SQLite3 db.");Wb.affirmDbHeader(lc)}};
Object.assign(wb,{ptrSizeof:ib.wasmPtrSizeof||4,ptrIR:ib.wasmPtrIR||"i32",bigIntEnabled:!!ib.bigIntEnabled,exports:ib.exports||Gb("Missing API config.exports (WASM module exports)."),memory:ib.memory||ib.exports.memory||Gb("API config object requires a WebAssembly.Memory object","in either config.exports.memory (exported)","or config.memory (imported)."),alloc:void 0,realloc:void 0,dealloc:void 0});wb.allocFromTypedArray=function(lc){lc instanceof ArrayBuffer&&(lc=new Uint8Array(lc));od(lc);const Db=
wb.alloc(lc.byteLength||1);wb.heapForSize(lc.constructor).set(lc.byteLength?lc:[0],Db);return Db};qb=ib.allocExportName;cc=ib.deallocExportName;yb=ib.reallocExportName;for(const lc of[qb,cc,yb])wb.exports[lc]instanceof Function||Gb("Missing required exports[",lc,"] function.");wb.alloc=function rc(Db){return rc.impl(Db)||pc.toss("Failed to allocate",Db," bytes.")};wb.alloc.impl=wb.exports[qb];wb.realloc=function kb(rc,Tb){rc=kb.impl(rc,Tb);return Tb?rc||pc.toss("Failed to reallocate",Tb," bytes."):
0};wb.realloc.impl=wb.exports[yb];wb.dealloc=wb.exports[cc];wb.compileOptionUsed=function kb(Tb){if(arguments.length){if(Array.isArray(Tb)){const sb={};Tb.forEach(Oa=>{sb[Oa]=ub.sqlite3_compileoption_used(Oa)});return sb}if("object"===typeof Tb)return Object.keys(Tb).forEach(sb=>{Tb[sb]=ub.sqlite3_compileoption_used(sb)}),Tb}else{if(kb._result)return kb._result;kb._opt||(kb._rx=/^([^=]+)=(.+)/,kb._rxInt=/^-?\d+$/,kb._opt=function(Ub,zc){const Za=kb._rx.exec(Ub);zc[0]=Za?Za[1]:Ub;zc[1]=Za?kb._rxInt.test(Za[2])?
+Za[2]:Za[2]:!0});const sb={},Oa=[0,0];let Ab=0,Cb;for(;Cb=ub.sqlite3_compileoption_get(Ab++);)kb._opt(Cb,Oa),sb[Oa[0]]=Oa[1];return kb._result=sb}return"string"===typeof Tb?!!ub.sqlite3_compileoption_used(Tb):!1};wb.pstack=Object.assign(Object.create(null),{restore:wb.exports.sqlite3_wasm_pstack_restore,alloc:function(Tb){"string"!==typeof Tb||(Tb=wb.sizeofIR(Tb))||pc.toss("Invalid value for pstack.alloc(",Tb,")");return wb.exports.sqlite3_wasm_pstack_alloc(Tb)||pc.toss("Could not allocate",Tb,"bytes from the pstack.")},
allocChunks:function(Tb,kb){"string"!==typeof kb||(kb=wb.sizeofIR(kb))||pc.toss("Invalid size value for allocChunks(",kb,")");const sb=wb.pstack.alloc(Tb*kb),Oa=[];let Ab=0,Cb=0;for(;Ab<Tb;++Ab,Cb+=kb)Oa.push(sb+Cb);return Oa},allocPtr:(Tb=1,kb=!0)=>1===Tb?wb.pstack.alloc(kb?8:wb.ptrSizeof):wb.pstack.allocChunks(Tb,kb?8:wb.ptrSizeof),call:function(Tb){const kb=wb.pstack.pointer;try{return Tb(vc)}finally{wb.pstack.restore(kb)}}});Object.defineProperties(wb.pstack,{pointer:{configurable:!1,iterable:!0,
writeable:!1,get:wb.exports.sqlite3_wasm_pstack_ptr},quota:{configurable:!1,iterable:!0,writeable:!1,get:wb.exports.sqlite3_wasm_pstack_quota},remaining:{configurable:!1,iterable:!0,writeable:!1,get:wb.exports.sqlite3_wasm_pstack_remaining}});ub.sqlite3_randomness=(...Tb)=>{if(1===Tb.length&&Wb.isTypedArray(Tb[0])&&1===Tb[0].BYTES_PER_ELEMENT){Tb=Tb[0];if(0===Tb.byteLength)return wb.exports.sqlite3_randomness(0,0),Tb;const kb=wb.pstack.pointer;try{let sb=Tb.byteLength,Oa=0;const Ab=wb.exports.sqlite3_randomness,
Cb=wb.heap8u(),Ub=512>sb?sb:512,zc=wb.pstack.alloc(Ub);do{const Za=sb>Ub?Ub:sb;Ab(Za,zc);Tb.set(ic(Cb,zc,zc+Za),Oa);sb-=Za;Oa+=Za}while(0<sb)}catch(sb){console.error("Highly unexpected (and ignored!) exception in sqlite3_randomness():",sb)}finally{wb.pstack.restore(kb)}return Tb}wb.exports.sqlite3_randomness(...Tb)};let Bc=void 0;ub.sqlite3_wasmfs_opfs_dir=function(){if(void 0!==Bc)return Bc;const Tb=ib.wasmfsOpfsDir;if(!(Tb&&globalThis.FileSystemHandle&&globalThis.FileSystemDirectoryHandle&&globalThis.FileSystemFileHandle))return Bc=
"";try{return Tb&&0===wb.xCallWrapped("sqlite3_wasm_init_wasmfs","i32",["string"],Tb)?Bc=Tb:Bc=""}catch(kb){return Bc=""}};ub.sqlite3_wasmfs_filename_is_persistent=function(Tb){const kb=ub.sqlite3_wasmfs_opfs_dir();return kb&&Tb?Tb.startsWith(kb+"/"):!1};ub.sqlite3_js_db_uses_vfs=function(Tb,kb,sb=0){try{const Oa=ub.sqlite3_vfs_find(kb);return Oa?Tb?Oa===ub.sqlite3_js_db_vfs(Tb,sb)?Oa:!1:Oa===ub.sqlite3_vfs_find(0)?Oa:!1:!1}catch(Oa){return!1}};ub.sqlite3_js_vfs_list=function(){const Tb=[];let kb=
ub.sqlite3_vfs_find(0);for(;kb;){const sb=new ub.sqlite3_vfs(kb);Tb.push(wb.cstrToJs(sb.$zName));kb=sb.$pNext;sb.dispose()}return Tb};ub.sqlite3_js_db_export=function(Tb,kb=0){(Tb=wb.xWrap.testConvertArg("sqlite3*",Tb))||Gb("Invalid sqlite3* argument.");wb.bigIntEnabled||Gb("BigInt64 support is not enabled.");const sb=wb.scopedAllocPush();let Oa;try{const Ab=wb.scopedAlloc(8+wb.ptrSizeof),Cb=Ab+8,Ub=kb?wb.isPtr(kb)?kb:wb.scopedAllocCString(""+kb):0;let zc=wb.exports.sqlite3_wasm_db_serialize(Tb,Ub,
Cb,Ab,0);zc&&Gb("Database serialization failed with code",vc.capi.sqlite3_js_rc_str(zc));Oa=wb.peekPtr(Cb);const Za=wb.peek(Ab,"i64");return zc=Za?wb.heap8u().slice(Oa,Oa+Number(Za)):new Uint8Array}finally{Oa&&wb.exports.sqlite3_free(Oa),wb.scopedAllocPop(sb)}};ub.sqlite3_js_db_vfs=(Tb,kb=0)=>wb.sqlite3_wasm_db_vfs(Tb,kb);ub.sqlite3_js_aggregate_context=(Tb,kb)=>ub.sqlite3_aggregate_context(Tb,kb)||(kb?pc.toss("Cannot allocate",kb,"bytes for sqlite3_aggregate_context()"):0);ub.sqlite3_js_posix_create_file=
function(Tb,kb,sb){let Oa;if(kb&&wb.isPtr(kb))Oa=kb;else if(kb instanceof ArrayBuffer||kb instanceof Uint8Array){if(Oa=wb.allocFromTypedArray(kb),3>arguments.length||!Wb.isInt32(sb)||0>sb)sb=kb.byteLength}else pb.toss("Invalid 2nd argument for sqlite3_js_posix_create_file().");try{(!Wb.isInt32(sb)||0>sb)&&pb.toss("Invalid 3rd argument for sqlite3_js_posix_create_file().");const Ab=wb.sqlite3_wasm_posix_create_file(Tb,Oa,sb);Ab&&pb.toss("Creation of file failed with sqlite3 result code",ub.sqlite3_js_rc_str(Ab))}finally{wb.dealloc(Oa)}};
ub.sqlite3_js_vfs_create_file=function(Tb,kb,sb,Oa){ib.warn("sqlite3_js_vfs_create_file() is deprecated and","should be avoided because it can lead to C-level crashes.","See its documentation for alternative options.");let Ab;if(sb)if(wb.isPtr(sb)?Ab=sb:sb instanceof ArrayBuffer&&(sb=new Uint8Array(sb)),sb instanceof Uint8Array){if(Ab=wb.allocFromTypedArray(sb),4>arguments.length||!Wb.isInt32(Oa)||0>Oa)Oa=sb.byteLength}else pb.toss("Invalid 3rd argument type for sqlite3_js_vfs_create_file().");else Ab=
0;if(!Wb.isInt32(Oa)||0>Oa)wb.dealloc(Ab),pb.toss("Invalid 4th argument for sqlite3_js_vfs_create_file().");try{const Cb=wb.sqlite3_wasm_vfs_create_file(Tb,kb,Ab,Oa);Cb&&pb.toss("Creation of file failed with sqlite3 result code",ub.sqlite3_js_rc_str(Cb))}finally{wb.dealloc(Ab)}};ub.sqlite3_js_sql_to_string=Tb=>{if("string"===typeof Tb)return Tb;Tb=ob(v);return Tb===v?void 0:Tb};if(Wb.isUIThread()){const Tb=function(kb){const sb=Object.create(null);sb.prefix="kvvfs-"+kb;sb.stores=[];"session"!==kb&&
""!==kb||sb.stores.push(globalThis.sessionStorage);"local"!==kb&&""!==kb||sb.stores.push(globalThis.localStorage);return sb};ub.sqlite3_js_kvvfs_clear=function(kb=""){let sb=0;const Oa=Tb(kb);Oa.stores.forEach(Ab=>{const Cb=[];let Ub;for(Ub=0;Ub<Ab.length;++Ub){const zc=Ab.key(Ub);zc.startsWith(Oa.prefix)&&Cb.push(zc)}Cb.forEach(zc=>Ab.removeItem(zc));sb+=Cb.length});return sb};ub.sqlite3_js_kvvfs_size=function(kb=""){let sb=0;const Oa=Tb(kb);Oa.stores.forEach(Ab=>{let Cb;for(Cb=0;Cb<Ab.length;++Cb){const Ub=
Ab.key(Cb);Ub.startsWith(Oa.prefix)&&(sb+=Ub.length,sb+=Ab.getItem(Ub).length)}});return 2*sb}}ub.sqlite3_db_config=function(Tb,kb,...sb){this.s||(this.s=wb.xWrap("sqlite3_wasm_db_config_s","int",["sqlite3*","int","string:static"]),this.pii=wb.xWrap("sqlite3_wasm_db_config_pii","int",["sqlite3*","int","*","int","int"]),this.ip=wb.xWrap("sqlite3_wasm_db_config_ip","int",["sqlite3*","int","int","*"]));switch(kb){case ub.SQLITE_DBCONFIG_ENABLE_FKEY:case ub.SQLITE_DBCONFIG_ENABLE_TRIGGER:case ub.SQLITE_DBCONFIG_ENABLE_FTS3_TOKENIZER:case ub.SQLITE_DBCONFIG_ENABLE_LOAD_EXTENSION:case ub.SQLITE_DBCONFIG_NO_CKPT_ON_CLOSE:case ub.SQLITE_DBCONFIG_ENABLE_QPSG:case ub.SQLITE_DBCONFIG_TRIGGER_EQP:case ub.SQLITE_DBCONFIG_RESET_DATABASE:case ub.SQLITE_DBCONFIG_DEFENSIVE:case ub.SQLITE_DBCONFIG_WRITABLE_SCHEMA:case ub.SQLITE_DBCONFIG_LEGACY_ALTER_TABLE:case ub.SQLITE_DBCONFIG_DQS_DML:case ub.SQLITE_DBCONFIG_DQS_DDL:case ub.SQLITE_DBCONFIG_ENABLE_VIEW:case ub.SQLITE_DBCONFIG_LEGACY_FILE_FORMAT:case ub.SQLITE_DBCONFIG_TRUSTED_SCHEMA:case ub.SQLITE_DBCONFIG_STMT_SCANSTATUS:case ub.SQLITE_DBCONFIG_REVERSE_SCANORDER:return this.ip(Tb,
kb,sb[0],sb[1]||0);case ub.SQLITE_DBCONFIG_LOOKASIDE:return this.pii(Tb,kb,sb[0],sb[1],sb[2]);case ub.SQLITE_DBCONFIG_MAINDBNAME:return this.s(Tb,kb,sb[0]);default:return ub.SQLITE_MISUSE}}.bind(Object.create(null));ub.sqlite3_value_to_js=function(Tb,kb=!0){const sb=ub.sqlite3_value_type(Tb);switch(sb){case ub.SQLITE_INTEGER:wb.bigIntEnabled?(Tb=ub.sqlite3_value_int64(Tb),Wb.bigIntFitsDouble(Tb)&&(Tb=Number(Tb))):Tb=ub.sqlite3_value_double(Tb);break;case ub.SQLITE_FLOAT:Tb=ub.sqlite3_value_double(Tb);
break;case ub.SQLITE_TEXT:Tb=ub.sqlite3_value_text(Tb);break;case ub.SQLITE_BLOB:kb=ub.sqlite3_value_bytes(Tb);Tb=ub.sqlite3_value_blob(Tb);kb&&!Tb&&vc.WasmAllocError.toss("Cannot allocate memory for blob argument of",kb,"byte(s)");Tb=kb?wb.heap8u().slice(Tb,Tb+Number(kb)):null;break;case ub.SQLITE_NULL:Tb=null;break;default:kb&&Gb(ub.SQLITE_MISMATCH,"Unhandled sqlite3_value_type():",sb),Tb=void 0}return Tb};ub.sqlite3_values_to_js=function(Tb,kb,sb=!0){let Oa;const Ab=[];for(Oa=0;Oa<Tb;++Oa)Ab.push(ub.sqlite3_value_to_js(wb.peekPtr(kb+
wb.ptrSizeof*Oa),sb));return Ab};ub.sqlite3_result_error_js=function(Tb,kb){kb instanceof pc?ub.sqlite3_result_error_nomem(Tb):ub.sqlite3_result_error(Tb,""+kb,-1)};ub.sqlite3_result_js=function(Tb,kb){if(kb instanceof Error)ub.sqlite3_result_error_js(Tb,kb);else try{switch(typeof kb){case "undefined":break;case "boolean":ub.sqlite3_result_int(Tb,kb?1:0);break;case "bigint":Wb.bigIntFits32(kb)?ub.sqlite3_result_int(Tb,Number(kb)):Wb.bigIntFitsDouble(kb)?ub.sqlite3_result_double(Tb,Number(kb)):wb.bigIntEnabled?
Wb.bigIntFits64(kb)?ub.sqlite3_result_int64(Tb,kb):Gb("BigInt value",kb.toString(),"is too BigInt for int64."):Gb("BigInt value",kb.toString(),"is too BigInt.");break;case "number":(Wb.isInt32(kb)?ub.sqlite3_result_int:wb.bigIntEnabled&&Number.isInteger(kb)&&Wb.bigIntFits64(BigInt(kb))?ub.sqlite3_result_int64:ub.sqlite3_result_double)(Tb,kb);break;case "string":const [sb,Oa]=wb.allocCString(kb,!0);ub.sqlite3_result_text(Tb,sb,Oa,ub.SQLITE_WASM_DEALLOC);break;case "object":if(null===kb){ub.sqlite3_result_null(Tb);
break}else if(Wb.isBindableTypedArray(kb)){const Ab=wb.allocFromTypedArray(kb);ub.sqlite3_result_blob(Tb,Ab,kb.byteLength,ub.SQLITE_WASM_DEALLOC);break}default:Gb("Don't not how to handle this UDF result value:",typeof kb,kb)}}catch(sb){ub.sqlite3_result_error_js(Tb,sb)}};ub.sqlite3_column_js=function(Tb,kb,sb=!0){Tb=ub.sqlite3_column_value(Tb,kb);return 0===Tb?void 0:ub.sqlite3_value_to_js(Tb,sb)};const Jc=function(Tb,kb,sb){sb=ub[sb];this.ptr?wb.pokePtr(this.ptr,0):this.ptr=wb.allocPtr();return(Tb=
sb(Tb,kb,this.ptr))?pb.toss(Tb,sb+"() failed with code "+Tb):(sb=wb.peekPtr(this.ptr))?ub.sqlite3_value_to_js(sb,!0):void 0}.bind(Object.create(null));ub.sqlite3_preupdate_new_js=(Tb,kb)=>Jc(Tb,kb,"sqlite3_preupdate_new");ub.sqlite3_preupdate_old_js=(Tb,kb)=>Jc(Tb,kb,"sqlite3_preupdate_old");ub.sqlite3changeset_new_js=(Tb,kb)=>Jc(Tb,kb,"sqlite3changeset_new");ub.sqlite3changeset_old_js=(Tb,kb)=>Jc(Tb,kb,"sqlite3changeset_old");const vc={WasmAllocError:pc,SQLite3Error:pb,capi:ub,util:Wb,wasm:wb,config:ib,
version:Object.create(null),client:void 0,asyncPostInit:async function kb(){if(kb.isReady instanceof Promise)return kb.isReady;let sb=Yb.initializersAsync;delete Yb.initializersAsync;var Oa=async()=>{vc.__isUnderTest||(delete vc.util,delete vc.StructBinder);return vc};const Ab=Cb=>{ib.error("an async sqlite3 initializer failed:",Cb);throw Cb;};if(!sb||!sb.length)return kb.isReady=Oa().catch(Ab);sb=sb.map(Cb=>Cb instanceof Function?async Ub=>Cb(vc):Cb);sb.push(Oa);for(Oa=Promise.resolve(vc);sb.length;)Oa=
Oa.then(sb.shift());return kb.isReady=Oa.catch(Ab)},scriptInfo:void 0};try{Yb.initializers.forEach(kb=>{kb(vc)})}catch(kb){throw console.error("sqlite3 bootstrap initializer threw:",kb),kb;}delete Yb.initializers;return Yb.sqlite3=vc};globalThis.sqlite3ApiBootstrap.initializers=[];globalThis.sqlite3ApiBootstrap.initializersAsync=[];globalThis.sqlite3ApiBootstrap.defaultConfig=Object.create(null);globalThis.sqlite3ApiBootstrap.sqlite3=void 0;globalThis.WhWasmUtilInstaller=function(qb){void 0===qb.bigIntEnabled&&
(qb.bigIntEnabled=!!globalThis.BigInt64Array);const Yb=(...pc)=>{throw Error(pc.join(" "));};qb.exports||Object.defineProperty(qb,"exports",{enumerable:!0,configurable:!0,get:()=>qb.instance&&qb.instance.exports});const cc=qb.pointerIR||"i32",yb=qb.ptrSizeof="i32"===cc?4:"i64"===cc?8:Yb("Unhandled ptrSizeof:",cc),Kb=Object.create(null);Kb.heapSize=0;Kb.memory=null;Kb.freeFuncIndexes=[];Kb.scopedAlloc=[];Kb.utf8Decoder=new TextDecoder;Kb.utf8Encoder=new TextEncoder("utf-8");qb.sizeofIR=pc=>{switch(pc){case "i8":return 1;
case "i16":return 2;case "i32":case "f32":case "float":return 4;case "i64":case "f64":case "double":return 8;case "*":return yb;default:return(""+pc).endsWith("*")?yb:void 0}};const Bb=function(){if(!Kb.memory)Kb.memory=qb.memory instanceof WebAssembly.Memory?qb.memory:qb.exports.memory;else if(Kb.heapSize===Kb.memory.buffer.byteLength)return Kb;const pc=Kb.memory.buffer;Kb.HEAP8=new Int8Array(pc);Kb.HEAP8U=new Uint8Array(pc);Kb.HEAP16=new Int16Array(pc);Kb.HEAP16U=new Uint16Array(pc);Kb.HEAP32=new Int32Array(pc);
Kb.HEAP32U=new Uint32Array(pc);qb.bigIntEnabled&&(Kb.HEAP64=new BigInt64Array(pc),Kb.HEAP64U=new BigUint64Array(pc));Kb.HEAP32F=new Float32Array(pc);Kb.HEAP64F=new Float64Array(pc);Kb.heapSize=pc.byteLength;return Kb};qb.heap8=()=>Bb().HEAP8;qb.heap8u=()=>Bb().HEAP8U;qb.heap16=()=>Bb().HEAP16;qb.heap16u=()=>Bb().HEAP16U;qb.heap32=()=>Bb().HEAP32;qb.heap32u=()=>Bb().HEAP32U;qb.heapForSize=function(pc,Wb=!0){const Bc=Kb.memory&&Kb.heapSize===Kb.memory.buffer.byteLength?Kb:Bb();switch(pc){case Int8Array:return Bc.HEAP8;
case Uint8Array:return Bc.HEAP8U;case Int16Array:return Bc.HEAP16;case Uint16Array:return Bc.HEAP16U;case Int32Array:return Bc.HEAP32;case Uint32Array:return Bc.HEAP32U;case 8:return Wb?Bc.HEAP8U:Bc.HEAP8;case 16:return Wb?Bc.HEAP16U:Bc.HEAP16;case 32:return Wb?Bc.HEAP32U:Bc.HEAP32;case 64:if(Bc.HEAP64)return Wb?Bc.HEAP64U:Bc.HEAP64;break;default:if(qb.bigIntEnabled){if(pc===globalThis.BigUint64Array)return Bc.HEAP64U;if(pc===globalThis.BigInt64Array)return Bc.HEAP64}}Yb("Invalid heapForSize() size: expecting 8, 16, 32,",
"or (if BigInt is enabled) 64.")};qb.functionTable=function(){return qb.exports.__indirect_function_table};qb.functionEntry=function(pc){const Wb=qb.functionTable();return pc<Wb.length?Wb.get(pc):void 0};qb.jsFuncToWasm=function Jc(Wb,Bc){Jc._||(Jc._={sigTypes:Object.assign(Object.create(null),{i:"i32",p:"i32",P:"i32",s:"i32",j:"i64",f:"f32",d:"f64"}),typeCodes:Object.assign(Object.create(null),{f64:124,f32:125,i64:126,i32:127}),uleb128Encode:function(hc,lc,Db){if(128>Db)hc[lc](Db);else hc[lc](Db%
128|128,Db>>7)},rxJSig:/^(\w)\((\w*)\)$/,sigParams:function(hc){const lc=Jc._.rxJSig.exec(hc);return lc?lc[2]:hc.substr(1)},letterType:hc=>Jc._.sigTypes[hc]||Yb("Invalid signature letter:",hc),pushSigType:(hc,lc)=>hc.push(Jc._.typeCodes[Jc._.letterType(lc)])});if("string"===typeof Wb){var vc=Bc;Bc=Wb;Wb=vc}vc=Jc._.sigParams(Bc);const dc=[1,96];Jc._.uleb128Encode(dc,"push",vc.length);for(const hc of vc)Jc._.pushSigType(dc,hc);"v"===Bc[0]?dc.push(0):(dc.push(1),Jc._.pushSigType(dc,Bc[0]));Jc._.uleb128Encode(dc,
"unshift",dc.length);dc.unshift(0,97,115,109,1,0,0,0,1);dc.push(2,7,1,1,101,1,102,0,0,7,5,1,1,102,0,0);return(new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array(dc)),{e:{f:Wb}})).exports.f};const ib=function(Wb,Bc,Jc){Jc&&!Kb.scopedAlloc.length&&Yb("No scopedAllocPush() scope is active.");if("string"===typeof Wb){var vc=Bc;Bc=Wb;Wb=vc}"string"===typeof Bc&&Wb instanceof Function||Yb("Invalid arguments: expecting (function,signature) or (signature,function).");vc=qb.functionTable();const dc=
vc.length;let hc;for(;Kb.freeFuncIndexes.length;)if(hc=Kb.freeFuncIndexes.pop(),vc.get(hc))hc=null;else break;hc||(hc=dc,vc.grow(1));try{return vc.set(hc,Wb),Jc&&Kb.scopedAlloc[Kb.scopedAlloc.length-1].push(hc),hc}catch(lc){if(!(lc instanceof TypeError))throw hc===dc&&Kb.freeFuncIndexes.push(dc),lc;}try{const lc=qb.jsFuncToWasm(Wb,Bc);vc.set(hc,lc);Jc&&Kb.scopedAlloc[Kb.scopedAlloc.length-1].push(hc)}catch(lc){throw hc===dc&&Kb.freeFuncIndexes.push(dc),lc;}return hc};qb.installFunction=(Wb,Bc)=>ib(Wb,
Bc,!1);qb.scopedInstallFunction=(Wb,Bc)=>ib(Wb,Bc,!0);qb.uninstallFunction=function(Wb){if(Wb||0===Wb){var Bc=Kb.freeFuncIndexes,Jc=qb.functionTable();Bc.push(Wb);Bc=Jc.get(Wb);Jc.set(Wb,null);return Bc}};qb.peek=function(Wb,Bc="i8"){Bc.endsWith("*")&&(Bc=cc);const Jc=Kb.memory&&Kb.heapSize===Kb.memory.buffer.byteLength?Kb:Bb(),vc=Array.isArray(Wb)?[]:void 0;let dc;do{vc&&(Wb=Wb.shift());switch(Bc){case "i1":case "i8":dc=Jc.HEAP8[Wb>>0];break;case "i16":dc=Jc.HEAP16[Wb>>1];break;case "i32":dc=Jc.HEAP32[Wb>>
2];break;case "float":case "f32":dc=Jc.HEAP32F[Wb>>2];break;case "double":case "f64":dc=Number(Jc.HEAP64F[Wb>>3]);break;case "i64":if(qb.bigIntEnabled){dc=BigInt(Jc.HEAP64[Wb>>3]);break}default:Yb("Invalid type for peek():",Bc)}vc&&vc.push(dc)}while(vc&&Wb.length);return vc||dc};qb.poke=function(Wb,Bc,Jc="i8"){Jc.endsWith("*")&&(Jc=cc);const vc=Kb.memory&&Kb.heapSize===Kb.memory.buffer.byteLength?Kb:Bb();for(const dc of Array.isArray(Wb)?Wb:[Wb])switch(Jc){case "i1":case "i8":vc.HEAP8[dc>>0]=Bc;continue;
case "i16":vc.HEAP16[dc>>1]=Bc;continue;case "i32":vc.HEAP32[dc>>2]=Bc;continue;case "float":case "f32":vc.HEAP32F[dc>>2]=Bc;continue;case "double":case "f64":vc.HEAP64F[dc>>3]=Bc;continue;case "i64":if(vc.HEAP64){vc.HEAP64[dc>>3]=BigInt(Bc);continue}default:Yb("Invalid type for poke(): "+Jc)}return this};qb.peekPtr=(...Wb)=>qb.peek(1===Wb.length?Wb[0]:Wb,cc);qb.pokePtr=(Wb,Bc=0)=>qb.poke(Wb,Bc,cc);qb.peek8=(...Wb)=>qb.peek(1===Wb.length?Wb[0]:Wb,"i8");qb.poke8=(Wb,Bc)=>qb.poke(Wb,Bc,"i8");qb.peek16=
(...Wb)=>qb.peek(1===Wb.length?Wb[0]:Wb,"i16");qb.poke16=(Wb,Bc)=>qb.poke(Wb,Bc,"i16");qb.peek32=(...Wb)=>qb.peek(1===Wb.length?Wb[0]:Wb,"i32");qb.poke32=(Wb,Bc)=>qb.poke(Wb,Bc,"i32");qb.peek64=(...Wb)=>qb.peek(1===Wb.length?Wb[0]:Wb,"i64");qb.poke64=(Wb,Bc)=>qb.poke(Wb,Bc,"i64");qb.peek32f=(...Wb)=>qb.peek(1===Wb.length?Wb[0]:Wb,"f32");qb.poke32f=(Wb,Bc)=>qb.poke(Wb,Bc,"f32");qb.peek64f=(...Wb)=>qb.peek(1===Wb.length?Wb[0]:Wb,"f64");qb.poke64f=(Wb,Bc)=>qb.poke(Wb,Bc,"f64");qb.getMemValue=qb.peek;
qb.getPtrValue=qb.peekPtr;qb.setMemValue=qb.poke;qb.setPtrValue=qb.pokePtr;qb.isPtr32=Wb=>"number"===typeof Wb&&Wb===(Wb|0)&&0<=Wb;qb.isPtr=qb.isPtr32;qb.cstrlen=function(Wb){if(!Wb||!qb.isPtr(Wb))return null;const Bc=Bb().HEAP8U;let Jc=Wb;for(;0!==Bc[Jc];++Jc);return Jc-Wb};const ub="undefined"===typeof SharedArrayBuffer?function(){}:SharedArrayBuffer;qb.cstrToJs=function(Wb){var Bc=qb.cstrlen(Wb);if(Bc){var Jc=Bb().HEAP8U;Bc=Wb+Bc;Wb=Kb.utf8Decoder.decode(Jc.buffer instanceof ub?Jc.slice(Wb,Bc):
Jc.subarray(Wb,Bc))}else Wb=null===Bc?Bc:"";return Wb};qb.jstrlen=function(Wb){if("string"!==typeof Wb)return null;const Bc=Wb.length;let Jc=0;for(let vc=0;vc<Bc;++vc){let dc=Wb.charCodeAt(vc);55296<=dc&&57343>=dc&&(dc=65536+((dc&1023)<<10)|Wb.charCodeAt(++vc)&1023);127>=dc?++Jc:Jc=2047>=dc?Jc+2:65535>=dc?Jc+3:Jc+4}return Jc};qb.jstrcpy=function(Wb,Bc,Jc=0,vc=-1,dc=!0){Bc&&(Bc instanceof Int8Array||Bc instanceof Uint8Array)||Yb("jstrcpy() target must be an Int8Array or Uint8Array.");0>vc&&(vc=Bc.length-
Jc);if(!(0<vc&&0<=Jc))return 0;let hc=0,lc=Wb.length;const Db=Jc;for(vc=Jc+vc-(dc?1:0);hc<lc&&Jc<vc;++hc){let rc=Wb.charCodeAt(hc);55296<=rc&&57343>=rc&&(rc=65536+((rc&1023)<<10)|Wb.charCodeAt(++hc)&1023);if(127>=rc){if(Jc>=vc)break;Bc[Jc++]=rc}else{if(2047>=rc){if(Jc+1>=vc)break;Bc[Jc++]=192|rc>>6}else{if(65535>=rc){if(Jc+2>=vc)break;Bc[Jc++]=224|rc>>12}else{if(Jc+3>=vc)break;Bc[Jc++]=240|rc>>18;Bc[Jc++]=128|rc>>12&63}Bc[Jc++]=128|rc>>6&63}Bc[Jc++]=128|rc&63}}dc&&(Bc[Jc++]=0);return Jc-Db};qb.cstrncpy=
function(Wb,Bc,Jc){Wb&&Bc||Yb("cstrncpy() does not accept NULL strings.");if(0>Jc)Jc=qb.cstrlen(strPtr)+1;else if(!(0<Jc))return 0;const vc=qb.heap8u();let dc=0,hc;for(;dc<Jc&&(hc=vc[Bc+dc]);++dc)vc[Wb+dc]=hc;dc<Jc&&(vc[Wb+dc++]=0);return dc};qb.jstrToUintArray=(Wb,Bc=!1)=>Kb.utf8Encoder.encode(Bc?Wb+"\x00":Wb);const wb=(Wb,Bc)=>{Wb.alloc instanceof Function&&Wb.dealloc instanceof Function||Yb("Object is missing alloc() and/or dealloc() function(s)","required by",Bc+"().")},eb=function(Wb,Bc,Jc,vc){wb(qb,
vc);if("string"!==typeof Wb)return null;Wb=Kb.utf8Encoder.encode(Wb);Jc=Jc(Wb.length+1);vc=Bb().HEAP8U;vc.set(Wb,Jc);vc[Jc+Wb.length]=0;return Bc?[Jc,Wb.length]:Jc};qb.allocCString=(Wb,Bc=!1)=>eb(Wb,Bc,qb.alloc,"allocCString()");qb.scopedAllocPush=function(){wb(qb,"scopedAllocPush");const Wb=[];Kb.scopedAlloc.push(Wb);return Wb};qb.scopedAllocPop=function(Wb){wb(qb,"scopedAllocPop");var Bc=arguments.length?Kb.scopedAlloc.indexOf(Wb):Kb.scopedAlloc.length-1;0>Bc&&Yb("Invalid state object for scopedAllocPop().");
0===arguments.length&&(Wb=Kb.scopedAlloc[Bc]);for(Kb.scopedAlloc.splice(Bc,1);Bc=Wb.pop();)qb.functionEntry(Bc)?qb.uninstallFunction(Bc):qb.dealloc(Bc)};qb.scopedAlloc=function(Wb){Kb.scopedAlloc.length||Yb("No scopedAllocPush() scope is active.");Wb=qb.alloc(Wb);Kb.scopedAlloc[Kb.scopedAlloc.length-1].push(Wb);return Wb};Object.defineProperty(qb.scopedAlloc,"level",{configurable:!1,enumerable:!1,get:()=>Kb.scopedAlloc.length,set:()=>Yb("The 'active' property is read-only.")});qb.scopedAllocCString=
(Wb,Bc=!1)=>eb(Wb,Bc,qb.scopedAlloc,"scopedAllocCString()");const pb=function(Wb,Bc){const Jc=qb[Wb?"scopedAlloc":"alloc"]((Bc.length+1)*qb.ptrSizeof);let vc=0;Bc.forEach(dc=>{qb.pokePtr(Jc+qb.ptrSizeof*vc++,qb[Wb?"scopedAllocCString":"allocCString"](""+dc))});qb.pokePtr(Jc+qb.ptrSizeof*vc,0);return Jc};qb.scopedAllocMainArgv=Wb=>pb(!0,Wb);qb.allocMainArgv=Wb=>pb(!1,Wb);qb.cArgvToJs=(Wb,Bc)=>{const Jc=[];for(let vc=0;vc<Wb;++vc){const dc=qb.peekPtr(Bc+qb.ptrSizeof*vc);Jc.push(dc?qb.cstrToJs(dc):null)}return Jc};
qb.scopedAllocCall=function(Wb){qb.scopedAllocPush();try{return Wb()}finally{qb.scopedAllocPop()}};const Gb=function(Wb,Bc,Jc){wb(qb,Jc);const vc=Bc?"i64":cc;Jc=qb[Jc](Wb*(Bc?8:yb));qb.poke(Jc,0,vc);if(1===Wb)return Jc;const dc=[Jc];for(let hc=1;hc<Wb;++hc)Jc+=Bc?8:yb,dc[hc]=Jc,qb.poke(Jc,0,vc);return dc};qb.allocPtr=(Wb=1,Bc=!0)=>Gb(Wb,Bc,"alloc");qb.scopedAllocPtr=(Wb=1,Bc=!0)=>Gb(Wb,Bc,"scopedAlloc");qb.xGet=function(Wb){return qb.exports[Wb]||Yb("Cannot find exported symbol:",Wb)};const ec=(Wb,
Bc)=>Yb(Wb+"() requires",Bc,"argument(s).");qb.xCall=function(Wb,...Bc){const Jc=qb.xGet(Wb);Jc instanceof Function||Yb("Exported symbol",Wb,"is not a function.");Jc.length!==Bc.length&&ec(Wb,Jc.length);return 2===arguments.length&&Array.isArray(arguments[1])?Jc.apply(null,arguments[1]):Jc.apply(null,Bc)};Kb.xWrap=Object.create(null);Kb.xWrap.convert=Object.create(null);Kb.xWrap.convert.arg=new Map;Kb.xWrap.convert.result=new Map;const xc=Kb.xWrap.convert.arg,Cc=Kb.xWrap.convert.result;qb.bigIntEnabled&&
xc.set("i64",Wb=>BigInt(Wb));const ic="i32"===cc?Wb=>Wb|0:Wb=>BigInt(Wb)|BigInt(0);xc.set("i32",ic).set("i16",Wb=>(Wb|0)&65535).set("i8",Wb=>(Wb|0)&255).set("f32",Wb=>Number(Wb).valueOf()).set("float",xc.get("f32")).set("f64",xc.get("f32")).set("double",xc.get("f64")).set("int",xc.get("i32")).set("null",Wb=>Wb).set(null,xc.get("null")).set("**",ic).set("*",ic);Cc.set("*",ic).set("pointer",ic).set("number",Wb=>Number(Wb)).set("void",Wb=>{}).set("null",Wb=>Wb).set(null,Cc.get("null"));var Nc="i8 i16 i32 int f32 float f64 double".split(" ");
qb.bigIntEnabled&&Nc.push("i64");const Lc=xc.get(cc);for(const Wb of Nc)xc.set(Wb+"*",Lc),Cc.set(Wb+"*",Lc),Cc.set(Wb,xc.get(Wb)||Yb("Missing arg converter:",Wb));Nc=function(Wb){return"string"===typeof Wb?qb.scopedAllocCString(Wb):Wb?ic(Wb):null};xc.set("string",Nc).set("utf8",Nc).set("pointer",Nc);Cc.set("string",Wb=>qb.cstrToJs(Wb)).set("utf8",Cc.get("string")).set("string:dealloc",Wb=>{try{return Wb?qb.cstrToJs(Wb):null}finally{qb.dealloc(Wb)}}).set("utf8:dealloc",Cc.get("string:dealloc")).set("json",
Wb=>JSON.parse(qb.cstrToJs(Wb))).set("json:dealloc",Wb=>{try{return Wb?JSON.parse(qb.cstrToJs(Wb)):null}finally{qb.dealloc(Wb)}});const od=class{constructor(Wb){this.name=Wb.name||"unnamed adapter"}convertArg(Wb,Bc,Jc){Yb("AbstractArgAdapter must be subclassed.")}};xc.FuncPtrAdapter=class Wb extends od{constructor(Bc){super(Bc);xc.FuncPtrAdapter.warnOnUse&&console.warn("xArg.FuncPtrAdapter is an internal-only API","and is not intended to be invoked from","client-level code. Invoked with:",Bc);this.name=
Bc.name||"unnamed";this.signature=Bc.signature;Bc.contextKey instanceof Function&&(this.contextKey=Bc.contextKey,Bc.bindScope||(Bc.bindScope="context"));this.bindScope=Bc.bindScope||Yb("FuncPtrAdapter options requires a bindScope (explicit or implied).");0>Wb.bindScopes.indexOf(Bc.bindScope)&&Yb("Invalid options.bindScope ("+Bc.bindMod+") for FuncPtrAdapter. Expecting one of: ("+Wb.bindScopes.join(", ")+")");this.isTransient="transient"===this.bindScope;this.isContext="context"===this.bindScope;this.isPermanent=
"permanent"===this.bindScope;this.singleton="singleton"===this.bindScope?[]:void 0;this.callProxy=Bc.callProxy instanceof Function?Bc.callProxy:void 0}contextKey(Bc,Jc){return this}contextMap(Bc){const Jc=this.__cmap||(this.__cmap=new Map);let vc=Jc.get(Bc);void 0===vc&&Jc.set(Bc,vc=[]);return vc}convertArg(Bc,Jc,vc){let dc=this.singleton;!dc&&this.isContext&&(dc=this.contextMap(this.contextKey(Jc,vc)));if(dc&&dc[0]===Bc)return dc[1];if(Bc instanceof Function){this.callProxy&&(Bc=this.callProxy(Bc));
const hc=ib(Bc,this.signature,this.isTransient);Wb.debugFuncInstall&&Wb.debugOut("FuncPtrAdapter installed",this,this.contextKey(Jc,vc),"@"+hc,Bc);if(dc){if(dc[1]){Wb.debugFuncInstall&&Wb.debugOut("FuncPtrAdapter uninstalling",this,this.contextKey(Jc,vc),"@"+dc[1],Bc);try{Kb.scopedAlloc[Kb.scopedAlloc.length-1].push(dc[1])}catch(lc){}}dc[0]=Bc;dc[1]=hc}return hc}if(qb.isPtr(Bc)||null===Bc||void 0===Bc){if(dc&&dc[1]&&dc[1]!==Bc){Wb.debugFuncInstall&&Wb.debugOut("FuncPtrAdapter uninstalling",this,this.contextKey(Jc,
vc),"@"+dc[1],Bc);try{Kb.scopedAlloc[Kb.scopedAlloc.length-1].push(dc[1])}catch(hc){}dc[0]=dc[1]=Bc|0}return Bc||0}throw new TypeError("Invalid FuncPtrAdapter argument type. Expecting a function pointer or a "+(this.name?this.name+" ":"")+"function matching signature "+this.signature+".");}};xc.FuncPtrAdapter.warnOnUse=!1;xc.FuncPtrAdapter.debugFuncInstall=!1;xc.FuncPtrAdapter.debugOut=console.debug.bind(console);xc.FuncPtrAdapter.bindScopes=["transient","context","singleton","permanent"];const pd=
Wb=>xc.get(Wb)||Yb("Argument adapter not found:",Wb),Pc=Wb=>Cc.get(Wb)||Yb("Result adapter not found:",Wb);Kb.xWrap.convertArg=(Wb,...Bc)=>pd(Wb)(...Bc);Kb.xWrap.convertArgNoCheck=(Wb,...Bc)=>xc.get(Wb)(...Bc);Kb.xWrap.convertResult=(Wb,Bc)=>null===Wb?Bc:Wb?Pc(Wb)(Bc):void 0;Kb.xWrap.convertResultNoCheck=(Wb,Bc)=>null===Wb?Bc:Wb?Cc.get(Wb)(Bc):void 0;qb.xWrap=function(Wb,Bc,...Jc){3===arguments.length&&Array.isArray(arguments[2])&&(Jc=arguments[2]);qb.isPtr(Wb)&&(Wb=qb.functionEntry(Wb)||Yb("Function pointer not found in WASM function table."));
const vc=Wb instanceof Function,dc=vc?Wb:qb.xGet(Wb);vc&&(Wb=dc.name||"unnamed function");Jc.length!==dc.length&&ec(Wb,dc.length);if(null===Bc&&0===dc.length)return dc;void 0!==Bc&&null!==Bc&&Pc(Bc);for(const lc of Jc)lc instanceof od?xc.set(lc,(...Db)=>lc.convertArg(...Db)):pd(lc);const hc=Kb.xWrap;return 0===dc.length?(...lc)=>lc.length?ec(Wb,dc.length):hc.convertResult(Bc,dc.call(null)):function(...lc){lc.length!==dc.length&&ec(Wb,dc.length);const Db=qb.scopedAllocPush();try{for(const rc in lc)lc[rc]=
hc.convertArgNoCheck(Jc[rc],lc[rc],lc,rc);return hc.convertResultNoCheck(Bc,dc.apply(null,lc))}finally{qb.scopedAllocPop(Db)}}};const ob=function(Wb,Bc,Jc,vc,dc,hc){if("string"===typeof Jc){if(1===Bc)return hc.get(Jc);if(2===Bc){if(vc)vc instanceof Function||Yb(dc,"requires a function argument.");else return delete hc[Jc],Wb;hc.set(Jc,vc);return Wb}}Yb("Invalid arguments to",dc)};qb.xWrap.resultAdapter=function vc(Bc,Jc){return ob(vc,arguments.length,Bc,Jc,"resultAdapter()",Cc)};qb.xWrap.argAdapter=
function dc(Jc,vc){return ob(dc,arguments.length,Jc,vc,"argAdapter()",xc)};qb.xWrap.FuncPtrAdapter=xc.FuncPtrAdapter;qb.xCallWrapped=function(Jc,vc,dc,...hc){Array.isArray(arguments[3])&&(hc=arguments[3]);return qb.xWrap(Jc,vc,dc||[]).apply(null,hc||[])};qb.xWrap.testConvertArg=Kb.xWrap.convertArg;qb.xWrap.testConvertResult=Kb.xWrap.convertResult;return qb};globalThis.WhWasmUtilInstaller.yawl=function(qb){const Yb=this,cc=function(yb){if(qb.wasmUtilTarget){const Kb=(...ib)=>{throw Error(ib.join(" "));
},Bb=qb.wasmUtilTarget;Bb.module=yb.module;Bb.instance=yb.instance;Bb.instance.exports.memory||(Bb.memory=qb.imports&&qb.imports.env&&qb.imports.env.memory||Kb("Missing 'memory' object!"));if(!Bb.alloc&&yb.instance.exports.malloc){const ib=yb.instance.exports;Bb.alloc=function(ub){return ib.malloc(ub)||Kb("Allocation of",ub,"bytes failed.")};Bb.dealloc=function(ub){ib.free(ub)}}Yb(Bb)}if(qb.onload)qb.onload(yb,qb);return yb};return WebAssembly.instantiateStreaming?function(){return WebAssembly.instantiateStreaming(fetch(qb.uri,
{credentials:"same-origin"}),qb.imports||{}).then(cc)}:function(){return fetch(qb.uri,{credentials:"same-origin"}).then(yb=>yb.arrayBuffer()).then(yb=>WebAssembly.instantiate(yb,qb.imports||{})).then(cc)}}.bind(globalThis.WhWasmUtilInstaller);"use strict";globalThis.Jaccwabyt=function cc(Yb){const yb=(...ab)=>{throw Error(ab.join(" "));};Yb.heap instanceof WebAssembly.Memory||Yb.heap instanceof Function||yb("config.heap must be WebAssembly.Memory instance or a function.");["alloc","dealloc"].forEach(function(ab){Yb[ab]instanceof
Function||yb("Config option '"+ab+"' must be a function.")});const Kb=Yb.heap instanceof Function?Yb.heap:()=>new Uint8Array(Yb.heap.buffer),Bb=Yb.alloc,ib=Yb.dealloc,ub=Yb.log||console.log.bind(console),wb=Yb.memberPrefix||"",eb=Yb.memberSuffix||"",pb=void 0===Yb.bigIntEnabled?!!globalThis.BigInt64Array:!!Yb.bigIntEnabled,Gb=globalThis.BigInt;var ec=globalThis.BigInt64Array;const xc=Yb.ptrSizeof||4,Cc=Yb.ptrIR||"i32";cc.debugFlags||(cc.__makeDebugFlags=function(ab=null){ab&&ab.__flags&&(ab=ab.__flags);
const Qa=function Kc(zb){if(0===arguments.length)return Kc.__flags;0>zb?(delete Kc.__flags.getter,delete Kc.__flags.setter,delete Kc.__flags.alloc,delete Kc.__flags.dealloc):(Kc.__flags.getter=0!==(1&zb),Kc.__flags.setter=0!==(2&zb),Kc.__flags.alloc=0!==(4&zb),Kc.__flags.dealloc=0!==(8&zb));return Kc._flags};Object.defineProperty(Qa,"__flags",{iterable:!1,writable:!1,value:Object.create(ab)});ab||Qa(0);return Qa},cc.debugFlags=cc.__makeDebugFlags());const ic=function(){const ab=new ArrayBuffer(2);
(new DataView(ab)).setInt16(0,256,!0);return 256===(new Int16Array(ab))[0]}(),Nc=ab=>"("===ab[1]?"p":ab[0],Lc=function(ab){switch(Nc(ab)){case "c":case "C":return"i8";case "i":return"i32";case "p":case "P":case "s":return Cc;case "j":return"i64";case "f":return"float";case "d":return"double"}yb("Unhandled signature IR:",ab)},od=ec?()=>!0:()=>yb("BigInt64Array is not available."),pd=function(ab){switch(Nc(ab)){case "p":case "P":case "s":switch(xc){case 4:return"getInt32";case 8:return od()&&"getBigInt64"}break;
case "i":return"getInt32";case "c":return"getInt8";case "C":return"getUint8";case "j":return od()&&"getBigInt64";case "f":return"getFloat32";case "d":return"getFloat64"}yb("Unhandled DataView getter for signature:",ab)},Pc=function(ab){switch(Nc(ab)){case "p":case "P":case "s":switch(xc){case 4:return"setInt32";case 8:return od()&&"setBigInt64"}break;case "i":return"setInt32";case "c":return"setInt8";case "C":return"setUint8";case "j":return od()&&"setBigInt64";case "f":return"setFloat32";case "d":return"setFloat64"}yb("Unhandled DataView setter for signature:",
ab)},ob=function(ab){switch(Nc(ab)){case "i":case "f":case "c":case "C":case "d":return Number;case "j":return od()&&Gb;case "p":case "P":case "s":switch(xc){case 4:return Number;case 8:return od()&&Gb}}yb("Unhandled DataView set wrapper for signature:",ab)},pc=function(ab,Qa){return()=>yb(ab+"::"+Qa,"is read-only.")},Wb=new WeakMap,Bc=function(ab,Qa,mb){mb||=Wb.get(Qa);if(mb){Wb.delete(Qa);if(Array.isArray(Qa.ondispose)){let zb;for(;zb=Qa.ondispose.shift();)try{zb instanceof Function?zb.call(Qa):
zb instanceof Ub?zb.dispose():"number"===typeof zb&&ib(zb)}catch(Kc){console.warn("ondispose() for",ab.structName,"@",mb,"threw. NOT propagating it.",Kc)}}else if(Qa.ondispose instanceof Function)try{Qa.ondispose()}catch(zb){console.warn("ondispose() for",ab.structName,"@",mb,"threw. NOT propagating it.",zb)}delete Qa.ondispose;ab.debugFlags.__flags.dealloc&&ub("debug.dealloc:",Qa["(pointer-is-external)"]?"EXTERNAL":"",ab.structName,"instance:",ab.structInfo.sizeof,"bytes @"+mb);Qa["(pointer-is-external)"]||
ib(mb)}},Jc=ab=>({configurable:!1,writable:!1,iterable:!1,value:ab}),vc=function(ab,Qa,mb){let zb=!mb;mb?Object.defineProperty(Qa,"(pointer-is-external)",Jc(mb)):(mb=Bb(ab.structInfo.sizeof))||yb("Allocation of",ab.structName,"structure failed.");try{ab.debugFlags.__flags.alloc&&ub("debug.alloc:",zb?"":"EXTERNAL",ab.structName,"instance:",ab.structInfo.sizeof,"bytes @"+mb),zb&&Kb().fill(0,mb,mb+ab.structInfo.sizeof),Wb.set(Qa,mb)}catch(Kc){throw Bc(ab,Qa,mb),Kc;}},dc=Jc(ab=>wb+ab+eb),hc=function(ab,
Qa,mb=!0){let zb=ab.members[Qa];if(!zb&&(wb||eb)){for(const Kc of Object.values(ab.members))if(Kc.key===Qa){zb=Kc;break}!zb&&mb&&yb(ab.name+"::"+Qa,"is not a mapped struct member.")}return zb},lc=function Kc(Qa,mb,zb=!1){Kc._||(Kc._=bd=>bd.replace(/[^vipPsjrdcC]/g,"").replace(/[pPscC]/g,"i"));Qa=hc(Qa.structInfo,mb,!0);return zb?Kc._(Qa.signature):Qa.signature},Db=Jc(function(){const Qa=[];for(const mb of Object.keys(this.structInfo.members))Qa.push(this.memberKey(mb));return Qa}),rc=new TextDecoder("utf-8"),
Tb=new TextEncoder,kb="undefined"===typeof SharedArrayBuffer?function(){}:SharedArrayBuffer,sb=function(Qa,mb,zb=!1){return(Qa=hc(Qa.structInfo,mb,zb))&&1===Qa.signature.length&&"s"===Qa.signature[0]?Qa:!1},Oa=function(Qa){"s"!==Qa.signature&&yb("Invalid member type signature for C-string value:",JSON.stringify(Qa))},Ab=function(Qa,...mb){Qa.ondispose?Array.isArray(Qa.ondispose)||(Qa.ondispose=[Qa.ondispose]):Qa.ondispose=[];Qa.ondispose.push(...mb)},Cb=function(Qa){const mb=Tb.encode(Qa),zb=Bb(mb.length+
1);zb||yb("Allocation error while duplicating string:",Qa);Qa=Kb();Qa.set(mb,zb);Qa[zb+mb.length]=0;return zb},Ub=function(Qa,mb,zb){zb!==Jc&&yb("Do not call the StructType constructor","from client-level code.");Object.defineProperties(this,{structName:Jc(Qa),structInfo:Jc(mb)})};Ub.prototype=Object.create(null,{dispose:Jc(function(){Bc(this.constructor,this)}),lookupMember:Jc(function(Qa,mb=!0){return hc(this.structInfo,Qa,mb)}),memberToJsString:Jc(function(Qa){Qa=hc(this.structInfo,Qa,!0);Oa(Qa);
var mb=this[Qa.key];if(mb){var zb=mb;for(Qa=Kb();0!==Qa[zb];++zb);Qa=mb===zb?"":rc.decode(Qa.buffer instanceof kb?Qa.slice(mb,zb):Qa.subarray(mb,zb))}else Qa=null;return Qa}),memberIsString:Jc(function(Qa,mb=!0){return sb(this,Qa,mb)}),memberKey:dc,memberKeys:Db,memberSignature:Jc(function(Qa,mb=!1){return lc(this,Qa,mb)}),memoryDump:Jc(function(){const Qa=this.pointer;return Qa?new Uint8Array(Kb().slice(Qa,Qa+this.structInfo.sizeof)):null}),pointer:{configurable:!1,enumerable:!1,get:function(){return Wb.get(this)},
set:()=>yb("Cannot assign the 'pointer' property of a struct.")},setMemberCString:Jc(function(Qa,mb){Qa=hc(this.structInfo,Qa,!0);Oa(Qa);mb=Cb(mb);this[Qa.key]=mb;Ab(this,mb);return this})});Object.assign(Ub.prototype,{addOnDispose:function(...Qa){Ab(this,...Qa);return this}});Object.defineProperties(Ub,{allocCString:Jc(Cb),isA:Jc(Qa=>Qa instanceof Ub),hasExternalPointer:Jc(Qa=>Qa instanceof Ub&&!!Qa["(pointer-is-external)"]),memberKey:dc});const zc=Qa=>Number.isFinite(Qa)||Qa instanceof(Gb||Number),
Za=function bd(mb,zb,Kc){if(!bd._){bd._={getters:{},setters:{},sw:{}};var ld="i c C p P s f d v()".split(" ");pb&&ld.push("j");ld.forEach(function(nc){bd._.getters[nc]=pd(nc);bd._.setters[nc]=Pc(nc);bd._.sw[nc]=ob(nc)});const vd=/^[ipPsjfdcC]$/,Ob=/^[vipPsjfdcC]\([ipPsjfdcC]*\)$/;bd.sigCheck=function(nc,Mc,cb,sa){Object.prototype.hasOwnProperty.call(nc,cb)&&yb(nc.structName,"already has a property named",cb+".");vd.test(sa)||Ob.test(sa)||yb("Malformed signature for",nc.structName+"::"+Mc+":",sa)}}ld=
mb.memberKey(zb);bd.sigCheck(mb.prototype,zb,ld,Kc.signature);Kc.key=ld;Kc.name=zb;const Hd=Nc(Kc.signature),Ud=mb.prototype.structName+"::"+ld,Sd=mb.prototype.debugFlags.__flags;zb=Object.create(null);zb.configurable=!1;zb.enumerable=!1;zb.get=function(){Sd.getter&&ub("debug.getter:",bd._.getters[Hd],"for",Lc(Hd),Ud,"@",this.pointer,"+",Kc.offset,"sz",Kc.sizeof);let vd=(new DataView(Kb().buffer,this.pointer+Kc.offset,Kc.sizeof))[bd._.getters[Hd]](0,ic);Sd.getter&&ub("debug.getter:",Ud,"result \x3d",
vd);return vd};zb.set=Kc.readOnly?pc(mb.prototype.structName,ld):function(vd){Sd.setter&&ub("debug.setter:",bd._.setters[Hd],"for",Lc(Hd),Ud,"@",this.pointer,"+",Kc.offset,"sz",Kc.sizeof,vd);this.pointer||yb("Cannot set struct property on disposed instance.");if(null===vd)vd=0;else for(;!zc(vd);){if("P"===Kc.signature&&vd instanceof Ub){vd=vd.pointer||0;Sd.setter&&ub("debug.setter:",Ud,"resolved to",vd);break}yb("Invalid value for pointer-type",Ud+".")}(new DataView(Kb().buffer,this.pointer+Kc.offset,
Kc.sizeof))[bd._.setters[Hd]](0,bd._.sw[Hd](vd),ic)};Object.defineProperty(mb.prototype,ld,zb)};ec=function bd(zb,Kc){1===arguments.length?(Kc=zb,zb=Kc.name):Kc.name||(Kc.name=zb);zb||yb("Struct name is required.");let ld=!1;Object.keys(Kc.members).forEach(Sd=>{const vd=Kc.members[Sd];vd.sizeof?1===vd.sizeof?"c"===vd.signature||"C"===vd.signature||yb("Unexpected sizeof\x3d\x3d1 member",Kc.name+"::"+Sd,"with signature",vd.signature):(0!==vd.sizeof%4&&(console.warn("Invalid struct member description \x3d",
vd,"from",Kc),yb(zb,"member",Sd,"sizeof is not aligned. sizeof\x3d"+vd.sizeof)),0!==vd.offset%4&&(console.warn("Invalid struct member description \x3d",vd,"from",Kc),yb(zb,"member",Sd,"offset is not aligned. offset\x3d"+vd.offset))):yb(zb,"member",Sd,"is missing sizeof.");if(!ld||ld.offset<vd.offset)ld=vd});ld?Kc.sizeof<ld.offset+ld.sizeof&&yb("Invalid struct config:",zb,"max member offset ("+ld.offset+") ","extends past end of struct (sizeof\x3d"+Kc.sizeof+")."):yb("No member property descriptions found.");
const Hd=Jc(cc.__makeDebugFlags(bd.debugFlags)),Ud=function Ob(vd){this instanceof Ob?arguments.length?((vd!==(vd|0)||0>=vd)&&yb("Invalid pointer value for",zb,"constructor."),vc(Ob,this,vd)):vc(Ob,this):yb("The",zb,"constructor may only be called via 'new'.")};Object.defineProperties(Ud,{debugFlags:Hd,isA:Jc(vd=>vd instanceof Ud),memberKey:dc,memberKeys:Db,methodInfoForKey:Jc(function(vd){}),structInfo:Jc(Kc),structName:Jc(zb)});Ud.prototype=new Ub(zb,Kc,Jc);Object.defineProperties(Ud.prototype,
{debugFlags:Hd,constructor:Jc(Ud)});Object.keys(Kc.members).forEach(vd=>Za(Ud,vd,Kc.members[vd]));return Ud};ec.StructType=Ub;ec.config=Yb;ec.allocCString=Cb;ec.debugFlags||(ec.debugFlags=cc.__makeDebugFlags(cc.debugFlags));return ec};globalThis.sqlite3ApiBootstrap.initializers.push(function(Yb){const cc=(...lc)=>{throw Error(lc.join(" "));},yb=Yb.capi,Kb=Yb.wasm,Bb=Yb.util;globalThis.WhWasmUtilInstaller(Kb);delete globalThis.WhWasmUtilInstaller;Kb.bindingSignatures=[["sqlite3_aggregate_context",
"void*","sqlite3_context*","int"],["sqlite3_bind_double","int","sqlite3_stmt*","int","f64"],["sqlite3_bind_int","int","sqlite3_stmt*","int","int"],["sqlite3_bind_null",void 0,"sqlite3_stmt*","int"],["sqlite3_bind_parameter_count","int","sqlite3_stmt*"],["sqlite3_bind_parameter_index","int","sqlite3_stmt*","string"],"sqlite3_bind_pointer int sqlite3_stmt* int * string:static *".split(" "),["sqlite3_busy_handler","int",["sqlite3*",new Kb.xWrap.FuncPtrAdapter({signature:"i(pi)",contextKey:(lc,Db)=>lc[0]}),
"*"]],["sqlite3_busy_timeout","int","sqlite3*","int"],["sqlite3_changes","int","sqlite3*"],["sqlite3_clear_bindings","int","sqlite3_stmt*"],["sqlite3_collation_needed","int","sqlite3*","*","*"],["sqlite3_column_blob","*","sqlite3_stmt*","int"],["sqlite3_column_bytes","int","sqlite3_stmt*","int"],["sqlite3_column_count","int","sqlite3_stmt*"],["sqlite3_column_double","f64","sqlite3_stmt*","int"],["sqlite3_column_int","int","sqlite3_stmt*","int"],["sqlite3_column_name","string","sqlite3_stmt*","int"],
["sqlite3_column_text","string","sqlite3_stmt*","int"],["sqlite3_column_type","int","sqlite3_stmt*","int"],["sqlite3_column_value","sqlite3_value*","sqlite3_stmt*","int"],["sqlite3_commit_hook","void*",["sqlite3*",new Kb.xWrap.FuncPtrAdapter({name:"sqlite3_commit_hook",signature:"i(p)",contextKey:lc=>lc[0]}),"*"]],["sqlite3_compileoption_get","string","int"],["sqlite3_compileoption_used","int","string"],["sqlite3_complete","int","string:flexible"],["sqlite3_context_db_handle","sqlite3*","sqlite3_context*"],
["sqlite3_data_count","int","sqlite3_stmt*"],["sqlite3_db_filename","string","sqlite3*","string"],["sqlite3_db_handle","sqlite3*","sqlite3_stmt*"],["sqlite3_db_name","string","sqlite3*","int"],"sqlite3_db_status int sqlite3* int * * int".split(" "),["sqlite3_errcode","int","sqlite3*"],["sqlite3_errmsg","string","sqlite3*"],["sqlite3_error_offset","int","sqlite3*"],["sqlite3_errstr","string","int"],["sqlite3_exec","int",["sqlite3*","string:flexible",new Kb.xWrap.FuncPtrAdapter({signature:"i(pipp)",
bindScope:"transient",callProxy:lc=>{let Db;return(rc,Tb,kb,sb)=>{try{const Oa=Kb.cArgvToJs(Tb,kb);Db||=Kb.cArgvToJs(Tb,sb);return lc(Oa,Db)|0}catch(Oa){return Oa.resultCode||yb.SQLITE_ERROR}}}}),"*","**"]],["sqlite3_expanded_sql","string","sqlite3_stmt*"],["sqlite3_extended_errcode","int","sqlite3*"],["sqlite3_extended_result_codes","int","sqlite3*","int"],"sqlite3_file_control int sqlite3* string int *".split(" "),["sqlite3_finalize","int","sqlite3_stmt*"],["sqlite3_free",void 0,"*"],["sqlite3_get_auxdata",
"*","sqlite3_context*","int"],["sqlite3_initialize",void 0],["sqlite3_keyword_count","int"],["sqlite3_keyword_name","int",["int","**","*"]],["sqlite3_keyword_check","int",["string","int"]],["sqlite3_libversion","string"],["sqlite3_libversion_number","int"],["sqlite3_limit","int",["sqlite3*","int","int"]],["sqlite3_malloc","*","int"],["sqlite3_open","int","string","*"],"sqlite3_open_v2 int string * int string".split(" "),["sqlite3_progress_handler",void 0,["sqlite3*","int",new Kb.xWrap.FuncPtrAdapter({name:"xProgressHandler",
signature:"i(p)",bindScope:"context",contextKey:(lc,Db)=>lc[0]}),"*"]],["sqlite3_realloc","*","*","int"],["sqlite3_reset","int","sqlite3_stmt*"],["sqlite3_result_blob",void 0,"sqlite3_context*","*","int","*"],["sqlite3_result_double",void 0,"sqlite3_context*","f64"],["sqlite3_result_error",void 0,"sqlite3_context*","string","int"],["sqlite3_result_error_code",void 0,"sqlite3_context*","int"],["sqlite3_result_error_nomem",void 0,"sqlite3_context*"],["sqlite3_result_error_toobig",void 0,"sqlite3_context*"],
["sqlite3_result_int",void 0,"sqlite3_context*","int"],["sqlite3_result_null",void 0,"sqlite3_context*"],["sqlite3_result_pointer",void 0,"sqlite3_context*","*","string:static","*"],["sqlite3_result_subtype",void 0,"sqlite3_value*","int"],["sqlite3_result_text",void 0,"sqlite3_context*","string","int","*"],["sqlite3_result_zeroblob",void 0,"sqlite3_context*","int"],["sqlite3_rollback_hook","void*",["sqlite3*",new Kb.xWrap.FuncPtrAdapter({name:"sqlite3_rollback_hook",signature:"v(p)",contextKey:lc=>
lc[0]}),"*"]],["sqlite3_set_authorizer","int",["sqlite3*",new Kb.xWrap.FuncPtrAdapter({name:"sqlite3_set_authorizer::xAuth",signature:"i(pissss)",contextKey:(lc,Db)=>lc[0],callProxy:lc=>(Db,rc,Tb,kb,sb,Oa)=>{try{return Tb=Tb&&Kb.cstrToJs(Tb),kb=kb&&Kb.cstrToJs(kb),sb=sb&&Kb.cstrToJs(sb),Oa=Oa&&Kb.cstrToJs(Oa),lc(Db,rc,Tb,kb,sb,Oa)||0}catch(Ab){return Ab.resultCode||yb.SQLITE_ERROR}}}),"*"]],["sqlite3_set_auxdata",void 0,["sqlite3_context*","int","*",new Kb.xWrap.FuncPtrAdapter({name:"xDestroyAuxData",
signature:"v(*)",contextKey:(lc,Db)=>lc[0]})]],["sqlite3_shutdown",void 0],["sqlite3_sourceid","string"],["sqlite3_sql","string","sqlite3_stmt*"],"sqlite3_status int int * * int".split(" "),["sqlite3_step","int","sqlite3_stmt*"],["sqlite3_stmt_isexplain","int",["sqlite3_stmt*"]],["sqlite3_stmt_readonly","int",["sqlite3_stmt*"]],["sqlite3_stmt_status","int","sqlite3_stmt*","int","int"],["sqlite3_strglob","int","string","string"],["sqlite3_stricmp","int","string","string"],["sqlite3_strlike","int",
"string","string","int"],["sqlite3_strnicmp","int","string","string","int"],"sqlite3_table_column_metadata int sqlite3* string string string ** ** * * *".split(" "),["sqlite3_total_changes","int","sqlite3*"],["sqlite3_trace_v2","int",["sqlite3*","int",new Kb.xWrap.FuncPtrAdapter({name:"sqlite3_trace_v2::callback",signature:"i(ippp)",contextKey:(lc,Db)=>lc[0]}),"*"]],["sqlite3_txn_state","int",["sqlite3*","string"]],["sqlite3_uri_boolean","int","sqlite3_filename","string","int"],["sqlite3_uri_key",
"string","sqlite3_filename","int"],["sqlite3_uri_parameter","string","sqlite3_filename","string"],["sqlite3_user_data","void*","sqlite3_context*"],["sqlite3_value_blob","*","sqlite3_value*"],["sqlite3_value_bytes","int","sqlite3_value*"],["sqlite3_value_double","f64","sqlite3_value*"],["sqlite3_value_dup","sqlite3_value*","sqlite3_value*"],["sqlite3_value_free",void 0,"sqlite3_value*"],["sqlite3_value_frombind","int","sqlite3_value*"],["sqlite3_value_int","int","sqlite3_value*"],["sqlite3_value_nochange",
"int","sqlite3_value*"],["sqlite3_value_numeric_type","int","sqlite3_value*"],["sqlite3_value_pointer","*","sqlite3_value*","string:static"],["sqlite3_value_subtype","int","sqlite3_value*"],["sqlite3_value_text","string","sqlite3_value*"],["sqlite3_value_type","int","sqlite3_value*"],["sqlite3_vfs_find","*","string"],["sqlite3_vfs_register","int","sqlite3_vfs*","int"],["sqlite3_vfs_unregister","int","sqlite3_vfs*"]];Kb.exports.sqlite3_activate_see instanceof Function&&Kb.bindingSignatures.push(["sqlite3_key",
"int","sqlite3*","string","int"],"sqlite3_key_v2 int sqlite3* string * int".split(" "),["sqlite3_rekey","int","sqlite3*","string","int"],"sqlite3_rekey_v2 int sqlite3* string * int".split(" "),["sqlite3_activate_see",void 0,"string"]);Kb.bindingSignatures.int64=[["sqlite3_bind_int64","int",["sqlite3_stmt*","int","i64"]],["sqlite3_changes64","i64",["sqlite3*"]],["sqlite3_column_int64","i64",["sqlite3_stmt*","int"]],["sqlite3_create_module","int",["sqlite3*","string","sqlite3_module*","*"]],["sqlite3_create_module_v2",
"int",["sqlite3*","string","sqlite3_module*","*","*"]],["sqlite3_declare_vtab","int",["sqlite3*","string:flexible"]],"sqlite3_deserialize int sqlite3* string * i64 i64 int".split(" "),["sqlite3_drop_modules","int",["sqlite3*","**"]],["sqlite3_last_insert_rowid","i64",["sqlite3*"]],["sqlite3_malloc64","*","i64"],["sqlite3_msize","i64","*"],["sqlite3_overload_function","int",["sqlite3*","string","int"]],["sqlite3_preupdate_blobwrite","int","sqlite3*"],["sqlite3_preupdate_count","int","sqlite3*"],["sqlite3_preupdate_depth",
"int","sqlite3*"],["sqlite3_preupdate_hook","*",["sqlite3*",new Kb.xWrap.FuncPtrAdapter({name:"sqlite3_preupdate_hook",signature:"v(ppippjj)",contextKey:lc=>lc[0],callProxy:lc=>(Db,rc,Tb,kb,sb,Oa,Ab)=>{lc(Db,rc,Tb,Kb.cstrToJs(kb),Kb.cstrToJs(sb),Oa,Ab)}}),"*"]],["sqlite3_preupdate_new","int",["sqlite3*","int","**"]],["sqlite3_preupdate_old","int",["sqlite3*","int","**"]],["sqlite3_realloc64","*","*","i64"],["sqlite3_result_int64",void 0,"*","i64"],["sqlite3_result_zeroblob64","int","*","i64"],"sqlite3_serialize * sqlite3* string * int".split(" "),
["sqlite3_set_last_insert_rowid",void 0,["sqlite3*","i64"]],"sqlite3_status64 int int * * int".split(" "),["sqlite3_total_changes64","i64",["sqlite3*"]],["sqlite3_update_hook","*",["sqlite3*",new Kb.xWrap.FuncPtrAdapter({name:"sqlite3_update_hook",signature:"v(iippj)",contextKey:lc=>lc[0],callProxy:lc=>(Db,rc,Tb,kb,sb)=>{lc(Db,rc,Kb.cstrToJs(Tb),Kb.cstrToJs(kb),sb)}}),"*"]],["sqlite3_uri_int64","i64",["sqlite3_filename","string","i64"]],["sqlite3_value_int64","i64","sqlite3_value*"],["sqlite3_vtab_collation",
"string","sqlite3_index_info*","int"],["sqlite3_vtab_distinct","int","sqlite3_index_info*"],["sqlite3_vtab_in","int","sqlite3_index_info*","int","int"],["sqlite3_vtab_in_first","int","sqlite3_value*","**"],["sqlite3_vtab_in_next","int","sqlite3_value*","**"],["sqlite3_vtab_nochange","int","sqlite3_context*"],["sqlite3_vtab_on_conflict","int","sqlite3*"],["sqlite3_vtab_rhs_value","int","sqlite3_index_info*","int","**"]];if(Kb.bigIntEnabled&&Kb.exports.sqlite3changegroup_add){var ib={signature:"i(ps)",
callProxy:lc=>(Db,rc)=>{try{return lc(Db,Kb.cstrToJs(rc))|0}catch(Tb){return Tb.resultCode||yb.SQLITE_ERROR}}};Kb.bindingSignatures.int64.push(...[["sqlite3changegroup_add","int",["sqlite3_changegroup*","int","void*"]],["sqlite3changegroup_add_strm","int",["sqlite3_changegroup*",new Kb.xWrap.FuncPtrAdapter({name:"xInput",signature:"i(ppp)",bindScope:"transient"}),"void*"]],["sqlite3changegroup_delete",void 0,["sqlite3_changegroup*"]],["sqlite3changegroup_new","int",["**"]],["sqlite3changegroup_output",
"int",["sqlite3_changegroup*","int*","**"]],["sqlite3changegroup_output_strm","int",["sqlite3_changegroup*",new Kb.xWrap.FuncPtrAdapter({name:"xOutput",signature:"i(ppi)",bindScope:"transient"}),"void*"]],["sqlite3changeset_apply","int",["sqlite3*","int","void*",new Kb.xWrap.FuncPtrAdapter({name:"xFilter",bindScope:"transient",...ib}),new Kb.xWrap.FuncPtrAdapter({name:"xConflict",signature:"i(pip)",bindScope:"transient"}),"void*"]],["sqlite3changeset_apply_strm","int",["sqlite3*",new Kb.xWrap.FuncPtrAdapter({name:"xInput",
signature:"i(ppp)",bindScope:"transient"}),"void*",new Kb.xWrap.FuncPtrAdapter({name:"xFilter",bindScope:"transient",...ib}),new Kb.xWrap.FuncPtrAdapter({name:"xConflict",signature:"i(pip)",bindScope:"transient"}),"void*"]],["sqlite3changeset_apply_v2","int",["sqlite3*","int","void*",new Kb.xWrap.FuncPtrAdapter({name:"xFilter",bindScope:"transient",...ib}),new Kb.xWrap.FuncPtrAdapter({name:"xConflict",signature:"i(pip)",bindScope:"transient"}),"void*","**","int*","int"]],["sqlite3changeset_apply_v2_strm",
"int",["sqlite3*",new Kb.xWrap.FuncPtrAdapter({name:"xInput",signature:"i(ppp)",bindScope:"transient"}),"void*",new Kb.xWrap.FuncPtrAdapter({name:"xFilter",bindScope:"transient",...ib}),new Kb.xWrap.FuncPtrAdapter({name:"xConflict",signature:"i(pip)",bindScope:"transient"}),"void*","**","int*","int"]],["sqlite3changeset_concat","int","int void* int void* int* **".split(" ")],["sqlite3changeset_concat_strm","int",[new Kb.xWrap.FuncPtrAdapter({name:"xInputA",signature:"i(ppp)",bindScope:"transient"}),
"void*",new Kb.xWrap.FuncPtrAdapter({name:"xInputB",signature:"i(ppp)",bindScope:"transient"}),"void*",new Kb.xWrap.FuncPtrAdapter({name:"xOutput",signature:"i(ppi)",bindScope:"transient"}),"void*"]],["sqlite3changeset_conflict","int",["sqlite3_changeset_iter*","int","**"]],["sqlite3changeset_finalize","int",["sqlite3_changeset_iter*"]],["sqlite3changeset_fk_conflicts","int",["sqlite3_changeset_iter*","int*"]],["sqlite3changeset_invert","int",["int","void*","int*","**"]],["sqlite3changeset_invert_strm",
"int",[new Kb.xWrap.FuncPtrAdapter({name:"xInput",signature:"i(ppp)",bindScope:"transient"}),"void*",new Kb.xWrap.FuncPtrAdapter({name:"xOutput",signature:"i(ppi)",bindScope:"transient"}),"void*"]],["sqlite3changeset_new","int",["sqlite3_changeset_iter*","int","**"]],["sqlite3changeset_next","int",["sqlite3_changeset_iter*"]],["sqlite3changeset_old","int",["sqlite3_changeset_iter*","int","**"]],["sqlite3changeset_op","int",["sqlite3_changeset_iter*","**","int*","int*","int*"]],["sqlite3changeset_pk",
"int",["sqlite3_changeset_iter*","**","int*"]],["sqlite3changeset_start","int",["**","int","*"]],["sqlite3changeset_start_strm","int",["**",new Kb.xWrap.FuncPtrAdapter({name:"xInput",signature:"i(ppp)",bindScope:"transient"}),"void*"]],["sqlite3changeset_start_v2","int",["**","int","*","int"]],["sqlite3changeset_start_v2_strm","int",["**",new Kb.xWrap.FuncPtrAdapter({name:"xInput",signature:"i(ppp)",bindScope:"transient"}),"void*","int"]],["sqlite3session_attach","int",["sqlite3_session*","string"]],
["sqlite3session_changeset","int",["sqlite3_session*","int*","**"]],["sqlite3session_changeset_size","i64",["sqlite3_session*"]],["sqlite3session_changeset_strm","int",["sqlite3_session*",new Kb.xWrap.FuncPtrAdapter({name:"xOutput",signature:"i(ppp)",bindScope:"transient"}),"void*"]],["sqlite3session_config","int",["int","void*"]],["sqlite3session_create","int",["sqlite3*","string","**"]],["sqlite3session_diff","int",["sqlite3_session*","string","string","**"]],["sqlite3session_enable","int",["sqlite3_session*",
"int"]],["sqlite3session_indirect","int",["sqlite3_session*","int"]],["sqlite3session_isempty","int",["sqlite3_session*"]],["sqlite3session_memory_used","i64",["sqlite3_session*"]],["sqlite3session_object_config","int",["sqlite3_session*","int","void*"]],["sqlite3session_patchset","int",["sqlite3_session*","*","**"]],["sqlite3session_patchset_strm","int",["sqlite3_session*",new Kb.xWrap.FuncPtrAdapter({name:"xOutput",signature:"i(ppp)",bindScope:"transient"}),"void*"]],["sqlite3session_table_filter",
void 0,["sqlite3_session*",new Kb.xWrap.FuncPtrAdapter({name:"xFilter",...ib,contextKey:(lc,Db)=>lc[0]}),"*"]]])}Kb.bindingSignatures.wasm=[["sqlite3_wasm_db_reset","int","sqlite3*"],["sqlite3_wasm_db_vfs","sqlite3_vfs*","sqlite3*","string"],"sqlite3_wasm_vfs_create_file int sqlite3_vfs* string * int".split(" "),["sqlite3_wasm_posix_create_file","int","string","*","int"],["sqlite3_wasm_vfs_unlink","int","sqlite3_vfs*","string"]];Yb.StructBinder=globalThis.Jaccwabyt({heap:Kb.heap8u,alloc:Kb.alloc,
dealloc:Kb.dealloc,bigIntEnabled:Kb.bigIntEnabled,memberPrefix:"$"});delete globalThis.Jaccwabyt;const ub=Kb.xWrap.argAdapter("string");Kb.xWrap.argAdapter("string:flexible",lc=>ub(Bb.flexibleString(lc)));Kb.xWrap.argAdapter("string:static",function(lc){if(Kb.isPtr(lc))return lc;lc=""+lc;return this[lc]||(this[lc]=Kb.allocCString(lc))}.bind(Object.create(null)));const wb=Kb.xWrap.argAdapter("*"),eb=function(){};Kb.xWrap.argAdapter("sqlite3_filename",wb)("sqlite3_context*",wb)("sqlite3_value*",wb)("void*",
wb)("sqlite3_changegroup*",wb)("sqlite3_changeset_iter*",wb)("sqlite3_session*",wb)("sqlite3_stmt*",lc=>{var Db;return wb(lc instanceof((null===Yb||void 0===Yb?void 0:null===(Db=Yb.oo1)||void 0===Db?void 0:Db.Stmt)||eb)?lc.pointer:lc)})("sqlite3*",lc=>{var Db;return wb(lc instanceof((null===Yb||void 0===Yb?void 0:null===(Db=Yb.oo1)||void 0===Db?void 0:Db.DB)||eb)?lc.pointer:lc)})("sqlite3_index_info*",lc=>wb(lc instanceof(yb.sqlite3_index_info||eb)?lc.pointer:lc))("sqlite3_module*",lc=>wb(lc instanceof
(yb.sqlite3_module||eb)?lc.pointer:lc))("sqlite3_vfs*",lc=>"string"===typeof lc?yb.sqlite3_vfs_find(lc)||Yb.SQLite3Error.toss(yb.SQLITE_NOTFOUND,"Unknown sqlite3_vfs name:",lc):wb(lc instanceof(yb.sqlite3_vfs||eb)?lc.pointer:lc));ib=Kb.xWrap.resultAdapter("*");Kb.xWrap.resultAdapter("sqlite3*",ib)("sqlite3_context*",ib)("sqlite3_stmt*",ib)("sqlite3_value*",ib)("sqlite3_vfs*",ib)("void*",ib);0===Kb.exports.sqlite3_step.length&&(Kb.xWrap.doArgcCheck=!1,Yb.config.warn("Disabling sqlite3.wasm.xWrap.doArgcCheck due to environmental quirks."));
for(var pb of Kb.bindingSignatures)yb[pb[0]]=Kb.xWrap.apply(null,pb);for(const lc of Kb.bindingSignatures.wasm)Kb[lc[0]]=Kb.xWrap.apply(null,lc);pb=function(lc){return()=>cc(lc+"() is unavailable due to lack","of BigInt support in this build.")};for(var Gb of Kb.bindingSignatures.int64)yb[Gb[0]]=Kb.bigIntEnabled?Kb.xWrap.apply(null,Gb):pb(Gb[0]);delete Kb.bindingSignatures;if(Kb.exports.sqlite3_wasm_db_error){const lc=Kb.xWrap("sqlite3_wasm_db_error","int","sqlite3*","int","string");Bb.sqlite3_wasm_db_error=
function(Db,rc,Tb){rc instanceof Yb.WasmAllocError?(rc=yb.SQLITE_NOMEM,Tb=0):rc instanceof Error&&(Tb=Tb||""+rc,rc=rc.resultCode||yb.SQLITE_ERROR);return Db?lc(Db,rc,Tb):rc}}else Bb.sqlite3_wasm_db_error=function(lc,Db,rc){console.warn("sqlite3_wasm_db_error() is not exported.",arguments);return Db};(Gb=Kb.xCall("sqlite3_wasm_enum_json"))||cc("Maintenance required: increase sqlite3_wasm_enum_json()'s","static buffer size!");Kb.ctype=JSON.parse(Kb.cstrToJs(Gb));Gb="access authorizer blobFinalizers changeset config dataTypes dbConfig dbStatus encodings fcntl flock ioCap limits openFlags prepareFlags resultCodes sqlite3Status stmtStatus syncFlags trace txnState udfFlags version".split(" ");
Kb.bigIntEnabled&&Gb.push("serialize","session","vtab");for(var ec of Gb)for(const lc of Object.entries(Kb.ctype[ec]))yb[lc[0]]=lc[1];Kb.functionEntry(yb.SQLITE_WASM_DEALLOC)||cc("Internal error: cannot resolve exported function","entry SQLITE_WASM_DEALLOC (\x3d\x3d"+yb.SQLITE_WASM_DEALLOC+").");const xc=Object.create(null);for(const lc of["resultCodes"])for(const Db of Object.entries(Kb.ctype[lc]))xc[Db[1]]=Db[0];yb.sqlite3_js_rc_str=lc=>xc[lc];ec=Object.assign(Object.create(null),{WasmTestStruct:!0,
sqlite3_kvvfs_methods:!Bb.isUIThread(),sqlite3_index_info:!Kb.bigIntEnabled,sqlite3_index_constraint:!Kb.bigIntEnabled,sqlite3_index_orderby:!Kb.bigIntEnabled,sqlite3_index_constraint_usage:!Kb.bigIntEnabled});for(var Cc of Kb.ctype.structs)ec[Cc.name]||(yb[Cc.name]=Yb.StructBinder(Cc));if(yb.sqlite3_index_info){for(var ic of["sqlite3_index_constraint","sqlite3_index_orderby","sqlite3_index_constraint_usage"])yb.sqlite3_index_info[ic]=yb[ic],delete yb[ic];yb.sqlite3_vtab_config=Kb.xWrap("sqlite3_wasm_vtab_config",
"int",["sqlite3*","int","int"])}const Nc=(lc,Db,rc)=>Bb.sqlite3_wasm_db_error(lc,yb.SQLITE_MISUSE,Db+"() requires "+rc+" argument"+(1===rc?"":"s")+"."),Lc=lc=>Bb.sqlite3_wasm_db_error(lc,yb.SQLITE_FORMAT,"SQLITE_UTF8 is the only supported encoding."),od=lc=>Kb.xWrap.argAdapter("sqlite3*")(lc),pd=lc=>Kb.isPtr(lc)?Kb.cstrToJs(lc):lc,Pc=function(lc,Db){lc=od(lc);let rc=this.dbMap.get(lc);Db?!rc&&0<Db&&this.dbMap.set(lc,rc=Object.create(null)):this.dbMap.delete(lc);return rc}.bind(Object.assign(Object.create(null),
{dbMap:new Map}));Pc.addCollation=function(lc,Db){lc=Pc(lc,1);lc.collation||(lc.collation=new Set);lc.collation.add(pd(Db).toLowerCase())};Pc._addUDF=function(lc,Db,rc,Tb){Db=pd(Db).toLowerCase();(lc=Tb.get(Db))||Tb.set(Db,lc=new Set);lc.add(0>rc?-1:rc)};Pc.addFunction=function(lc,Db,rc){const Tb=Pc(lc,1);Tb.udf||(Tb.udf=new Map);this._addUDF(lc,Db,rc,Tb.udf)};Pc.addWindowFunc=function(lc,Db,rc){const Tb=Pc(lc,1);Tb.wudf||(Tb.wudf=new Map);this._addUDF(lc,Db,rc,Tb.wudf)};Pc.cleanup=function(lc){lc=
od(lc);var Db=[lc];for(var rc of"sqlite3_busy_handler sqlite3_commit_hook sqlite3_preupdate_hook sqlite3_progress_handler sqlite3_rollback_hook sqlite3_set_authorizer sqlite3_trace_v2 sqlite3_update_hook".split(" ")){Db.length=Kb.exports[rc].length;try{yb[rc](...Db)}catch(kb){console.warn("close-time call of",rc+"(",Db,") threw:",kb)}}if(Db=Pc(lc,0)){if(Db.collation){for(var Tb of Db.collation)try{yb.sqlite3_create_collation_v2(lc,Tb,yb.SQLITE_UTF8,0,0,0)}catch(kb){}delete Db.collation}for(Tb=0;2>
Tb;++Tb){rc=Tb?Db.wudf:Db.udf;if(!rc)continue;const kb=Tb?yb.sqlite3_create_window_function:yb.sqlite3_create_function_v2;for(const sb of rc){const Oa=sb[1],Ab=[lc,sb[0],0,yb.SQLITE_UTF8,0,0,0,0,0];Tb&&Ab.push(0);for(const Cb of Oa)try{Ab[2]=Cb,kb.apply(null,Ab)}catch(Ub){}Oa.clear()}rc.clear()}delete Db.udf;delete Db.wudf}};const ob=Kb.xWrap("sqlite3_close_v2","int","sqlite3*");yb.sqlite3_close_v2=function(lc){if(1!==arguments.length)return Nc(lc,"sqlite3_close_v2",1);if(lc)try{Pc.cleanup(lc)}catch(Db){}return ob(lc)};
if(yb.sqlite3session_table_filter){const lc=Kb.xWrap("sqlite3session_delete",void 0,["sqlite3_session*"]);yb.sqlite3session_delete=function(Db){if(1!==arguments.length)return Nc(pDb,"sqlite3session_delete",1);Db&&yb.sqlite3session_table_filter(Db,0,0);lc(Db)}}Cc=(lc,Db)=>"argv["+Db+"]:"+lc[0]+":"+Kb.cstrToJs(lc[1]).toLowerCase();const pc=Kb.xWrap("sqlite3_create_collation_v2","int",["sqlite3*","string","int","*",new Kb.xWrap.FuncPtrAdapter({name:"xCompare",signature:"i(pipip)",contextKey:Cc}),new Kb.xWrap.FuncPtrAdapter({name:"xDestroy",
signature:"v(p)",contextKey:Cc})]);yb.sqlite3_create_collation_v2=function(lc,Db,rc,Tb,kb,sb){if(6!==arguments.length)return Nc(lc,"sqlite3_create_collation_v2",6);if(0===(rc&15))rc|=yb.SQLITE_UTF8;else if(yb.SQLITE_UTF8!==(rc&15))return Lc(lc);try{const Oa=pc(lc,Db,rc,Tb,kb,sb);0===Oa&&kb instanceof Function&&Pc.addCollation(lc,Db);return Oa}catch(Oa){return Bb.sqlite3_wasm_db_error(lc,Oa)}};yb.sqlite3_create_collation=(lc,Db,rc,Tb,kb)=>5===arguments.length?yb.sqlite3_create_collation_v2(lc,Db,rc,
Tb,kb,0):Nc(lc,"sqlite3_create_collation",5);Cc=function(lc,Db){return lc[0]+":"+(0>lc[2]?-1:lc[2])+":"+Db+":"+Kb.cstrToJs(lc[1]).toLowerCase()};Cc=Object.assign(Object.create(null),{xInverseAndStep:{signature:"v(pip)",contextKey:Cc,callProxy:lc=>(Db,rc,Tb)=>{try{lc(Db,...yb.sqlite3_values_to_js(rc,Tb))}catch(kb){yb.sqlite3_result_error_js(Db,kb)}}},xFinalAndValue:{signature:"v(p)",contextKey:Cc,callProxy:lc=>Db=>{try{yb.sqlite3_result_js(Db,lc(Db))}catch(rc){yb.sqlite3_result_error_js(Db,rc)}}},
xFunc:{signature:"v(pip)",contextKey:Cc,callProxy:lc=>(Db,rc,Tb)=>{try{yb.sqlite3_result_js(Db,lc(Db,...yb.sqlite3_values_to_js(rc,Tb)))}catch(kb){yb.sqlite3_result_error_js(Db,kb)}}},xDestroy:{signature:"v(p)",contextKey:Cc,callProxy:lc=>Db=>{try{lc(Db)}catch(rc){console.error("UDF xDestroy method threw:",rc)}}}});const Wb=Kb.xWrap("sqlite3_create_function_v2","int",["sqlite3*","string","int","int","*",new Kb.xWrap.FuncPtrAdapter({name:"xFunc",...Cc.xFunc}),new Kb.xWrap.FuncPtrAdapter({name:"xStep",
...Cc.xInverseAndStep}),new Kb.xWrap.FuncPtrAdapter({name:"xFinal",...Cc.xFinalAndValue}),new Kb.xWrap.FuncPtrAdapter({name:"xDestroy",...Cc.xDestroy})]),Bc=Kb.xWrap("sqlite3_create_window_function","int",["sqlite3*","string","int","int","*",new Kb.xWrap.FuncPtrAdapter({name:"xStep",...Cc.xInverseAndStep}),new Kb.xWrap.FuncPtrAdapter({name:"xFinal",...Cc.xFinalAndValue}),new Kb.xWrap.FuncPtrAdapter({name:"xValue",...Cc.xFinalAndValue}),new Kb.xWrap.FuncPtrAdapter({name:"xInverse",...Cc.xInverseAndStep}),
new Kb.xWrap.FuncPtrAdapter({name:"xDestroy",...Cc.xDestroy})]);yb.sqlite3_create_function_v2=function zc(Db,rc,Tb,kb,sb,Oa,Ab,Cb,Ub){if(zc.length!==arguments.length)return Nc(Db,"sqlite3_create_function_v2",zc.length);if(0===(kb&15))kb|=yb.SQLITE_UTF8;else if(yb.SQLITE_UTF8!==(kb&15))return Lc(Db);try{const Za=Wb(Db,rc,Tb,kb,sb,Oa,Ab,Cb,Ub);0===Za&&(Oa instanceof Function||Ab instanceof Function||Cb instanceof Function||Ub instanceof Function)&&Pc.addFunction(Db,rc,Tb);return Za}catch(Za){return console.error("sqlite3_create_function_v2() setup threw:",
Za),Bb.sqlite3_wasm_db_error(Db,Za,"Creation of UDF threw: "+Za)}};yb.sqlite3_create_function=function zc(rc,Tb,kb,sb,Oa,Ab,Cb,Ub){return zc.length===arguments.length?yb.sqlite3_create_function_v2(rc,Tb,kb,sb,Oa,Ab,Cb,Ub,0):Nc(rc,"sqlite3_create_function",zc.length)};yb.sqlite3_create_window_function=function Qa(Tb,kb,sb,Oa,Ab,Cb,Ub,zc,Za,ab){if(Qa.length!==arguments.length)return Nc(Tb,"sqlite3_create_window_function",Qa.length);if(0===(Oa&15))Oa|=yb.SQLITE_UTF8;else if(yb.SQLITE_UTF8!==(Oa&15))return Lc(Tb);
try{const mb=Bc(Tb,kb,sb,Oa,Ab,Cb,Ub,zc,Za,ab);0===mb&&(Cb instanceof Function||Ub instanceof Function||zc instanceof Function||Za instanceof Function||ab instanceof Function)&&Pc.addWindowFunc(Tb,kb,sb);return mb}catch(mb){return console.error("sqlite3_create_window_function() setup threw:",mb),Bb.sqlite3_wasm_db_error(Tb,mb,"Creation of UDF threw: "+mb)}};yb.sqlite3_create_function_v2.udfSetResult=yb.sqlite3_create_function.udfSetResult=yb.sqlite3_create_window_function.udfSetResult=yb.sqlite3_result_js;
yb.sqlite3_create_function_v2.udfConvertArgs=yb.sqlite3_create_function.udfConvertArgs=yb.sqlite3_create_window_function.udfConvertArgs=yb.sqlite3_values_to_js;yb.sqlite3_create_function_v2.udfSetError=yb.sqlite3_create_function.udfSetError=yb.sqlite3_create_window_function.udfSetError=yb.sqlite3_result_error_js;const Jc={basic:Kb.xWrap("sqlite3_prepare_v3","int","sqlite3* string int int ** **".split(" ")),full:Kb.xWrap("sqlite3_prepare_v3","int","sqlite3* * int int ** **".split(" "))};yb.sqlite3_prepare_v3=
function zc(kb,sb,Oa,Ab,Cb,Ub){if(zc.length!==arguments.length)return Nc(kb,"sqlite3_prepare_v3",zc.length);var Za=sb,ab=Oa;"string"===typeof Za?ab=-1:Bb.isSQLableTypedArray(Za)?(ab=Za.byteLength,Za=Bb.typedArrayToString(Za instanceof ArrayBuffer?new Uint8Array(Za):Za)):Array.isArray(Za)&&(Za=Za.join(""),ab=-1);const [Qa,mb]=[Za,ab];switch(typeof Qa){case "string":return Jc.basic(kb,Qa,mb,Ab,Cb,null);case "number":return Jc.full(kb,Qa,mb,Ab,Cb,Ub);default:return Bb.sqlite3_wasm_db_error(kb,yb.SQLITE_MISUSE,
"Invalid SQL argument type for sqlite3_prepare_v2/v3().")}};yb.sqlite3_prepare_v2=function zc(sb,Oa,Ab,Cb,Ub){return zc.length===arguments.length?yb.sqlite3_prepare_v3(sb,Oa,Ab,0,Cb,Ub):Nc(sb,"sqlite3_prepare_v2",zc.length)};const vc=Kb.xWrap("sqlite3_bind_text","int",["sqlite3_stmt*","int","string","int","*"]),dc=Kb.xWrap("sqlite3_bind_blob","int",["sqlite3_stmt*","int","*","int","*"]);yb.sqlite3_bind_text=function Za(Oa,Ab,Cb,Ub,zc){if(Za.length!==arguments.length)return Nc(yb.sqlite3_db_handle(Oa),
"sqlite3_bind_text",Za.length);if(Kb.isPtr(Cb)||null===Cb)return vc(Oa,Ab,Cb,Ub,zc);Cb instanceof ArrayBuffer?Cb=new Uint8Array(Cb):Array.isArray(pMem)&&(Cb=pMem.join(""));let ab,Qa;try{if(Bb.isSQLableTypedArray(Cb))ab=Kb.allocFromTypedArray(Cb),Qa=Cb.byteLength;else if("string"===typeof Cb)[ab,Qa]=Kb.allocCString(Cb);else return Bb.sqlite3_wasm_db_error(yb.sqlite3_db_handle(Oa),yb.SQLITE_MISUSE,"Invalid 3rd argument type for sqlite3_bind_text().");return vc(Oa,Ab,ab,Qa,yb.SQLITE_WASM_DEALLOC)}catch(mb){return Kb.dealloc(ab),
Bb.sqlite3_wasm_db_error(yb.sqlite3_db_handle(Oa),mb)}};yb.sqlite3_bind_blob=function ab(Ab,Cb,Ub,zc,Za){if(ab.length!==arguments.length)return Nc(yb.sqlite3_db_handle(Ab),"sqlite3_bind_blob",ab.length);if(Kb.isPtr(Ub)||null===Ub)return dc(Ab,Cb,Ub,zc,Za);Ub instanceof ArrayBuffer?Ub=new Uint8Array(Ub):Array.isArray(Ub)&&(Ub=Ub.join(""));let Qa,mb;try{if(Bb.isBindableTypedArray(Ub))Qa=Kb.allocFromTypedArray(Ub),mb=0<=zc?zc:Ub.byteLength;else if("string"===typeof Ub)[Qa,mb]=Kb.allocCString(Ub);else return Bb.sqlite3_wasm_db_error(yb.sqlite3_db_handle(Ab),
yb.SQLITE_MISUSE,"Invalid 3rd argument type for sqlite3_bind_blob().");return dc(Ab,Cb,Qa,mb,yb.SQLITE_WASM_DEALLOC)}catch(zb){return Kb.dealloc(Qa),Bb.sqlite3_wasm_db_error(yb.sqlite3_db_handle(Ab),zb)}};yb.sqlite3_config=function(Ab,...Cb){if(2>arguments.length)return yb.SQLITE_MISUSE;switch(Ab){case yb.SQLITE_CONFIG_COVERING_INDEX_SCAN:case yb.SQLITE_CONFIG_MEMSTATUS:case yb.SQLITE_CONFIG_SMALL_MALLOC:case yb.SQLITE_CONFIG_SORTERREF_SIZE:case yb.SQLITE_CONFIG_STMTJRNL_SPILL:case yb.SQLITE_CONFIG_URI:return Kb.exports.sqlite3_wasm_config_i(Ab,
Cb[0]);case yb.SQLITE_CONFIG_LOOKASIDE:return Kb.exports.sqlite3_wasm_config_ii(Ab,Cb[0],Cb[1]);case yb.SQLITE_CONFIG_MEMDB_MAXSIZE:return Kb.exports.sqlite3_wasm_config_j(Ab,Cb[0]);default:return yb.SQLITE_NOTFOUND}};const hc=new Set;yb.sqlite3_auto_extension=function(Ab){if(Ab instanceof Function)Ab=Kb.installFunction("i(ppp)",Ab);else if(1!==arguments.length||!Kb.isPtr(Ab))return yb.SQLITE_MISUSE;const Cb=Kb.exports.sqlite3_auto_extension(Ab);Ab!==arguments[0]&&(0===Cb?hc.add(Ab):Kb.uninstallFunction(Ab));
return Cb};yb.sqlite3_cancel_auto_extension=function(Ab){return Ab&&1===arguments.length&&Kb.isPtr(Ab)?Kb.exports.sqlite3_cancel_auto_extension(Ab):0};yb.sqlite3_reset_auto_extension=function(){Kb.exports.sqlite3_reset_auto_extension();for(const Ab of hc)Kb.uninstallFunction(Ab);hc.clear()};if(Cc=yb.sqlite3_vfs_find("kvvfs"))if(Bb.isUIThread()){Cc=new yb.sqlite3_kvvfs_methods(Kb.exports.sqlite3_wasm_kvvfs_methods());delete yb.sqlite3_kvvfs_methods;const Ab=Kb.exports.sqlite3_wasm_kvvfsMakeKeyOnPstack,
Cb=Kb.pstack;ic={xRead:(Ub,zc,Za,ab)=>{const Qa=Cb.pointer,mb=Kb.scopedAllocPush();try{const zb=Ab(Ub,zc);if(!zb)return-3;const Kc=Kb.cstrToJs(zb),bd=(115===Kb.peek(Ub)?sessionStorage:localStorage).getItem(Kc);if(!bd)return-1;const ld=bd.length;if(0>=ab)return ld;if(1===ab)return Kb.poke(Za,0),ld;const Hd=Kb.scopedAllocCString(bd);ab>ld+1&&(ab=ld+1);Kb.heap8u().copyWithin(Za,Hd,Hd+ab-1);Kb.poke(Za+ab-1,0);return ab-1}catch(zb){return console.error("kvstorageRead()",zb),-2}finally{Cb.restore(Qa),Kb.scopedAllocPop(mb)}},
xWrite:(Ub,zc,Za)=>{const ab=Cb.pointer;try{const Qa=Ab(Ub,zc);if(!Qa)return 1;const mb=Kb.cstrToJs(Qa);(115===Kb.peek(Ub)?sessionStorage:localStorage).setItem(mb,Kb.cstrToJs(Za));return 0}catch(Qa){return console.error("kvstorageWrite()",Qa),yb.SQLITE_IOERR}finally{Cb.restore(ab)}},xDelete:(Ub,zc)=>{const Za=Cb.pointer;try{const ab=Ab(Ub,zc);if(!ab)return 1;(115===Kb.peek(Ub)?sessionStorage:localStorage).removeItem(Kb.cstrToJs(ab));return 0}catch(ab){return console.error("kvstorageDelete()",ab),
yb.SQLITE_IOERR}finally{Cb.restore(Za)}}};for(const Ub of Object.keys(ic))Cc[Cc.memberKey(Ub)]=Kb.installFunction(Cc.memberSignature(Ub),ic[Ub])}else yb.sqlite3_vfs_unregister(Cc);Kb.xWrap.FuncPtrAdapter.warnOnUse=!0});globalThis.sqlite3ApiBootstrap.initializers.push(function(Yb){Yb.version={libVersion:"3.44.2",libVersionNumber:3044002,sourceId:"2023-11-24 11:41:44 ebead0e7230cd33bcec9f95d2183069565b9e709bf745c9b5db65cc0cbf92c0f",downloadVersion:3440200}});globalThis.sqlite3ApiBootstrap.initializers.push(function(Yb){const cc=
(...vc)=>{throw new Yb.SQLite3Error(...vc);},yb=Yb.capi,Kb=Yb.wasm,Bb=Yb.util,ib=new WeakMap,ub=new WeakMap,wb=(vc,dc,hc)=>(vc=Object.getOwnPropertyDescriptor(vc,dc))?vc.value:hc,eb=function(vc,dc){dc&&(vc instanceof xc&&(vc=vc.pointer),cc(dc,"sqlite3 result code",dc+":",vc?yb.sqlite3_errmsg(vc):yb.sqlite3_errstr(dc)));return vc},pb=Kb.installFunction("i(ippp)",function(vc,dc,hc,lc){yb.SQLITE_TRACE_STMT===vc&&console.log("SQL TRACE #"+ ++this.counter+" via sqlite3@"+dc+":",Kb.cstrToJs(lc))}.bind({counter:0})),
Gb=Object.create(null),ec=function hc(...dc){if(!hc._name2vfs){hc._name2vfs=Object.create(null);var lc="function"===typeof importScripts?Oa=>cc("The VFS for",Oa,"is only available in the main window thread."):!1;hc._name2vfs[":localStorage:"]={vfs:"kvvfs",filename:lc||(()=>"local")};hc._name2vfs[":sessionStorage:"]={vfs:"kvvfs",filename:lc||(()=>"session")}}var Db=hc.normalizeArgs(...dc);dc=Db.filename;lc=Db.vfs;let rc=Db.flags;if("string"!==typeof dc&&"number"!==typeof dc||"string"!==typeof rc||
lc&&"string"!==typeof lc&&"number"!==typeof lc)Yb.config.error("Invalid DB ctor args",Db,arguments),cc("Invalid arguments for DB constructor.");Db="number"===typeof dc?Kb.cstrToJs(dc):dc;var Tb=hc._name2vfs[Db];Tb&&(lc=Tb.vfs,dc=Db=Tb.filename(Db));let kb;Tb=0;0<=rc.indexOf("c")&&(Tb|=yb.SQLITE_OPEN_CREATE|yb.SQLITE_OPEN_READWRITE);0<=rc.indexOf("w")&&(Tb|=yb.SQLITE_OPEN_READWRITE);0===Tb&&(Tb|=yb.SQLITE_OPEN_READONLY);Tb|=yb.SQLITE_OPEN_EXRESCODE;const sb=Kb.pstack.pointer;try{const Oa=Kb.pstack.allocPtr();
let Ab=yb.sqlite3_open_v2(dc,Oa,Tb,lc||0);kb=Kb.peekPtr(Oa);eb(kb,Ab);yb.sqlite3_extended_result_codes(kb,1);0<=rc.indexOf("t")&&yb.sqlite3_trace_v2(kb,yb.SQLITE_TRACE_STMT,pb,kb)}catch(Oa){throw kb&&yb.sqlite3_close_v2(kb),Oa;}finally{Kb.pstack.restore(sb)}this.filename=Db;ib.set(this,kb);ub.set(this,Object.create(null));try{const Oa=yb.sqlite3_js_db_vfs(kb);Oa||cc("Internal error: cannot get VFS for new db handle.");const Ab=Gb[Oa];Ab instanceof Function?Ab(this,Yb):Ab&&eb(kb,yb.sqlite3_exec(kb,
Ab,0,0,0))}catch(Oa){throw this.close(),Oa;}};ec.setVfsPostOpenSql=function(dc,hc){Gb[dc]=hc};ec.normalizeArgs=function(dc=":memory:",hc="c",lc=null){const Db={};1===arguments.length&&arguments[0]&&"object"===typeof arguments[0]?(Object.assign(Db,arguments[0]),void 0===Db.flags&&(Db.flags="c"),void 0===Db.vfs&&(Db.vfs=null),void 0===Db.filename&&(Db.filename=":memory:")):(Db.filename=dc,Db.flags=hc,Db.vfs=lc);return Db};const xc=function(...dc){ec.apply(this,dc)};xc.dbCtorHelper=ec;const Cc={null:1,
number:2,string:3,boolean:4,blob:5};Cc.undefined==Cc.null;Kb.bigIntEnabled&&(Cc.bigint=Cc.number);const ic=function(dc,hc,lc){Cc!==lc&&cc(yb.SQLITE_MISUSE,"Do not call the Stmt constructor directly. Use DB.prepare().");this.db=dc;ib.set(this,hc);this.parameterCount=yb.sqlite3_bind_parameter_count(this.pointer)},Nc=function(dc){dc.pointer||cc("DB has been closed.");return dc},Lc=function(dc,hc){(hc!==(hc|0)||0>hc||hc>=dc.columnCount)&&cc("Column index",hc,"is out of range.");return dc},od=function(dc,
hc){const lc=Object.create(null);lc.opt=Object.create(null);switch(hc.length){case 1:"string"===typeof hc[0]||Bb.isSQLableTypedArray(hc[0])?lc.sql=hc[0]:Array.isArray(hc[0])?lc.sql=hc[0]:hc[0]&&"object"===typeof hc[0]&&(lc.opt=hc[0],lc.sql=lc.opt.sql);break;case 2:lc.sql=hc[0];lc.opt=hc[1];break;default:cc("Invalid argument count for exec().")}lc.sql=Bb.flexibleString(lc.sql);"string"!==typeof lc.sql&&cc("Missing SQL argument or unsupported SQL value type.");const Db=lc.opt;switch(Db.returnValue){case "resultRows":Db.resultRows||
(Db.resultRows=[]);lc.returnVal=()=>Db.resultRows;break;case "saveSql":Db.saveSql||(Db.saveSql=[]);lc.returnVal=()=>Db.saveSql;break;case void 0:case "this":lc.returnVal=()=>dc;break;default:cc("Invalid returnValue value:",Db.returnValue)}Db.callback||Db.returnValue||void 0===Db.rowMode||(Db.resultRows||(Db.resultRows=[]),lc.returnVal=()=>Db.resultRows);if(Db.callback||Db.resultRows)switch(void 0===Db.rowMode?"array":Db.rowMode){case "object":lc.cbArg=rc=>rc.get(Object.create(null));break;case "array":lc.cbArg=
rc=>rc.get([]);break;case "stmt":Array.isArray(Db.resultRows)&&cc("exec(): invalid rowMode for a resultRows array: must","be one of 'array', 'object',","a result column number, or column name reference.");lc.cbArg=rc=>rc;break;default:if(Bb.isInt32(Db.rowMode))lc.cbArg=rc=>rc.get(Db.rowMode);else if("string"===typeof Db.rowMode&&1<Db.rowMode.length&&"$"===Db.rowMode[0]){const rc=Db.rowMode.substr(1);lc.cbArg=Tb=>{Tb=Tb.get(Object.create(null))[rc];return void 0===Tb?cc(yb.SQLITE_NOTFOUND,"exec(): unknown result column:",
rc):Tb}}else cc("Invalid rowMode:",Db.rowMode)}return lc},pd=(dc,hc,lc,...Db)=>{dc=dc.prepare(hc);try{const rc=dc.bind(lc).step()?dc.get(...Db):void 0;dc.reset();return rc}finally{dc.finalize()}};xc.checkRc=(dc,hc)=>eb(dc,hc);xc.prototype={isOpen:function(){return!!this.pointer},affirmOpen:function(){return Nc(this)},close:function(){if(this.pointer){if(this.onclose&&this.onclose.before instanceof Function)try{this.onclose.before(this)}catch(hc){}const dc=this.pointer;Object.keys(ub.get(this)).forEach((hc,
lc)=>{if(lc&&lc.pointer)try{lc.finalize()}catch(Db){}});ib.delete(this);ub.delete(this);yb.sqlite3_close_v2(dc);if(this.onclose&&this.onclose.after instanceof Function)try{this.onclose.after(this)}catch(hc){}delete this.filename}},changes:function(dc=!1,hc=!1){const lc=Nc(this).pointer;return dc?hc?yb.sqlite3_total_changes64(lc):yb.sqlite3_total_changes(lc):hc?yb.sqlite3_changes64(lc):yb.sqlite3_changes(lc)},dbFilename:function(dc="main"){return yb.sqlite3_db_filename(Nc(this).pointer,dc)},dbName:function(dc=
0){return yb.sqlite3_db_name(Nc(this).pointer,dc)},dbVfsName:function(dc=0){let hc;if(dc=yb.sqlite3_js_db_vfs(Nc(this).pointer,dc)){dc=new yb.sqlite3_vfs(dc);try{hc=Kb.cstrToJs(dc.$zName)}finally{dc.dispose()}}return hc},prepare:function(dc){Nc(this);const hc=Kb.pstack.pointer;let lc,Db;try{lc=Kb.pstack.alloc(8),xc.checkRc(this,yb.sqlite3_prepare_v2(this.pointer,dc,-1,lc,null)),Db=Kb.peekPtr(lc)}finally{Kb.pstack.restore(hc)}Db||cc("Cannot prepare empty SQL.");dc=new ic(this,Db,Cc);return ub.get(this)[Db]=
dc},exec:function(){Nc(this);const dc=od(this,arguments);if(!dc.sql)return cc("exec() requires an SQL string.");const hc=dc.opt,lc=hc.callback,Db=Array.isArray(hc.resultRows)?hc.resultRows:void 0;let rc,Tb=hc.bind,kb=!!(dc.cbArg||hc.columnNames||Db);const sb=Kb.scopedAllocPush(),Oa=Array.isArray(hc.saveSql)?hc.saveSql:void 0;try{const Ab=Bb.isSQLableTypedArray(dc.sql);let Cb=Ab?dc.sql.byteLength:Kb.jstrlen(dc.sql);const Ub=Kb.scopedAlloc(2*Kb.ptrSizeof+(Cb+1)),zc=Ub+Kb.ptrSizeof;let Za=zc+Kb.ptrSizeof;
const ab=Za+Cb;Ab?Kb.heap8().set(dc.sql,Za):Kb.jstrcpy(dc.sql,Kb.heap8(),Za,Cb,!1);for(Kb.poke(Za+Cb,0);Za&&Kb.peek(Za,"i8");){Kb.pokePtr([Ub,zc],0);xc.checkRc(this,yb.sqlite3_prepare_v3(this.pointer,Za,Cb,0,Ub,zc));const Qa=Kb.peekPtr(Ub);Za=Kb.peekPtr(zc);Cb=ab-Za;if(Qa){Oa&&Oa.push(yb.sqlite3_sql(Qa).trim());rc=new ic(this,Qa,Cc);Tb&&rc.parameterCount&&(rc.bind(Tb),Tb=null);if(kb&&rc.columnCount){let mb=Array.isArray(hc.columnNames)?0:1;kb=!1;if(dc.cbArg||Db){for(;rc.step();rc._lockedByExec=!1){0===
mb++&&rc.getColumnNames(hc.columnNames);rc._lockedByExec=!0;const zb=dc.cbArg(rc);Db&&Db.push(zb);if(lc&&!1===lc.call(hc,zb,rc))break}rc._lockedByExec=!1}0===mb&&rc.getColumnNames(hc.columnNames)}else rc.step();rc.reset().finalize();rc=null}}}finally{Kb.scopedAllocPop(sb),rc&&(delete rc._lockedByExec,rc.finalize())}return dc.returnVal()},createFunction:function(dc,hc,lc){switch(arguments.length){case 1:lc=dc;dc=lc.name;hc=lc.xFunc||0;break;case 2:hc instanceof Function||(lc=hc,hc=lc.xFunc||0)}lc||=
{};"string"!==typeof dc&&cc("Invalid arguments: missing function name.");var Db=lc.xStep||0;let rc=lc.xFinal||0;const Tb=lc.xValue||0,kb=lc.xInverse||0;let sb=void 0;hc instanceof Function?(sb=!1,(Db instanceof Function||rc instanceof Function)&&cc("Ambiguous arguments: scalar or aggregate?"),Db=rc=null):Db instanceof Function?(rc instanceof Function||cc("Missing xFinal() callback for aggregate or window UDF."),hc=null):rc instanceof Function?cc("Missing xStep() callback for aggregate or window UDF."):
cc("Missing function-type properties.");!1===sb?(Tb instanceof Function||kb instanceof Function)&&cc("xValue and xInverse are not permitted for non-window UDFs."):Tb instanceof Function?(kb instanceof Function||cc("xInverse must be provided if xValue is."),sb=!0):kb instanceof Function&&cc("xValue must be provided if xInverse is.");const Oa=lc.pApp;void 0===Oa||null===Oa||"number"===typeof Oa&&Bb.isInt32(Oa)||cc("Invalid value for pApp property. Must be a legal WASM pointer value.");const Ab=lc.xDestroy||
0;!Ab||Ab instanceof Function||cc("xDestroy property must be a function.");let Cb=0;wb(lc,"deterministic")&&(Cb|=yb.SQLITE_DETERMINISTIC);wb(lc,"directOnly")&&(Cb|=yb.SQLITE_DIRECTONLY);wb(lc,"innocuous")&&(Cb|=yb.SQLITE_INNOCUOUS);dc=dc.toLowerCase();var Ub=hc||Db;const zc=wb(lc,"arity");Ub="number"===typeof zc?zc:Ub.length?Ub.length-1:0;Db=sb?yb.sqlite3_create_window_function(this.pointer,dc,Ub,yb.SQLITE_UTF8|Cb,Oa||0,Db,rc,Tb,kb,Ab):yb.sqlite3_create_function_v2(this.pointer,dc,Ub,yb.SQLITE_UTF8|
Cb,Oa||0,hc,Db,rc,Ab);xc.checkRc(this,Db);return this},selectValue:function(dc,hc,lc){return pd(this,dc,hc,0,lc)},selectValues:function(dc,hc,lc){dc=this.prepare(dc);const Db=[];try{for(dc.bind(hc);dc.step();)Db.push(dc.get(0,lc));dc.reset()}finally{dc.finalize()}return Db},selectArray:function(dc,hc){return pd(this,dc,hc,[])},selectObject:function(dc,hc){return pd(this,dc,hc,{})},selectArrays:function(dc,hc){return this.exec({sql:dc,bind:hc,rowMode:"array",returnValue:"resultRows"})},selectObjects:function(dc,
hc){return this.exec({sql:dc,bind:hc,rowMode:"object",returnValue:"resultRows"})},openStatementCount:function(){return this.pointer?Object.keys(ub.get(this)).length:0},transaction:function(dc){let hc="BEGIN";1<arguments.length&&(/[^a-zA-Z]/.test(arguments[0])&&cc(yb.SQLITE_MISUSE,"Invalid argument for BEGIN qualifier."),hc+=" "+arguments[0],dc=arguments[1]);Nc(this).exec(hc);try{const lc=dc(this);this.exec("COMMIT");return lc}catch(lc){throw this.exec("ROLLBACK"),lc;}},savepoint:function(dc){Nc(this).exec("SAVEPOINT oo1");
try{const hc=dc(this);this.exec("RELEASE oo1");return hc}catch(hc){throw this.exec("ROLLBACK to SAVEPOINT oo1; RELEASE SAVEPOINT oo1"),hc;}},checkRc:function(dc){return eb(this,dc)}};const Pc=function(dc){dc.pointer||cc("Stmt has been closed.");return dc},ob=function(dc){a:{var hc=Cc[null===dc||void 0===dc?"null":typeof dc];switch(hc){case Cc.boolean:case Cc.null:case Cc.number:case Cc.string:break a;case Cc.bigint:if(Kb.bigIntEnabled)break a;default:hc=Bb.isBindableTypedArray(dc)?Cc.blob:void 0}}return hc||
cc("Unsupported bind() argument type:",typeof dc)},pc=function(dc,hc){const lc="number"===typeof hc?hc:yb.sqlite3_bind_parameter_index(dc.pointer,hc);0!==lc&&Bb.isInt32(lc)?(1>lc||lc>dc.parameterCount)&&cc("Bind index",hc,"is out of range."):cc("Invalid bind() parameter name: "+hc);return lc},Wb=function(dc,hc){dc._lockedByExec&&cc("Operation is illegal when statement is locked:",hc);return dc},Bc=function Tb(hc,lc,Db,rc){Wb(Pc(hc),"bind()");Tb._||(Tb._tooBigInt=sb=>cc("BigInt value is too big to store without precision loss:",
sb),Tb._={string:function(sb,Oa,Ab,Cb){const [Ub,zc]=Kb.allocCString(Ab,!0);return(Cb?yb.sqlite3_bind_blob:yb.sqlite3_bind_text)(sb.pointer,Oa,Ub,zc,yb.SQLITE_WASM_DEALLOC)}});ob(rc);lc=pc(hc,lc);let kb=0;switch(null===rc||void 0===rc?Cc.null:Db){case Cc.null:kb=yb.sqlite3_bind_null(hc.pointer,lc);break;case Cc.string:kb=Tb._.string(hc,lc,rc,!1);break;case Cc.number:let sb;Bb.isInt32(rc)?sb=yb.sqlite3_bind_int:"bigint"===typeof rc?Bb.bigIntFits64(rc)?Kb.bigIntEnabled?sb=yb.sqlite3_bind_int64:Bb.bigIntFitsDouble(rc)?
(rc=Number(rc),sb=yb.sqlite3_bind_double):Tb._tooBigInt(rc):Tb._tooBigInt(rc):(rc=Number(rc),sb=Kb.bigIntEnabled&&Number.isInteger(rc)?yb.sqlite3_bind_int64:yb.sqlite3_bind_double);kb=sb(hc.pointer,lc,rc);break;case Cc.boolean:kb=yb.sqlite3_bind_int(hc.pointer,lc,rc?1:0);break;case Cc.blob:if("string"===typeof rc){kb=Tb._.string(hc,lc,rc,!0);break}else rc instanceof ArrayBuffer?rc=new Uint8Array(rc):Bb.isBindableTypedArray(rc)||cc("Binding a value as a blob requires","that it be a string, Uint8Array, Int8Array, or ArrayBuffer.");
Db=Kb.alloc(rc.byteLength||1);Kb.heap8().set(rc.byteLength?rc:[0],Db);kb=yb.sqlite3_bind_blob(hc.pointer,lc,Db,rc.byteLength,yb.SQLITE_WASM_DEALLOC);break;default:Yb.config.warn("Unsupported bind() argument type:",rc),cc("Unsupported bind() argument type: "+typeof rc)}kb&&xc.checkRc(hc.db.pointer,kb);hc._mayGet=!1;return hc};ic.prototype={finalize:function(){if(this.pointer){Wb(this,"finalize()");const hc=yb.sqlite3_finalize(this.pointer);delete ub.get(this.db)[this.pointer];ib.delete(this);delete this._mayGet;
delete this.parameterCount;delete this._lockedByExec;delete this.db;return hc}},clearBindings:function(){Wb(Pc(this),"clearBindings()");yb.sqlite3_clear_bindings(this.pointer);this._mayGet=!1;return this},reset:function(hc){Wb(this,"reset()");hc&&this.clearBindings();hc=yb.sqlite3_reset(Pc(this).pointer);this._mayGet=!1;eb(this.db,hc);return this},bind:function(){Pc(this);let hc,lc;switch(arguments.length){case 1:hc=1;lc=arguments[0];break;case 2:hc=arguments[0];lc=arguments[1];break;default:cc("Invalid bind() arguments.")}if(void 0===
lc)return this;this.parameterCount||cc("This statement has no bindable parameters.");this._mayGet=!1;if(null===lc)return Bc(this,hc,Cc.null,lc);if(Array.isArray(lc))return 1!==arguments.length&&cc("When binding an array, an index argument is not permitted."),lc.forEach((Db,rc)=>Bc(this,rc+1,ob(Db),Db)),this;lc instanceof ArrayBuffer&&(lc=new Uint8Array(lc));if("object"!==typeof lc||Bb.isBindableTypedArray(lc))return Bc(this,hc,ob(lc),lc);1!==arguments.length&&cc("When binding an object, an index argument is not permitted.");
Object.keys(lc).forEach(Db=>Bc(this,Db,ob(lc[Db]),lc[Db]));return this},bindAsBlob:function(hc,lc){Pc(this);1===arguments.length&&(lc=hc,hc=1);const Db=ob(lc);Cc.string!==Db&&Cc.blob!==Db&&Cc.null!==Db&&cc("Invalid value type for bindAsBlob()");return Bc(this,hc,Cc.blob,lc)},step:function(){Wb(this,"step()");const hc=yb.sqlite3_step(Pc(this).pointer);switch(hc){case yb.SQLITE_DONE:return this._mayGet=!1;case yb.SQLITE_ROW:return this._mayGet=!0;default:this._mayGet=!1,Yb.config.warn("sqlite3_step() rc\x3d",
hc,yb.sqlite3_js_rc_str(hc),"SQL \x3d",yb.sqlite3_sql(this.pointer)),xc.checkRc(this.db.pointer,hc)}},stepReset:function(){this.step();return this.reset()},stepFinalize:function(){try{const hc=this.step();this.reset();return hc}finally{try{this.finalize()}catch(hc){}}},get:function(hc,lc){Pc(this)._mayGet||cc("Stmt.step() has not (recently) returned true.");if(Array.isArray(hc)){lc=0;for(var Db=this.columnCount;lc<Db;)hc[lc]=this.get(lc++);return hc}if(hc&&"object"===typeof hc){lc=0;for(Db=this.columnCount;lc<
Db;)hc[yb.sqlite3_column_name(this.pointer,lc)]=this.get(lc++);return hc}Lc(this,hc);switch(void 0===lc?yb.sqlite3_column_type(this.pointer,hc):lc){case yb.SQLITE_NULL:return null;case yb.SQLITE_INTEGER:if(Kb.bigIntEnabled)return hc=yb.sqlite3_column_int64(this.pointer,hc),hc>=Number.MIN_SAFE_INTEGER&&hc<=Number.MAX_SAFE_INTEGER?Number(hc).valueOf():hc;hc=yb.sqlite3_column_double(this.pointer,hc);(hc>Number.MAX_SAFE_INTEGER||hc<Number.MIN_SAFE_INTEGER)&&cc("Integer is out of range for JS integer range: "+
hc);return Bb.isInt32(hc)?hc|0:hc;case yb.SQLITE_FLOAT:return yb.sqlite3_column_double(this.pointer,hc);case yb.SQLITE_TEXT:return yb.sqlite3_column_text(this.pointer,hc);case yb.SQLITE_BLOB:return lc=yb.sqlite3_column_bytes(this.pointer,hc),hc=yb.sqlite3_column_blob(this.pointer,hc),Db=new Uint8Array(lc),lc&&Db.set(Kb.heap8u().slice(hc,hc+lc),0),lc&&this.db._blobXfer instanceof Array&&this.db._blobXfer.push(Db.buffer),Db;default:cc("Don't know how to translate","type of result column #"+hc+".")}cc("Not reached.")},
getInt:function(hc){return this.get(hc,yb.SQLITE_INTEGER)},getFloat:function(hc){return this.get(hc,yb.SQLITE_FLOAT)},getString:function(hc){return this.get(hc,yb.SQLITE_TEXT)},getBlob:function(hc){return this.get(hc,yb.SQLITE_BLOB)},getJSON:function(hc){hc=this.get(hc,yb.SQLITE_STRING);return null===hc?hc:JSON.parse(hc)},getColumnName:function(hc){return yb.sqlite3_column_name(Lc(Pc(this),hc).pointer,hc)},getColumnNames:function(hc=[]){Lc(Pc(this),0);const lc=this.columnCount;for(let Db=0;Db<lc;++Db)hc.push(yb.sqlite3_column_name(this.pointer,
Db));return hc},getParamIndex:function(hc){return Pc(this).parameterCount?yb.sqlite3_bind_parameter_index(this.pointer,hc):void 0}};const Jc={enumerable:!0,get:function(){return ib.get(this)},set:()=>cc("The pointer property is read-only.")};Object.defineProperty(ic.prototype,"pointer",Jc);Object.defineProperty(xc.prototype,"pointer",Jc);Object.defineProperty(ic.prototype,"columnCount",{enumerable:!1,get:function(){return yb.sqlite3_column_count(this.pointer)},set:()=>cc("The columnCount property is read-only.")});
Yb.oo1={DB:xc,Stmt:ic};if(Bb.isUIThread()){Yb.oo1.JsStorageDb=function(lc="session"){"session"!==lc&&"local"!==lc&&cc("JsStorageDb db name must be one of 'session' or 'local'.");ec.call(this,{filename:lc,flags:"c",vfs:"kvvfs"})};const hc=Yb.oo1.JsStorageDb;hc.prototype=Object.create(xc.prototype);hc.clearStorage=yb.sqlite3_js_kvvfs_clear;hc.prototype.clearStorage=function(){return hc.clearStorage(Nc(this).filename)};hc.storageSize=yb.sqlite3_js_kvvfs_size;hc.prototype.storageSize=function(){return hc.storageSize(Nc(this).filename)}}});
globalThis.sqlite3ApiBootstrap.initializers.push(function(Yb){Yb.initWorker1API=function(){const cc=(...pb)=>{throw Error(pb.join(" "));};globalThis.WorkerGlobalScope instanceof Function||cc("initWorker1API() must be run from a Worker thread.");const yb=this.sqlite3||cc("Missing this.sqlite3 object."),Kb=yb.oo1.DB,Bb=function(pb){let Gb=ib.idMap.get(pb);if(Gb)return Gb;Gb="db#"+ ++ib.idSeq+"@"+pb.pointer;ib.idMap.set(pb,Gb);return Gb},ib={dbList:[],idSeq:0,idMap:new WeakMap,xfer:[],open:function(pb){pb=
new Kb(pb);this.dbs[Bb(pb)]=pb;0>this.dbList.indexOf(pb)&&this.dbList.push(pb);return pb},close:function(pb,Gb){if(pb){delete this.dbs[Bb(pb)];const ec=pb.filename,xc=yb.wasm.sqlite3_wasm_db_vfs(pb.pointer,0);pb.close();pb=this.dbList.indexOf(pb);0<=pb&&this.dbList.splice(pb,1);Gb&&ec&&xc&&yb.wasm.sqlite3_wasm_vfs_unlink(xc,ec)}},post:function(pb,Gb){Gb&&Gb.length?(globalThis.postMessage(pb,Array.from(Gb)),Gb.length=0):globalThis.postMessage(pb)},dbs:Object.create(null),getDb:function(pb,Gb=!0){return this.dbs[pb]||
(Gb?cc("Unknown (or closed) DB ID:",pb):void 0)}},ub=function(pb=ib.dbList[0]){return pb&&pb.pointer?pb:cc("DB is not opened.")},wb=function(pb,Gb=!0){pb=ib.getDb(pb.dbId,!1)||ib.dbList[0];return Gb?ub(pb):pb},eb={open:function(pb){var Gb=Object.create(null);const ec=pb.args||Object.create(null);ec.simulateError&&cc("Throwing because of simulateError flag.");pb=Object.create(null);let xc;Gb.vfs=ec.vfs;var Cc=ec.filename;if(""===Cc||":"===Cc[0])Gb.filename=ec.filename||"";else if(Gb.filename=ec.filename,
xc=ec.byteArray){var ic=/^file:.+(vfs=(\w+))/.exec(ec.filename);ic=yb.capi.sqlite3_vfs_find(ic?ic[2]:0)}if(ic){let Nc;try{Nc=yb.wasm.allocFromTypedArray(xc);const Lc=yb.wasm.sqlite3_wasm_vfs_create_file(ic,Gb.filename,Nc,xc.byteLength);Lc&&yb.SQLite3Error.toss(Lc)}catch(Lc){throw new yb.SQLite3Error(Lc.name+" creating "+ec.filename+": "+Lc.message,{cause:Lc});}finally{Nc&&yb.wasm.dealloc(Nc)}}Gb=ib.open(Gb);pb.filename=Gb.filename;pb.persistent=!!yb.capi.sqlite3_js_db_uses_vfs(Gb.pointer,"opfs");
pb.dbId=Bb(Gb);pb.vfs=Gb.dbVfsName();return pb},close:function(pb){const Gb=wb(pb,!1),ec={filename:Gb&&Gb.filename};Gb&&ib.close(Gb,pb.args&&"object"===typeof pb.args?!!pb.args.unlink:!1);return ec},exec:function(pb){const Gb="string"===typeof pb.args?{sql:pb.args}:pb.args||Object.create(null);"stmt"===Gb.rowMode?cc("Invalid rowMode for 'exec': stmt mode","does not work in the Worker API."):Gb.sql||cc("'exec' requires input SQL.");pb=wb(pb);if(Gb.callback||Array.isArray(Gb.resultRows))pb._blobXfer=
ib.xfer;const ec=Gb.callback;let xc=0;const Cc=!!Gb.columnNames;"string"===typeof ec&&(Cc||(Gb.columnNames=[]),Gb.callback=function(ic,Nc){ib.post({type:ec,columnNames:Gb.columnNames,rowNumber:++xc,row:ic},ib.xfer)});try{const ic=Gb.countChanges?pb.changes(!0,64===Gb.countChanges):void 0;pb.exec(Gb);void 0!==ic&&(Gb.changeCount=pb.changes(!0,64===Gb.countChanges)-ic);Gb.callback instanceof Function&&(Gb.callback=ec,ib.post({type:ec,columnNames:Gb.columnNames,rowNumber:null,row:void 0}))}finally{delete pb._blobXfer,
Gb.callback&&(Gb.callback=ec)}return Gb},"config-get":function(){const pb=Object.create(null),Gb=yb.config;["bigIntEnabled"].forEach(function(ec){Object.getOwnPropertyDescriptor(Gb,ec)&&(pb[ec]=Gb[ec])});pb.version=yb.version;pb.vfsList=yb.capi.sqlite3_js_vfs_list();pb.opfsEnabled=!!yb.opfs;return pb},export:function(pb){pb=wb(pb);pb={byteArray:yb.capi.sqlite3_js_db_export(pb.pointer),filename:pb.filename,mimetype:"application/x-sqlite3"};ib.xfer.push(pb.byteArray.buffer);return pb},toss:function(pb){cc("Testing worker exception")},
"opfs-tree":async function(pb){yb.opfs||cc("OPFS support is unavailable.");return await yb.opfs.treeList()}};globalThis.onmessage=async function(pb){pb=pb.data;let Gb,ec=pb.dbId,xc=pb.type;const Cc=performance.now();try{eb.hasOwnProperty(xc)&&eb[xc]instanceof Function?Gb=await eb[xc](pb):cc("Unknown db worker message type:",pb.type)}catch(ic){xc="error",Gb={operation:pb.type,message:ic.message,errorClass:ic.name,input:pb},ic.stack&&(Gb.stack="string"===typeof ic.stack?ic.stack.split(/\n\s*/):ic.stack)}ec||=
Gb.dbId||ib.dbList[0]&&Bb(ib.dbList[0]);ib.post({type:xc,dbId:ec,messageId:pb.messageId,workerReceivedTime:Cc,workerRespondTime:performance.now(),departureTime:pb.departureTime,result:Gb},ib.xfer)};globalThis.postMessage({type:"sqlite3-api",result:"worker1-ready"})}.bind({sqlite3:Yb})});"use strict";globalThis.sqlite3ApiBootstrap.initializers.push(function(Yb){const cc=Yb.wasm,yb=Yb.capi,Kb=Yb.util.toss3;var Bb=Object.create(null);const ib=Object.create(null),ub=Yb.StructBinder;Yb.vfs=Bb;Yb.vtab=
ib;const wb=yb.sqlite3_index_info;wb.prototype.nthConstraint=function(ec,xc=!1){if(0>ec||ec>=this.$nConstraint)return!1;ec=this.$aConstraint+wb.sqlite3_index_constraint.structInfo.sizeof*ec;return xc?ec:new wb.sqlite3_index_constraint(ec)};wb.prototype.nthConstraintUsage=function(ec,xc=!1){if(0>ec||ec>=this.$nConstraint)return!1;ec=this.$aConstraintUsage+wb.sqlite3_index_constraint_usage.structInfo.sizeof*ec;return xc?ec:new wb.sqlite3_index_constraint_usage(ec)};wb.prototype.nthOrderBy=function(ec,
xc=!1){if(0>ec||ec>=this.$nOrderBy)return!1;ec=this.$aOrderBy+wb.sqlite3_index_orderby.structInfo.sizeof*ec;return xc?ec:new wb.sqlite3_index_orderby(ec)};const eb=function Lc(xc,Cc,ic,Nc=Lc.installMethodArgcCheck){xc instanceof ub.StructType?ic instanceof Function||cc.isPtr(ic)||Kb("Usage errror: expecting a Function or WASM pointer to one."):Kb("Usage error: target object is-not-a StructType.");if(1===arguments.length)return(Pc,ob)=>Lc(xc,Pc,ob,Nc);Lc.argcProxy||(Lc.argcProxy=function(Pc,ob,pc,
Wb){return function(...Bc){pc.length!==arguments.length&&Kb("Argument mismatch for",Pc.structInfo.name+"::"+ob+": Native signature is:",Wb);return pc.apply(this,Bc)}},Lc.removeFuncList=function(){this.ondispose.__removeFuncList&&(this.ondispose.__removeFuncList.forEach((Pc,ob)=>{if("number"===typeof Pc)try{cc.uninstallFunction(Pc)}catch(pc){}}),delete this.ondispose.__removeFuncList)});var od=xc.memberSignature(Cc);2>od.length&&Kb("Member",Cc,"does not have a function pointer signature:",od);const pd=
xc.memberKey(Cc);od=Nc&&!cc.isPtr(ic)?Lc.argcProxy(xc,pd,ic,od):ic;cc.isPtr(od)?(od&&!cc.functionEntry(od)&&Kb("Pointer",od,"is not a WASM function table entry."),xc[pd]=od):(od=cc.installFunction(od,xc.memberSignature(Cc,!0)),xc[pd]=od,xc.ondispose&&xc.ondispose.__removeFuncList||(xc.addOnDispose("ondispose.__removeFuncList handler",Lc.removeFuncList),xc.ondispose.__removeFuncList=[]),xc.ondispose.__removeFuncList.push(pd,od));return(Pc,ob)=>Lc(xc,Pc,ob,Nc)};eb.installMethodArgcCheck=!1;const pb=
function(xc,Cc,ic=eb.installMethodArgcCheck){const Nc=new Map;for(const od of Object.keys(Cc)){var Lc=Cc[od];const pd=Nc.get(Lc);pd?(Lc=xc.memberKey(od),xc[Lc]=xc[xc.memberKey(pd)]):(eb(xc,od,Lc,ic),Nc.set(Lc,od))}return xc};ub.StructType.prototype.installMethod=function(xc,Cc,ic=eb.installMethodArgcCheck){return 3>arguments.length&&xc&&"object"===typeof xc?pb(this,...arguments):eb(this,...arguments)};ub.StructType.prototype.installMethods=function(xc,Cc=eb.installMethodArgcCheck){return pb(this,
xc,Cc)};yb.sqlite3_vfs.prototype.registerVfs=function(xc=!1){this instanceof Yb.capi.sqlite3_vfs||Kb("Expecting a sqlite3_vfs-type argument.");(xc=yb.sqlite3_vfs_register(this,xc?1:0))&&Kb("sqlite3_vfs_register(",this,") failed with rc",xc);this.pointer!==yb.sqlite3_vfs_find(this.$zName)&&Kb("BUG: sqlite3_vfs_find(vfs.$zName) failed for just-installed VFS",this);return this};Bb.installVfs=function(xc){let Cc=0;const ic=["io","vfs"];for(const Nc of ic){const Lc=xc[Nc];Lc&&(++Cc,pb(Lc.struct,Lc.methods,
!!Lc.applyArgcCheck),"vfs"===Nc&&(Lc.struct.$zName||"string"!==typeof Lc.name||Lc.struct.addOnDispose(Lc.struct.$zName=cc.allocCString(Lc.name)),Lc.struct.registerVfs(!!Lc.asDefault)))}Cc||Kb("Misuse: installVfs() options object requires at least","one of:",ic);return this};const Gb=function(xc,Cc){return function(ic,Nc=!1){0===arguments.length&&(ic=new Cc);if(ic instanceof Cc)return this.set(ic.pointer,ic),ic;cc.isPtr(ic)||Yb.SQLite3Error.toss("Invalid argument to",xc+"()");let Lc=this.get(ic);Nc&&
this.delete(ic);return Lc}.bind(new Map)};Bb=function(xc,Cc){const ic=Gb(xc,Cc);return Object.assign(Object.create(null),{StructType:Cc,create:Nc=>{const Lc=ic();cc.pokePtr(Nc,Lc.pointer);return Lc},get:Nc=>ic(Nc),unget:Nc=>ic(Nc,!0),dispose:Nc=>{(Nc=ic(Nc,!0))&&Nc.dispose()}})};ib.xVtab=Bb("xVtab",yb.sqlite3_vtab);ib.xCursor=Bb("xCursor",yb.sqlite3_vtab_cursor);ib.xIndexInfo=xc=>new yb.sqlite3_index_info(xc);ib.xError=function Lc(Cc,ic,Nc){if(Lc.errorReporter instanceof Function)try{Lc.errorReporter("sqlite3_module::"+
Cc+"(): "+ic.message)}catch(pd){}let od;ic instanceof Yb.WasmAllocError?od=yb.SQLITE_NOMEM:2<arguments.length?od=Nc:ic instanceof Yb.SQLite3Error&&(od=ic.resultCode);return od||yb.SQLITE_ERROR};ib.xError.errorReporter=console.error.bind(console);ib.xRowid=(Cc,ic)=>cc.poke(Cc,ic,"i64");ib.setupModule=function(Cc){let ic=!1;const Nc=this instanceof yb.sqlite3_module?this:Cc.struct||(ic=new yb.sqlite3_module);try{const pd=Cc.methods||Kb("Missing 'methods' object.");for(var Lc of Object.entries({xConnect:"xCreate",
xDisconnect:"xDestroy"})){var od=Lc[0];const Pc=Lc[1];!0===pd[od]?pd[od]=pd[Pc]:!0===pd[Pc]&&(pd[Pc]=pd[od])}if(Cc.catchExceptions){Lc=function(ob,pc){return 0<=["xConnect","xCreate"].indexOf(ob)?function(Wb,Bc,Jc,vc,dc,hc){try{return pc(...arguments)||0}catch(lc){return lc instanceof Yb.WasmAllocError||(cc.dealloc(cc.peekPtr(hc)),cc.pokePtr(hc,cc.allocCString(lc.message))),ib.xError(ob,lc)}}:function(...Wb){try{return pc(...Wb)||0}catch(Bc){return ib.xError(ob,Bc)}}};od="xCreate xConnect xBestIndex xDisconnect xDestroy xOpen xClose xFilter xNext xEof xColumn xRowid xUpdate xBegin xSync xCommit xRollback xFindFunction xRename xSavepoint xRelease xRollbackTo xShadowName".split(" ");
const Pc=Object.create(null);for(const ob of od){const pc=pd[ob];pc instanceof Function&&(Pc[ob]="xConnect"===ob&&pd.xCreate===pc?pd.xCreate:"xCreate"===ob&&pd.xConnect===pc?pd.xConnect:Lc(ob,pc))}pb(Nc,Pc,!1)}else pb(Nc,pd,!!Cc.applyArgcCheck);0===Nc.$iVersion&&(Nc.$iVersion="number"===typeof Cc.iVersion?Cc.iVersion:Nc.$xShadowName?3:Nc.$xSavePoint||Nc.$xRelease||Nc.$xRollbackTo?2:1)}catch(pd){throw ic&&ic.dispose(),pd;}return Nc};yb.sqlite3_module.prototype.setupModule=function(Cc){return ib.setupModule.call(this,
Cc)}});"use strict";globalThis.sqlite3ApiBootstrap.initializers.push(function(Yb){const cc=function Bb(Kb){var ib,ub;if(globalThis.SharedArrayBuffer&&globalThis.Atomics){if("undefined"===typeof WorkerGlobalScope)return Promise.reject(Error("The OPFS sqlite3_vfs cannot run in the main thread because it requires Atomics.wait()."));if(!(globalThis.FileSystemHandle&&globalThis.FileSystemDirectoryHandle&&globalThis.FileSystemFileHandle&&globalThis.FileSystemFileHandle.prototype.createSyncAccessHandle&&
null!==(ib=navigator)&&void 0!==ib&&null!==(ub=ib.storage)&&void 0!==ub&&ub.getDirectory))return Promise.reject(Error("Missing required OPFS APIs."))}else return Promise.reject(Error("Cannot install OPFS: Missing SharedArrayBuffer and/or Atomics. The server must emit the COOP/COEP response headers to enable those. See https://sqlite.org/wasm/doc/trunk/persistence.md#coop-coep"));Kb&&"object"===typeof Kb||(Kb=Object.create(null));ib=(new URL(globalThis.location.href)).searchParams;if(ib.has("opfs-disable"))return Promise.resolve(Yb);
void 0===Kb.verbose&&(Kb.verbose=ib.has("opfs-verbose")?+ib.get("opfs-verbose")||2:1);void 0===Kb.sanityChecks&&(Kb.sanityChecks=ib.has("opfs-sanity-check"));void 0===Kb.proxyUri&&(Kb.proxyUri=Bb.defaultProxyUri);"function"===typeof Kb.proxyUri&&(Kb.proxyUri=Kb.proxyUri());return new Promise(function(wb,eb){const pb=[Yb.config.error,Yb.config.warn,Yb.config.log],Gb=(ab,...Qa)=>{if(Kb.verbose>ab)pb[ab]("OPFS syncer:",...Qa)},ec=(...ab)=>Gb(0,...ab),xc=Yb.util.toss,Cc=Yb.capi,ic=Yb.util,Nc=Yb.wasm;
var Lc=Cc.sqlite3_vfs;const od=Cc.sqlite3_file;var pd=Cc.sqlite3_io_methods;const Pc=Object.create(null),ob=()=>{var ab,Qa;return globalThis.FileSystemHandle&&globalThis.FileSystemDirectoryHandle&&globalThis.FileSystemFileHandle&&globalThis.FileSystemFileHandle.prototype.createSyncAccessHandle&&(null===(ab=navigator)||void 0===ab?void 0:null===(Qa=ab.storage)||void 0===Qa?void 0:Qa.getDirectory)};Pc.metrics={dump:function(){let ab,Qa=0,mb=0,zb=0;for(ab in hc.opIds){const Kc=lc[ab];Qa+=Kc.count;mb+=
Kc.time;zb+=Kc.wait;Kc.avgTime=Kc.count&&Kc.time?Kc.time/Kc.count:0;Kc.avgWait=Kc.count&&Kc.wait?Kc.wait/Kc.count:0}Yb.config.log(globalThis.location.href,"metrics for",globalThis.location.href,":",lc,"\nTotal of",Qa,"op(s) for",mb,"ms (incl. "+zb+" ms of waiting on the async side)");Yb.config.log("Serialization metrics:",lc.s11n);vc.postMessage({type:"opfs-async-metrics"})},reset:function(){for(var ab in hc.opIds){var Qa=lc[ab]=Object.create(null);Qa.count=Qa.time=Qa.wait=0}ab=lc.s11n=Object.create(null);
ab=ab.serialize=Object.create(null);ab.count=ab.time=0;ab=lc.s11n.deserialize=Object.create(null);ab.count=ab.time=0}};const pc=new pd,Wb=(new Lc).addOnDispose(()=>pc.dispose());let Bc=void 0;const Jc=ab=>{Bc=!0;Wb.dispose();return eb(ab)},vc=new Worker(new URL("sqlite3-opfs-async-proxy.js",I));setTimeout(()=>{void 0===Bc&&Jc(Error("Timeout while waiting for OPFS async proxy worker."))},4E3);vc._originalOnError=vc.onerror;vc.onerror=function(ab){Gb(0,...["Error initializing OPFS asyncer:",ab]);Jc(Error("Loading OPFS async Worker failed for unknown reasons."))};
const dc=(pd=Cc.sqlite3_vfs_find(null))?new Lc(pd):null;pc.$iVersion=1;Wb.$iVersion=2;Wb.$szOsFile=Cc.sqlite3_file.structInfo.sizeof;Wb.$mxPathname=1024;Wb.$zName=Nc.allocCString("opfs");Wb.$xDlOpen=Wb.$xDlError=Wb.$xDlSym=Wb.$xDlClose=null;Wb.addOnDispose("$zName",Wb.$zName,"cleanup default VFS wrapper",()=>dc?dc.dispose():null);const hc=Object.create(null);hc.verbose=Kb.verbose;hc.littleEndian=(()=>{const ab=new ArrayBuffer(2);(new DataView(ab)).setInt16(0,256,!0);return 256===(new Int16Array(ab))[0]})();
hc.asyncIdleWaitTime=150;hc.asyncS11nExceptions=1;hc.fileBufferSize=65536;hc.sabS11nOffset=hc.fileBufferSize;hc.sabS11nSize=2*Wb.$mxPathname;hc.sabIO=new SharedArrayBuffer(hc.fileBufferSize+hc.sabS11nSize);hc.opIds=Object.create(null);const lc=Object.create(null);Lc=0;hc.opIds.whichOp=Lc++;hc.opIds.rc=Lc++;hc.opIds.xAccess=Lc++;hc.opIds.xClose=Lc++;hc.opIds.xDelete=Lc++;hc.opIds.xDeleteNoWait=Lc++;hc.opIds.xFileSize=Lc++;hc.opIds.xLock=Lc++;hc.opIds.xOpen=Lc++;hc.opIds.xRead=Lc++;hc.opIds.xSleep=
Lc++;hc.opIds.xSync=Lc++;hc.opIds.xTruncate=Lc++;hc.opIds.xUnlock=Lc++;hc.opIds.xWrite=Lc++;hc.opIds.mkdir=Lc++;hc.opIds["opfs-async-metrics"]=Lc++;hc.opIds["opfs-async-shutdown"]=Lc++;hc.opIds.retry=Lc++;hc.sabOP=new SharedArrayBuffer(4*Lc);Pc.metrics.reset();hc.sq3Codes=Object.create(null);"SQLITE_ACCESS_EXISTS SQLITE_ACCESS_READWRITE SQLITE_BUSY SQLITE_ERROR SQLITE_IOERR SQLITE_IOERR_ACCESS SQLITE_IOERR_CLOSE SQLITE_IOERR_DELETE SQLITE_IOERR_FSYNC SQLITE_IOERR_LOCK SQLITE_IOERR_READ SQLITE_IOERR_SHORT_READ SQLITE_IOERR_TRUNCATE SQLITE_IOERR_UNLOCK SQLITE_IOERR_WRITE SQLITE_LOCK_EXCLUSIVE SQLITE_LOCK_NONE SQLITE_LOCK_PENDING SQLITE_LOCK_RESERVED SQLITE_LOCK_SHARED SQLITE_LOCKED SQLITE_MISUSE SQLITE_NOTFOUND SQLITE_OPEN_CREATE SQLITE_OPEN_DELETEONCLOSE SQLITE_OPEN_MAIN_DB SQLITE_OPEN_READONLY".split(" ").forEach(ab=>
{void 0===(hc.sq3Codes[ab]=Cc[ab])&&xc("Maintenance required: not found:",ab)});hc.opfsFlags=Object.assign(Object.create(null),{OPFS_UNLOCK_ASAP:1,defaultUnlockAsap:!1});const Db=(ab,...Qa)=>{var mb=hc.opIds[ab]||xc("Invalid op ID:",ab);hc.s11n.serialize(...Qa);Atomics.store(hc.sabOPView,hc.opIds.rc,-1);Atomics.store(hc.sabOPView,hc.opIds.whichOp,mb);Atomics.notify(hc.sabOPView,hc.opIds.whichOp);mb=performance.now();Atomics.wait(hc.sabOPView,hc.opIds.rc,-1);Qa=Atomics.load(hc.sabOPView,hc.opIds.rc);
lc[ab].wait+=performance.now()-mb;Qa&&hc.asyncS11nExceptions&&(mb=hc.s11n.deserialize())&&ec(ab+"() async error:",...mb);return Qa};Pc.debug={asyncShutdown:()=>{Gb(1,...["Shutting down OPFS async listener. The OPFS VFS will no longer work."]);Db("opfs-async-shutdown")},asyncRestart:()=>{Gb(1,...["Attempting to restart OPFS VFS async listener. Might work, might not."]);vc.postMessage({type:"opfs-async-restart"})}};const rc=()=>{if(hc.s11n)return hc.s11n;const ab=new TextDecoder,Qa=new TextEncoder("utf-8"),
mb=new Uint8Array(hc.sabIO,hc.sabS11nOffset,hc.sabS11nSize),zb=new DataView(hc.sabIO,hc.sabS11nOffset,hc.sabS11nSize);hc.s11n=Object.create(null);const Kc=Object.create(null);Kc.number={id:1,size:8,getter:"getFloat64",setter:"setFloat64"};Kc.bigint={id:2,size:8,getter:"getBigInt64",setter:"setBigInt64"};Kc.boolean={id:3,size:4,getter:"getInt32",setter:"setInt32"};Kc.string={id:4};const bd=ld=>{switch(ld){case Kc.number.id:return Kc.number;case Kc.bigint.id:return Kc.bigint;case Kc.boolean.id:return Kc.boolean;
case Kc.string.id:return Kc.string;default:xc("Invalid type ID:",ld)}};hc.s11n.deserialize=function(ld=!1){++lc.s11n.deserialize.count;const Hd=performance.now(),Ud=mb[0],Sd=Ud?[]:null;if(Ud){const Ob=[];let nc=1,Mc;let cb;for(Mc=0;Mc<Ud;++Mc,++nc)Ob.push(bd(mb[nc]));for(Mc=0;Mc<Ud;++Mc){var vd=Ob[Mc];vd.getter?(cb=zb[vd.getter](nc,hc.littleEndian),nc+=vd.size):(vd=zb.getInt32(nc,hc.littleEndian),nc+=4,cb=ab.decode(mb.slice(nc,nc+vd)),nc+=vd);Sd.push(cb)}}ld&&(mb[0]=0);lc.s11n.deserialize.time+=performance.now()-
Hd;return Sd};hc.s11n.serialize=function(...ld){const Hd=performance.now();++lc.s11n.serialize.count;if(ld.length){const Ob=[];let nc=0,Mc=1;for(mb[0]=ld.length&255;nc<ld.length;++nc,++Mc){var Ud=Ob,Sd=Ud.push;var vd=ld[nc];vd=Kc[typeof vd]||xc("Maintenance required: this value type cannot be serialized.",vd);Sd.call(Ud,vd);mb[Mc]=Ob[nc].id}for(nc=0;nc<ld.length;++nc)Ud=Ob[nc],Ud.setter?(zb[Ud.setter](Mc,ld[nc],hc.littleEndian),Mc+=Ud.size):(Ud=Qa.encode(ld[nc]),zb.setInt32(Mc,Ud.byteLength,hc.littleEndian),
Mc+=4,mb.set(Ud,Mc),Mc+=Ud.byteLength)}else mb[0]=0;lc.s11n.serialize.time+=performance.now()-Hd};return hc.s11n},Tb=function mb(Qa=16){mb._chars||(mb._chars="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ012346789",mb._n=mb._chars.length);const zb=[];let Kc=0;for(;Kc<Qa;++Kc)zb[Kc]=mb._chars[64*Math.random()*mb._n%mb._n|0];return zb.join("")},kb=Object.create(null),sb=Object.create(null);sb.op=void 0;sb.start=void 0;const Oa=Qa=>{sb.start=performance.now();sb.op=Qa;++lc[Qa].count},Ab=()=>lc[sb.op].time+=
performance.now()-sb.start,Cb={xCheckReservedLock:function(Qa,mb){Nc.poke(mb,kb[Qa].lockType?1:0,"i32");return 0},xClose:function(Qa){Oa("xClose");let mb=0;const zb=kb[Qa];zb&&(delete kb[Qa],mb=Db("xClose",Qa),zb.sq3File&&zb.sq3File.dispose());Ab();return mb},xDeviceCharacteristics:function(Qa){return Cc.SQLITE_IOCAP_UNDELETABLE_WHEN_OPEN},xFileControl:function(Qa,mb,zb){return Cc.SQLITE_NOTFOUND},xFileSize:function(Qa,mb){Oa("xFileSize");Qa=Db("xFileSize",Qa);if(0==Qa)try{const zb=hc.s11n.deserialize()[0];
Nc.poke(mb,zb,"i64")}catch(zb){Gb(0,...["Unexpected error reading xFileSize() result:",zb]),Qa=hc.sq3Codes.SQLITE_IOERR}Ab();return Qa},xLock:function(Qa,mb){Oa("xLock");const zb=kb[Qa];let Kc=0;zb.lockType?zb.lockType=mb:(Kc=Db("xLock",Qa,mb),0===Kc&&(zb.lockType=mb));Ab();return Kc},xRead:function(Qa,mb,zb,Kc){Oa("xRead");const bd=kb[Qa];let ld;try{ld=Db("xRead",Qa,zb,Number(Kc)),0!==ld&&Cc.SQLITE_IOERR_SHORT_READ!==ld||Nc.heap8u().set(bd.sabView.subarray(0,zb),mb)}catch(Hd){Gb(0,...["xRead(",arguments,
") failed:",Hd,bd]),ld=Cc.SQLITE_IOERR_READ}Ab();return ld},xSync:function(Qa,mb){Oa("xSync");++lc.xSync.count;Qa=Db("xSync",Qa,mb);Ab();return Qa},xTruncate:function(Qa,mb){Oa("xTruncate");Qa=Db("xTruncate",Qa,Number(mb));Ab();return Qa},xUnlock:function(Qa,mb){Oa("xUnlock");const zb=kb[Qa];let Kc=0;Cc.SQLITE_LOCK_NONE===mb&&zb.lockType&&(Kc=Db("xUnlock",Qa,mb));0===Kc&&(zb.lockType=mb);Ab();return Kc},xWrite:function(Qa,mb,zb,Kc){Oa("xWrite");const bd=kb[Qa];let ld;try{bd.sabView.set(Nc.heap8u().subarray(mb,
mb+zb)),ld=Db("xWrite",Qa,zb,Number(Kc))}catch(Hd){Gb(0,...["xWrite(",arguments,") failed:",Hd,bd]),ld=Cc.SQLITE_IOERR_WRITE}Ab();return ld}},Ub={xAccess:function(Qa,mb,zb,Kc){Oa("xAccess");Qa=Db("xAccess",Nc.cstrToJs(mb));Nc.poke(Kc,Qa?0:1,"i32");Ab();return 0},xCurrentTime:function(Qa,mb){Nc.poke(mb,2440587.5+(new Date).getTime()/864E5,"double");return 0},xCurrentTimeInt64:function(Qa,mb){Nc.poke(mb,21086676E7+(new Date).getTime(),"i64");return 0},xDelete:function(Qa,mb,zb){Oa("xDelete");Qa=Db("xDelete",
Nc.cstrToJs(mb),zb,!1);Ab();return Qa},xFullPathname:function(Qa,mb,zb,Kc){return Nc.cstrncpy(Kc,mb,zb)<zb?0:Cc.SQLITE_CANTOPEN},xGetLastError:function(Qa,mb,zb){Gb(1,...["OPFS xGetLastError() has nothing sensible to return."]);return 0},xOpen:function(Qa,mb,zb,Kc,bd){Oa("xOpen");let ld=0;0===mb?mb=Tb():"number"===typeof mb&&(Cc.sqlite3_uri_boolean(mb,"opfs-unlock-asap",0)&&(ld|=hc.opfsFlags.OPFS_UNLOCK_ASAP),mb=Nc.cstrToJs(mb));Qa=Object.create(null);Qa.fid=zb;Qa.filename=mb;Qa.sab=new SharedArrayBuffer(hc.fileBufferSize);
Qa.flags=Kc;mb=Db("xOpen",zb,mb,Kc,ld);mb||(Qa.readOnly&&Nc.poke(bd,Cc.SQLITE_OPEN_READONLY,"i32"),kb[zb]=Qa,Qa.sabView=hc.sabFileBufView,Qa.sq3File=new od(zb),Qa.sq3File.$pMethods=pc.pointer,Qa.lockType=Cc.SQLITE_LOCK_NONE);Ab();return mb}};dc&&(Wb.$xRandomness=dc.$xRandomness,Wb.$xSleep=dc.$xSleep);Wb.$xRandomness||(Ub.xRandomness=function(Qa,mb,zb){Qa=Nc.heap8u();let Kc=0;for(;Kc<mb;++Kc)Qa[zb+Kc]=255E3*Math.random()&255;return Kc});Wb.$xSleep||(Ub.xSleep=function(Qa,mb){Atomics.wait(hc.sabOPView,
hc.opIds.xSleep,0,mb);return 0});Pc.getResolvedPath=function(Qa,mb){Qa=(new URL(Qa,"file://irrelevant")).pathname;return mb?Qa.split("/").filter(zb=>!!zb):Qa};Pc.getDirForFilename=async function(Qa,mb=!1){Qa=Pc.getResolvedPath(Qa,!0);const zb=Qa.pop();let Kc=Pc.rootDirectory;for(const bd of Qa)bd&&(Kc=await Kc.getDirectoryHandle(bd,{create:!!mb}));return[Kc,zb]};Pc.mkdir=async function(Qa){try{return await Pc.getDirForFilename(Qa+"/filepart",!0),!0}catch(mb){return!1}};Pc.entryExists=async function(Qa){try{const [mb,
zb]=await Pc.getDirForFilename(Qa);await mb.getFileHandle(zb);return!0}catch(mb){return!1}};Pc.randomFilename=Tb;Pc.registerVfs=(Qa=!1)=>Nc.exports.sqlite3_vfs_register(Wb.pointer,Qa?1:0);Pc.treeList=async function(){const Qa=Object.create(null);await async function bd(zb,Kc){Kc.name=zb.name;Kc.dirs=[];Kc.files=[];for await(const ld of zb.values())"directory"===ld.kind?(zb=Object.create(null),Kc.dirs.push(zb),await bd(ld,zb)):Kc.files.push(ld.name)}(Pc.rootDirectory,Qa);return Qa};Pc.rmfr=async function(){const Qa=
Pc.rootDirectory,mb={recurse:!0};for await(const zb of Qa.values())Qa.removeEntry(zb.name,mb)};Pc.unlink=async function(Qa,mb=!1,zb=!1){try{const [Kc,bd]=await Pc.getDirForFilename(Qa,!1);await Kc.removeEntry(bd,{recursive:mb});return!0}catch(Kc){if(zb)throw Error("unlink(",Qa,") failed: "+Kc.message,{cause:Kc});return!1}};Pc.traverse=async function(Qa){const mb={recursive:!0,directory:Pc.rootDirectory};"function"===typeof Qa&&(Qa={callback:Qa});Qa=Object.assign(mb,Qa||{});(async function ld(Kc,bd){for await(const Hd of Kc.values()){if(!1===
Qa.callback(Hd,Kc,bd))return!1;if(Qa.recursive&&"directory"===Hd.kind&&!1===await ld(Hd,bd+1))break}})(Qa.directory,0)};const zc=async function(Qa,mb){const [zb,Kc]=await Pc.getDirForFilename(Qa,!0);Qa=await (await zb.getFileHandle(Kc,{create:!0})).createSyncAccessHandle();let bd=0,ld,Hd=!1;try{for(Qa.truncate(0);void 0!==(ld=await mb());)ld instanceof ArrayBuffer&&(ld=new Uint8Array(ld)),0===bd&&15<=ld.byteLength&&(ic.affirmDbHeader(ld),Hd=!0),Qa.write(ld,{at:bd}),bd+=ld.byteLength;(512>bd||0!==
bd%512)&&xc("Input size",bd,"is not correct for an SQLite database.");if(!Hd){const Ud=new Uint8Array(20);Qa.read(Ud,{at:0});ic.affirmDbHeader(Ud)}Qa.write(new Uint8Array([1,1]),{at:18});return bd}catch(Ud){throw await Qa.close(),Qa=void 0,await zb.removeEntry(Kc).catch(()=>{}),Ud;}finally{Qa&&await Qa.close()}};Pc.importDb=async function(Qa,mb){if(mb instanceof Function)return zc(Qa,mb);mb instanceof ArrayBuffer&&(mb=new Uint8Array(mb));ic.affirmIsDb(mb);const zb=mb.byteLength,[Kc,bd]=await Pc.getDirForFilename(Qa,
!0);let ld;Qa=0;try{return ld=await (await Kc.getFileHandle(bd,{create:!0})).createSyncAccessHandle(),ld.truncate(0),Qa=ld.write(mb,{at:0}),Qa!=zb&&xc("Expected to write "+zb+" bytes but wrote "+Qa+"."),ld.write(new Uint8Array([1,1]),{at:18}),Qa}catch(Hd){throw ld&&(await ld.close(),ld=void 0),await Kc.removeEntry(bd).catch(()=>{}),Hd;}finally{ld&&await ld.close()}};Yb.oo1&&(Lc=function(...Qa){Qa=Yb.oo1.DB.dbCtorHelper.normalizeArgs(...Qa);Qa.vfs=Wb.$zName;Yb.oo1.DB.dbCtorHelper.call(this,Qa)},Lc.prototype=
Object.create(Yb.oo1.DB.prototype),Yb.oo1.OpfsDb=Lc,Lc.importDb=Pc.importDb,Yb.oo1.DB.dbCtorHelper.setVfsPostOpenSql(Wb.pointer,function(Qa,mb){mb.capi.sqlite3_busy_timeout(Qa,1E4);mb.capi.sqlite3_exec(Qa,["pragma journal_mode\x3dDELETE;","pragma cache_size\x3d-16384;"],0,0,0)}));const Za=function(){const Qa=Nc.scopedAllocPush(),mb=new od;try{const bd=mb.pointer,ld=Cc.SQLITE_OPEN_CREATE|Cc.SQLITE_OPEN_READWRITE|Cc.SQLITE_OPEN_MAIN_DB,Hd=Nc.scopedAlloc(8),Ud="/sanity/check/file"+Tb(8),Sd=Nc.scopedAllocCString(Ud);
let vd;hc.s11n.serialize("This is  string.");vd=hc.s11n.deserialize();Gb(2,...["deserialize() says:",vd]);"This is  string."!==vd[0]&&xc("String d13n error.");Ub.xAccess(Wb.pointer,Sd,0,Hd);vd=Nc.peek(Hd,"i32");Gb(2,...["xAccess(",Ud,") exists ?\x3d",vd]);vd=Ub.xOpen(Wb.pointer,Sd,bd,ld,Hd);Gb(2,...["open rc \x3d",vd,"state.sabOPView[xOpen] \x3d",hc.sabOPView[hc.opIds.xOpen]]);if(0!==vd)Gb(0,...["open failed with code",vd]);else{Ub.xAccess(Wb.pointer,Sd,0,Hd);(vd=Nc.peek(Hd,"i32"))||xc("xAccess() failed to detect file.");
(vd=Cb.xSync(mb.pointer,0))&&xc("sync failed w/ rc",vd);(vd=Cb.xTruncate(mb.pointer,1024))&&xc("truncate failed w/ rc",vd);Nc.poke(Hd,0,"i64");(vd=Cb.xFileSize(mb.pointer,Hd))&&xc("xFileSize failed w/ rc",vd);Gb(2,...["xFileSize says:",Nc.peek(Hd,"i64")]);(vd=Cb.xWrite(mb.pointer,Sd,10,1))&&xc("xWrite() failed!");var zb=Nc.scopedAlloc(16);vd=Cb.xRead(mb.pointer,zb,6,2);Nc.poke(zb+6,0);var Kc=Nc.cstrToJs(zb);Gb(2,...["xRead() got:",Kc]);"sanity"!==Kc&&xc("Unexpected xRead() value.");Ub.xSleep&&(Gb(2,
...["xSleep()ing before close()ing..."]),Ub.xSleep(Wb.pointer,2E3),Gb(2,...["waking up from xSleep()"]));vd=Cb.xClose(bd);Gb(2,...["xClose rc \x3d",vd,"sabOPView \x3d",hc.sabOPView]);Gb(2,...["Deleting file:",Ud]);Ub.xDelete(Wb.pointer,Sd,4660);Ub.xAccess(Wb.pointer,Sd,0,Hd);(vd=Nc.peek(Hd,"i32"))&&xc("Expecting 0 from xAccess(",Ud,") after xDelete().");Gb(1,...["End of OPFS sanity checks."])}}finally{mb.dispose(),Nc.scopedAllocPop(Qa)}};vc.onmessage=function({data:Qa}){switch(Qa.type){case "opfs-unavailable":Jc(Error(Qa.payload.join(" ")));
break;case "opfs-async-loaded":vc.postMessage({type:"opfs-async-init",args:hc});break;case "opfs-async-inited":if(!0===Bc)break;try{Yb.vfs.installVfs({io:{struct:pc,methods:Cb},vfs:{struct:Wb,methods:Ub}}),hc.sabOPView=new Int32Array(hc.sabOP),hc.sabFileBufView=new Uint8Array(hc.sabIO,0,hc.fileBufferSize),hc.sabS11nView=new Uint8Array(hc.sabIO,hc.sabS11nOffset,hc.sabS11nSize),rc(),Kb.sanityChecks&&(Gb(1,...["Running sanity checks because of opfs-sanity-check URL arg..."]),Za()),ob()?navigator.storage.getDirectory().then(mb=>
{vc.onerror=vc._originalOnError;delete vc._originalOnError;Yb.opfs=Pc;Pc.rootDirectory=mb;Gb(2,...["End of OPFS sqlite3_vfs setup.",Wb]);Bc=!1;wb(Yb)}).catch(Jc):(Bc=!1,wb(Yb))}catch(mb){Gb(0,...[mb]),Jc(mb)}break;default:Qa="Unexpected message from the OPFS async worker: "+JSON.stringify(Qa),Gb(0,...[Qa]),Jc(Error(Qa))}}})};cc.defaultProxyUri="sqlite3-opfs-async-proxy.js";globalThis.sqlite3ApiBootstrap.initializersAsync.push(async Kb=>{try{let Bb=cc.defaultProxyUri;Kb.scriptInfo.sqlite3Dir&&(cc.defaultProxyUri=
Kb.scriptInfo.sqlite3Dir+Bb);return cc().catch(ib=>{Kb.config.warn("Ignoring inability to install OPFS sqlite3_vfs:",ib.message)})}catch(Bb){return Kb.config.error("installOpfsVfs() exception:",Bb),Promise.reject(Bb)}})});globalThis.sqlite3ApiBootstrap.initializers.push(function(Yb){function cc(Cb,...Ub){if(u(this,rc)>Cb)xc[Cb](this.vfsName+":",...Ub)}const yb=Yb.util.toss,Kb=Yb.util.toss3,Bb=Object.create(null),ib=Yb.capi,ub=Yb.util,wb=Yb.wasm,eb=ib.SQLITE_OPEN_MAIN_DB|ib.SQLITE_OPEN_MAIN_JOURNAL|
ib.SQLITE_OPEN_SUPER_JOURNAL|ib.SQLITE_OPEN_WAL,pb=new TextDecoder,Gb=new TextEncoder,ec=Object.assign(Object.create(null),{name:"opfs-sahpool",directory:void 0,initialCapacity:6,clearOnInit:!1,verbosity:2}),xc=[Yb.config.error,Yb.config.warn,Yb.config.log],Cc=Yb.config.warn,ic=new Map,Nc=(Cb,Ub)=>{Ub?ic.set(Cb,Ub):ic.delete(Cb)},Lc=new Map,od=new ib.sqlite3_io_methods;od.$iVersion=1;Yb.vfs.installVfs({io:{struct:od,methods:{xCheckReservedLock:function(Cb,Ub){Cb=Lc.get(Cb);Cb.log("xCheckReservedLock");
Cb.storeErr();wb.poke32(Ub,1);return 0},xClose:function(Cb){const Ub=Lc.get(Cb);Ub.storeErr();const zc=Ub.getOFileForS3File(Cb);if(zc)try{Ub.log(`xClose ${zc.path}`),Ub.mapS3FileToOFile(Cb,!1),zc.sah.flush(),zc.flags&ib.SQLITE_OPEN_DELETEONCLOSE&&Ub.deletePath(zc.path)}catch(Za){return Ub.storeErr(Za,ib.SQLITE_IOERR)}return 0},xDeviceCharacteristics:function(Cb){return ib.SQLITE_IOCAP_UNDELETABLE_WHEN_OPEN},xFileControl:function(Cb,Ub,zc){return ib.SQLITE_NOTFOUND},xFileSize:function(Cb,Ub){const zc=
Lc.get(Cb);zc.log("xFileSize");Cb=zc.getOFileForS3File(Cb).sah.getSize()-4096;wb.poke64(Ub,BigInt(Cb));return 0},xLock:function(Cb,Ub){const zc=Lc.get(Cb);zc.log(`xLock ${Ub}`);zc.storeErr();zc.getOFileForS3File(Cb).lockType=Ub;return 0},xRead:function(Cb,Ub,zc,Za){const ab=Lc.get(Cb);ab.storeErr();Cb=ab.getOFileForS3File(Cb);ab.log(`xRead ${Cb.path} ${zc} @ ${Za}`);try{const Qa=Cb.sah.read(wb.heap8u().subarray(Ub,Ub+zc),{at:4096+Number(Za)});return Qa<zc?(wb.heap8u().fill(0,Ub+Qa,Ub+zc),ib.SQLITE_IOERR_SHORT_READ):
0}catch(Qa){return ab.storeErr(Qa,ib.SQLITE_IOERR)}},xSectorSize:function(Cb){return 4096},xSync:function(Cb,Ub){const zc=Lc.get(Cb);zc.log(`xSync ${Ub}`);zc.storeErr();Cb=zc.getOFileForS3File(Cb);try{return Cb.sah.flush(),0}catch(Za){return zc.storeErr(Za,ib.SQLITE_IOERR)}},xTruncate:function(Cb,Ub){const zc=Lc.get(Cb);zc.log(`xTruncate ${Ub}`);zc.storeErr();Cb=zc.getOFileForS3File(Cb);try{return Cb.sah.truncate(4096+Number(Ub)),0}catch(Za){return zc.storeErr(Za,ib.SQLITE_IOERR)}},xUnlock:function(Cb,
Ub){const zc=Lc.get(Cb);zc.log("xUnlock");zc.getOFileForS3File(Cb).lockType=Ub;return 0},xWrite:function(Cb,Ub,zc,Za){const ab=Lc.get(Cb);ab.storeErr();Cb=ab.getOFileForS3File(Cb);ab.log(`xWrite ${Cb.path} ${zc} ${Za}`);try{const Qa=Cb.sah.write(wb.heap8u().subarray(Ub,Ub+zc),{at:4096+Number(Za)});return zc===Qa?0:yb("Unknown write() failure.")}catch(Qa){return ab.storeErr(Qa,ib.SQLITE_IOERR)}}}}});const pd={xAccess:function(Cb,Ub,zc,Za){Cb=ic.get(Cb);Cb.storeErr();try{const ab=Cb.getPath(Ub);wb.poke32(Za,
Cb.hasFilename(ab)?1:0)}catch(ab){wb.poke32(Za,0)}return 0},xCurrentTime:function(Cb,Ub){wb.poke(Ub,2440587.5+(new Date).getTime()/864E5,"double");return 0},xCurrentTimeInt64:function(Cb,Ub){wb.poke(Ub,21086676E7+(new Date).getTime(),"i64");return 0},xDelete:function(Cb,Ub,zc){Cb=ic.get(Cb);Cb.log(`xDelete ${wb.cstrToJs(Ub)}`);Cb.storeErr();try{return Cb.deletePath(Cb.getPath(Ub)),0}catch(Za){return Cb.storeErr(Za),ib.SQLITE_IOERR_DELETE}},xFullPathname:function(Cb,Ub,zc,Za){return wb.cstrncpy(Za,
Ub,zc)<zc?0:ib.SQLITE_CANTOPEN},xGetLastError:function(Cb,Ub,zc){var Za=ic.get(Cb);Cb=Za.popErr();Za.log(`xGetLastError ${Ub} e =`,Cb);if(Cb){Za=wb.scopedAllocPush();try{const [ab,Qa]=wb.scopedAllocCString(Cb.message,!0);wb.cstrncpy(zc,ab,Ub);Qa>Ub&&wb.poke8(zc+Ub-1,0)}catch(ab){return ib.SQLITE_NOMEM}finally{wb.scopedAllocPop(Za)}}return Cb?Cb.sqlite3Rc||ib.SQLITE_IOERR:0},xOpen:function(Cb,Ub,zc,Za,ab){Cb=ic.get(Cb);try{Cb.log(`xOpen ${wb.cstrToJs(Ub)} ${Za}`);const Qa=Ub&&wb.peek8(Ub)?Cb.getPath(Ub):
Math.random().toString(36).slice(2);let mb=Cb.getSAHForPath(Qa);!mb&&Za&ib.SQLITE_OPEN_CREATE&&(Cb.getFileCount()<Cb.getCapacity()?(mb=Cb.nextAvailableSAH(),Cb.setAssociatedPath(mb,Qa,Za)):yb("SAH pool is full. Cannot create file",Qa));mb||yb("file not found:",Qa);Ub={path:Qa,flags:Za,sah:mb};Cb.mapS3FileToOFile(zc,Ub);Ub.lockType=ib.SQLITE_LOCK_NONE;const zb=new ib.sqlite3_file(zc);zb.$pMethods=od.pointer;zb.dispose();wb.poke32(ab,Za);return 0}catch(Qa){return Cb.storeErr(Qa),ib.SQLITE_CANTOPEN}}},
Pc=function(Cb){Yb.capi.sqlite3_vfs_find(Cb)&&Kb("VFS name is already registered:",Cb);const Ub=new ib.sqlite3_vfs;var zc=ib.sqlite3_vfs_find(null);zc=zc?new ib.sqlite3_vfs(zc):null;Ub.$iVersion=2;Ub.$szOsFile=ib.sqlite3_file.structInfo.sizeof;Ub.$mxPathname=512;Ub.addOnDispose(Ub.$zName=wb.allocCString(Cb),()=>Nc(Ub.pointer,0));zc&&(Ub.$xRandomness=zc.$xRandomness,Ub.$xSleep=zc.$xSleep,zc.dispose());Ub.$xRandomness||pd.xRandomness||(pd.xRandomness=function(Za,ab,Qa){Za=wb.heap8u();let mb=0;for(;mb<
ab;++mb)Za[Qa+mb]=255E3*Math.random()&255;return mb});Ub.$xSleep||pd.xSleep||(pd.xSleep=(Za,ab)=>0);Yb.vfs.installVfs({vfs:{struct:Ub,methods:pd}});return Ub};var ob=new WeakMap,pc=new WeakMap,Wb=new WeakMap,Bc=new WeakMap,Jc=new WeakMap,vc=new WeakMap,dc=new WeakMap,hc=new WeakMap,lc=new WeakMap,Db=new WeakMap,rc=new WeakMap,Tb=new WeakSet;class kb{constructor(Cb=Object.create(null)){x(this,Tb);q(this,"vfsDir",void 0);W(this,ob,{writable:!0,value:void 0});W(this,pc,{writable:!0,value:void 0});W(this,
Wb,{writable:!0,value:void 0});W(this,Bc,{writable:!0,value:new Map});W(this,Jc,{writable:!0,value:new Map});W(this,vc,{writable:!0,value:new Set});W(this,dc,{writable:!0,value:new Map});W(this,hc,{writable:!0,value:new Uint8Array(516)});W(this,lc,{writable:!0,value:void 0});W(this,Db,{writable:!0,value:void 0});W(this,rc,{writable:!0,value:void 0});A(this,rc,Cb.verbosity??ec.verbosity);this.vfsName=Cb.name||ec.name;A(this,Db,Pc(this.vfsName));Nc(u(this,Db).pointer,this);this.vfsDir=Cb.directory||
"."+this.vfsName;A(this,lc,new DataView(u(this,hc).buffer,u(this,hc).byteOffset));this.isReady=this.reset(!!(Cb.clearOnInit??ec.clearOnInit)).then(()=>{if(this.$error)throw this.$error;return this.getCapacity()?Promise.resolve(void 0):this.addCapacity(Cb.initialCapacity||ec.initialCapacity)})}log(...Cb){b(this,Tb,cc).call(this,2,...Cb)}warn(...Cb){b(this,Tb,cc).call(this,1,...Cb)}error(...Cb){b(this,Tb,cc).call(this,0,...Cb)}getVfs(){return u(this,Db)}getCapacity(){return u(this,Bc).size}getFileCount(){return u(this,
Jc).size}getFileNames(){const Cb=[],Ub=u(this,Jc).keys();for(const zc of Ub)Cb.push(zc);return Cb}async addCapacity(Cb){for(let Ub=0;Ub<Cb;++Ub){const zc=Math.random().toString(36).slice(2),Za=await (await u(this,pc).getFileHandle(zc,{create:!0})).createSyncAccessHandle();u(this,Bc).set(Za,zc);this.setAssociatedPath(Za,"",0)}return this.getCapacity()}async reduceCapacity(Cb){let Ub=0;for(const zc of Array.from(u(this,vc))){if(Ub===Cb||this.getFileCount()===this.getCapacity())break;const Za=u(this,
Bc).get(zc);zc.close();await u(this,pc).removeEntry(Za);u(this,Bc).delete(zc);u(this,vc).delete(zc);++Ub}return Ub}releaseAccessHandles(){for(const Cb of u(this,Bc).keys())Cb.close();u(this,Bc).clear();u(this,Jc).clear();u(this,vc).clear()}async acquireAccessHandles(Cb){const Ub=[];for await(const [zc,Za]of u(this,pc))"file"===Za.kind&&Ub.push([zc,Za]);return Promise.all(Ub.map(async([zc,Za])=>{try{const ab=await Za.createSyncAccessHandle();u(this,Bc).set(ab,zc);if(Cb)ab.truncate(4096),this.setAssociatedPath(ab,
"",0);else{const Qa=this.getAssociatedPath(ab);Qa?u(this,Jc).set(Qa,ab):u(this,vc).add(ab)}}catch(ab){throw this.storeErr(ab),this.releaseAccessHandles(),ab;}}))}getAssociatedPath(Cb){Cb.read(u(this,hc),{at:0});var Ub=u(this,lc).getUint32(512);if(u(this,hc)[0]&&(Ub&ib.SQLITE_OPEN_DELETEONCLOSE||0===(Ub&eb)))return Cc(`Removing file with unexpected flags ${Ub.toString(16)}`,u(this,hc)),this.setAssociatedPath(Cb,"",0),"";Ub=new Uint32Array(2);Cb.read(Ub,{at:516});const zc=this.computeDigest(u(this,
hc));if(Ub.every((Za,ab)=>Za===zc[ab]))return Ub=u(this,hc).findIndex(Za=>0===Za),0===Ub&&Cb.truncate(4096),Ub?pb.decode(u(this,hc).subarray(0,Ub)):"";Cc("Disassociating file with bad digest.");this.setAssociatedPath(Cb,"",0);return""}setAssociatedPath(Cb,Ub,zc){const Za=Gb.encodeInto(Ub,u(this,hc));512<=Za.written+1&&yb("Path too long:",Ub);u(this,hc).fill(0,Za.written,512);u(this,lc).setUint32(512,zc);zc=this.computeDigest(u(this,hc));Cb.write(u(this,hc),{at:0});Cb.write(zc,{at:516});Cb.flush();
Ub?(u(this,Jc).set(Ub,Cb),u(this,vc).delete(Cb)):(Cb.truncate(4096),u(this,vc).add(Cb))}computeDigest(Cb){let Ub=3735928559,zc=1103547991;for(const Za of Cb)Ub=31*Ub+307*Za,zc=31*zc+307*Za;return new Uint32Array([Ub>>>0,zc>>>0])}async reset(Cb){await this.isReady;let Ub=await navigator.storage.getDirectory(),zc;for(const Za of this.vfsDir.split("/"))Za&&(zc=Ub,Ub=await Ub.getDirectoryHandle(Za,{create:!0}));A(this,ob,Ub);A(this,Wb,zc);A(this,pc,await u(this,ob).getDirectoryHandle(".opaque",{create:!0}));
this.releaseAccessHandles();return this.acquireAccessHandles(Cb)}getPath(Cb){wb.isPtr(Cb)&&(Cb=wb.cstrToJs(Cb));return(Cb instanceof URL?Cb:new URL(Cb,"file://localhost/")).pathname}deletePath(Cb){const Ub=u(this,Jc).get(Cb);Ub&&(u(this,Jc).delete(Cb),this.setAssociatedPath(Ub,"",0));return!!Ub}storeErr(Cb,Ub){Cb&&(Cb.sqlite3Rc=Ub||ib.SQLITE_IOERR,this.error(Cb));this.$error=Cb;return Ub}popErr(){const Cb=this.$error;this.$error=void 0;return Cb}nextAvailableSAH(){const [Cb]=u(this,vc).keys();return Cb}getOFileForS3File(Cb){return u(this,
dc).get(Cb)}mapS3FileToOFile(Cb,Ub){Ub?(u(this,dc).set(Cb,Ub),this?Lc.set(Cb,this):Lc.delete(Cb)):(u(this,dc).delete(Cb),Lc.delete(Cb))}hasFilename(Cb){return u(this,Jc).has(Cb)}getSAHForPath(Cb){return u(this,Jc).get(Cb)}async removeVfs(){if(!u(this,Db).pointer||!u(this,pc))return!1;ib.sqlite3_vfs_unregister(u(this,Db).pointer);u(this,Db).dispose();try{this.releaseAccessHandles(),await u(this,ob).removeEntry(".opaque",{recursive:!0}),A(this,pc,void 0),await u(this,Wb).removeEntry(u(this,ob).name,
{recursive:!0}),A(this,ob,A(this,Wb,void 0)),delete Bb[this.vfsName]}catch(Cb){Yb.config.error(this.vfsName,"removeVfs() failed:",Cb)}return!0}exportFile(Cb){var Ub=u(this,Jc).get(Cb)||yb("File not found:",Cb);Cb=Ub.getSize()-4096;const zc=new Uint8Array(0<Cb?Cb:0);0<Cb&&(Ub=Ub.read(zc,{at:4096}),Ub!=Cb&&yb("Expected to read "+Cb+" bytes but read "+Ub+"."));return zc}async importDbChunked(Cb,Ub){const zc=u(this,Jc).get(Cb)||this.nextAvailableSAH()||yb("No available handles to import to.");zc.truncate(0);
let Za=0,ab,Qa=!1;try{for(;void 0!==(ab=await Ub());)ab instanceof ArrayBuffer&&(ab=new Uint8Array(ab)),0===Za&&15<=ab.byteLength&&(ub.affirmDbHeader(ab),Qa=!0),zc.write(ab,{at:4096+Za}),Za+=ab.byteLength;(512>Za||0!==Za%512)&&yb("Input size",Za,"is not correct for an SQLite database.");if(!Qa){const mb=new Uint8Array(20);zc.read(mb,{at:0});ub.affirmDbHeader(mb)}zc.write(new Uint8Array([1,1]),{at:4114})}catch(mb){throw this.setAssociatedPath(zc,"",0),mb;}this.setAssociatedPath(zc,Cb,ib.SQLITE_OPEN_MAIN_DB);
return Za}importDb(Cb,Ub){if(Ub instanceof ArrayBuffer)Ub=new Uint8Array(Ub);else if(Ub instanceof Function)return this.importDbChunked(Cb,Ub);const zc=u(this,Jc).get(Cb)||this.nextAvailableSAH()||yb("No available handles to import to."),Za=Ub.byteLength;(512>Za||0!=Za%512)&&yb("Byte array size is invalid for an SQLite db.");for(let ab=0;15>ab;++ab)"SQLite format 3".charCodeAt(ab)!==Ub[ab]&&yb("Input does not contain an SQLite database header.");Ub=zc.write(Ub,{at:4096});Ub!=Za?(this.setAssociatedPath(zc,
"",0),yb("Expected to write "+Za+" bytes but wrote "+Ub+".")):(zc.write(new Uint8Array([1,1]),{at:4114}),this.setAssociatedPath(zc,Cb,ib.SQLITE_OPEN_MAIN_DB));return Ub}}var sb=new WeakMap;class Oa{constructor(Cb){W(this,sb,{writable:!0,value:void 0});A(this,sb,Cb);this.vfsName=Cb.vfsName}async addCapacity(Cb){return u(this,sb).addCapacity(Cb)}async reduceCapacity(Cb){return u(this,sb).reduceCapacity(Cb)}getCapacity(){return u(this,sb).getCapacity(u(this,sb))}getFileCount(){return u(this,sb).getFileCount()}getFileNames(){return u(this,
sb).getFileNames()}async reserveMinimumCapacity(Cb){const Ub=u(this,sb).getCapacity();return Ub<Cb?u(this,sb).addCapacity(Cb-Ub):Ub}exportFile(Cb){return u(this,sb).exportFile(Cb)}importDb(Cb,Ub){return u(this,sb).importDb(Cb,Ub)}async wipeFiles(){return u(this,sb).reset(!0)}unlink(Cb){return u(this,sb).deletePath(Cb)}releaseAccessHandles(){return u(this,sb).releaseAccessHandles()}async acquireAccessHandles(){return u(this,sb).acquireAccessHandles(!1)}async removeVfs(){return u(this,sb).removeVfs()}}
const Ab=async()=>{const Cb=await navigator.storage.getDirectory(),Ub=".opfs-sahpool-sync-check-"+Math.random().toString(36).slice(2),zc=(await (await Cb.getFileHandle(Ub,{create:!0})).createSyncAccessHandle()).close();await zc;await Cb.removeEntry(Ub);null!==zc&&void 0!==zc&&zc.then&&yb("The local OPFS API is too old for opfs-sahpool:","it has an async FileSystemSyncAccessHandle.close() method.");return!0};Yb.installOpfsSAHPoolVfs=async function(Cb=Object.create(null)){var Ub,zc;const Za=Cb.name||
ec.name;return Bb[Za]?Bb[Za]:globalThis.FileSystemHandle&&globalThis.FileSystemDirectoryHandle&&globalThis.FileSystemFileHandle&&globalThis.FileSystemFileHandle.prototype.createSyncAccessHandle&&null!==(Ub=navigator)&&void 0!==Ub&&null!==(zc=Ub.storage)&&void 0!==zc&&zc.getDirectory?Bb[Za]=Ab().then(async function(){if(Cb.$testThrowInInit)throw Cb.$testThrowInInit;const ab=new kb(Cb);return ab.isReady.then(async()=>{const Qa=new Oa(ab);if(Yb.oo1){const mb=Yb.oo1,zb=ab.getVfs(),Kc=function(...bd){bd=
mb.DB.dbCtorHelper.normalizeArgs(...bd);bd.vfs=zb.$zName;mb.DB.dbCtorHelper.call(this,bd)};Kc.prototype=Object.create(mb.DB.prototype);Qa.OpfsSAHPoolDb=Kc;mb.DB.dbCtorHelper.setVfsPostOpenSql(zb.pointer,function(bd,ld){ld.capi.sqlite3_exec(bd,["pragma journal_mode\x3dDELETE;","pragma cache_size\x3d-16384;"],0,0,0)})}ab.log("VFS initialized.");return Qa}).catch(async Qa=>{await ab.removeVfs().catch(()=>{});return Qa})}).catch(ab=>Bb[Za]=Promise.reject(ab)):Bb[Za]=Promise.reject(Error("Missing required OPFS APIs."))}});
"use strict";if("undefined"!==typeof Ua){const Yb=Object.assign(Object.create(null),{exports:"undefined"===typeof wasmExports?Ua.asm:wasmExports,memory:Ua.wasmMemory},globalThis.sqlite3ApiConfig||{});globalThis.sqlite3ApiConfig=Yb;let cc;try{cc=globalThis.sqlite3ApiBootstrap()}catch(yb){throw console.error("sqlite3ApiBootstrap() error:",yb),yb;}finally{delete globalThis.sqlite3ApiBootstrap,delete globalThis.sqlite3ApiConfig}Ua.sqlite3=cc}else console.warn("This is not running in an Emscripten module context, so",
"globalThis.sqlite3ApiBootstrap() is _not_ being called due to lack","of config info for the WASM environment.","It must be called manually.")});return P.ready})();E=function(){var P,f;const g=E;if(!g)throw Error("Expecting globalThis.sqlite3InitModule to be defined by the Emscripten build.");const a=globalThis.sqlite3InitModuleState=Object.assign(Object.create(null),{moduleScript:null===globalThis||void 0===globalThis?void 0:null===(P=globalThis.document)||void 0===P?void 0:P.currentScript,isWorker:"undefined"!==
typeof WorkerGlobalScope,location:globalThis.location,urlParams:null!==globalThis&&void 0!==globalThis&&null!==(f=globalThis.location)&&void 0!==f&&f.href?(new URL(globalThis.location.href)).searchParams:new URLSearchParams});a.debugModule=a.urlParams.has("sqlite3.debugModule")?(...h)=>console.warn("sqlite3.debugModule:",...h):()=>{};a.urlParams.has("sqlite3.dir")?a.sqlite3Dir=a.urlParams.get("sqlite3.dir")+"/":a.moduleScript&&(P=a.moduleScript.src.split("/"),P.pop(),a.sqlite3Dir=P.join("/")+"/");
globalThis.sqlite3InitModule=function m(...l){return g(...l).then(D=>{D=D.sqlite3;D.scriptInfo=a;m.__isUnderTest&&(D.__isUnderTest=!0);const w=D.asyncPostInit;delete D.asyncPostInit;return w()}).catch(D=>{console.error("Exception loading sqlite3 module:",D);throw D;})};globalThis.sqlite3InitModule.ready=g.ready;globalThis.sqlite3InitModuleState.moduleScript&&(P=globalThis.sqlite3InitModuleState,f=P.moduleScript.src.split("/"),f.pop(),P.scriptDir=f.join("/")+"/");a.debugModule("sqlite3InitModuleState \x3d",
a);return globalThis.sqlite3InitModule}();L.default=E};
shadow$provide[608]=function(xa,ca,Ya,L){globalThis.sqlite3Worker1Promiser=function B(W=B.defaultConfig){if(1===arguments.length&&"function"===typeof arguments[0]){var q=W;W=Object.assign(Object.create(null),B.defaultConfig);W.onready=q}else W=Object.assign(Object.create(null),B.defaultConfig,W);const b=Object.create(null);q=function(){};const u=W.onerror||q,A=W.debug||q,C=W.generateMessageId?void 0:Object.create(null),E=W.generateMessageId||function(g){return g.type+"#"+(C[g.type]=(C[g.type]||0)+
1)},P=(...g)=>{throw Error(g.join(" "));};W.worker||(W.worker=B.defaultConfig.worker);"function"===typeof W.worker&&(W.worker=W.worker());let f;W.worker.onmessage=function(g){g=g.data;A("worker1.onmessage",g);let a=b[g.messageId];if(a){delete b[g.messageId];switch(g.type){case "error":a.reject(g);return;case "open":f||(f=g.dbId);break;case "close":g.dbId===f&&(f=void 0)}try{a.resolve(g)}catch(h){a.reject(h)}}else if(g&&"sqlite3-api"===g.type&&"worker1-ready"===g.result){if(W.onready)W.onready()}else if((a=
b[g.type])&&a.onrow)a.onrow(g);else if(W.onunhandled)W.onunhandled(g);else u("sqlite3Worker1Promiser() unhandled worker message:",g)};return function(){let g;1===arguments.length?g=arguments[0]:2===arguments.length?(g=Object.create(null),g.type=arguments[0],g.args=arguments[1]):P("Invalid arugments for sqlite3Worker1Promiser()-created factory.");g.dbId||(g.dbId=f);g.messageId=E(g);g.departureTime=performance.now();const a=Object.create(null);a.message=g;let h;"exec"===g.type&&g.args&&("function"===
typeof g.args.callback?(h=g.messageId+":row",a.onrow=g.args.callback,g.args.callback=h,b[h]=a):"string"===typeof g.args.callback&&P("exec callback may not be a string when using the Promise interface."));let l=new Promise(function(m,D){a.resolve=m;a.reject=D;b[g.messageId]=a;A("Posting",g.type,"message to Worker dbId\x3d"+(f||"default")+":",g);W.worker.postMessage(g)});h&&(l=l.finally(()=>delete b[h]));return l}};globalThis.sqlite3Worker1Promiser.defaultConfig={worker:function(){return new Worker(new URL("sqlite3-worker1-bundler-friendly.mjs",
Module.url),{type:"module"})},onerror:(...W)=>console.error("worker1 promiser error",...W)}};
shadow$provide[609]=function(xa,ca,Ya,L){Object.defineProperty(L,"__esModule",{value:!0});L.sqlite3Worker1Promiser=L.default=void 0;xa=(xa=ca(607))&&xa.__esModule?xa:{default:xa};ca(608);L.sqlite3Worker1Promiser=self.sqlite3Worker1Promiser;L.default=xa.default};
shadow$provide[610]=function(xa,ca,Ya,L){function x(ma){"@babel/helpers - typeof";x="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(na){return typeof na}:function(na){return na&&"function"===typeof Symbol&&na.constructor===Symbol&&na!==Symbol.prototype?"symbol":typeof na};return x(ma)}function W(ma,na){if(!(ma instanceof na))throw new TypeError("Cannot call a class as a function");}function B(ma,na){for(var Na=0;Na<na.length;Na++){var Ra=na[Na];Ra.enumerable=Ra.enumerable||
!1;Ra.configurable=!0;"value"in Ra&&(Ra.writable=!0);Object.defineProperty(ma,Ra.key,Ra)}}function q(ma,na,Na){na&&B(ma.prototype,na);Na&&B(ma,Na);return ma}function b(ma,na,Na){na in ma?Object.defineProperty(ma,na,{value:Na,enumerable:!0,configurable:!0,writable:!0}):ma[na]=Na;return ma}function u(ma,na){var Na=Object.keys(ma);if(Object.getOwnPropertySymbols){var Ra=Object.getOwnPropertySymbols(ma);na&&(Ra=Ra.filter(function(Sa){return Object.getOwnPropertyDescriptor(ma,Sa).enumerable}));Na.push.apply(Na,
Ra)}return Na}function A(ma){for(var na=1;na<arguments.length;na++){var Na=null!=arguments[na]?arguments[na]:{};na%2?u(Object(Na),!0).forEach(function(Ra){b(ma,Ra,Na[Ra])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ma,Object.getOwnPropertyDescriptors(Na)):u(Object(Na)).forEach(function(Ra){Object.defineProperty(ma,Ra,Object.getOwnPropertyDescriptor(Na,Ra))})}return ma}function C(ma,na){if("function"!==typeof na&&null!==na)throw new TypeError("Super expression must either be null or a function");
ma.prototype=Object.create(na&&na.prototype,{constructor:{value:ma,writable:!0,configurable:!0}});na&&P(ma,na)}function E(ma){E=Object.setPrototypeOf?Object.getPrototypeOf:function(na){return na.__proto__||Object.getPrototypeOf(na)};return E(ma)}function P(ma,na){P=Object.setPrototypeOf||function(Na,Ra){Na.__proto__=Ra;return Na};return P(ma,na)}function f(){if("undefined"===typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,
[],function(){})),!0}catch(ma){return!1}}function g(ma){var na=f();return function(){var Na=E(ma);if(na){var Ra=E(this).constructor;Na=Reflect.construct(Na,arguments,Ra)}else Na=Na.apply(this,arguments);if(!Na||"object"!==typeof Na&&"function"!==typeof Na){if(void 0===this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");Na=this}return Na}}function a(ma){var na=Array.isArray(ma)?h(ma):void 0;na||(na="undefined"!==typeof Symbol&&Symbol.iterator in Object(ma)?Array.from(ma):
void 0);if(!na)a:{if(ma){if("string"===typeof ma){na=h(ma,void 0);break a}na=Object.prototype.toString.call(ma).slice(8,-1);"Object"===na&&ma.constructor&&(na=ma.constructor.name);if("Map"===na||"Set"===na){na=Array.from(ma);break a}if("Arguments"===na||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(na)){na=h(ma,void 0);break a}}na=void 0}if(!(ma=na))throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
return ma}function h(ma,na){if(null==na||na>ma.length)na=ma.length;for(var Na=0,Ra=Array(na);Na<na;Na++)Ra[Na]=ma[Na];return Ra}function l(ma){return Array.isArray?Array.isArray(ma):"[object Array]"===w(ma)}function m(ma){return"string"===typeof ma}function D(ma){return void 0!==ma&&null!==ma}function w(ma){return null==ma?void 0===ma?"[object Undefined]":"[object Null]":Object.prototype.toString.call(ma)}function r(ma){var na=1;if(m(ma)||l(ma)){var Na=ma;var Ra=n(ma);ma=e(ma)}else{if(!ha.call(ma,
"name"))throw Error("Missing ".concat("name"," property in key"));var Sa=ma.name;Na=Sa;if(ha.call(ma,"weight")&&(na=ma.weight,0>=na))throw Error("Property 'weight' in key '".concat(Sa,"' must be a positive integer"));Ra=n(Sa);ma=e(Sa)}return{path:Ra,id:ma,weight:na,src:Na}}function n(ma){return l(ma)?ma:ma.split(".")}function e(ma){return l(ma)?ma.join("."):ma}function F(){var ma=0<arguments.length&&void 0!==arguments[0]?arguments[0]:3,na=new Map,Na=Math.pow(10,ma);return{get:function(Ra){Ra=Ra.match(aa).length;
if(na.has(Ra))return na.get(Ra);var Sa=parseFloat(Math.round(1/Math.sqrt(Ra)*Na)/Na);na.set(Ra,Sa);return Sa},clear:function(){na.clear()}}}function y(ma,na){var Na=(2<arguments.length&&void 0!==arguments[2]?arguments[2]:{}).getFn;Na=new X({getFn:void 0===Na?Z.getFn:Na});Na.setKeys(ma.map(r));Na.setSources(na);Na.create();return Na}function K(ma){var na=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},Na=na.errors,Ra=na.currentLocation,Sa=na.expectedLocation,Ma=na.distance;Ma=void 0===Ma?
Z.distance:Ma;na=na.ignoreLocation;Na=(void 0===Na?0:Na)/ma.length;if(void 0===na?Z.ignoreLocation:na)return Na;Ra=Math.abs((void 0===Sa?0:Sa)-(void 0===Ra?0:Ra));return Ma?Na+Ra/Ma:Ra?1:Na}function U(){for(var ma=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],na=1<arguments.length&&void 0!==arguments[1]?arguments[1]:Z.minMatchCharLength,Na=[],Ra=-1,Sa,Ma=0,Xa=ma.length;Ma<Xa;Ma+=1)(Sa=ma[Ma])&&-1===Ra?Ra=Ma:Sa||-1===Ra||(Sa=Ma-1,Sa-Ra+1>=na&&Na.push([Ra,Sa]),Ra=-1);ma[Ma-1]&&Ma-Ra>=na&&
Na.push([Ra,Ma-1]);return Na}function G(ma,na,Na){var Ra=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{},Sa=Ra.location,Ma=void 0===Sa?Z.location:Sa;Sa=Ra.distance;Sa=void 0===Sa?Z.distance:Sa;var Xa=Ra.threshold,jb=void 0===Xa?Z.threshold:Xa;Xa=Ra.findAllMatches;Xa=void 0===Xa?Z.findAllMatches:Xa;var Jb=Ra.minMatchCharLength;Jb=void 0===Jb?Z.minMatchCharLength:Jb;var Fb=Ra.includeMatches;Fb=void 0===Fb?Z.includeMatches:Fb;Ra=Ra.ignoreLocation;Ra=void 0===Ra?Z.ignoreLocation:Ra;if(32<na.length)throw Error("Pattern length exceeds max of ".concat(32,
"."));var Aa=na.length,nb=ma.length;Ma=Math.max(0,Math.min(Ma,nb));for(var fb=jb,Va=Ma,hb=(jb=1<Jb||Fb)?Array(nb):[],Wa;-1<(Wa=ma.indexOf(na,Va));)if(Va=K(na,{currentLocation:Wa,expectedLocation:Ma,distance:Sa,ignoreLocation:Ra}),fb=Math.min(Va,fb),Va=Wa+Aa,jb)for(var $b=0;$b<Aa;)hb[Wa+$b]=1,$b+=1;Va=-1;Wa=[];$b=1;for(var Tc=Aa+nb,Qc=1<<Aa-1,Gc=0;Gc<Aa;Gc+=1){for(var Hc=0,Ta=Tc;Hc<Ta;)K(na,{errors:Gc,currentLocation:Ma+Ta,expectedLocation:Ma,distance:Sa,ignoreLocation:Ra})<=fb?Hc=Ta:Tc=Ta,Ta=Math.floor((Tc-
Hc)/2+Hc);Tc=Ta;Hc=Math.max(1,Ma-Ta+1);var Ua=Xa?nb:Math.min(Ma+Ta,nb)+Aa;Ta=Array(Ua+2);for(Ta[Ua+1]=(1<<Gc)-1;Ua>=Hc;--Ua){var xb=Ua-1,qb=Na[ma.charAt(xb)];jb&&(hb[xb]=+!!qb);Ta[Ua]=(Ta[Ua+1]<<1|1)&qb;Gc&&(Ta[Ua]=Ta[Ua]|(Wa[Ua+1]|Wa[Ua])<<1|1|Wa[Ua+1]);if(Ta[Ua]&Qc&&($b=K(na,{errors:Gc,currentLocation:xb,expectedLocation:Ma,distance:Sa,ignoreLocation:Ra}),$b<=fb)){fb=$b;Va=xb;if(Va<=Ma)break;Hc=Math.max(1,2*Ma-Va)}}if(K(na,{errors:Gc+1,currentLocation:Ma,expectedLocation:Ma,distance:Sa,ignoreLocation:Ra})>
fb)break;Wa=Ta}Sa={isMatch:0<=Va,score:Math.max(.001,$b)};jb&&((Xa=U(hb,Jb),Xa.length)?Fb&&(Sa.indices=Xa):Sa.isMatch=!1);return Sa}function R(ma,na){return(ma=ma.match(na))?ma[1]:null}function N(ma){var na=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return ma.split("|").map(function(Na){Na=Na.trim().split(Ja).filter(function(nb){return nb&&!!nb.trim()});for(var Ra=[],Sa=0,Ma=Na.length;Sa<Ma;Sa+=1){for(var Xa=Na[Sa],jb=!1,Jb=-1;!jb&&++Jb<Ha;){var Fb=va[Jb],Aa=Fb.isMultiMatch(Xa);Aa&&
(Ra.push(new Fb(Aa,na)),jb=!0)}if(!jb)for(Jb=-1;++Jb<Ha;)if(jb=va[Jb],Fb=jb.isSingleMatch(Xa)){Ra.push(new jb(Fb,na));break}}return Ra})}function T(ma,na){for(var Na=0,Ra=Ea.length;Na<Ra;Na+=1){var Sa=Ea[Na];if(Sa.condition(ma,na))return new Sa(ma,na)}return new fa(ma,na)}function t(ma,na){var Na=(2<arguments.length&&void 0!==arguments[2]?arguments[2]:{}).auto,Ra=void 0===Na?!0:Na;ma[Ka]||ma[za]||(ma=ta(ma));return function Xa(Ma){var jb=Object.keys(Ma),Jb=!!Ma[ka.PATH];if(!Jb&&1<jb.length&&!Ma[Ka]&&
!Ma[za])return Xa(ta(Ma));if(ja(Ma)){jb=Jb?Ma[ka.PATH]:jb[0];Jb=Jb?Ma[ka.PATTERN]:Ma[jb];if(!m(Jb))throw Error("Invalid value for key ".concat(jb));jb={keyId:e(jb),pattern:Jb};Ra&&(jb.searcher=T(Jb,na));return jb}var Fb={children:[],operator:jb[0]};jb.forEach(function(Aa){Aa=Ma[Aa];l(Aa)&&Aa.forEach(function(nb){Fb.children.push(Xa(nb))})});return Fb}(ma)}function I(ma,na){na=na.ignoreFieldNorm;var Na=void 0===na?Z.ignoreFieldNorm:na;ma.forEach(function(Ra){var Sa=1;Ra.matches.forEach(function(Ma){var Xa=
Ma.key,jb=Ma.norm;Ma=Ma.score;Xa=Xa?Xa.weight:null;Sa*=Math.pow(0===Ma&&Xa?Number.EPSILON:Ma,(Xa||1)*(Na?1:jb))});Ra.score=Sa})}function H(ma,na){ma=ma.matches;na.matches=[];D(ma)&&ma.forEach(function(Na){if(D(Na.indices)&&Na.indices.length){var Ra={indices:Na.indices,value:Na.value};Na.key&&(Ra.key=Na.key.src);-1<Na.idx&&(Ra.refIndex=Na.idx);na.matches.push(Ra)}})}function Q(ma,na){na.score=ma.score}function O(ma,na){var Na=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},Ra=Na.includeMatches;
Na=Na.includeScore;Na=void 0===Na?Z.includeScore:Na;var Sa=[];(void 0===Ra?Z.includeMatches:Ra)&&Sa.push(H);Na&&Sa.push(Q);return ma.map(function(Ma){var Xa=Ma.idx,jb={item:na[Xa],refIndex:Xa};Sa.length&&Sa.forEach(function(Jb){Jb(Ma,jb)});return jb})}var M=1/0,ha=Object.prototype.hasOwnProperty,V=function(){function ma(na){var Na=this;W(this,ma);this._keys=[];this._keyMap={};var Ra=0;na.forEach(function(Sa){Sa=r(Sa);Ra+=Sa.weight;Na._keys.push(Sa);Na._keyMap[Sa.id]=Sa;Ra+=Sa.weight});this._keys.forEach(function(Sa){Sa.weight/=
Ra})}q(ma,[{key:"get",value:function(na){return this._keyMap[na]}},{key:"keys",value:function(){return this._keys}},{key:"toJSON",value:function(){return JSON.stringify(this._keys)}}]);return ma}(),Z=A({},{isCaseSensitive:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:function(ma,na){return ma.score===na.score?ma.idx<na.idx?-1:1:ma.score<na.score?-1:1}},{},{includeMatches:!1,findAllMatches:!1,minMatchCharLength:1},{},{location:0,threshold:.6,distance:100},{},{useExtendedSearch:!1,getFn:function(ma,
na){var Na=[],Ra=!1;(function Jb(Ma,Xa,jb){if(D(Ma))if(Xa[jb]){if(Ma=Ma[Xa[jb]],D(Ma)){var Fb;if(Fb=jb===Xa.length-1)(Fb=m(Ma)||"number"===typeof Ma)||(Fb=!0===Ma||!1===Ma)||(Fb="object"===x(Ma)&&null!==Ma&&"[object Boolean]"==w(Ma));if(Fb)Xa=Na.push,null==Ma?Ma="":"string"!=typeof Ma&&(jb=Ma+"",Ma="0"==jb&&1/Ma==-M?"-0":jb),Xa.call(Na,Ma);else if(l(Ma)){Ra=!0;Fb=0;for(var Aa=Ma.length;Fb<Aa;Fb+=1)Jb(Ma[Fb],Xa,jb+1)}else Xa.length&&Jb(Ma,Xa,jb+1)}}else Na.push(Ma)})(ma,m(na)?na.split("."):na,0);return Ra?
Na:Na[0]},ignoreLocation:!1,ignoreFieldNorm:!1}),aa=/[^ ]+/g,X=function(){function ma(){var na=(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}).getFn;na=void 0===na?Z.getFn:na;W(this,ma);this.norm=F(3);this.getFn=na;this.isCreated=!1;this.setIndexRecords()}q(ma,[{key:"setSources",value:function(){this.docs=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[]}},{key:"setIndexRecords",value:function(){this.records=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[]}},{key:"setKeys",
value:function(){var na=this,Na=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[];this.keys=Na;this._keysMap={};Na.forEach(function(Ra,Sa){na._keysMap[Ra.id]=Sa})}},{key:"create",value:function(){var na=this;!this.isCreated&&this.docs.length&&(this.isCreated=!0,m(this.docs[0])?this.docs.forEach(function(Na,Ra){na._addString(Na,Ra)}):this.docs.forEach(function(Na,Ra){na._addObject(Na,Ra)}),this.norm.clear())}},{key:"add",value:function(na){var Na=this.size();m(na)?this._addString(na,Na):this._addObject(na,
Na)}},{key:"removeAt",value:function(na){this.records.splice(na,1);for(var Na=this.size();na<Na;na+=1)--this.records[na].i}},{key:"getValueForItemAtKeyId",value:function(na,Na){return na[this._keysMap[Na]]}},{key:"size",value:function(){return this.records.length}},{key:"_addString",value:function(na,Na){D(na)&&na.trim().length&&(na={v:na,i:Na,n:this.norm.get(na)},this.records.push(na))}},{key:"_addObject",value:function(na,Na){var Ra=this,Sa={i:Na,$:{}};this.keys.forEach(function(Ma,Xa){var jb=Ra.getFn(na,
Ma.path);D(jb)&&(l(jb)?function(){for(var Jb=[],Fb=[{nestedArrIndex:-1,value:jb}];Fb.length;){var Aa=Fb.pop(),nb=Aa.nestedArrIndex;Aa=Aa.value;D(Aa)&&(m(Aa)&&Aa.trim().length?(nb={v:Aa,i:nb,n:Ra.norm.get(Aa)},Jb.push(nb)):l(Aa)&&Aa.forEach(function(fb,Va){Fb.push({nestedArrIndex:Va,value:fb})}))}Sa.$[Xa]=Jb}():jb.trim().length&&(Ma={v:jb,n:Ra.norm.get(jb)},Sa.$[Xa]=Ma))});this.records.push(Sa)}},{key:"toJSON",value:function(){return{keys:this.keys,records:this.records}}}]);return ma}(),fa=function(){function ma(na){var Na=
this,Ra=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},Sa=Ra.location;Sa=void 0===Sa?Z.location:Sa;var Ma=Ra.threshold;Ma=void 0===Ma?Z.threshold:Ma;var Xa=Ra.distance;Xa=void 0===Xa?Z.distance:Xa;var jb=Ra.includeMatches;jb=void 0===jb?Z.includeMatches:jb;var Jb=Ra.findAllMatches;Jb=void 0===Jb?Z.findAllMatches:Jb;var Fb=Ra.minMatchCharLength;Fb=void 0===Fb?Z.minMatchCharLength:Fb;var Aa=Ra.isCaseSensitive;Aa=void 0===Aa?Z.isCaseSensitive:Aa;Ra=Ra.ignoreLocation;Ra=void 0===Ra?Z.ignoreLocation:
Ra;W(this,ma);this.options={location:Sa,threshold:Ma,distance:Xa,includeMatches:jb,findAllMatches:Jb,minMatchCharLength:Fb,isCaseSensitive:Aa,ignoreLocation:Ra};this.pattern=Aa?na:na.toLowerCase();this.chunks=[];if(this.pattern.length)if(Sa=function(nb,fb){for(var Va=Na.chunks,hb=Va.push,Wa={},$b=0,Tc=nb.length;$b<Tc;$b+=1){var Qc=nb.charAt($b);Wa[Qc]=(Wa[Qc]||0)|1<<Tc-$b-1}hb.call(Va,{pattern:nb,alphabet:Wa,startIndex:fb})},Ra=this.pattern.length,32<Ra){Ma=0;Xa=Ra%32;for(jb=Ra-Xa;Ma<jb;)Sa(this.pattern.substr(Ma,
32),Ma),Ma+=32;Xa&&(Ra-=32,Sa(this.pattern.substr(Ra),Ra))}else Sa(this.pattern,0)}q(ma,[{key:"searchIn",value:function(na){var Na=this.options,Ra=Na.includeMatches;Na.isCaseSensitive||(na=na.toLowerCase());if(this.pattern===na)return Na={isMatch:!0,score:0},Ra&&(Na.indices=[[0,na.length-1]]),Na;Na=this.options;var Sa=Na.location,Ma=Na.distance,Xa=Na.threshold,jb=Na.findAllMatches,Jb=Na.minMatchCharLength,Fb=Na.ignoreLocation,Aa=[],nb=0,fb=!1;this.chunks.forEach(function(Va){var hb=G(na,Va.pattern,
Va.alphabet,{location:Sa+Va.startIndex,distance:Ma,threshold:Xa,findAllMatches:jb,minMatchCharLength:Jb,includeMatches:Ra,ignoreLocation:Fb});Va=hb.isMatch;var Wa=hb.score;hb=hb.indices;Va&&(fb=!0);nb+=Wa;Va&&hb&&(Aa=[].concat(a(Aa),a(hb)))});Na={isMatch:fb,score:fb?nb/this.chunks.length:1};fb&&Ra&&(Na.indices=Aa);return Na}}]);return ma}(),Y=function(){function ma(na){W(this,ma);this.pattern=na}q(ma,[{key:"search",value:function(){}}],[{key:"isMultiMatch",value:function(na){return R(na,this.multiRegex)}},
{key:"isSingleMatch",value:function(na){return R(na,this.singleRegex)}}]);return ma}();xa=function(ma){function na(Ra){W(this,na);return Na.call(this,Ra)}C(na,ma);var Na=g(na);q(na,[{key:"search",value:function(Ra){Ra=Ra===this.pattern;return{isMatch:Ra,score:Ra?0:1,indices:[0,this.pattern.length-1]}}}],[{key:"type",get:function(){return"exact"}},{key:"multiRegex",get:function(){return/^="(.*)"$/}},{key:"singleRegex",get:function(){return/^=(.*)$/}}]);return na}(Y);ca=function(ma){function na(Ra){W(this,
na);return Na.call(this,Ra)}C(na,ma);var Na=g(na);q(na,[{key:"search",value:function(Ra){var Sa=-1===Ra.indexOf(this.pattern);return{isMatch:Sa,score:Sa?0:1,indices:[0,Ra.length-1]}}}],[{key:"type",get:function(){return"inverse-exact"}},{key:"multiRegex",get:function(){return/^!"(.*)"$/}},{key:"singleRegex",get:function(){return/^!(.*)$/}}]);return na}(Y);L=function(ma){function na(Ra){W(this,na);return Na.call(this,Ra)}C(na,ma);var Na=g(na);q(na,[{key:"search",value:function(Ra){Ra=Ra.startsWith(this.pattern);
return{isMatch:Ra,score:Ra?0:1,indices:[0,this.pattern.length-1]}}}],[{key:"type",get:function(){return"prefix-exact"}},{key:"multiRegex",get:function(){return/^\^"(.*)"$/}},{key:"singleRegex",get:function(){return/^\^(.*)$/}}]);return na}(Y);var ea=function(ma){function na(Ra){W(this,na);return Na.call(this,Ra)}C(na,ma);var Na=g(na);q(na,[{key:"search",value:function(Ra){var Sa=!Ra.startsWith(this.pattern);return{isMatch:Sa,score:Sa?0:1,indices:[0,Ra.length-1]}}}],[{key:"type",get:function(){return"inverse-prefix-exact"}},
{key:"multiRegex",get:function(){return/^!\^"(.*)"$/}},{key:"singleRegex",get:function(){return/^!\^(.*)$/}}]);return na}(Y),oa=function(ma){function na(Ra){W(this,na);return Na.call(this,Ra)}C(na,ma);var Na=g(na);q(na,[{key:"search",value:function(Ra){var Sa=Ra.endsWith(this.pattern);return{isMatch:Sa,score:Sa?0:1,indices:[Ra.length-this.pattern.length,Ra.length-1]}}}],[{key:"type",get:function(){return"suffix-exact"}},{key:"multiRegex",get:function(){return/^"(.*)"\$$/}},{key:"singleRegex",get:function(){return/^(.*)\$$/}}]);
return na}(Y),ua=function(ma){function na(Ra){W(this,na);return Na.call(this,Ra)}C(na,ma);var Na=g(na);q(na,[{key:"search",value:function(Ra){var Sa=!Ra.endsWith(this.pattern);return{isMatch:Sa,score:Sa?0:1,indices:[0,Ra.length-1]}}}],[{key:"type",get:function(){return"inverse-suffix-exact"}},{key:"multiRegex",get:function(){return/^!"(.*)"\$$/}},{key:"singleRegex",get:function(){return/^!(.*)\$$/}}]);return na}(Y),ra=function(ma){function na(Ra){var Sa=1<arguments.length&&void 0!==arguments[1]?arguments[1]:
{};var Ma=Sa.location;Ma=void 0===Ma?Z.location:Ma;var Xa=Sa.threshold;Xa=void 0===Xa?Z.threshold:Xa;var jb=Sa.distance;jb=void 0===jb?Z.distance:jb;var Jb=Sa.includeMatches;Jb=void 0===Jb?Z.includeMatches:Jb;var Fb=Sa.findAllMatches;Fb=void 0===Fb?Z.findAllMatches:Fb;var Aa=Sa.minMatchCharLength;Aa=void 0===Aa?Z.minMatchCharLength:Aa;var nb=Sa.isCaseSensitive;nb=void 0===nb?Z.isCaseSensitive:nb;Sa=Sa.ignoreLocation;var fb=void 0===Sa?Z.ignoreLocation:Sa;W(this,na);Sa=Na.call(this,Ra);Sa._bitapSearch=
new fa(Ra,{location:Ma,threshold:Xa,distance:jb,includeMatches:Jb,findAllMatches:Fb,minMatchCharLength:Aa,isCaseSensitive:nb,ignoreLocation:fb});return Sa}C(na,ma);var Na=g(na);q(na,[{key:"search",value:function(Ra){return this._bitapSearch.searchIn(Ra)}}],[{key:"type",get:function(){return"fuzzy"}},{key:"multiRegex",get:function(){return/^"(.*)"$/}},{key:"singleRegex",get:function(){return/^(.*)$/}}]);return na}(Y);Y=function(ma){function na(Ra){W(this,na);return Na.call(this,Ra)}C(na,ma);var Na=
g(na);q(na,[{key:"search",value:function(Ra){for(var Sa=0,Ma,Xa=[],jb=this.pattern.length;-1<(Ma=Ra.indexOf(this.pattern,Sa));)Sa=Ma+jb,Xa.push([Ma,Sa-1]);Ra=!!Xa.length;return{isMatch:Ra,score:Ra?0:1,indices:Xa}}}],[{key:"type",get:function(){return"include"}},{key:"multiRegex",get:function(){return/^'"(.*)"$/}},{key:"singleRegex",get:function(){return/^'(.*)$/}}]);return na}(Y);var va=[xa,Y,L,ea,ua,oa,ca,ra],Ha=va.length,Ja=/ +(?=([^"]*"[^"]*")*[^"]*$)/,db=new Set([ra.type,Y.type]);xa=function(){function ma(na){var Na=
1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},Ra=Na.isCaseSensitive;Ra=void 0===Ra?Z.isCaseSensitive:Ra;var Sa=Na.includeMatches;Sa=void 0===Sa?Z.includeMatches:Sa;var Ma=Na.minMatchCharLength;Ma=void 0===Ma?Z.minMatchCharLength:Ma;var Xa=Na.ignoreLocation;Xa=void 0===Xa?Z.ignoreLocation:Xa;var jb=Na.findAllMatches;jb=void 0===jb?Z.findAllMatches:jb;var Jb=Na.location;Jb=void 0===Jb?Z.location:Jb;var Fb=Na.threshold;Fb=void 0===Fb?Z.threshold:Fb;Na=Na.distance;Na=void 0===Na?Z.distance:
Na;W(this,ma);this.query=null;this.options={isCaseSensitive:Ra,includeMatches:Sa,minMatchCharLength:Ma,findAllMatches:jb,ignoreLocation:Xa,location:Jb,threshold:Fb,distance:Na};this.pattern=Ra?na:na.toLowerCase();this.query=N(this.pattern,this.options)}q(ma,[{key:"searchIn",value:function(na){var Na=this.query;if(!Na)return{isMatch:!1,score:1};var Ra=this.options,Sa=Ra.includeMatches;na=Ra.isCaseSensitive?na:na.toLowerCase();var Ma;Ra=[];for(var Xa=0,jb=0,Jb=Na.length;jb<Jb;jb+=1){for(var Fb=Na[jb],
Aa=Ma=Ra.length=0,nb=Fb.length;Aa<nb;Aa+=1){var fb=Fb[Aa],Va=fb.search(na),hb=Va.indices,Wa=Va.score;if(Va.isMatch)Ma+=1,Xa+=Wa,Sa&&(db.has(fb.constructor.type)?Ra=[].concat(a(Ra),a(hb)):Ra.push(hb));else{Ma=Xa=0;Ra.length=0;break}}if(Ma)return na={isMatch:!0,score:Xa/Ma},Sa&&(na.indices=Ra),na}return{isMatch:!1,score:1}}}],[{key:"condition",value:function(na,Na){return Na.useExtendedSearch}}]);return ma}();var Ea=[],Ka="$and",za="$or",ka={PATH:"$path",PATTERN:"$val"},ja=function(ma){return!l(ma)&&
"object"===x(ma)&&!(ma[Ka]||ma[za])},ta=function(ma){return b({},Ka,Object.keys(ma).map(function(na){return b({},na,ma[na])}))};ca=function(){function ma(na){var Na=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},Ra=2<arguments.length?arguments[2]:void 0;W(this,ma);this.options=A({},Z,{},Na);this._keyStore=new V(this.options.keys);this.setCollection(na,Ra)}q(ma,[{key:"setCollection",value:function(na,Na){this._docs=na;if(Na&&!(Na instanceof X))throw Error("Incorrect 'index' type");this._myIndex=
Na||y(this.options.keys,this._docs,{getFn:this.options.getFn})}},{key:"add",value:function(na){D(na)&&(this._docs.push(na),this._myIndex.add(na))}},{key:"remove",value:function(){for(var na=0<arguments.length&&void 0!==arguments[0]?arguments[0]:function(){return!1},Na=[],Ra=0,Sa=this._docs.length;Ra<Sa;Ra+=1){var Ma=this._docs[Ra];na(Ma,Ra)&&(this.removeAt(Ra),--Ra,--Sa,Na.push(Ma))}return Na}},{key:"removeAt",value:function(na){this._docs.splice(na,1);this._myIndex.removeAt(na)}},{key:"getIndex",
value:function(){return this._myIndex}},{key:"search",value:function(na){var Na=(1<arguments.length&&void 0!==arguments[1]?arguments[1]:{}).limit;Na=void 0===Na?-1:Na;var Ra=this.options,Sa=Ra.includeMatches,Ma=Ra.includeScore,Xa=Ra.shouldSort,jb=Ra.sortFn;Ra=Ra.ignoreFieldNorm;var Jb=m(na)?m(this._docs[0])?this._searchStringList(na):this._searchObjectList(na):this._searchLogical(na);I(Jb,{ignoreFieldNorm:Ra});Xa&&Jb.sort(jb);"number"===typeof Na&&-1<Na&&(Jb=Jb.slice(0,Na));return O(Jb,this._docs,
{includeMatches:Sa,includeScore:Ma})}},{key:"_searchStringList",value:function(na){var Na=T(na,this.options),Ra=[];this._myIndex.records.forEach(function(Sa){var Ma=Sa.v,Xa=Sa.i;Sa=Sa.n;if(D(Ma)){var jb=Na.searchIn(Ma),Jb=jb.score,Fb=jb.indices;jb.isMatch&&Ra.push({item:Ma,idx:Xa,matches:[{score:Jb,value:Ma,norm:Sa,indices:Fb}]})}});return Ra}},{key:"_searchLogical",value:function(na){var Na=this,Ra=t(na,this.options),Sa=function nb(Jb,Fb,Aa){if(!Jb.children){var fb=Jb.keyId;Jb=Jb.searcher;return(Jb=
Na._findMatches({key:Na._keyStore.get(fb),value:Na._myIndex.getValueForItemAtKeyId(Fb,fb),searcher:Jb}))&&Jb.length?[{idx:Aa,item:Fb,matches:Jb}]:[]}switch(Jb.operator){case Ka:fb=[];for(var Va=0,hb=Jb.children.length;Va<hb;Va+=1){var Wa=nb(Jb.children[Va],Fb,Aa);if(Wa.length)fb.push.apply(fb,a(Wa));else return[]}return fb;case za:fb=[];Va=0;for(hb=Jb.children.length;Va<hb;Va+=1)if(Wa=nb(Jb.children[Va],Fb,Aa),Wa.length){fb.push.apply(fb,a(Wa));break}return fb}},Ma={},Xa=[];this._myIndex.records.forEach(function(Jb){var Fb=
Jb.$,Aa=Jb.i;D(Fb)&&(Jb=Sa(Ra,Fb,Aa),Jb.length&&(Ma[Aa]||(Ma[Aa]={idx:Aa,item:Fb,matches:[]},Xa.push(Ma[Aa])),Jb.forEach(function(nb){var fb;nb=nb.matches;(fb=Ma[Aa].matches).push.apply(fb,a(nb))})))});return Xa}},{key:"_searchObjectList",value:function(na){var Na=this,Ra=T(na,this.options);na=this._myIndex;var Sa=na.keys,Ma=[];na.records.forEach(function(Xa){var jb=Xa.$;Xa=Xa.i;if(D(jb)){var Jb=[];Sa.forEach(function(Fb,Aa){Jb.push.apply(Jb,a(Na._findMatches({key:Fb,value:jb[Aa],searcher:Ra})))});
Jb.length&&Ma.push({idx:Xa,item:jb,matches:Jb})}});return Ma}},{key:"_findMatches",value:function(na){var Na=na.key,Ra=na.value,Sa=na.searcher;if(!D(Ra))return[];var Ma=[];if(l(Ra))Ra.forEach(function(Fb){var Aa=Fb.v,nb=Fb.i;Fb=Fb.n;if(D(Aa)){var fb=Sa.searchIn(Aa),Va=fb.score,hb=fb.indices;fb.isMatch&&Ma.push({score:Va,key:Na,value:Aa,idx:nb,norm:Fb,indices:hb})}});else{na=Ra.v;Ra=Ra.n;var Xa=Sa.searchIn(na),jb=Xa.score,Jb=Xa.indices;Xa.isMatch&&Ma.push({score:jb,key:Na,value:na,norm:Ra,indices:Jb})}return Ma}}]);
return ma}();ca.version="6.4.6";ca.createIndex=y;ca.parseIndex=function(ma){var na=(1<arguments.length&&void 0!==arguments[1]?arguments[1]:{}).getFn,Na=ma.keys,Ra=ma.records;na=new X({getFn:void 0===na?Z.getFn:na});na.setKeys(Na);na.setIndexRecords(Ra);return na};ca.config=Z;ca.parseQuery=t;(function(){Ea.push.apply(Ea,arguments)})(xa);Ya.exports=ca};
'use strict';var aOd=function(a){if(null!=a&&null!=a.$q)a=a.$q(a);else{var b=aOd[$APP.ca(null==a?null:a)];if(null!=b)a=b.C?b.C(a):b.call(null,a);else if(b=aOd._,null!=b)a=b.C?b.C(a):b.call(null,a);else throw $APP.wb("Transformer.-transformer-chain",a);}return a},bOd=function(a,b){if(null!=a&&null!=a.jt)a=a.jt(a,b);else{var c=bOd[$APP.ca(null==a?null:a)];if(null!=c)a=c.A?c.A(a,b):c.call(null,a,b);else if(c=bOd._,null!=c)a=c.A?c.A(a,b):c.call(null,a,b);else throw $APP.wb("IStorage.-restore",a);}return a},
cOd=function(a){return"string"===typeof a&&$APP.sa(a,"logseq_local_")},dOd=function(a,b){if(null!=a&&null!=a.ru)a=a.ru(a,b);else{var c=dOd[$APP.ca(null==a?null:a)];if(null!=c)a=c.A?c.A(a,b):c.call(null,a,b);else if(c=dOd._,null!=c)a=c.A?c.A(a,b):c.call(null,a,b);else throw $APP.wb("INode.-get-children",a);}return a},eOd=function(){if("undefined"===typeof $APP.hp||"undefined"===typeof $APP.Qp||"undefined"===typeof r$)r$=function(a){this.Jy=a;this.V=393216;this.aa=0},r$.prototype.ga=function(a,b){return new r$(b)},
r$.prototype.fa=function(){return this.Jy},r$.prototype.Du=$APP.Zb,r$.prototype.$q=function(){return null},r$.prototype.ar=function(){return null},r$.Ca=!0,r$.Aa="malli.core/t_malli$core35323",r$.Ea=function(a){return $APP.Kb(a,"malli.core/t_malli$core35323")};return new r$($APP.pf)},fOd=function(a){return $APP.B.A($APP.cw.C(a),$APP.iw.C(a))},gOd=function(a,b,c,d,e){return $APP.lh(d,function(f,g,h){var k=$APP.Fb(f);c.F?c.F(k,g,h):c.call(null,k,g,h);$APP.Kb(g," ");f=$APP.Gb(f);return c.F?c.F(f,g,h):
c.call(null,f,g,h)},[$APP.t.C(a),"\n{"].join(""),"\n","}",e,$APP.y(b))},hOd=function(a){if(a instanceof $APP.K){var b=$APP.Te(a);return $APP.n(b)?[b,"/",$APP.Wg(a)].join(""):$APP.Wg(a)}return a},iOd=function(a){return $APP.T.F(a,$APP.uVa,!0)},jOd=function(a,b){return $APP.MIa(function(c){return function(d,e,f){f=a.C?a.C(f):a.call(null,f);return c.F?c.F(d,e,f):c.call(null,d,e,f)}},b)},kOd=function(a){var b=$APP.Ih.A($APP.V4a,$APP.pc);$APP.Ih.K($APP.U4a,$APP.T,b,a);return b},lOd=function(a,b,c){$APP.Ih.K($APP.Gv.C($APP.Uc(a)),
$APP.T,b,c);return b},mOd=function(a,b,c,d){return $APP.nb(d)&&$APP.B.A($APP.rt.C($APP.cw.C($APP.A(a))),$APP.rt.C(b))&&$APP.Lg.A($APP.B.A($APP.rt.C($APP.kw.C($APP.A(a))),$APP.rt.C(b)),c)},nOd=function(a,b){var c=$APP.PMa(b,a);return $APP.n(c)?(c=dOd(c,a),$APP.hc($APP.Jc($APP.bh(function(d){return $APP.Lg.A($APP.Rx(b,a),$APP.Rx(d,a))},c)))):null},s$=function(a){var b=$APP.H.A($APP.v($APP.U4a),a);if($APP.n(b)){var c=$APP.wk.A(function(d){var e=$APP.C.F(d,0,null);d=$APP.C.F(d,1,null);return $APP.B.A(d,
b)&&e<=a?e:null},$APP.v($APP.U4a));return $APP.y(c)?$APP.Ih.A($APP.U4a,function(d){return $APP.Gf.F($APP.cj,d,c)}):null}return null},oOd=function(a){a=$APP.oua(a);return null==a?null:$APP.rh.A(function(b){return $APP.id(b)?$APP.uja(b,function(c){return $APP.ld(c)?$APP.wl.A($APP.jb,c):c}):b},a)},pOd=function(a){return $APP.sa(a,"logseq_local_")?$APP.vj($APP.vj(a,":","+3A+"),"/","++"):$APP.vj($APP.vj($APP.vj($APP.vj(a,"logseq_db_",""),"/","_"),"\\","_"),":","_")},qOd=function(a,b,c){return $APP.wj(a,
$APP.jh(["(?i)",$APP.t.C($APP.Cua(b))].join("")),c)},t$=function(a,b){return"undefined"!==typeof self?self.postMessage($APP.Fi(new $APP.O(null,2,5,$APP.Q,[a,b],null))):null},rOd=function(a,b){if($APP.Lv(a)){a=$APP.pw.C(b);var c=function(d){return $APP.MHa(d,new $APP.O(null,1,5,$APP.Q,[b],null))};return $APP.y(a)?$APP.Uf.G(function(d){d=$APP.rf(d);var e=$APP.H.A(d,$APP.OHa),f=$APP.H.A(d,$APP.yw),g=c(e);e=$APP.Lg.A(e,g)?new $APP.m(null,2,[$APP.rt,$APP.rt.C(d),$APP.Sv,g],null):null;var h=$APP.Qv.C(b);
g=$APP.Io(jOd(function(k){return $APP.bd(k)&&$APP.Wh($APP.A(k))?$APP.ke($APP.wl.A($APP.Rg([h]),k)):$APP.Wh(k)&&$APP.B.A(k,h)?null:$APP.bd(k)&&"string"===typeof $APP.A(k)?$APP.lj.A(c,k):"string"===typeof k?c(k):k},f));f=$APP.Ln.G($APP.G([e,$APP.Lg.A($APP.y(f),$APP.y(g))?new $APP.m(null,2,[$APP.rt,$APP.rt.C(d),$APP.yw,g],null):null]));return $APP.kk.A(new $APP.O(null,1,5,$APP.Q,[new $APP.O(null,4,5,$APP.Q,[$APP.xt,$APP.rt.C(d),$APP.Tv,$APP.rt.C(b)],null)],null),$APP.n(f)?new $APP.O(null,1,5,$APP.Q,
[f],null):null)},$APP.G([a])):null}return null},sOd=function(a){return $APP.rh.A(function(b){var c=$APP.zn.C(b),d=$APP.mt.C(b),e=$APP.pA.C;b=$APP.zn.C(b);b=$APP.zt.A?$APP.zt.A(a,b):$APP.zt.call(null,a,b);return new $APP.m(null,3,[$APP.rt,c,$APP.hw,d,$APP.pA,e.call($APP.pA,b)],null)},$APP.Fv(a,$APP.Ds,$APP.hw))},tOd=function(a,b,c,d,e){if($APP.B.A($APP.vA,$APP.jy.C(d))){var f=$APP.wk.A(function(p){return $APP.ld(p)&&$APP.B.A($APP.vt,$APP.A(p))?$APP.Dc(p):null},a),g=$APP.rh.A(function(p){return $APP.zt.A?
$APP.zt.A(b,p):$APP.zt.call(null,b,p)},f),h=$APP.Gf.A($APP.kk,function(){return function r(q){return new $APP.bf(null,function(){for(;;){var u=$APP.y(q);if(u){var x=u;if($APP.nd(x)){var z=$APP.Qb(x),D=$APP.vc(z),F=$APP.df(D);return function(){for(var M=0;;)if(M<D){var P=$APP.Oc(z,M);$APP.kf(F,function(){var R=$APP.pw.C(P);return $APP.rh.A(function(W,U,E){return function(N){var S=$APP.rt.C(N),X=$APP.lx($APP.Px.C(E),$APP.Sv.C(E)),aa=function(){var wa=$APP.Sv.C(N);wa=null==wa?null:$APP.vj(wa,$APP.jh($APP.So("(?i){{embed \\(\\(%s\\)\\)\\s?}}",
$APP.G([$APP.t.C($APP.Qv.C(E))]))),X);return null==wa?null:$APP.vj(wa,$APP.Dx($APP.t.C($APP.Qv.C(E))),X)}(),qa=function(){var wa=new $APP.O(null,2,5,$APP.Q,[new $APP.O(null,4,5,$APP.Q,[$APP.xt,$APP.rt.C(N),$APP.Tv,$APP.rt.C(E)],null),new $APP.O(null,4,5,$APP.Q,[$APP.xt,$APP.rt.C(N),$APP.Ox,$APP.rt.C(E)],null)],null);return $APP.n(aa)?$APP.Ke.A(wa,new $APP.O(null,4,5,$APP.Q,[$APP.tt,S,$APP.Sv,aa],null)):wa}(),ra=function(){var wa=new $APP.O(null,2,5,$APP.Q,[new $APP.O(null,4,5,$APP.Q,[$APP.tt,$APP.rt.C(N),
$APP.Tv,$APP.rt.C(E)],null),new $APP.O(null,4,5,$APP.Q,[$APP.tt,$APP.rt.C(N),$APP.Ox,$APP.rt.C(E)],null)],null);return $APP.n($APP.Sv.C(N))?$APP.Ke.A(wa,new $APP.O(null,4,5,$APP.Q,[$APP.tt,S,$APP.Sv,$APP.Sv.C(N)],null)):wa}();return new $APP.m(null,2,[$APP.py,qa,$APP.sVa,ra],null)}}(M,R,P,z,D,F,x,u,f,g),R)}());M+=1}else return!0}()?$APP.gf($APP.mf(F),r($APP.Rb(x))):$APP.gf($APP.mf(F),null)}var J=$APP.A(x);return $APP.Pe(function(){var M=$APP.pw.C(J);return $APP.rh.A(function(P,R){return function(W){var U=
$APP.rt.C(W),E=$APP.lx($APP.Px.C(R),$APP.Sv.C(R)),N=function(){var aa=$APP.Sv.C(W);aa=null==aa?null:$APP.vj(aa,$APP.jh($APP.So("(?i){{embed \\(\\(%s\\)\\)\\s?}}",$APP.G([$APP.t.C($APP.Qv.C(R))]))),E);return null==aa?null:$APP.vj(aa,$APP.Dx($APP.t.C($APP.Qv.C(R))),E)}(),S=function(){var aa=new $APP.O(null,2,5,$APP.Q,[new $APP.O(null,4,5,$APP.Q,[$APP.xt,$APP.rt.C(W),$APP.Tv,$APP.rt.C(R)],null),new $APP.O(null,4,5,$APP.Q,[$APP.xt,$APP.rt.C(W),$APP.Ox,$APP.rt.C(R)],null)],null);return $APP.n(N)?$APP.Ke.A(aa,
new $APP.O(null,4,5,$APP.Q,[$APP.tt,U,$APP.Sv,N],null)):aa}(),X=function(){var aa=new $APP.O(null,2,5,$APP.Q,[new $APP.O(null,4,5,$APP.Q,[$APP.tt,$APP.rt.C(W),$APP.Tv,$APP.rt.C(R)],null),new $APP.O(null,4,5,$APP.Q,[$APP.tt,$APP.rt.C(W),$APP.Ox,$APP.rt.C(R)],null)],null);return $APP.n($APP.Sv.C(W))?$APP.Ke.A(aa,new $APP.O(null,4,5,$APP.Q,[$APP.tt,U,$APP.Sv,$APP.Sv.C(W)],null)):aa}();return new $APP.m(null,2,[$APP.py,S,$APP.sVa,X],null)}}(M,J,x,u,f,g),M)}(),r($APP.hc(x)))}return null}},null,null)}(g)}());
d=$APP.Uf.G($APP.py,$APP.G([h]));var k=$APP.Uf.G($APP.sVa,$APP.G([h]));h=$APP.Uf.G(function(p){return $APP.wk.A(function(q){var r=$APP.gNa.C;var u=$APP.rt.C(q);u=$APP.zt.A?$APP.zt.A(b,u):$APP.zt.call(null,b,u);return 1>=$APP.vc(r.call($APP.gNa,u))?$APP.n($APP.rt.C(q))?new $APP.O(null,2,5,$APP.Q,[$APP.vt,$APP.rt.C(q)],null):null:null},$APP.ay.C(p))},$APP.G([g]));$APP.y(d)&&$APP.Sc(e)&&(c=new $APP.O(null,2,5,$APP.Q,[$APP.VYa,c],null),k=new $APP.m(null,2,[$APP.nWa,f,$APP.sVa,k],null),e.A?e.A(c,k):e.call(null,
c,k));return $APP.kk.G(a,d,$APP.G([h]))}return a},uOd=function(a,b){var c=$APP.rt.C($APP.iw.C($APP.A(b)));a:for(c=$APP.zt.A?$APP.zt.A(a,c):$APP.zt.call(null,a,c),a=$APP.$f,c=$APP.bw($APP.sw.C(c),c);;)if($APP.y(c)){var d=$APP.A(c);a=$APP.Ke.A(a,$APP.rt.C(d));c=$APP.kk.A($APP.bw($APP.sw.C(d),d),$APP.hc(c))}else break a;b=$APP.Xg($APP.rh.A($APP.rt,b),b);return $APP.wk.A(b,a)},vOd=function(a,b,c,d){d=$APP.rf(d);var e=$APP.H.A(d,$APP.gy);$APP.H.A(d,$APP.VVa);var f=$APP.Ug($APP.rh.A($APP.rt,c)),g=$APP.oNa(a,
$APP.rt.C($APP.Jc(c)));if($APP.n($APP.n(g)?!$APP.Xd(f,$APP.rt.C(g)):g)){var h=function(){for(var k=$APP.cw.C(g);;)if($APP.Xd(f,$APP.rt.C(k))){var p=$APP.cw,q=p.C;k=$APP.rt.C(k);k=$APP.zt.A?$APP.zt.A(a,k):$APP.zt.call(null,a,k);k=q.call(p,k)}else return $APP.rt.C(k)}();return $APP.n(h)?$APP.n(function(){var k=$APP.B.A(h,$APP.rt.C(b));return k?e:k}())?null:new $APP.m(null,2,[$APP.rt,$APP.rt.C(g),$APP.cw,h],null):null}return null},xOd=function(a,b,c){function d(f,g){var h=$APP.B.A($APP.iw.C(f),$APP.iw.C(g));
if(h){if(h=$APP.B.A($APP.rt.C($APP.cw.C(g)),$APP.rt.C(f)))return h;g=$APP.AIa(a,$APP.rt.C(g));return $APP.n(g)?wOd(a,$APP.rt.C(g),$APP.rt.C(f)):null}return h}var e=d(b,c);return $APP.n(e)?e:d(c,b)},yOd=function(a,b){return $APP.ke($APP.Bl.A(function(c){return c+1<$APP.vc(b)?$APP.n(xOd(a,$APP.C.A(b,c),$APP.C.A(b,c+1)))?null:$APP.C.A(b,c):null},b))},AOd=function(a,b,c,d){if(1<$APP.vc(b)){var e=$APP.Mh($APP.iw,b),f=$APP.B.A($APP.rt.C(c),$APP.rt.C($APP.cw.C($APP.A(b))));return $APP.wl.A($APP.jb,$APP.Uf.G(function(g){$APP.C.F(g,
0,null);g=$APP.C.F(g,1,null);var h=uOd(a,g);g=$APP.Po($APP.rt,$APP.Ke.A(yOd(a,h),$APP.Jc(h)));return $APP.y(g)?$APP.Xl.A(function(k,p){var q=$APP.oNa(a,$APP.rt.C(p));if($APP.n(q)){k=0===k;if($APP.n(k?f?d:f:k))return new $APP.m(null,2,[$APP.rt,$APP.rt.C(q),$APP.cw,$APP.rt.C($APP.Jc(h))],null);p=zOd(a,q,$APP.ou.C($APP.rh.A($APP.rt,h)),c,p,d,f);return $APP.n(p)?new $APP.m(null,2,[$APP.rt,$APP.rt.C(q),$APP.cw,$APP.rt.C(p)],null):null}return null},g):null},$APP.G([e])))}return null},BOd=function(a,b){return $APP.Wr.F(b,
$APP.Vv,function(c){var d=new $APP.O(null,1,5,$APP.Q,[$APP.Yt],null);c=$APP.rh.A($APP.rt,c);return $APP.ju?$APP.ju(a,d,c):$APP.ku.call(null,a,d,c)})},COd=function(a,b){if($APP.Fj(b))return null;var c=$APP.Oo((0,$APP.va)(b));b=$APP.rh.A($APP.zn,$APP.Wf.A(function(e){e=$APP.mt.C(e);return $APP.ua(e,c)},$APP.Fv(a,$APP.Ks,$APP.Pv)));if($APP.y(b)){var d=new $APP.O(null,3,5,$APP.Q,[$APP.rt,$APP.Pv,$APP.Rv],null);return $APP.ju?$APP.ju(a,d,b):$APP.ku.call(null,a,d,b)}return null},DOd=function(a){var b=$APP.rh.A(function(d){var e=
new $APP.O(null,1,5,$APP.Q,[$APP.Yt],null);d=new $APP.O(null,2,5,$APP.Q,[$APP.Pv,d],null);return $APP.hu?$APP.hu(a,e,d):$APP.iu.call(null,a,e,d)},new $APP.Ng(null,new $APP.m(null,1,["tags",null],null),null)),c=$APP.wk.A(function(d){if($APP.Xd(new $APP.Ng(null,new $APP.m(null,1,["closed value",null],null),null),$APP.mt.C(d))){var e=new $APP.O(null,1,5,$APP.Q,[$APP.Yt],null);d=$APP.zn.C(d);return $APP.hu?$APP.hu(a,e,d):$APP.iu.call(null,a,e,d)}return null},$APP.Fv(a,$APP.Ds,$APP.fw));return $APP.kk.A(b,
c)},EOd=function(a,b){return $APP.Wr.F(b,$APP.Tv,function(c){return $APP.rh.A(function(d){var e=new $APP.O(null,1,5,$APP.Q,[$APP.Yt],null);d=$APP.rt.C(d);return $APP.hu?$APP.hu(a,e,d):$APP.iu.call(null,a,e,d)},c)})},FOd=function(a,b){if($APP.n($APP.Pv.C(b)))return b;if($APP.n($APP.iw.C(b))){var c=function(){var e=$APP.rt.C($APP.cw.C(b));e=$APP.zt.A?$APP.zt.A(a,e):$APP.zt.call(null,a,e);return $APP.n(e)?$APP.Mg(e,new $APP.O(null,2,5,$APP.Q,[$APP.rt,$APP.Qv],null)):null}(),d=function(){var e=$APP.rt.C($APP.kw.C(b));
e=$APP.zt.A?$APP.zt.A(a,e):$APP.zt.call(null,a,e);return $APP.n(e)?$APP.Mg(e,new $APP.O(null,2,5,$APP.Q,[$APP.rt,$APP.Qv],null)):null}();return EOd(a,$APP.Io($APP.T.G(b,$APP.cw,c,$APP.G([$APP.kw,d]))))}return b},GOd=function(a,b,c){function d(h){return 500<$APP.vc(h)?$APP.rh.A(function(k){return $APP.Mg(k,new $APP.O(null,6,5,$APP.Q,[$APP.rt,$APP.Qv,$APP.iw,$APP.cw,$APP.kw,$APP.tw],null))},h):$APP.rh.A(iOd,$APP.rh.A(function(k){return EOd(a,k)},function(){var k=new $APP.O(null,1,5,$APP.Q,[$APP.Yt],
null),p=$APP.rh.A($APP.rt,h);return $APP.ju?$APP.ju(a,k,p):$APP.ku.call(null,a,k,p)}()))}var e=$APP.Ro(b)?function(){var h=new $APP.O(null,2,5,$APP.Q,[$APP.Qv,$APP.Uh(b)],null);return $APP.zt.A?$APP.zt.A(a,h):$APP.zt.call(null,a,h)}():null;if($APP.n($APP.n(e)?$APP.nb($APP.Pv.C(e)):e)){var f=iOd(EOd(a,FOd(a,function(){var h=new $APP.O(null,1,5,$APP.Q,[$APP.Yt],null),k=$APP.rt.C(e);return $APP.hu?$APP.hu(a,h,k):$APP.iu.call(null,a,h,k)}())));f=new $APP.m(null,1,[$APP.Vm,f],null);return $APP.n(c)?$APP.T.F(f,
$APP.Bp,d($APP.sw.C(e))):f}var g=function(){if($APP.n(e))return e;var h=new $APP.O(null,2,5,$APP.Q,[$APP.Pv,b],null);return $APP.zt.A?$APP.zt.A(a,h):$APP.zt.call(null,a,h)}();return $APP.n(g)?(f=new $APP.m(null,1,[$APP.Vm,iOd(BOd(a,function(){var h=new $APP.O(null,1,5,$APP.Q,[$APP.Yt],null),k=$APP.rt.C(g);return $APP.hu?$APP.hu(a,h,k):$APP.iu.call(null,a,h,k)}()))],null),$APP.n(c)?$APP.T.F(f,$APP.Bp,$APP.Xd($APP.fw.C(g),"whiteboard")?$APP.rh.A(iOd,$APP.rh.A(function(h){return EOd(a,h)},function(){var h=
new $APP.O(null,1,5,$APP.Q,[$APP.Yt],null),k=$APP.rh.A($APP.rt,$APP.qw.C(g));return $APP.ju?$APP.ju(a,h,k):$APP.ku.call(null,a,h,k)}())):d($APP.qw.C(g))):f):null},HOd=function(a){return $APP.rh.A(function(b){var c=new $APP.O(null,1,5,$APP.Q,[$APP.Yt],null);b=$APP.zn.C(b);return $APP.hu?$APP.hu(a,c,b):$APP.iu.call(null,a,c,b)},$APP.Fv(a,$APP.Ds,$APP.Pv))},IOd=function(a,b,c,d){this.storage=a;this.J=b;this.H=c;this.O=d;this.V=2230716170;this.aa=139264},JOd=function(a){switch(arguments.length){case 1:$APP.KEa(arguments[0]);
break;case 2:var b=arguments[0],c=arguments[1],d=$APP.zEa(b);if(null==d)$APP.Js.C(b),d=new IOd(c,null,null,null),$APP.JEa(b,d);else{var e=$APP.xs.C(d);if(e===c)$APP.JEa(b,d);else throw $APP.xl.A("Database is already stored with another IStorage",new $APP.m(null,1,[$APP.xs,e],null));}break;default:throw Error(["Invalid arity: ",$APP.t.C(arguments.length)].join(""));}},KOd=function(a){return new IOd(a,null,null,null)},LOd=function(a,b,c,d){d=$APP.rf(d);d=$APP.H.A(d,$APP.k1a);return new $APP.qs(c,null,
$APP.HEa.C(d),$APP.rk.C(d),a,null,null,b)},MOd=function(a){var b=$APP.pf,c=bOd(a,0);if(null==c)return null;var d=bOd(a,1),e=$APP.rf(c),f=$APP.H.A(e,$APP.EEa),g=$APP.H.A(e,$APP.FEa),h=$APP.H.A(e,$APP.Wo),k=$APP.H.A(e,$APP.Ms),p=$APP.H.A(e,$APP.Ks),q=$APP.H.A(e,$APP.CEa),r=$APP.H.A(e,$APP.Ds),u=$APP.H.A(e,$APP.Ls),x=$APP.H.A(e,$APP.Js);e=$APP.H.A(e,$APP.DEa);$APP.GEa.xb(null,function(){var z=$APP.GEa.Ya(null);return z>q?z:q}());b=$APP.Ln.G($APP.G([c,b]));a=KOd(a,b);f=$APP.o3a(new $APP.m(null,6,[$APP.Wo,
h,$APP.Js,LOd($APP.qCa,x,a,$APP.T.F(b,$APP.k1a,g)),$APP.Ks,LOd($APP.rCa,p,a,$APP.T.F(b,$APP.k1a,e)),$APP.Ds,LOd($APP.sCa,r,a,$APP.T.F(b,$APP.k1a,f)),$APP.Ls,u,$APP.Ms,k],null));$APP.Ih.F($APP.BEa,$APP.Ke,f);return new $APP.O(null,2,5,$APP.Q,[f,$APP.lj.A(function(z){return $APP.lj.A(function(D){var F=$APP.C.F(D,0,null),J=$APP.C.F(D,1,null),M=$APP.C.F(D,2,null);D=$APP.C.F(D,3,null);return $APP.zs.K(F,J,M,D)},z)},d)],null)},NOd=function(a,b){return $APP.ie.F(function(c,d){return $APP.ie.F($APP.jDa,c,
d)},a,b)},OOd=function(a,b){var c=MOd(a);if(null==c)var d=null;else d=$APP.C.F(c,0,null),c=$APP.C.F(c,1,null),d=$APP.Gh.G(NOd(d,c),$APP.G([$APP.cb,new $APP.m(null,3,[$APP.Gv,$APP.Gh.C($APP.pf),$APP.yHa,$APP.Gh.C(c),$APP.zHa,$APP.Gh.C(d)],null)]));$APP.n(d)?b=d:(a=new $APP.m(null,1,[$APP.xs,a],null),a=null==$APP.xs.C(a)?a:$APP.Wr.K(a,$APP.xs,KOd,a),b=$APP.TCa(b,a),b=$APP.AHa(b));return b},POd=function(a,b,c){c=$APP.rf(c);var d=$APP.H.A(c,$APP.jC),e=$APP.H.A(c,$APP.UA),f=$APP.H.A(c,$APP.gYa);a=$APP.rh.A(function(h){return $APP.id(h)?
$APP.cj.G(h,$APP.Vx,$APP.G([$APP.zUa,$APP.DUa,$APP.S0a,$APP.uUa,$APP.QA,$APP.$B,$APP.Ux,$APP.W0a,$APP.mNa,$APP.RVa])):h},a);var g=oOd(a);a=function(){var h=$APP.B.A($APP.vA,$APP.jy.C(b))?tOd(g,$APP.v(e),d,b,f):g;return $APP.ou.C(h)}();if($APP.y(a))try{return $APP.Zv(e,a,$APP.T.F(b,$APP.UQa,!0))}catch(h){throw a=h,console.error(a),a;}else return null},QOd=function(a,b){b=$APP.C.F(b,0,null);return(0,$APP.GPa)($APP.Ln.G($APP.G([b,new $APP.m(null,2,[$APP.HPa,$APP.qWa,$APP.Rw,a],null)])))},ROd=function(a){for(var b=
[],c=arguments.length,d=0;;)if(d<c)b.push(arguments[d]),d+=1;else break;b=1<b.length?new $APP.dc(b.slice(1),0,null):null;return $APP.IPa(arguments[0],b)},SOd=function(a){return $APP.Wr.F(a,$APP.yw,function(b){return $APP.y(b)?$APP.tg.A($APP.pf,$APP.Wf.A(function(c){var d=$APP.C.F(c,0,null);$APP.C.F(c,1,null);return $APP.FJa($APP.t.C(d))},b)):null})},TOd=function(a,b,c,d,e,f,g){var h=function(){var q=new $APP.O(null,1,5,$APP.Q,[$APP.Yt],null),r=$APP.rt.C(c);return $APP.hu?$APP.hu(b,q,r):$APP.iu.call(null,
b,q,r)}(),k=$APP.rt.C($APP.gw.C(h)),p=$APP.hw.C($APP.zt.A?$APP.zt.A(b,k):$APP.zt.call(null,b,k));k=$APP.n(function(){var q="string"===typeof p;return q?$APP.sf(p):q}())?function(){if($APP.Xd($APP.Ug($APP.fw.C(h)),"whiteboard")){a:{var q=new $APP.m(null,2,[$APP.qy,d,$APP.ow,new $APP.I(null,$APP.cj.G(h,$APP.rt,$APP.G([$APP.gw])),null,1,null)],null),r=$APP.Lia;$APP.Lia=gOd;try{var u=$APP.Fh.G($APP.G([q]));break a}finally{$APP.Lia=r}u=void 0}u=$APP.Aa(u)}else u=$APP.lOa(a,b,d,new $APP.m(null,1,[$APP.mOa,
1],null),f);if($APP.Fj(u)&&$APP.nb(e))return null;u=new $APP.O(null,1,5,$APP.Q,[new $APP.O(null,2,5,$APP.Q,[p,u],null)],null);return $APP.y(u)?(q=$APP.rt.C(h),t$($APP.cZa,$APP.Fh.G($APP.G([new $APP.m(null,4,[$APP.aw,g,$APP.eTa,q,$APP.jC,a,$APP.eA,u],null)]))),$APP.WQa):null}():console.error("File path from page-block is not valid",h,d);return $APP.B.A($APP.WQa,k)?null:s$(g)},UOd=function(a,b){return $APP.rh.A(function(c){c=$APP.C.F(c,0,null);c=$APP.rf(c);var d=$APP.H.A(c,$APP.Pv),e=$APP.Xd($APP.Ug($APP.fw.C(c)),
"whiteboard"),f=$APP.jw(b,d,$APP.pf);f=e?f:$APP.rh.A(function(g){var h=$APP.y($APP.yw.C(g))?$APP.Wr.F(g,$APP.Sv,function(k){return $APP.lx($APP.Px.C(g),k)}):g;return SOd(h)},f);d=e?f:$APP.XMa(a,b,f,d);c=SOd(c);return $APP.T.F(c,$APP.Vx,d)},function(){var c=new $APP.O(null,7,5,$APP.Q,[$APP.kv,$APP.nj($APP.Ju,$APP.ww,new $APP.O(null,1,5,$APP.Q,[$APP.Yt],null)),$APP.fk,$APP.Ku,$APP.Kl,new $APP.O(null,2,5,$APP.Q,[$APP.ww,$APP.Rv],null),new $APP.O(null,2,5,$APP.Q,[$APP.ww,$APP.Pv],null)],null);return $APP.ew.A?
$APP.ew.A(c,b):$APP.ew.call(null,c,b)}())},VOd=function(a,b,c){var d=$APP.Ug($APP.Pe(b,$APP.LIa(a,b)));b=$APP.wl.A(function(e){e=$APP.zt.A?$APP.zt.A(a,e):$APP.zt.call(null,a,e);if($APP.n(e)){var f=$APP.Df(d,$APP.rh.A($APP.rt,$APP.Tv.C(e)));if($APP.n(f))return f;f=$APP.my.C(e);return $APP.n(f)?f:null==$APP.Sv.C(e)}return null},c);return $APP.y(b)?(c=new $APP.O(null,1,5,$APP.Q,[$APP.Yt],null),$APP.ju?$APP.ju(a,c,b):$APP.ku.call(null,a,c,b)):null},WOd=function(a,b){b=$APP.ou.C($APP.Pe(b,$APP.LIa(a,b)));
var c=$APP.ou.C($APP.Uf.G(function(d){return $APP.fZa.C($APP.zt.A?$APP.zt.A(a,d):$APP.zt.call(null,a,d))},$APP.G([b])));return $APP.y(c)?(b=new $APP.O(null,1,5,$APP.Q,[$APP.Yt],null),c=$APP.rh.A($APP.rt,c),$APP.ju?$APP.ju(a,b,c):$APP.ku.call(null,a,b,c)):null},XOd=function(a,b){try{var c;if(c=$APP.Xd($APP.fw.C(b),"class")){var d=$APP.v(a),e=$APP.Pv.C(b),f=new $APP.O(null,8,5,$APP.Q,[$APP.kv,new $APP.O(null,2,5,$APP.Q,[$APP.ww,$APP.Zt],null),$APP.fk,$APP.Ku,$APP.IA,$APP.Kl,new $APP.O(null,3,5,$APP.Q,
[$APP.Gw,$APP.Pv,$APP.IA],null),new $APP.O(null,3,5,$APP.Q,[$APP.ww,$APP.Vv,$APP.Gw],null)],null),g=$APP.Oo(e);var h=$APP.ew.F?$APP.ew.F(f,d,g):$APP.ew.call(null,f,d,g);c=$APP.y(h)}if(c)var k=new $APP.m(null,1,[$APP.iA,"Page content deleted but unable to delete this page because blocks are tagged with this page"],null);else{if($APP.Xd($APP.fw.C(b),"property")){var p=$APP.v(a),q=$APP.Qv.C(b),r=new $APP.O(null,10,5,$APP.Q,[$APP.kv,new $APP.O(null,2,5,$APP.Q,[$APP.ww,$APP.Zt],null),$APP.fk,$APP.Ku,$APP.BIa,
$APP.Kl,new $APP.O(null,3,5,$APP.Q,[$APP.ww,$APP.ey,$APP.FYa],null),new $APP.O(null,2,5,$APP.Q,[$APP.nj($APP.Aw,$APP.FYa,$APP.Ap),$APP.uSa],null),new $APP.O(null,2,5,$APP.Q,[$APP.nj($APP.J0a,$APP.uSa),$APP.ARa],null),new $APP.O(null,1,5,$APP.Q,[$APP.nj($APP.Ez,$APP.ARa,$APP.BIa)],null)],null);var u=$APP.ew.F?$APP.ew.F(r,p,q):$APP.ew.call(null,r,p,q);var x=$APP.y(u)?new $APP.m(null,1,[$APP.iA,"Page content deleted but unable to delete this page because classes use this property"],null):$APP.y($APP.CIa($APP.v(a),
$APP.Qv.C(b)))?new $APP.m(null,1,[$APP.iA,"Page content deleted but unable to delete this page because blocks use this property"],null):null}else x=$APP.y($APP.pw.C(b))||$APP.Xd($APP.fw.C(b),"hidden")?new $APP.m(null,1,[$APP.iA,"Page content deleted but unable to delete this page because there're still references to it"],null):null;k=x}return k}catch(z){return a=z,console.error(a),new $APP.m(null,1,[$APP.iA,["An unexpected failure while deleting: ",$APP.t.C(a)].join("")],null)}},YOd=function(a,b,
c,d,e){e=$APP.rf(e);var f=$APP.H.F(e,$APP.Dy,!0),g=$APP.H.A(e,$APP.dXa),h=$APP.H.F(e,$APP.nUa,function(u){u=$APP.rf(u);u=$APP.H.A(u,$APP.iA);return console.error(u)});if($APP.n($APP.n(a)?c:a)){var k=$APP.Oo(c);c=function(){var u=$APP.v(b),x=new $APP.O(null,2,5,$APP.Q,[$APP.Pv,k],null);return $APP.zt.A?$APP.zt.A(u,x):$APP.zt.call(null,u,x)}();e=$APP.qw.C(c);e=$APP.lj.A(function(u){return new $APP.O(null,2,5,$APP.Q,[$APP.vt,new $APP.O(null,2,5,$APP.Q,[$APP.Qv,$APP.Qv.C(u)],null)],null)},e);var p=$APP.Lv(a),
q=p?XOd(b,c):p;if($APP.n(q))return $APP.Zv(b,e,new $APP.m(null,2,[$APP.jy,$APP.o1a,$APP.Dy,f],null)),h.C?h.C(q):h.call(null,q);h=$APP.GIa($APP.v(b),k);var r=$APP.hw.C(h);h=$APP.n(h)?new $APP.O(null,1,5,$APP.Q,[new $APP.O(null,2,5,$APP.Q,[$APP.vt,new $APP.O(null,2,5,$APP.Q,[$APP.hw,r],null)],null)],null):null;a=p&&$APP.nb($APP.pIa.C(c))||!p?$APP.n(p?$APP.FIa($APP.v(b),k):p)?function(){var u=$APP.rt.C(function(){var x=$APP.v(b),z=new $APP.O(null,2,5,$APP.Q,[$APP.Pv,k],null);return $APP.zt.A?$APP.zt.A(x,
z):$APP.zt.call(null,x,z)}());return $APP.n(u)?$APP.lj.A(function(x){return new $APP.O(null,3,5,$APP.Q,[$APP.xt,u,x],null)},$APP.$2a):null}():$APP.kk.A(rOd(a,c),new $APP.O(null,1,5,$APP.Q,[new $APP.O(null,2,5,$APP.Q,[$APP.vt,new $APP.O(null,2,5,$APP.Q,[$APP.Pv,k],null)],null)],null)):null;a=$APP.kk.G(e,a,$APP.G([h]));$APP.Zv(b,a,function(){var u=new $APP.m(null,3,[$APP.jy,$APP.dVa,$APP.uZa,k,$APP.Dy,f],null);u=$APP.n(g)?$APP.T.F(u,$APP.g0a,$APP.PRa):u;return $APP.n(r)?$APP.T.F(u,$APP.aA,r):u}());
$APP.Sc(d)&&(d.I?d.I():d.call(null));return!0}return null},ZOd=function(a,b){return $APP.rh.A(function(c){var d=$APP.zn.C(c);d=$APP.zt.A?$APP.zt.A(b,d):$APP.zt.call(null,b,d);return new $APP.O(null,2,5,$APP.Q,[$APP.Rv.C(d),$APP.nOa(a,b,$APP.mt.C(c),$APP.pf,$APP.pf)],null)},$APP.Fv(b,$APP.Ds,$APP.Pv))},aPd=function(a,b){a=$APP.np($APP.Lp(a,null),$Od(b),$APP.VRa,null);return $APP.n(a)?a:$APP.pe},bPd=function(a,b){a=$APP.np($APP.Lp(a,null),$Od(b),$APP.ixa,null);return $APP.n(a)?a:$APP.pe},cPd=function(a,
b){var c=$APP.Lp(a,null),d=$APP.hD.C(c),e=bPd(c,b),f=$APP.bya(c),g=$APP.n(null)?null:$APP.pe,h=function(){return $APP.n(null)?null:function(k){return $APP.zp.A($APP.mVa,k)}}();return function(k){k=e.C?e.C(k):e.call(null,k);if($APP.n(d.C?d.C(k):d.call(null,k)))return g.C?g.C(k):g.call(null,k);k=new $APP.m(null,3,[$APP.Xo,k,$APP.Wo,c,$APP.CUa,f.C?f.C(k):f.call(null,k)],null);return h.C?h.C(k):h.call(null,k)}},dPd=function(a,b){return cPd(a,b)},ePd=function(a,b,c,d){if($APP.n($APP.Pv.C(b))){var e=$APP.Wg($APP.H.F(b,
$APP.Px,$APP.OAa.C(d))),f=$APP.bs.C(d),g=$APP.Ca($APP.Pv.C(b)),h=$APP.dIa($APP.v(a),b);e=$APP.n(h)?"edn":e;var k=$APP.nx(g,f);g=$APP.FKa(g,f);(f=k&&!$APP.Fj(g))?(k=$APP.wWa.C(d),k=$APP.n(k)?$APP.Vl(k):$APP.Vl("yyyy_MM_dd"),g=$APP.Yl(k,g)):(g=$APP.Rv.C(b),g=$APP.n(g)?g:$APP.Pv.C(b),g=$APP.eOa(g));d=f?$APP.IUa.C(d):$APP.n(h)?$APP.qSa.C(d):$APP.fWa.C(d);h=$APP.B.A(e,"markdown")?"md":e;d=$APP.Jw(d,$APP.G([[$APP.t.C(g),".",h].join("")]));h=new $APP.m(null,1,[$APP.hw,d],null);b=new $APP.O(null,2,5,$APP.Q,
[new $APP.m(null,1,[$APP.hw,d],null),new $APP.m(null,2,[$APP.Pv,$APP.Pv.C(b),$APP.gw,h],null)],null);$APP.THa(a,b);$APP.n(c)&&(c.I?c.I():c.call(null))}},fPd=function(a,b,c,d,e,f,g){if($APP.n(a)){var h=function(){return TOd(a,$APP.v(b),c,d,e,f,g)},k=function(){var p=$APP.gw.C(c);if($APP.n(p))return p;var q=$APP.rt.C($APP.iw.C(c));if($APP.n(q)){p=$APP.gw.C;var r=$APP.v(b);q=$APP.zt.A?$APP.zt.A(r,q):$APP.zt.call(null,r,q);p=p.call($APP.gw,q)}else p=null;return p}();$APP.n(k)?h():ePd(b,c,h,f)}},gPd=function(a,
b,c,d,e){var f=$APP.rf(e),g=$APP.H.F(f,$APP.ty,!0);$APP.y(d);e=$APP.Gh.C($APP.$f);var h=$APP.rh.A(function(D){return new $APP.O(null,2,5,$APP.Q,[$APP.Qv,$APP.Qv.C(D)],null)},d),k=$APP.A(d),p=$APP.Jc(d),q=$APP.Xx($APP.v(b),k),r=$APP.Xx($APP.v(b),p);k=$APP.Ug($APP.rh.A($APP.Qv,$APP.wIa($APP.v(b),$APP.Rx(r,b),new $APP.m(null,1,[$APP.vIa,1E3],null))));k=$APP.Xd(k,$APP.Rx(q,b));if($APP.B.A(1,$APP.vc(d))||$APP.B.A(q,r)||k)$APP.GNa(a,b,e,q,$APP.T.G(f,$APP.ty,g,$APP.G([$APP.bs,c])));else{g=$APP.B.A($APP.Sx(q,
b),$APP.Sx(r,b));f=$APP.QMa(r,b);if($APP.UMa(f)){var u=$APP.y(yOd($APP.v(b),d));g=g?$APP.Rx($APP.Tx(q,b),b):function(){a:{var D=$APP.vc(h);var F=$APP.PMa(r,b);for(var J=r,M=$APP.$f;;){if(0===D){F=M;break a}J=$APP.Tx(J,b);if($APP.n(J)){var P=J;if($APP.B.A(P,F)){F=M;break a}J=P;--D;M=$APP.Ke.A(M,$APP.Rx(P,b))}else{F=M;break a}}}D=$APP.Ug($APP.rh.A($APP.Qv,$APP.wIa($APP.v(b),$APP.Rx(q,b),new $APP.m(null,1,[$APP.vIa,1E3],null))));M=$APP.A($APP.gs.A($APP.Ug(F),D));$APP.nb(u)&&$APP.nb(M)&&$APP.Pm(new $APP.m(null,
2,[$APP.Nh,D,$APP.zTa,F],null));return M}();$APP.n(g)&&(f=$APP.OMa(f,g,b),$APP.SMa(f,e,b,a,c))}a=$APP.y(h);c=null;for(g=f=0;;)if(g<f){var x=c.ia(null,g);k=$APP.Xx($APP.v(b),function(){var D=$APP.v(b),F=x;return $APP.zt.A?$APP.zt.A(D,F):$APP.zt.call(null,D,F)}());$APP.TMa(k,e,!0,b);g+=1}else if(a=$APP.y(a)){c=a;if($APP.nd(c))a=$APP.Qb(c),g=$APP.Rb(c),c=a,f=$APP.vc(a),a=g;else{var z=$APP.A(c);a=$APP.Xx($APP.v(b),function(){var D=$APP.v(b),F=z;return $APP.zt.A?$APP.zt.A(D,F):$APP.zt.call(null,D,F)}());
$APP.TMa(a,e,!0,b);a=$APP.jc(c);c=null;f=0}g=0}else break;d=AOd($APP.v(b),d,null,!1);$APP.Ih.F(e,$APP.kk,d)}return new $APP.m(null,1,[$APP.ot,$APP.v(e)],null)},hPd=function(a,b,c,d,e){return $APP.HNa(new $APP.cc(function(){return gPd},$APP.GWa,$APP.Cg([$APP.JNa,$APP.Sn,$APP.Tn,$APP.Un,$APP.Vn,$APP.Wn,$APP.Xn,$APP.hm,$APP.Yn,$APP.Zn,$APP.$n,$APP.ao],[!0,!0,$APP.Tc($APP.KNa,new $APP.m(null,1,[$APP.$n,"Provides the primary outliner operations and fns"],null)),$APP.dZa,"logseq/outliner/core.cljs",47,
1,919,919,$APP.nj(new $APP.O(null,5,5,$APP.Q,[$APP.MNa,$APP.NNa,$APP.JXa,$APP.wy,new $APP.m(null,3,[$APP.Yp,new $APP.O(null,1,5,$APP.Q,[$APP.I_a],null),$APP.gq,new $APP.m(null,1,[$APP.I_a,!0],null),$APP.Et,$APP.iRa],null)],null)),"Delete blocks from the tree.\n   Args:\n    `children?`: whether to replace `blocks'` children too. ",$APP.n(gPd)?gPd.T:null])),$APP.G([a,b,c,d,$APP.T.F(e,$APP.jy,$APP.vA)]))},u$=function(a,b,c,d,e){e=$APP.rf(e);$APP.H.A(e,$APP.BNa);$APP.H.A(e,$APP.iSa);var f=$APP.H.A(e,
$APP.jy);$APP.H.A(e,$APP.CXa);var g=$APP.v(b);d=$APP.zNa(g,c,d,e);var h=$APP.C.F(d,0,null);d=$APP.C.F(d,1,null);e=$APP.y(yOd(g,c));var k=mOd(c,h,d,e);if($APP.Xd($APP.Ug($APP.rh.A($APP.rt,c)),$APP.rt.C(h))||k)return null;k=$APP.Ug($APP.rh.A($APP.rt,$APP.wIa(g,$APP.Qv.C(h),$APP.pf)));k=$APP.Df(k,$APP.rh.A($APP.rt,c));if($APP.n(k))return null;k=$APP.A(c);a=$APP.ENa(a,b,c,h,new $APP.m(null,3,[$APP.gy,d,$APP.jy,$APP.n(f)?f:$APP.ny,$APP.CNa,!1],null));a=$APP.rf(a);a=$APP.H.A(a,$APP.ot);if($APP.y(a)){var p=
$APP.rt.C($APP.iw.C(k)),q=function(){var x=$APP.rt.C($APP.iw.C(h));return $APP.n(x)?x:$APP.rt.C(h)}(),r=$APP.Lg.A(p,q),u=new $APP.O(null,1,5,$APP.Q,[vOd(g,h,c,new $APP.m(null,2,[$APP.gy,d,$APP.TUa,e],null))],null);b=r?function(){var x=$APP.Uf.G(function(z){return $APP.yIa(g,$APP.Qv.C(z))},$APP.G([c]));return $APP.rh.A(function(z){return new $APP.m(null,2,[$APP.Qv,z,$APP.iw,q],null)},x)}():null;d=$APP.wl.A(function(x){return $APP.Xd($APP.Ug($APP.rh.A($APP.rt,u)),$APP.rt.C(x))},AOd(g,c,h,d));a=$APP.sy.G($APP.G([a,
u,b,d]));b=function(){var x=new $APP.m(null,3,[$APP.ny,$APP.lj.A($APP.rt,c),$APP.MUa,f,$APP.SA,$APP.rt.C(h)],null);return r?$APP.T.G(x,$APP.BMa,p,$APP.G([$APP.a1a,q])):x}();return new $APP.m(null,2,[$APP.ot,a,$APP.vy,b],null)}return null},iPd=function(a,b,c,d,e){return $APP.HNa(new $APP.cc(function(){return u$},$APP.KVa,$APP.Cg([$APP.Sn,$APP.Tn,$APP.Un,$APP.Vn,$APP.Wn,$APP.Xn,$APP.hm,$APP.Yn,$APP.Zn,$APP.$n,$APP.ao],[!0,$APP.Tc($APP.KNa,new $APP.m(null,1,[$APP.$n,"Provides the primary outliner operations and fns"],
null)),$APP.jTa,"logseq/outliner/core.cljs",19,1,991,991,$APP.nj(new $APP.O(null,5,5,$APP.Q,[$APP.MNa,$APP.NNa,$APP.wy,$APP.ONa,new $APP.m(null,2,[$APP.Yp,new $APP.O(null,4,5,$APP.Q,[$APP.PNa,$APP.l1a,$APP.RNa,$APP.lSa],null),$APP.Et,$APP.xy],null)],null)),"Move `blocks` to `target-block` as siblings or children.",$APP.n(u$)?u$.T:null])),$APP.G([a,b,c,d,new $APP.m(null,2,[$APP.gy,e,$APP.jy,$APP.ny],null)]))},kPd=function(a,b,c,d,e){e=$APP.rf(e);$APP.HNa(new $APP.cc(function(){return jPd},$APP.y0a,
$APP.Cg([$APP.JNa,$APP.Sn,$APP.Tn,$APP.Un,$APP.Vn,$APP.Wn,$APP.eC,$APP.Xn,$APP.hm,$APP.Yn,$APP.Zn,$APP.$n,$APP.ao],[!0,!0,$APP.Tc($APP.KNa,new $APP.m(null,1,[$APP.$n,"Provides the primary outliner operations and fns"],null)),$APP.oXa,"logseq/outliner/core.cljs",55,new $APP.m(null,6,[$APP.GB,!0,$APP.qz,4,$APP.aC,4,$APP.uz,new $APP.O(null,1,5,$APP.Q,[$APP.nj($APP.MNa,$APP.NNa,$APP.wy,$APP.GZa,new $APP.m(null,1,[$APP.Yp,new $APP.O(null,2,5,$APP.Q,[$APP.rRa,$APP.iVa],null)],null))],null),$APP.Zn,$APP.nj(new $APP.O(null,
6,5,$APP.Q,[$APP.MNa,$APP.NNa,$APP.wy,$APP.GZa,$APP.di,new $APP.m(null,1,[$APP.Yp,new $APP.O(null,2,5,$APP.Q,[$APP.rRa,$APP.iVa],null)],null)],null)),$APP.Bz,$APP.nj(null)],null),1,1071,1071,$APP.nj(new $APP.O(null,6,5,$APP.Q,[$APP.MNa,$APP.NNa,$APP.wy,$APP.GZa,$APP.di,new $APP.m(null,1,[$APP.Yp,new $APP.O(null,2,5,$APP.Q,[$APP.rRa,$APP.iVa],null)],null)],null)),"Indent or outdent `blocks`.",$APP.n(jPd)?jPd.T:null])),$APP.G([a,b,c,d,e]))},lPd=function(a,b,c,d){var e=$APP.v(b),f=new $APP.m(null,1,
[$APP.jy,$APP.yNa],null);if($APP.n(d)){var g=function(){var r=$APP.rt.C($APP.A(c));return $APP.zt.A?$APP.zt.A(e,r):$APP.zt.call(null,e,r)}(),h=$APP.kw.C(g);g=$APP.cw.C(g);var k=$APP.cw.C(g);g=$APP.B.A($APP.rt.C($APP.kw.C(k)),$APP.rt.C(h));return $APP.n($APP.n(k)?$APP.Lg.A($APP.rt.C($APP.iw.C(h)),$APP.rt.C(k)):k)?u$(a,b,c,k,$APP.Ln.G($APP.G([f,new $APP.m(null,2,[$APP.gy,g,$APP.xNa,d],null)]))):null}var p=$APP.Jc(c),q=$APP.oNa(e,$APP.rt.C(p));h=function(){if($APP.n(q))return q;var r=$APP.kw.C(p),u=
$APP.iw.C;var x=$APP.rt.C(r);x=$APP.zt.A?$APP.zt.A(e,x):$APP.zt.call(null,e,x);r=$APP.n(u.call($APP.iw,x))?$APP.rt.C(r):null;return null==r?null:$APP.oNa(e,r)}();g=$APP.B.A($APP.rt.C($APP.kw.C(p)),$APP.rt.C($APP.kw.C(h)));return $APP.n(h)?u$(a,b,c,h,$APP.Ln.G($APP.G([f,new $APP.m(null,2,[$APP.gy,g,$APP.xNa,d],null)]))):null},mPd=function(a,b,c,d){$APP.HNa(new $APP.cc(function(){return lPd},$APP.J_a,$APP.Cg([$APP.Sn,$APP.Tn,$APP.Un,$APP.Vn,$APP.Wn,$APP.Xn,$APP.hm,$APP.Yn,$APP.Zn,$APP.$n,$APP.ao],[!0,
$APP.Tc($APP.KNa,new $APP.m(null,1,[$APP.$n,"Provides the primary outliner operations and fns"],null)),$APP.tRa,"logseq/outliner/core.cljs",27,1,1037,1037,$APP.nj(new $APP.O(null,4,5,$APP.Q,[$APP.MNa,$APP.NNa,$APP.wy,$APP.B_a],null)),"Move blocks up/down.",$APP.n(lPd)?lPd.T:null])),$APP.G([a,b,c,d]))},nPd=function(a,b,c,d){var e=$APP.Gh.C($APP.$f);$APP.SMa($APP.Xx($APP.v(b),d),e,b,a,c);return new $APP.m(null,1,[$APP.ot,$APP.v(e)],null)},oPd=function(a,b,c,d){return $APP.HNa(new $APP.cc(function(){return nPd},
$APP.RQa,$APP.Cg([$APP.vYa,$APP.Tn,$APP.Un,$APP.Vn,$APP.Wn,$APP.Xn,$APP.hm,$APP.Yn,$APP.Zn,$APP.$n,$APP.ao],[!0,$APP.Tc($APP.KNa,new $APP.m(null,1,[$APP.$n,"Provides the primary outliner operations and fns"],null)),$APP.o0a,"logseq/outliner/core.cljs",23,1,595,595,$APP.nj(new $APP.O(null,4,5,$APP.Q,[$APP.MNa,$APP.NNa,$APP.JXa,$APP.JWa],null)),"Save the `block`.",$APP.n(nPd)?nPd.T:null])),$APP.G([a,b,c,d]))},pPd=function(a,b,c,d,e){var f=$APP.T.G(e,$APP.Az,new $APP.m(null,2,[$APP.jC,a,$APP.UA,b],null),
$APP.G([$APP.vTa,!0])),g=$APP.Gh.C(null),h=$APP.uy,k=v$,p=$APP.n(h)?$APP.T.F(f,$APP.AB,!0):f;if($APP.n(h)){$APP.n(k)&&$APP.Zf.A(k,p);for(var q=$APP.y(c),r=null,u=0,x=0;;)if(x<u){var z=r.ia(null,x),D=$APP.C.F(z,0,null),F=$APP.C.F(z,1,null),J=D,M=J instanceof $APP.K?J.Z:null;switch(M){case "save-block":$APP.Gf.ba(oPd,a,b,d,F);break;case "insert-blocks":var P=F,R=$APP.C.F(P,0,null),W=$APP.C.F(P,1,null),U=$APP.C.F(P,2,null),E=function(){var Td=$APP.v(b),lf=W;return $APP.zt.A?$APP.zt.A(Td,lf):$APP.zt.call(null,
Td,lf)}();if($APP.n(E)){var N=$APP.UNa(a,b,R,E,U);$APP.Kf(g,N)}break;case "delete-blocks":var S=F,X=$APP.C.F(S,0,null),aa=$APP.C.F(S,1,null),qa=$APP.wk.A(function(){return function(Td){var lf=$APP.v(b);return $APP.zt.A?$APP.zt.A(lf,Td):$APP.zt.call(null,lf,Td)}}(q,r,u,x,S,X,aa,J,M,z,D,F,h,k,f,null,p,f,g),X);hPd(a,b,d,qa,aa);break;case "move-blocks":var ra=F,wa=$APP.C.F(ra,0,null),Fa=$APP.C.F(ra,1,null),za=$APP.C.F(ra,2,null),Ga=$APP.wk.A(function(){return function(Td){var lf=$APP.v(b);return $APP.zt.A?
$APP.zt.A(lf,Td):$APP.zt.call(null,lf,Td)}}(q,r,u,x,ra,wa,Fa,za,J,M,z,D,F,h,k,f,null,p,f,g),wa),Ka=function(){var Td=$APP.v(b),lf=Fa;return $APP.zt.A?$APP.zt.A(Td,lf):$APP.zt.call(null,Td,lf)}();$APP.n(function(){var Td=Ka;return $APP.n(Td)?$APP.y(Ga):Td}())&&iPd(a,b,Ga,Ka,za);break;case "move-blocks-up-down":var Va=F,Ra=$APP.C.F(Va,0,null),Ja=$APP.C.F(Va,1,null),Pa=$APP.wk.A(function(){return function(Td){var lf=$APP.v(b);return $APP.zt.A?$APP.zt.A(lf,Td):$APP.zt.call(null,lf,Td)}}(q,r,u,x,Va,Ra,
Ja,J,M,z,D,F,h,k,f,null,p,f,g),Ra);$APP.y(Pa)&&mPd(a,b,Pa,Ja);break;case "indent-outdent-blocks":var rb=F,lb=$APP.C.F(rb,0,null),Db=$APP.C.F(rb,1,null),Tb=$APP.C.F(rb,2,null),ec=$APP.wk.A(function(){return function(Td){var lf=$APP.v(b);return $APP.zt.A?$APP.zt.A(lf,Td):$APP.zt.call(null,lf,Td)}}(q,r,u,x,rb,lb,Db,Tb,J,M,z,D,F,h,k,f,null,p,f,g),lb);$APP.y(ec)&&kPd(a,b,ec,Db,$APP.G([Tb]));break;default:throw Error(["No matching clause: ",$APP.t.C(M)].join(""));}x+=1}else{var ic=$APP.y(q);if(ic){var ac=
ic;if($APP.nd(ac)){var xc=$APP.Qb(ac),mc=$APP.Rb(ac),Qc=xc,Ec=$APP.vc(xc);q=mc;r=Qc;u=Ec}else{var Vc=$APP.A(ac),Lc=$APP.C.F(Vc,0,null),yc=$APP.C.F(Vc,1,null),zc=Lc,Kc=zc instanceof $APP.K?zc.Z:null;switch(Kc){case "save-block":$APP.Gf.ba(oPd,a,b,d,yc);break;case "insert-blocks":var ed=yc,Rc=$APP.C.F(ed,0,null),Pc=$APP.C.F(ed,1,null),qd=$APP.C.F(ed,2,null),sd=function(){var Td=$APP.v(b),lf=Pc;return $APP.zt.A?$APP.zt.A(Td,lf):$APP.zt.call(null,Td,lf)}();if($APP.n(sd)){var rd=$APP.UNa(a,b,Rc,sd,qd);
$APP.Kf(g,rd)}break;case "delete-blocks":var md=yc,kd=$APP.C.F(md,0,null),Od=$APP.C.F(md,1,null),Id=$APP.wk.A(function(){return function(Td){var lf=$APP.v(b);return $APP.zt.A?$APP.zt.A(lf,Td):$APP.zt.call(null,lf,Td)}}(q,r,u,x,md,kd,Od,zc,Kc,Vc,Lc,yc,ac,ic,h,k,f,null,p,f,g),kd);hPd(a,b,d,Id,Od);break;case "move-blocks":var Cd=yc,Dd=$APP.C.F(Cd,0,null),Ed=$APP.C.F(Cd,1,null),fd=$APP.C.F(Cd,2,null),Hd=$APP.wk.A(function(){return function(Td){var lf=$APP.v(b);return $APP.zt.A?$APP.zt.A(lf,Td):$APP.zt.call(null,
lf,Td)}}(q,r,u,x,Cd,Dd,Ed,fd,zc,Kc,Vc,Lc,yc,ac,ic,h,k,f,null,p,f,g),Dd),ne=function(){var Td=$APP.v(b),lf=Ed;return $APP.zt.A?$APP.zt.A(Td,lf):$APP.zt.call(null,Td,lf)}();$APP.n(function(){var Td=ne;return $APP.n(Td)?$APP.y(Hd):Td}())&&iPd(a,b,Hd,ne,fd);break;case "move-blocks-up-down":var ge=yc,Pf=$APP.C.F(ge,0,null),vf=$APP.C.F(ge,1,null),qe=$APP.wk.A(function(){return function(Td){var lf=$APP.v(b);return $APP.zt.A?$APP.zt.A(lf,Td):$APP.zt.call(null,lf,Td)}}(q,r,u,x,ge,Pf,vf,zc,Kc,Vc,Lc,yc,ac,ic,
h,k,f,null,p,f,g),Pf);$APP.y(qe)&&mPd(a,b,qe,vf);break;case "indent-outdent-blocks":var $d=yc,Fd=$APP.C.F($d,0,null),Ce=$APP.C.F($d,1,null),Re=$APP.C.F($d,2,null),Ne=$APP.wk.A(function(){return function(Td){var lf=$APP.v(b);return $APP.zt.A?$APP.zt.A(lf,Td):$APP.zt.call(null,lf,Td)}}(q,r,u,x,$d,Fd,Ce,Re,zc,Kc,Vc,Lc,yc,ac,ic,h,k,f,null,p,f,g),Fd);$APP.y(Ne)&&kPd(a,b,Ne,Ce,$APP.G([Re]));break;default:throw Error(["No matching clause: ",$APP.t.C(Kc)].join(""));}q=$APP.jc(ac);r=null;u=0}x=0}else break}}else{var Fe=
function(){var Td=$APP.pf;return $APP.n($APP.H.F(f,$APP.Dy,!0))?$APP.T.F(Td,$APP.Dy,!0):Td}(),Le=$APP.uy,cf=v$,$e=$APP.Mb($APP.$f),re=$APP.Mb($APP.$f);$APP.uy=$e;v$=re;try{$APP.Zf.A(v$,p);for(var Pd=$APP.y(c),Jd=null,Wc=0,hd=0;;)if(hd<Wc){var Zc=Jd.ia(null,hd),Md=$APP.C.F(Zc,0,null),ud=$APP.C.F(Zc,1,null),Wd=Md,Yb=Wd instanceof $APP.K?Wd.Z:null;switch(Yb){case "save-block":$APP.Gf.ba(oPd,a,b,d,ud);break;case "insert-blocks":var Qd=ud,he=$APP.C.F(Qd,0,null),Ae=$APP.C.F(Qd,1,null),De=$APP.C.F(Qd,2,
null),ae=function(){var Td=$APP.v(b),lf=Ae;return $APP.zt.A?$APP.zt.A(Td,lf):$APP.zt.call(null,Td,lf)}();if($APP.n(ae)){var ce=$APP.UNa(a,b,he,ae,De);$APP.Kf(g,ce)}break;case "delete-blocks":var Nc=ud,Fc=$APP.C.F(Nc,0,null),td=$APP.C.F(Nc,1,null),wf=$APP.wk.A(function(){return function(Td){var lf=$APP.v(b);return $APP.zt.A?$APP.zt.A(lf,Td):$APP.zt.call(null,lf,Td)}}(Pd,Jd,Wc,hd,Nc,Fc,td,Wd,Yb,Zc,Md,ud,Le,cf,$e,re,Fe,h,k,f,null,p,f,g),Fc);hPd(a,b,d,wf,td);break;case "move-blocks":var Zd=ud,oe=$APP.C.F(Zd,
0,null),hf=$APP.C.F(Zd,1,null),Ac=$APP.C.F(Zd,2,null),qf=$APP.wk.A(function(){return function(Td){var lf=$APP.v(b);return $APP.zt.A?$APP.zt.A(lf,Td):$APP.zt.call(null,lf,Td)}}(Pd,Jd,Wc,hd,Zd,oe,hf,Ac,Wd,Yb,Zc,Md,ud,Le,cf,$e,re,Fe,h,k,f,null,p,f,g),oe),Qf=function(){var Td=$APP.v(b),lf=hf;return $APP.zt.A?$APP.zt.A(Td,lf):$APP.zt.call(null,Td,lf)}();$APP.n(function(){var Td=Qf;return $APP.n(Td)?$APP.y(qf):Td}())&&iPd(a,b,qf,Qf,Ac);break;case "move-blocks-up-down":var Bf=ud,cg=$APP.C.F(Bf,0,null),zf=
$APP.C.F(Bf,1,null),Og=$APP.wk.A(function(){return function(Td){var lf=$APP.v(b);return $APP.zt.A?$APP.zt.A(lf,Td):$APP.zt.call(null,lf,Td)}}(Pd,Jd,Wc,hd,Bf,cg,zf,Wd,Yb,Zc,Md,ud,Le,cf,$e,re,Fe,h,k,f,null,p,f,g),cg);$APP.y(Og)&&mPd(a,b,Og,zf);break;case "indent-outdent-blocks":var Ef=ud,Ge=$APP.C.F(Ef,0,null),Cf=$APP.C.F(Ef,1,null),Ag=$APP.C.F(Ef,2,null),yh=$APP.wk.A(function(){return function(Td){var lf=$APP.v(b);return $APP.zt.A?$APP.zt.A(lf,Td):$APP.zt.call(null,lf,Td)}}(Pd,Jd,Wc,hd,Ef,Ge,Cf,Ag,
Wd,Yb,Zc,Md,ud,Le,cf,$e,re,Fe,h,k,f,null,p,f,g),Ge);$APP.y(yh)&&kPd(a,b,yh,Cf,$APP.G([Ag]));break;default:throw Error(["No matching clause: ",$APP.t.C(Yb)].join(""));}hd+=1}else{var nh=$APP.y(Pd);if(nh){var zh=nh;if($APP.nd(zh)){var Ah=$APP.Qb(zh),fg=$APP.Rb(zh),kj=Ah,Eh=$APP.vc(Ah);Pd=fg;Jd=kj;Wc=Eh}else{var xh=$APP.A(zh),oh=$APP.C.F(xh,0,null),dh=$APP.C.F(xh,1,null),Yh=oh,Bh=Yh instanceof $APP.K?Yh.Z:null;switch(Bh){case "save-block":$APP.Gf.ba(oPd,a,b,d,dh);break;case "insert-blocks":var yi=dh,
ti=$APP.C.F(yi,0,null),Bi=$APP.C.F(yi,1,null),mi=$APP.C.F(yi,2,null),Qg=function(){var Td=$APP.v(b),lf=Bi;return $APP.zt.A?$APP.zt.A(Td,lf):$APP.zt.call(null,Td,lf)}();if($APP.n(Qg)){var Qk=$APP.UNa(a,b,ti,Qg,mi);$APP.Kf(g,Qk)}break;case "delete-blocks":var vk=dh,Zh=$APP.C.F(vk,0,null),Hh=$APP.C.F(vk,1,null),Xc=$APP.wk.A(function(){return function(Td){var lf=$APP.v(b);return $APP.zt.A?$APP.zt.A(lf,Td):$APP.zt.call(null,lf,Td)}}(Pd,Jd,Wc,hd,vk,Zh,Hh,Yh,Bh,xh,oh,dh,zh,nh,Le,cf,$e,re,Fe,h,k,f,null,p,
f,g),Zh);hPd(a,b,d,Xc,Hh);break;case "move-blocks":var mg=dh,ph=$APP.C.F(mg,0,null),ni=$APP.C.F(mg,1,null),$h=$APP.C.F(mg,2,null),Sg=$APP.wk.A(function(){return function(Td){var lf=$APP.v(b);return $APP.zt.A?$APP.zt.A(lf,Td):$APP.zt.call(null,lf,Td)}}(Pd,Jd,Wc,hd,mg,ph,ni,$h,Yh,Bh,xh,oh,dh,zh,nh,Le,cf,$e,re,Fe,h,k,f,null,p,f,g),ph),Nj=function(){var Td=$APP.v(b),lf=ni;return $APP.zt.A?$APP.zt.A(Td,lf):$APP.zt.call(null,Td,lf)}();$APP.n(function(){var Td=Nj;return $APP.n(Td)?$APP.y(Sg):Td}())&&iPd(a,
b,Sg,Nj,$h);break;case "move-blocks-up-down":var ai=dh,jf=$APP.C.F(ai,0,null),Yf=$APP.C.F(ai,1,null),Rk=$APP.wk.A(function(){return function(Td){var lf=$APP.v(b);return $APP.zt.A?$APP.zt.A(lf,Td):$APP.zt.call(null,lf,Td)}}(Pd,Jd,Wc,hd,ai,jf,Yf,Yh,Bh,xh,oh,dh,zh,nh,Le,cf,$e,re,Fe,h,k,f,null,p,f,g),jf);$APP.y(Rk)&&mPd(a,b,Rk,Yf);break;case "indent-outdent-blocks":var dm=dh,Ui=$APP.C.F(dm,0,null),ej=$APP.C.F(dm,1,null),zd=$APP.C.F(dm,2,null),Oj=$APP.wk.A(function(){return function(Td){var lf=$APP.v(b);
return $APP.zt.A?$APP.zt.A(lf,Td):$APP.zt.call(null,lf,Td)}}(Pd,Jd,Wc,hd,dm,Ui,ej,zd,Yh,Bh,xh,oh,dh,zh,nh,Le,cf,$e,re,Fe,h,k,f,null,p,f,g),Ui);$APP.y(Oj)&&kPd(a,b,Oj,ej,$APP.G([zd]));break;default:throw Error(["No matching clause: ",$APP.t.C(Bh)].join(""));}Pd=$APP.jc(zh);Jd=null;Wc=0}hd=0}else break}var $k=$APP.Ob($APP.uy),vm=$APP.Uf.G($APP.ot,$APP.G([$k])),rq=$APP.A($APP.rh.A($APP.vy,$k)),Gj=$APP.kk.A(vm,$APP.AC.C(p)),$s=$APP.Ob(v$),sq=$APP.Gf.A($APP.Ln,$APP.Me($s)),on=$APP.Ln.G($APP.G([$APP.cj.G(sq,
$APP.AC,$APP.G([$APP.BC,$APP.AB])),rq]));$APP.y(Gj)&&($APP.n($APP.AB.C(p))||POd(Gj,$APP.cj.A(on,$APP.Az),$APP.Az.C(on)))}finally{v$=cf,$APP.uy=Le}}return $APP.v(g)},qPd=function(a){for(var b=[],c=arguments.length,d=0;;)if(d<c)b.push(arguments[d]),d+=1;else break;b=4<b.length?new $APP.dc(b.slice(4),0,null):null;$APP.zOa(arguments[0],arguments[1],arguments[2],arguments[3],b)},rPd=function(a){try{a.exec("CREATE TABLE IF NOT EXISTS blocks (\n                        id TEXT NOT NULL PRIMARY KEY,\n                        content TEXT NOT NULL,\n                        page TEXT)");
a.exec("CREATE VIRTUAL TABLE IF NOT EXISTS blocks_fts USING fts5(id, content, page)");a:for(var b=$APP.y(new $APP.O(null,3,5,$APP.Q,["CREATE TRIGGER IF NOT EXISTS blocks_ad AFTER DELETE ON blocks\n                  BEGIN\n                      DELETE from blocks_fts where id \x3d old.id;\n                  END;","CREATE TRIGGER IF NOT EXISTS blocks_ai AFTER INSERT ON blocks\n                  BEGIN\n                      INSERT INTO blocks_fts (id, content, page)\n                      VALUES (new.id, new.content, new.page);\n                  END;",
"CREATE TRIGGER IF NOT EXISTS blocks_au AFTER UPDATE ON blocks\n                  BEGIN\n                      DELETE from blocks_fts where id \x3d old.id;\n                      INSERT INTO blocks_fts (id, content, page)\n                      VALUES (new.id, new.content, new.page);\n                  END;"],null)),c=null,d=0,e=0;;)if(e<d){var f=c.ia(null,e);a.exec(f);e+=1}else{var g=$APP.y(b);if(g){var h=g;if($APP.nd(h)){var k=$APP.Qb(h),p=$APP.Rb(h);h=k;var q=$APP.vc(k);b=p;c=h;d=q}else f=$APP.A(h),
a.exec(f),b=$APP.jc(h),c=null,d=0;e=0}else break a}}catch(r){a=r,$APP.Cv.G($APP.G(["Failed to create tables and triggers"])),console.error(a)}},sPd=function(a){return["(",$APP.Qj.A(", ",$APP.rh.A(function(b){return["'",$APP.t.C(b),"'"].join("")},a)),")"].join("")},tPd=function(a,b){a.transaction(function(c){for(var d=$APP.y(b),e=null,f=0,g=0;;)if(g<f){var h=e.ia(null,g);c.exec({sql:"INSERT INTO blocks (id, content, page) VALUES ($id, $content, $page) ON CONFLICT (id) DO UPDATE SET (content, page) \x3d ($content, $page)",
bind:{$id:h.id,$content:h.content,$page:h.page}});g+=1}else if(d=$APP.y(d))e=d,$APP.nd(e)?(d=$APP.Qb(e),f=$APP.Rb(e),e=d,h=$APP.vc(d),d=f,f=h):(h=$APP.A(e),c.exec({sql:"INSERT INTO blocks (id, content, page) VALUES ($id, $content, $page) ON CONFLICT (id) DO UPDATE SET (content, page) \x3d ($content, $page)",bind:{$id:h.id,$content:h.content,$page:h.page}}),d=$APP.jc(e),e=null,f=0),g=0;else return null})},uPd=function(a){return $APP.ua(a,"$pfts_2lqh\x3e$ ")?a:[$APP.ih.F(a,0,250),250<$APP.vc(a)?"...":
null].join("")},vPd=function(a,b,c,d,e){try{return $APP.el(null,function(){return $APP.el($APP.n(d)?a.exec({sql:b,bind:[c,d,e],rowMode:"array"}):a.exec({sql:b,bind:[c,e],rowMode:"array"}),function(g){return $APP.el($APP.Di(g),function(h){return $APP.Xk($APP.rh.A(function(k){return $APP.Wr.F(k,3,uPd)},h))})})})}catch(g){var f=g;$APP.Cv.G($APP.G([$APP.FC,"Search blocks failed: "]));return console.error(f)}},wPd=function(a){var b=$APP.vj($APP.vj($APP.vj($APP.vj($APP.vj(a," and "," AND ")," \x26 "," AND "),
" or "," OR ")," | "," OR ")," not "," NOT ");return $APP.Lg.A(a,b)?$APP.vj(b,",",""):['"',b,'"'].join("")},xPd=function(a,b,c){c=$APP.rf(c);var d=$APP.H.A(c,$APP.Ft),e=$APP.H.A(c,$APP.NB);return $APP.Fj(b)?null:$APP.el(null,function(){return $APP.el(wPd(b),function(f){return $APP.el(["%",$APP.vj(b,/\s+/,"%"),"%"].join(""),function(g){return $APP.el($APP.n(d)?d:20,function(h){return $APP.el("snippet(blocks_fts, 1, ' $pfts_2lqh\x3e$ ', ' $\x3cpfts_2lqh$ ', '...', 32)",function(k){return $APP.el(["select id, page, content, ",
$APP.t.C(k)," from blocks_fts where "].join(""),function(p){return $APP.el($APP.n(e)?"page \x3d ? and":"",function(q){return $APP.el([$APP.t.C(p),$APP.t.C(q)," content match ? order by rank limit ?"].join(""),function(r){return $APP.el([$APP.t.C(p),$APP.t.C(q)," content like ? limit ?"].join(""),function(u){return $APP.el(vPd(a,r,f,e,h),function(x){return $APP.el(vPd(a,u,g,e,h),function(z){return $APP.el($APP.rh.A(function(D){var F=$APP.C.F(D,0,null),J=$APP.C.F(D,1,null);$APP.C.F(D,2,null);D=$APP.C.F(D,
3,null);return new $APP.m(null,3,[$APP.Cy,F,$APP.Ex,D,$APP.NB,J],null)},$APP.kk.A(x,z)),function(D){return $APP.Xk($APP.Nf.A(h,$APP.Po($APP.Cy,D)))})})})})})})})})})})})})},yPd=function(a,b,c){return $APP.n($APP.n(b)?c:b)?(a=$APP.fIa.C($APP.zt.A?$APP.zt.A(a,c):$APP.zt.call(null,a,c)),$APP.Df(function(d){return $APP.B.A(b,$APP.rt.C($APP.kw.C(d)))&&$APP.Lg.A(b,$APP.rt.C(d))?d:null},a)):null},zPd=function(a,b){return $APP.Qj.A(";; ",$APP.wl.A($APP.jb,$APP.rh.A(function(c){var d=$APP.C.F(c,0,null);c=
$APP.C.F(c,1,null);c=$APP.wl.A($APP.Fj,$APP.rh.A(function(e){if($APP.Wh(e)){var f=function(){var g=new $APP.O(null,2,5,$APP.Q,[$APP.Qv,e],null);return $APP.zt.A?$APP.zt.A(a,g):$APP.zt.call(null,a,g)}();return function(){var g=$APP.Xd($APP.fw.C(f),"closed value")?$APP.wt.A(f,new $APP.O(null,2,5,$APP.Q,[$APP.ey,$APP.Xo],null)):null;if($APP.n(g))return g;g=$APP.Rv.C(f);if($APP.n(g))return g;g=$APP.wt.A(f,new $APP.O(null,2,5,$APP.Q,[$APP.by,$APP.UWa],null));g=$APP.n(g)?$APP.Sv.C(f):g;if($APP.n(g))return g;
g=$APP.rt.C(f);return $APP.Sv.C(yPd(a,g,g))}()}return e},$APP.cd(c)?c:$APP.Rg([c])));return $APP.y(c)?[$APP.t.C($APP.Rv.C(function(){var e=new $APP.O(null,2,5,$APP.Q,[$APP.Qv,d],null);return $APP.zt.A?$APP.zt.A(a,e):$APP.zt.call(null,a,e)}())),": ",$APP.Qj.A("; ",c)].join(""):null},b)))},APd=function(a,b,c){var d=$APP.rf(c),e=$APP.H.A(d,$APP.Pv);c=$APP.H.A(d,$APP.Qv);var f=$APP.H.A(d,$APP.iw),g=$APP.H.A(d,$APP.Sv),h=$APP.H.A(d,$APP.yw),k=$APP.H.A(d,$APP.Px),p=null!=e,q=null==e,r=$APP.Lv(a);if($APP.n(function(){if(p)if($APP.n(e))if("string"===
typeof e){var u=new $APP.O(null,2,5,$APP.Q,[$APP.Pv,e],null);u=$APP.zt.A?$APP.zt.A(b,u):$APP.zt.call(null,b,u);u=$APP.B.A($APP.fw.C(u),"whiteboard")||$APP.Xd($APP.Ug($APP.fw.C(u)),"whiteboard")}else u=$APP.y(e)?$APP.Xd($APP.Ug($APP.fw.C(e)),"whiteboard"):!1;else u=e;else u=p;return $APP.n(u)?u:q&&1E4<$APP.vc(g)||$APP.ad(h)&&(q&&$APP.Fj(g)||r&&p)}()))return null;a=q?g:r?"":function(){var u=$APP.gw.C;var x=$APP.rt.C(d);x=$APP.zt.A?$APP.zt.A(b,x):$APP.zt.call(null,b,x);u=u.call($APP.gw,x);return null==
u?null:$APP.pA.C(u)}();a=r&&$APP.y(h)?[$APP.t.C(a),$APP.Lg.A(a,"")?"\n":null,zPd(b,h)].join(""):a;return $APP.Fj(a)?null:new $APP.m(null,4,[$APP.Dk,$APP.t.C(c),$APP.NB,$APP.t.C($APP.Qv.C(f)),$APP.Ex,null==a?null:$APP.Yr(a,!0),$APP.Ow,k],null)},BPd=function(a){return $APP.n(a)?$APP.wl.A($APP.jb,$APP.rh.A(function(b){var c=new $APP.O(null,2,5,$APP.Q,[$APP.Qv,b],null);c=$APP.zt.A?$APP.zt.A(a,c):$APP.zt.call(null,a,c);return null==$APP.Pv.C(c)&&$APP.Fj($APP.Sv.C(c))?null:new $APP.m(null,7,[$APP.rt,$APP.rt.C(c),
$APP.Pv,$APP.Pv.C(c),$APP.Qv,b,$APP.iw,$APP.rt.C($APP.iw.C(c)),$APP.Sv,$APP.Sv.C(c),$APP.Px,$APP.Px.C(c),$APP.yw,$APP.yw.C(c)],null)},$APP.rh.A($APP.mt,$APP.Fv(a,$APP.Ds,$APP.Qv)))):null},CPd=function(a,b){return $APP.Fi($APP.wl.A($APP.jb,$APP.rh.A(function(c){return APd(a,b,c)},BPd(b))))},DPd=function(a){return $APP.n(a)?new $APP.m(null,3,[$APP.Dk,$APP.t.C($APP.Qv.C(a)),$APP.Un,$APP.Pv.C(a),$APP.fC,$APP.Rv.C(a)],null):null},EPd=function(a){if($APP.n(a))if("string"===typeof a){var b;if(b=$APP.sa(a,
"$$$")){b=$APP.vc(a);var c=$APP.vc(a);a=$APP.ih.F(a,3>c?c:3,c<b?c:b);b=$APP.Ro(a)}a=b}else a=$APP.Xd($APP.Ug($APP.fw.C(a)),"hidden");else a=null;return a},FPd=function(a){var b=$APP.Fv(a,$APP.Ds,$APP.Pv);b=$APP.rh.A(function(c){c=$APP.zn.C(c);return $APP.zt.A?$APP.zt.A(a,c):$APP.zt.call(null,a,c)},b);return $APP.wl.A(function(c){return EPd($APP.Pv.C(c))},b)},HPd=function(a,b,c){b=$APP.rf(b);var d=$APP.H.A(b,$APP.lt),e=$APP.H.A(b,$APP.jt);return $APP.y(c)?(b=$APP.Ug($APP.rh.A($APP.zn,$APP.Wf.A($APP.Fr,
c))),c=$APP.Ug($APP.rh.A($APP.zn,$APP.Wf.A(function(f){return $APP.B.A($APP.Qv,$APP.nt.C(f))},$APP.wl.A($APP.Fr,c)))),a=$APP.Lv(a)&&$APP.y(b)?$APP.Ug($APP.kk.A(b,$APP.Uf.G(function(f){return $APP.rh.A($APP.rt,$APP.pw.C($APP.zt.A?$APP.zt.A(d,f):$APP.zt.call(null,d,f)))},$APP.G([b])))):b,new $APP.m(null,2,[GPd,$APP.wl.A(EPd,$APP.wl.A($APP.jb,$APP.rh.A(function(f){return $APP.zt.A?$APP.zt.A(e,f):$APP.zt.call(null,e,f)},c))),$APP.yUa,$APP.wl.A(EPd,$APP.wl.A($APP.jb,$APP.rh.A(function(f){return $APP.zt.A?
$APP.zt.A(d,f):$APP.zt.call(null,d,f)},a)))],null)):null},IPd=function(a,b){var c=$APP.ot.C(b);c=$APP.Wf.A(function(d){return $APP.Xd(new $APP.Ng(null,new $APP.m(null,6,[$APP.Qv,null,$APP.yw,null,$APP.ey,null,$APP.Sv,null,$APP.Pv,null,$APP.Rv,null],null),null),$APP.nt.C(d))},c);return $APP.y(c)?HPd(a,b,c):null},KPd=function(a,b){var c=IPd(a,b),d=$APP.rf(c),e=$APP.H.A(d,$APP.yUa),f=$APP.H.A(d,GPd),g=$APP.Wf.A($APP.Pv,e),h=$APP.Wf.A($APP.Pv,f);($APP.y(g)||$APP.y(h))&&$APP.Ih.K(JPd,$APP.Jl,new $APP.O(null,
2,5,$APP.Q,[a,$APP.ow],null),function(q){if($APP.n(q)){for(var r=$APP.y(h),u=null,x=0,z=0;;)if(z<x){var D=u.ia(null,z);q.remove(function(M,P,R,W,U){return function(E){return $APP.B.A($APP.Pv.C(U),$APP.pa(E,"name"))}}(r,u,x,z,D,g,h,c,d,e,f));z+=1}else{var F=$APP.y(r);if(F){D=F;if($APP.nd(D))r=$APP.Qb(D),z=$APP.Rb(D),u=r,x=$APP.vc(r),r=z;else{var J=$APP.A(D);q.remove(function(M,P,R,W,U){return function(E){return $APP.B.A($APP.Pv.C(U),$APP.pa(E,"name"))}}(r,u,x,z,J,D,F,g,h,c,d,e,f));r=$APP.jc(D);u=null;
x=0}z=0}else break}r=$APP.y(g);u=null;for(z=x=0;;)if(z<x)D=u.ia(null,z),q.remove(function(M,P,R,W,U){return function(E){return $APP.B.A($APP.t.C($APP.Qv.C(U)),$APP.pa(E,"id"))}}(r,u,x,z,D,g,h,c,d,e,f)),q.add($APP.Fi(DPd(D))),z+=1;else if(F=$APP.y(r))D=F,$APP.nd(D)?(r=$APP.Qb(D),z=$APP.Rb(D),u=r,x=$APP.vc(r),r=z):(J=$APP.A(D),q.remove(function(M,P,R,W,U){return function(E){return $APP.B.A($APP.t.C($APP.Qv.C(U)),$APP.pa(E,"id"))}}(r,u,x,z,J,D,F,g,h,c,d,e,f)),q.add($APP.Fi(DPd(J))),r=$APP.jc(D),u=null,
x=0),z=0;else break;return q}return null});if($APP.y(e)||$APP.y(f)){var k=$APP.wl.A($APP.jb,$APP.rh.A(function(q){return APd(a,$APP.lt.C(b),q)},e)),p=$APP.Ug($APP.rh.A($APP.cl.A($APP.t,$APP.Qv),f));return new $APP.m(null,2,[$APP.oVa,p,$APP.yUa,k],null)}return null},LPd=function(a,b){return"string"===typeof a&&"string"===typeof b?$APP.Ad($APP.ie.F(function(c,d){c=$APP.ah.A(function(e){return $APP.Lg.A(d,e)},c);return $APP.y(c)?$APP.hc(c):$APP.qc(!1)},$APP.y($APP.Yr(b,!0)),$APP.y($APP.Yr(a,!0)))):null},
QPd=function(a,b,c,d){if($APP.n(a)){c=$APP.Yr(c,!0);c=$APP.LMa(c);var e=$APP.B.A("#",$APP.A(c))?$APP.ih.A(c,1):c;if($APP.Fj(e))return null;c=function(){var f=$APP.wt.A($APP.v(JPd),new $APP.O(null,2,5,$APP.Q,[a,$APP.ow],null));$APP.n(f)||(f=$APP.Fi($APP.rh.A(DPd,FPd(b))),f=new MPd(f,$APP.Ei(new $APP.m(null,4,[$APP.Yp,new $APP.O(null,1,5,$APP.Q,["name"],null),NPd,!0,OPd,!0,PPd,1],null))),$APP.Ih.K(JPd,$APP.Vr,new $APP.O(null,2,5,$APP.Q,[a,$APP.ow],null),f));return f}();d=$APP.Di(c.search(e,$APP.Ei(new $APP.m(null,
1,[$APP.Ft,d],null))));return $APP.Fi($APP.Wf.A(function(f){return LPd(e,f)},$APP.ou.C($APP.rh.A($APP.Ej,$APP.wl.A($APP.jb,$APP.rh.A(function(f){f=$APP.rf(f);f=$APP.H.A(f,$APP.HUa);return $APP.fC.C(f)},$APP.Po(function(f){return(0,$APP.va)($APP.wt.A(f,new $APP.O(null,2,5,$APP.Q,[$APP.HUa,$APP.Un],null)))},d)))))))}return null},SPd=function(a){for(var b=[],c=arguments.length,d=0;;)if(d<c)b.push(arguments[d]),d+=1;else break;b=1<b.length?new $APP.dc(b.slice(1),0,null):null;return RPd(arguments[0],b)},
RPd=function(a,b){b=$APP.rf(b);b=$APP.H.F(b,$APP.xTa,!1);b=$APP.n(b)?$APP.tC:$APP.KC;return $APP.wt.A($APP.v(TPd),new $APP.O(null,2,5,$APP.Q,[a,b],null))},w$=function(a){return $APP.H.A($APP.v(UPd),a)},WPd=function(a){return $APP.H.A($APP.v(VPd),a)},XPd=function(a){return $APP.wt.A($APP.v(x$),new $APP.O(null,2,5,$APP.Q,[$APP.oC,a],null))},YPd=function(a){$APP.Ih.A(x$,function(b){return $APP.Ln.G($APP.G([b,a]))})},ZPd=function(a){return $APP.n($APP.wt.F(a,new $APP.O(null,2,5,$APP.Q,[$APP.yw,$APP.dx],
null),!1))?$APP.cj.G(a,$APP.rt,$APP.G([$APP.Qv,$APP.tw,$APP.Sv,$APP.Px,$APP.cw,$APP.iw,$APP.kw])):$APP.cj.G(a,$APP.rt,$APP.G([$APP.iw]))},cQd=function(a,b,c,d,e,f){var g=$APP.v(b),h=new $APP.O(null,1,5,$APP.Q,[$APP.Yt],null);c=$APP.hu?$APP.hu(g,h,c):$APP.iu.call(null,g,h,c);g=$APP.rt.C(c);h=$APP.Xd($APP.Ug($APP.fw.C(c)),"whiteboard");var k=$APP.v(b);var p=$APP.vc($APP.xHa(k,$APP.iw,g));k=0===p&&$APP.Xd(new $APP.Ng(null,new $APP.m(null,2,[$APP.ny,null,$APP.vA,null],null),null),d);if(1<=p||k){if(p=
500<p||h){p=$APP.rf($APP.G([new $APP.m(null,1,[$APP.CRa,3E3],null)]));p=$APP.H.F(p,$APP.CRa,1E3);if($APP.n(a)){var q=$APP.wt.A($APP.v(x$),new $APP.O(null,2,5,$APP.Q,[$Pd,a],null)),r=null==q;p=r?r:$APP.To()-q>=p}else p=null;p=$APP.nb(p)}if(p){$APP.Vi(aQd,new $APP.O(null,5,5,$APP.Q,[a,g,d,$APP.am($APP.Dl()),f],null));return}d=h?bQd:new $APP.O(null,1,5,$APP.Q,[$APP.Yt],null);d=$APP.jw($APP.v(b),$APP.Pv.C(c),new $APP.m(null,1,[$APP.eIa,d],null));d=h?$APP.rh.A(ZPd,d):d;if($APP.B.A(1,$APP.vc(d))&&$APP.Fj($APP.Sv.C($APP.A(d)))&&
null==$APP.gw.C(c)&&!h){s$.C?s$.C(f):s$.call(null,f);return}d=h?d:$APP.XMa(a,$APP.v(b),d,$APP.Pv.C(c));if($APP.n(c)){fPd(a,b,c,d,k,e,f);return}console.error(["can't find page id: ",$APP.t.C(g)].join(""))}s$.C?s$.C(f):s$.call(null,f)},fQd=function(a,b){var c=dQd.C($APP.v(x$));if($APP.y(b)){var d=$APP.Ug($APP.rh.A($APP.Jc,b));b=$APP.Po(function(q){return $APP.Nf.A(3,q)},b);d=$APP.es.A(d,$APP.Ug($APP.rh.A($APP.Jc,b)));d=$APP.y(d);for(var e=null,f=0,g=0;;)if(g<f){var h=e.ia(null,g);s$.C?s$.C(h):s$.call(null,
h);g+=1}else if(d=$APP.y(d))e=d,$APP.nd(e)?(d=$APP.Qb(e),g=$APP.Rb(e),e=d,f=$APP.vc(d),d=g):(d=$APP.A(e),s$.C?s$.C(d):s$.call(null,d),d=$APP.jc(e),e=null,f=0),g=0;else break;b=$APP.y(b);d=null;for(var k=0,p=0;;)if(p<k){h=d.ia(null,p);e=$APP.C.F(h,0,null);f=$APP.C.F(h,1,null);g=$APP.C.F(h,2,null);$APP.C.F(h,3,null);h=$APP.C.F(h,4,null);try{cQd(e,a,f,g,c,h)}catch(q){e=q,t$($APP.rB,$APP.Fh.G($APP.G([new $APP.O(null,2,5,$APP.Q,[new $APP.O(null,4,5,$APP.Q,[$APP.ZB,new $APP.O(null,2,5,$APP.Q,[$APP.Wz,"Write file failed, please copy the changes to other editors in case of losing data."],
null),"Error: ",$APP.t.C($APP.pa(e,"stack"))],null),$APP.Es],null)]))),$APP.Mw("frontend.worker.file",$APP.Es,new $APP.m(null,2,[eQd,new $APP.m(null,1,[$APP.Es,e],null),$APP.hm,108],null)),s$.C?s$.C(h):s$.call(null,h)}p+=1}else if(b=$APP.y(b)){if($APP.nd(b))e=$APP.Qb(b),b=$APP.Rb(b),d=e,k=e=$APP.vc(e);else{d=$APP.A(b);e=$APP.C.F(d,0,null);f=$APP.C.F(d,1,null);g=$APP.C.F(d,2,null);$APP.C.F(d,3,null);h=$APP.C.F(d,4,null);try{cQd(e,a,f,g,c,h)}catch(q){d=q,t$($APP.rB,$APP.Fh.G($APP.G([new $APP.O(null,
2,5,$APP.Q,[new $APP.O(null,4,5,$APP.Q,[$APP.ZB,new $APP.O(null,2,5,$APP.Q,[$APP.Wz,"Write file failed, please copy the changes to other editors in case of losing data."],null),"Error: ",$APP.t.C($APP.pa(d,"stack"))],null),$APP.Es],null)]))),$APP.Mw("frontend.worker.file",$APP.Es,new $APP.m(null,2,[eQd,new $APP.m(null,1,[$APP.Es,d],null),$APP.hm,108],null)),s$.C?s$.C(h):s$.call(null,h)}b=$APP.jc(b);d=null;k=0}p=0}else return null}else return null},gQd=function(a,b,c){var d=(d=cOd(a))?$APP.n(b)?$APP.nb($APP.zXa.C(c))&&
$APP.nb($APP.YYa.C(c)):b:d;$APP.n(d)&&(d=kOd.C?kOd.C(b):kOd.call(null,b),$APP.Vi(aQd,new $APP.O(null,5,5,$APP.Q,[a,b,$APP.jy.C(c),$APP.am($APP.Dl()),d],null)))},hQd=function(){$APP.IAa(aQd,1E3,$APP.G([$APP.zAa,function(){return!0},$APP.AAa,function(a){if($APP.y(a)){var b=$APP.Gc(a),c=w$(b);return $APP.n(c)?fQd(c,a):console.error("DB is not found for ",b)}return null}]))},jQd=function(a){if($APP.Lv(a)){var b=$APP.v(iQd);b=b.C?b.C(a):b.call(null,a);if($APP.n(b))return b;$APP.Ih.K(iQd,$APP.T,a,$APP.pD.newStore(["rtc-ops-",
$APP.t.C(a)].join(""),"ops"));b=$APP.v(iQd);return b.C?b.C(a):b.call(null,a)}return null},kQd=function(a){return $APP.wk.A(function(b){var c=$APP.gC.C($APP.Dc(b));return $APP.n(c)?new $APP.m(null,2,[$APP.xq,c,$APP.Xo,b],null):null},a)},lQd=function(a,b,c,d){return $APP.Sy($APP.el(null,function(){return $APP.Xk(function(){var e=jQd(a);if($APP.n(e)){var f=kQd(b);return $APP.el(null,function(){return $APP.el($APP.pD.clear(e),function(){return $APP.el($APP.pD.setBatch($APP.Ei(f),e),function(){return $APP.el($APP.n(c)?
$APP.pD.set("graph-uuid",c,e):null,function(){return $APP.Xk($APP.n(d)?$APP.pD.set("local-tx",d,e):null)})})})})}return null}())}))},mQd=function(a){return $APP.el(null,function(){return $APP.Xk(function(){var b=jQd(a);return $APP.n(b)?$APP.el(null,function(){return $APP.el($APP.pD.keys(b),function(c){return $APP.Xk($APP.dl($APP.il($APP.lj.A(function(d){return $APP.tna($APP.pD.get(d,b),$APP.xk.A($APP.Fk,d))},c)),function(d){return $APP.lj.A(function(e){return $APP.Mo.G(e,$APP.G([$APP.No,!0]))},d)}))})}):
null}())})},y$=function(a){if("string"===typeof a)try{var b=$APP.n($APP.gh(/\D/,$APP.ih.A(a,1)))?NaN:parseInt(a,10);return $APP.n(isNaN(b))?a:b>Number.MAX_SAFE_INTEGER?a:b<Number.MIN_SAFE_INTEGER?a:b}catch(c){if(c instanceof Error)return a;throw c;}else return a},nQd=function(a){if("string"===typeof a)try{var b=parseFloat(a);return $APP.n(isNaN(b))?a:b}catch(c){if(c instanceof Error)return a;throw c;}else return a},oQd=function(a){return a},pQd=function(a){return"string"===typeof a?$APP.sh.C(a):a},
qQd=function(a){return"string"===typeof a?$APP.B.A("true",a)?!0:$APP.B.A("false",a)?!1:a:a},rQd=function(a){if("string"===typeof a)try{return $APP.n($APP.gh(/^[0-9a-f]{8}-[0-9a-f]{4}-[1-8][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/,a))?$APP.Uh(a):a}catch(b){if(b instanceof Error)return a;throw b;}else return a},uQd=function(a){if("string"===typeof a)try{var b=Date,c=new $APP.Cl(2E3),d=a;d=(0,$APP.va)(d);var e=-1==d.indexOf("T")?" ":"T",f=d.split(e),g;var h=f[0].match($APP.Y1a);if(h){var k=Number(h[2]),
p=Number(h[3]),q=Number(h[4]),r=Number(h[5]),u=Number(h[6])||1;c.setFullYear(Number(h[1]));if(q)c.setDate(1),c.setMonth(0),c.add(new $APP.ll($APP.Cna,q-1));else if(r){c.setMonth(0);c.setDate(1);var x=c.getDay()||7;c.add(new $APP.ll($APP.Cna,(4>=x?1-x:8-x)+(Number(u)+7*(Number(r)-1))-1))}else k&&(c.setDate(1),c.setMonth(k-1)),p&&c.setDate(p);var z=!0}else z=!1;if(g=z){var D;if(!(D=2>f.length)){var F=f[1],J=F.match(sQd);if(J){var M=F.substring(0,F.length-J[0].length);if("Z"===J[0])var P=0;else P=60*
Number(J[2])+Number(J[3]),P*="-"==J[1]?1:-1}else M=F;var R=M.match(tQd);if(R){if(J){var W=c.getYear(),U=c.getMonth(),E=c.getDate(),N=Number(R[1]),S=Number(R[2])||0,X=Number(R[3])||0,aa=R[4]?1E3*Number(R[4]):0;(d=0<=W&&100>W)&&(W+=400);let qa=Date.UTC(W,U,E,N,S,X,aa);d&&(qa-=126227808E5);c.setTime(qa+6E4*P)}else c.setHours(Number(R[1])),c.setMinutes(Number(R[2])||0),c.setSeconds(Number(R[3])||0),c.setMilliseconds(R[4]?1E3*Number(R[4]):0);D=!0}else D=!1}g=D}return new b((g?c:null).getTime())}catch(qa){if(qa instanceof
Error)return a;throw qa;}else return a},vQd=function(a){return"string"===typeof a?$APP.th.C(a):a},z$=function(a){return null==a?null:$APP.t.C(a)},wQd=function(a){if($APP.oc(a))try{return a.toISOString()}catch(b){if(b instanceof Error)return a;throw b;}else return a},xQd=function(a){return function(b){return $APP.id(b)?$APP.tg.F($APP.pf,$APP.rh.C(function(c){var d=$APP.C.F(c,0,null);c=$APP.C.F(c,1,null);return new $APP.O(null,2,5,$APP.Q,[a.C?a.C(d):a.call(null,d),c],null)}),b):b}},yQd=function(a){return $APP.cd(a)?
a:$APP.gd(a)?$APP.Ug(a):a},zQd=function(a){return $APP.ld(a)?a:$APP.gd(a)?$APP.ke(a):a},AQd=function(a){a:{a=$APP.ur.C(a);var b=new $APP.O(null,5,5,$APP.Q,[new $APP.O(null,2,5,$APP.Q,[$APP.Dn,$APP.qb],null),new $APP.O(null,2,5,$APP.Q,[$APP.Do,$APP.Qe],null),new $APP.O(null,2,5,$APP.Q,[$APP.fo,$APP.bc],null),new $APP.O(null,2,5,$APP.Q,[$APP.xz,$APP.Kd],null),new $APP.O(null,2,5,$APP.Q,[$APP.DC,$APP.Sd],null)],null),c=$APP.y(b),d=$APP.A(c);$APP.jc(c);$APP.C.F(d,0,null);for($APP.C.F(d,1,null);;){b=$APP.y(b);
c=$APP.A(b);b=$APP.jc(b);d=c;c=$APP.C.F(d,0,null);d=$APP.C.F(d,1,null);if($APP.Af(d,a)){a=c;break a}if(!b){a=null;break a}}}b=new $APP.m(null,4,[$APP.Do,pQd,$APP.fo,vQd,$APP.xz,y$,$APP.DC,nQd],null);return b.C?b.C(a):b.call(null,a)},BQd=function(){return $APP.Cg([$APP.Cq,$APP.fTa,$APP.Wya,$APP.DC,$APP.eza,$APP.iza,$APP.Rya,$APP.fo,$APP.Pya,$APP.yVa,$APP.Zya,$APP.Tya,$APP.Uya,$APP.aza,$APP.Do,$APP.Xya,$APP.cza,$APP.Cy,$APP.jo,$APP.Lya,$APP.Rr],[new $APP.m(null,1,[$APP.Oz,AQd],null),vQd,pQd,oQd,rQd,
uQd,pQd,vQd,pQd,pQd,vQd,pQd,pQd,vQd,pQd,pQd,vQd,rQd,yQd,oQd,new $APP.m(null,1,[$APP.Oz,AQd],null)])},CQd=function(){return $APP.Cg([$APP.fTa,$APP.Wya,$APP.eza,$APP.iza,$APP.fo,$APP.yVa,$APP.Zya,$APP.Uya,$APP.aza,$APP.Do,$APP.Xya,$APP.cza,$APP.Cy],[z$,hOd,z$,wQd,z$,hOd,z$,hOd,z$,hOd,hOd,z$,z$])},DQd=function(){return $APP.Ln.G($APP.G([BQd(),$APP.Cg([$APP.Aza,$APP.Uza,$APP.DC,$APP.Vza,$APP.yya,$APP.xz,$APP.Rza,$APP.Jya,$APP.yza,$APP.Cya,$APP.io,$APP.Sza,$APP.xya,$APP.vq,$APP.Cza,$APP.Dya,$APP.Mya,$APP.vya,
$APP.Lya,$APP.oz,$APP.Tza,$APP.Aya],[qQd,y$,nQd,y$,y$,y$,y$,nQd,qQd,y$,zQd,y$,y$,xQd(hOd),y$,y$,qQd,nQd,nQd,qQd,y$,y$])]))},LQd=function(a){function b(g,h){return $APP.id(g)?$APP.me(function(k,p,q){return $APP.T.F(k,p,$APP.Jq(q,h))},g,g):$APP.Jq(g,null)}function c(g,h,k,p){if($APP.n(k)){var q=new $APP.O(null,1,5,$APP.Q,[new $APP.O(null,2,5,$APP.Q,[$APP.sh.C(p),k],null)],null);k=$APP.af(k)?q:$APP.Ke.A(q,new $APP.O(null,1,5,$APP.Q,[$APP.sh.A(p,$APP.Wg(k))],null))}else k=null;return new $APP.m(null,
3,[EQd,g,$APP.Zi,h,$APP.Yp,k],null)}var d=$APP.Wp.A(aOd,$Od),e=$APP.ke($APP.Uf.G(function(g){return $APP.id(g)?new $APP.O(null,1,5,$APP.Q,[g],null):d(g)},$APP.G([$APP.wk.A($APP.pe,a)]))),f=$APP.lj.A(function(g){var h=$APP.Un.C(g);return new $APP.m(null,2,[$APP.ixa,c(FQd.C(g),GQd.C(g),h,"decode"),$APP.VRa,c(HQd.C(g),IQd.C(g),h,"encode")],null)},e);if($APP.y(e)){if("undefined"===typeof $APP.hp||"undefined"===typeof JQd||"undefined"===typeof A$)A$=function(g,h,k,p,q,r,u){this.lw=g;this.ow=h;this.Rl=
k;this.nw=p;this.chain=q;this.Ds=r;this.Xx=u;this.V=393216;this.aa=0},A$.prototype.ga=function(g,h){return new A$(this.lw,this.ow,this.Rl,this.nw,this.chain,this.Ds,h)},A$.prototype.fa=function(){return this.Xx},A$.prototype.Du=$APP.Zb,A$.prototype.$q=function(){return this.chain},A$.prototype.ar=function(g,h,k,p){var q=this;return $APP.ie.F(function(r,u){function x(P){return function(R){R=$APP.wt.A(P.C?P.C(h):P.call(null,h),R);return null==R?null:q.Rl.A?q.Rl.A(R,J):q.Rl.call(null,R,J)}}u=$APP.rf(u);
u=$APP.H.A(u,k);u=$APP.rf(u);var z=$APP.H.A(u,$APP.Yp),D=$APP.H.A(u,$APP.Zi),F=$APP.H.A(u,EQd),J=$APP.n(p)?p:$APP.pp($APP.Lp(h,null)),M=$APP.Yu.A(x($APP.sr),x($APP.gD));u=function(){var P=$APP.Df(M,z);if($APP.n(P))return P;P=$APP.H.A(F,$APP.Fp.C(h));return $APP.n(P)?P:D}();return $APP.n(u)?(u=KQd(u,h,J),null==r?u:KQd(new $APP.O(null,2,5,$APP.Q,[r,u],null),h,J)):r},null,q.Ds)},A$.Ca=!0,A$.Aa="malli.transform/t_malli$transform103599",A$.Ea=function(g){return $APP.Kb(g,"malli.transform/t_malli$transform103599")};
return new A$(a,c,b,d,e,f,$APP.pf)}return null},MQd=function(){return LQd($APP.G([new $APP.m(null,3,[$APP.Un,$APP.Dn,FQd,DQd(),HQd,$APP.Ln.G($APP.G([CQd(),$APP.Cg([$APP.Uza,$APP.DC,$APP.Vza,$APP.yya,$APP.xz,$APP.Rza,$APP.Cya,$APP.Sza,$APP.xya,$APP.Cza,$APP.Dya,$APP.rYa,$APP.Rr,$APP.Tza,$APP.Aya],[z$,z$,z$,z$,z$,z$,z$,z$,z$,z$,z$,z$,z$,z$,z$])]))],null)]))},NQd=function(a,b){var c=$APP.rf(a);a=$APP.H.A(c,$APP.mB);c=$APP.H.A(c,B$);var d=$APP.rf(b);b=$APP.H.A(d,$APP.mB);d=$APP.H.A(d,B$);a=$APP.hv.A($APP.es.A(a,
d),b);c=$APP.hv.A($APP.es.A(c,b),d);return $APP.y(a)||$APP.y(c)?(b=$APP.pf,a=$APP.y(a)?$APP.T.F(b,$APP.mB,a):b,$APP.y(c)?$APP.T.F(a,B$,c):a):null},C$=function(a,b){a=a.C?a.C(b):a.call(null,b);a=null==a?null:$APP.Kg(a);a=null==a?null:$APP.rh.A($APP.cl.A($APP.gC,$APP.Dc),a);a=null==a?null:$APP.y(a);return null==a?null:$APP.Gf.A($APP.cz,a)},RQd=function(a,b,c,d,e){var f=$APP.y(a);$APP.A(f);$APP.jc(f);for(var g=b,h=c,k=d,p=e,q=a;;){var r=g,u=h,x=k,z=p,D=$APP.y(q),F=$APP.A(D),J=$APP.jc(D),M=F,P=J;if($APP.nb(M))return new $APP.m(null,
4,[D$,r,E$,x,F$,u,G$,z],null);var R=M,W=$APP.C.F(R,0,null),U=$APP.C.F(R,1,null),E=$APP.rf(U),N=$APP.H.A(E,$APP.WB),S=$APP.H.A(E,H$),X=$APP.H.A(E,$APP.gC),aa=function(){var Fc=N;return null==Fc?null:r.C?r.C(Fc):r.call(null,Fc)}(),qa=function(){var Fc=S;return null==Fc?null:x.C?x.C(Fc):x.call(null,Fc)}(),ra=W;switch(ra){case "move":var wa=function(){var Fc=$APP.H.A(aa,$APP.lA);Fc=null==Fc?null:$APP.Dc(Fc);Fc=null==Fc?null:$APP.gC.C(Fc);return null==Fc?null:Fc>X}();if($APP.n(wa)){var Fa=u,za=x,Ga=z,
Ka=P;g=r;h=Fa;k=za;p=Ga;q=Ka}else{var Va=$APP.Wr.K($APP.Vr(r,new $APP.O(null,2,5,$APP.Q,[N,$APP.hA],null),M),N,$APP.cj,$APP.lA),Ra=C$(r,N),Ja=C$(Va,N),Pa=$APP.Wr.K($APP.Vr(r,new $APP.O(null,2,5,$APP.Q,[N,$APP.hA],null),M),N,$APP.cj,$APP.lA),rb=$APP.T.F($APP.cj.A(u,Ra),Ja,N),lb=x,Db=z,Tb=P;g=Pa;h=rb;k=lb;p=Db;q=Tb}continue;case "update":wa=function(){var Fc=$APP.H.A(aa,$APP.lA);Fc=null==Fc?null:$APP.Dc(Fc);Fc=null==Fc?null:$APP.gC.C(Fc);return null==Fc?null:Fc>X}();if($APP.n(wa)){var ec=u,ic=x,ac=
z,xc=P;g=r;h=ec;k=ic;p=ac;q=xc}else{var mc=$APP.wt.A(r,new $APP.O(null,2,5,$APP.Q,[N,$APP.DA],null)),Qc=$APP.n(mc)?OQd(mc,M):M;Va=$APP.Wr.K($APP.Vr(r,new $APP.O(null,2,5,$APP.Q,[N,$APP.DA],null),Qc),N,$APP.cj,$APP.lA);Ra=C$(r,N);Ja=C$(Va,N);var Ec=Va,Vc=$APP.T.F($APP.cj.A(u,Ra),Ja,N),Lc=x,yc=z,zc=P;g=Ec;h=Vc;k=Lc;p=yc;q=zc}continue;case "remove":var Kc=function(){var Fc=$APP.H.A(aa,$APP.hA);Fc=null==Fc?null:$APP.Dc(Fc);Fc=null==Fc?null:$APP.gC.C(Fc);return null==Fc?null:Fc>X}();if($APP.n(Kc)){var ed=
u,Rc=x,Pc=z,qd=P;g=r;h=ed;k=Rc;p=Pc;q=qd}else{Va=$APP.T.F(r,N,new $APP.m(null,1,[$APP.lA,M],null));Ra=C$(r,N);Ja=C$(Va,N);var sd=Va,rd=$APP.T.F($APP.cj.A(u,Ra),Ja,N),md=x,kd=z,Od=P;g=sd;h=rd;k=md;p=kd;q=Od}continue;case "update-page":wa=function(){var Fc=$APP.H.A(aa,I$);Fc=null==Fc?null:$APP.Dc(Fc);Fc=null==Fc?null:$APP.gC.C(Fc);return null==Fc?null:Fc>X}();if($APP.n(wa)){var Id=u,Cd=x,Dd=z,Ed=P;g=r;h=Id;k=Cd;p=Dd;q=Ed}else{Va=$APP.Wr.K($APP.Vr(r,new $APP.O(null,2,5,$APP.Q,[N,J$],null),M),N,$APP.cj,
I$);Ra=C$(r,N);Ja=C$(Va,N);var fd=Va,Hd=$APP.T.F($APP.cj.A(u,Ra),Ja,N),ne=x,ge=z,Pf=P;g=fd;h=Hd;k=ne;p=ge;q=Pf}continue;case "remove-page":Kc=function(){var Fc=$APP.H.A(aa,J$);Fc=null==Fc?null:$APP.Dc(Fc);Fc=null==Fc?null:$APP.gC.C(Fc);return null==Fc?null:Fc>X}();if($APP.n(Kc)){var vf=u,qe=x,$d=z,Fd=P;g=r;h=vf;k=qe;p=$d;q=Fd}else{Va=$APP.T.F(r,N,new $APP.m(null,1,[I$,M],null));Ra=C$(r,N);Ja=C$(Va,N);var Ce=Va,Re=$APP.T.F($APP.cj.A(u,Ra),Ja,N),Ne=x,Fe=z,Le=P;g=Ce;h=Re;k=Ne;p=Fe;q=Le}continue;case "update-asset":wa=
function(){var Fc=$APP.H.A(qa,PQd);Fc=null==Fc?null:$APP.Dc(Fc);Fc=null==Fc?null:$APP.gC.C(Fc);return null==Fc?null:Fc>X}();if($APP.n(wa)){var cf=u,$e=x,re=z,Pd=P;g=r;h=cf;k=$e;p=re;q=Pd}else{var Jd=$APP.T.F(x,S,new $APP.m(null,1,[QQd,M],null));Ra=C$(x,S);Ja=C$(Jd,S);var Wc=r,hd=u,Zc=Jd,Md=$APP.T.F($APP.cj.A(z,Ra),Ja,S),ud=P;g=Wc;h=hd;k=Zc;p=Md;q=ud}continue;case "remove-asset":Kc=function(){var Fc=$APP.H.A(qa,QQd);Fc=null==Fc?null:$APP.Dc(Fc);Fc=null==Fc?null:$APP.gC.C(Fc);return null==Fc?null:Fc>
X}();if($APP.n(Kc)){var Wd=u,Yb=x,Qd=z,he=P;g=r;h=Wd;k=Yb;p=Qd;q=he}else{Jd=$APP.T.F(x,S,new $APP.m(null,1,[PQd,M],null));Ra=C$(x,S);Ja=C$(Jd,S);var Ae=r,De=u,ae=Jd,ce=$APP.T.F($APP.cj.A(z,Ra),Ja,S),Nc=P;g=Ae;h=De;k=ae;p=ce;q=Nc}continue;default:throw Error(["No matching clause: ",$APP.t.C(ra)].join(""));}}},TQd=function(a,b){b=SQd.C?SQd.C(b):SQd.call(null,b);var c=$APP.H.A($APP.v(K$),a),d=$APP.rf(c);c=$APP.H.A(d,L$);c=$APP.rf(c);var e=$APP.H.A(c,D$),f=$APP.H.A(c,F$),g=$APP.H.A(c,E$),h=$APP.H.A(c,
G$);d=$APP.H.A(d,M$);var k=$APP.rf(d);d=$APP.H.A(k,D$);var p=$APP.H.A(k,F$),q=$APP.H.A(k,E$);k=$APP.H.A(k,G$);d=RQd(b,d,p,q,k);d=$APP.rf(d);var r=$APP.H.A(d,D$),u=$APP.H.A(d,F$);b=$APP.n(c)?RQd(b,e,f,g,h):null;b=$APP.rf(b);var x=$APP.H.A(b,D$),z=$APP.H.A(b,F$);$APP.Ih.K(K$,$APP.Wr,a,function(D){var F=$APP.rf(D);D=$APP.H.A(F,M$);F=$APP.H.A(F,L$);D=new $APP.m(null,1,[M$,$APP.T.G(D,D$,r,$APP.G([F$,u]))],null);return $APP.n(F)?$APP.T.F(D,L$,$APP.T.G(F,D$,x,$APP.G([F$,z]))):D})},UQd=function(a,b){b=SQd.C?
SQd.C(b):SQd.call(null,b);var c=$APP.H.A($APP.v(K$),a),d=$APP.rf(c);c=$APP.H.A(d,L$);c=$APP.rf(c);var e=$APP.H.A(c,D$),f=$APP.H.A(c,F$),g=$APP.H.A(c,E$),h=$APP.H.A(c,G$);d=$APP.H.A(d,M$);var k=$APP.rf(d);d=$APP.H.A(k,D$);var p=$APP.H.A(k,F$),q=$APP.H.A(k,E$);k=$APP.H.A(k,G$);d=RQd(b,d,p,q,k);d=$APP.rf(d);var r=$APP.H.A(d,E$),u=$APP.H.A(d,G$);b=$APP.n(c)?RQd(b,e,f,g,h):null;b=$APP.rf(b);var x=$APP.H.A(b,E$),z=$APP.H.A(b,G$);return $APP.Ih.K(K$,$APP.Wr,a,function(D){var F=$APP.rf(D);D=$APP.H.A(F,M$);
F=$APP.H.A(F,L$);D=new $APP.m(null,1,[M$,$APP.T.G(D,E$,r,$APP.G([G$,u]))],null);return $APP.n(F)?$APP.T.F(D,L$,$APP.T.G(F,E$,x,$APP.G([G$,z]))):D})},VQd=function(a,b){return $APP.Ih.G(K$,$APP.Jl,new $APP.O(null,2,5,$APP.Q,[a,M$],null),$APP.T,$APP.G([$APP.mZa,b]))},WQd=function(a,b){return $APP.Ih.K(K$,$APP.Wr,a,function(c){var d=$APP.rf(c);c=$APP.H.A(d,M$);d=$APP.H.A(d,L$);c=new $APP.m(null,1,[M$,$APP.T.F(c,$APP.Zz,b)],null);return $APP.n(d)?$APP.T.F(c,L$,$APP.T.F(d,$APP.Zz,b)):c})},XQd=function(a){var b=
$APP.wt.A($APP.v(K$),new $APP.O(null,2,5,$APP.Q,[a,L$],null));return $APP.n(b)?$APP.Ih.K(K$,$APP.T,a,new $APP.m(null,1,[M$,b],null)):null},YQd=function(a){a=$APP.H.A($APP.v(K$),a);a=null==a?null:M$.C(a);a=null==a?null:D$.C(a);a=null==a?null:$APP.Kg(a);return null==a?null:$APP.Uf.G($APP.Kg,$APP.G([a]))},ZQd=function(a){a=$APP.H.A($APP.v(K$),a);a=null==a?null:M$.C(a);return null==a?null:$APP.Zz.C(a)},$Qd=function(a){a=$APP.H.A($APP.v(K$),a);a=null==a?null:M$.C(a);return null==a?null:$APP.mZa.C(a)},
aRd=function(a){a=$APP.H.A($APP.v(K$),a);a=null==a?null:M$.C(a);a=null==a?null:D$.C(a);a=null==a?null:$APP.Ig(a);return null==a?null:$APP.vc(a)},bRd=function(a,b){var c=$APP.H.A($APP.v(K$),a);c=M$.C(c);var d=$APP.rf(c);c=$APP.H.A(d,F$);d=$APP.H.A(d,D$);var e=C$(d,b);$APP.Ih.G(K$,$APP.Jl,new $APP.O(null,2,5,$APP.Q,[a,M$],null),$APP.T,$APP.G([D$,$APP.cj.A(d,b),F$,$APP.cj.A(c,e)]))},eRd=function(a){return $APP.el(null,function(){return $APP.el(mQd(a),function(b){return $APP.el($APP.tg.A($APP.pf,b),function(c){return $APP.el($APP.H.A(c,
"local-tx"),function(d){return $APP.Xk($APP.n(d)?function(){var e=$APP.H.A(c,"graph-uuid"),f=$APP.rh.A($APP.Dc,function(){var r=$APP.Xt.F($APP.A,$APP.Pr,$APP.Wf.A($APP.cl.A($APP.mb,$APP.A),b));return cRd.C?cRd.C(r):cRd.call(null,r)}());f=RQd(f,$APP.pf,$APP.hz($APP.Pr),$APP.pf,$APP.hz($APP.Pr));f=$APP.rf(f);var g=$APP.H.A(f,D$),h=$APP.H.A(f,F$),k=$APP.H.A(f,E$),p=$APP.H.A(f,G$),q=function(){var r=new $APP.m(null,4,[D$,g,F$,h,E$,k,G$,p],null);r=$APP.n(e)?$APP.T.F(r,$APP.Zz,e):r;return $APP.n(d)?$APP.T.F(r,
$APP.mZa,d):r}();$APP.Ih.K(K$,$APP.Wr,a,function(r){return $APP.cj.A($APP.T.F(r,M$,q),L$)});return $APP.Cv.G($APP.G([dRd,a]))}():null)})})})})},gRd=function(a){var b=$APP.H.A($APP.v(K$),a);b=M$.C(b);var c=$APP.rf(b),d=$APP.H.A(c,D$);b=$APP.H.A(c,$APP.mZa);c=$APP.H.A(c,$APP.Zz);d=$APP.Uf.G($APP.Kg,$APP.G([$APP.Kg(d)]));d=fRd.C?fRd.C(d):fRd.call(null,d);return lQd(a,d,c,b)},hRd=function(a,b,c){var d=new $APP.O(null,1,5,$APP.Q,[$APP.Yt],null);b=$APP.hu?$APP.hu(b,d,c):$APP.iu.call(null,b,d,c);return $APP.B.A(1,
$APP.vc(b))?(b=new $APP.O(null,1,5,$APP.Q,[$APP.Yt],null),$APP.hu?$APP.hu(a,b,c):$APP.iu.call(null,a,b,c)):b},iRd=function(a){a=$APP.rf(a);var b=$APP.H.A(a,$APP.jt),c=$APP.H.A(a,$APP.lt),d=$APP.H.A(a,$APP.ot);a=$APP.H.A(a,$APP.vy);d=$APP.Ug($APP.lj.A($APP.A,d));d=$APP.ie.F(function(e,f){f=hRd(b,c,f);var g=$APP.rt.C($APP.iw.C(f));g=$APP.n(g)?hRd(b,c,g):null;e=null!=f?$APP.Wr.K(e,$APP.qy,$APP.Ke,f):e;return null!=g?$APP.Wr.K(e,$APP.ow,$APP.Ke,g):e},new $APP.m(null,2,[$APP.qy,$APP.Pg,$APP.ow,$APP.Pg],
null),d);a=$APP.Ug($APP.rh.A(function(e){return hRd(b,c,e)},$APP.wl.A($APP.jb,new $APP.O(null,2,5,$APP.Q,[$APP.BMa.C(a),$APP.a1a.C(a)],null))));return $APP.y(a)?$APP.Wr.K(d,$APP.ow,$APP.hv,a):d},jRd=function(a){return $APP.wk.A(function(b){return $APP.B.A($APP.Qv,$APP.nt.C(b))&&!1===$APP.Fr.C(b)?$APP.mt.C(b):null},a)},mRd=function(a,b){a=$APP.rf(a);var c=$APP.H.A(a,$APP.jt),d=$APP.H.A(a,$APP.lt);b=$APP.wl.A($APP.Pv,b);var e=$APP.Gh.C($APP.Pg);return $APP.Uf.G(function(f){if($APP.nb(function(){var r=
$APP.Qv.C(f),u=$APP.v(e);return u.C?u.C(r):u.call(null,r)}())&&$APP.nb($APP.Pv.C(f))){var g=$APP.wIa(d,$APP.Qv.C(f),$APP.pf);g=$APP.rh.A($APP.rt,$APP.Uf.G($APP.Ox,$APP.G([g])));var h=$APP.n(c)?$APP.Ug($APP.rh.A($APP.rt,$APP.Ox.C(function(){var r=$APP.rt.C(f);return $APP.zt.A?$APP.zt.A(c,r):$APP.zt.call(null,c,r)}()))):$APP.Pg,k=$APP.Ug($APP.kk.G(function(){var r=$APP.rt.C($APP.iw.C(f));return null==r?null:new $APP.O(null,1,5,$APP.Q,[r],null)}(),$APP.rh.A($APP.rt,$APP.Tv.C(f)),$APP.G([g])));g=$APP.Lg.A(h,
k);h=$APP.yIa(d,$APP.Qv.C(f));var p=$APP.tg.A($APP.pf,$APP.rh.A(function(r){r=new $APP.O(null,2,5,$APP.Q,[$APP.Qv,r],null);r=$APP.zt.A?$APP.zt.A(d,r):$APP.zt.call(null,d,r);return new $APP.O(null,2,5,$APP.Q,[$APP.rt.C(r),new $APP.m(null,2,[kRd,$APP.wt.A(r,new $APP.O(null,2,5,$APP.Q,[$APP.kw,$APP.rt],null)),lRd,$APP.rh.A($APP.rt,$APP.Tv.C(r))],null)],null)},h)),q=$APP.rh.A(function(r){var u=$APP.C.F(r,0,null);r=$APP.C.F(r,1,null);var x=$APP.rf(r);r=$APP.H.A(x,lRd);var z=$APP.hv.G;a:{var D=$APP.Pg;
for(x=kRd.C(x);;)if(x=p.C?p.C(x):p.call(null,x),$APP.n(x))D=$APP.tg.A(D,lRd.C(x)),x=kRd.C(x);else break a}return new $APP.m(null,2,[$APP.rt,u,$APP.Ox,z.call($APP.hv,k,r,$APP.G([D]))],null)},p);$APP.Ih.F(e,$APP.hv,$APP.Ug($APP.Pe($APP.Qv.C(f),h)));return $APP.kk.A($APP.y(k)&&g?new $APP.O(null,1,5,$APP.Q,[new $APP.m(null,2,[$APP.rt,$APP.rt.C(f),$APP.Ox,k],null)],null):null,q)}return null},$APP.G([b]))},nRd=function(a,b){a=mRd(a,b);b=$APP.rh.A(function(c){return new $APP.O(null,3,5,$APP.Q,[$APP.xt,$APP.rt.C(c),
$APP.Ox],null)},a);return $APP.kk.A(b,a)},oRd=function(a){a=$APP.rf(a);var b=$APP.H.A(a,$APP.ot),c=$APP.H.A(a,$APP.lt);return function(){var d=$APP.ou.C($APP.rh.A($APP.mt,$APP.Wf.A(function(g){return $APP.Xd(new $APP.Ng(null,new $APP.m(null,3,[$APP.cw,null,$APP.kw,null,$APP.iw,null],null),null),$APP.nt.C(g))},b))),e=$APP.ou.C($APP.rh.A($APP.mt,$APP.Wf.A(function(g){if($APP.Xd(new $APP.Ng(null,new $APP.m(null,2,[$APP.Tv,null,$APP.Ox,null],null),null),$APP.nt.C(g))){var h=$APP.Lg.A;var k=$APP.mt.C(g),
p=$APP.rt.C,q=$APP.iw.C;g=$APP.zn.C(g);g=$APP.zt.A?$APP.zt.A(c,g):$APP.zt.call(null,c,g);h=h.call($APP.Lg,k,p.call($APP.rt,q.call($APP.iw,g)))}else h=null;return h},b))),f=$APP.rh.A($APP.zn,$APP.Wf.A(function(g){return $APP.B.A("block",$APP.Te($APP.nt.C(g)))},b));d=$APP.ou.C($APP.kk.A(d,f));d=$APP.wk.A(function(g){g="string"===typeof g&&$APP.Ro(g)?new $APP.O(null,2,5,$APP.Q,[$APP.Qv,g],null):g;return $APP.zt.A?$APP.zt.A(c,g):$APP.zt.call(null,c,g)},d);e=$APP.kk.A($APP.Uf.G(function(g){var h=function(){var q=
$APP.n($APP.Pv.C(g))?$APP.rt.C(g):null;return $APP.n(q)?q:$APP.rt.C($APP.iw.C(g))}(),k=new $APP.O(null,2,5,$APP.Q,[function(){var q=$APP.rt.C($APP.kw.C(g));return $APP.n(q)?new $APP.O(null,2,5,$APP.Q,[$APP.GC,q],null):null}(),new $APP.O(null,2,5,$APP.Q,[$APP.GC,$APP.rt.C(g)],null)],null),p=$APP.Ox.C(g);p=$APP.Gf.A($APP.kk,$APP.wk.A(function(q){return $APP.B.A($APP.rt.C(q),h)?null:new $APP.O(null,2,5,$APP.Q,[new $APP.O(null,2,5,$APP.Q,[$APP.JA,$APP.rt.C(q)],null),new $APP.O(null,2,5,$APP.Q,[$APP.GC,
$APP.rt.C(q)],null)],null)},p));return $APP.kk.A(k,p)},$APP.G([d])),$APP.Uf.G(function(g){return new $APP.O(null,2,5,$APP.Q,[new $APP.O(null,2,5,$APP.Q,[$APP.JA,g],null),new $APP.O(null,2,5,$APP.Q,[$APP.GC,g],null)],null)},$APP.G([e])));return $APP.ou.C($APP.wl.A($APP.jb,e))}()},rRd=function(a){return $APP.Uj(function(b){var c=$APP.Uc(b);if($APP.n(pRd.C(c)))return $APP.xk.A(b,a);if($APP.n($APP.SVa.C(c))){var d=$APP.C.F(b,0,null);b=$APP.C.F(b,1,null);var e=$APP.n($APP.qD.C?$APP.qD.C(d):$APP.qD.call(null,
d))?$APP.xk.A(b,a):b;return new $APP.O(null,2,5,$APP.Q,[d,new $APP.O(null,3,5,$APP.Q,[$APP.zq,$APP.Cy,new $APP.O(null,2,5,$APP.Q,[$APP.Iq,function(f){return($APP.gd(f)||$APP.cd(f))&&$APP.Lg.A($APP.uWa,d)?$APP.Af(e,f):e.C?e.C(f):e.call(null,f)}],null)],null)],null)}return b},qRd)},sRd=function(a){return $APP.rh.A(function(b){return $APP.n($APP.yw.C(b))?$APP.Wr.F(b,$APP.yw,function(c){return $APP.lj.A($APP.pe,c)}):b},a)},tRd=function(a){return $APP.ie.F(function(b,c){return $APP.Xd($APP.b3a,$APP.nt.C(c))?
$APP.Wr.na(b,$APP.zn.C(c),$APP.Wr,$APP.nt.C(c),$APP.gv.A($APP.Ke,$APP.Pg),$APP.mt.C(c)):$APP.Wr.ba(b,$APP.zn.C(c),$APP.T,$APP.nt.C(c),$APP.mt.C(c))},$APP.pf,a)},wRd=function(a,b){a=$APP.rf(a);var c=$APP.H.A(a,$APP.lt),d=$APP.H.A(a,$APP.ot);a=$APP.H.A(a,$APP.vy);b=$APP.rf(b);var e=$APP.H.A(b,uRd);b=$APP.ou.C($APP.rh.A($APP.zn,d));d=$APP.Kg(tRd($APP.Uf.G(function(g){return $APP.Fv(c,$APP.Js,g)},$APP.G([b]))));d=$APP.ke(sRd(d));var f=function(){var g=rRd(c);return $APP.n(e)?$APP.sAa(g):g}();console.log("changed eids:",
b,a);a=$APP.Al.C($APP.cya(f,d));return $APP.n(a)?(console.error("Invalid datascript entities detected amongst changed entity ids:",b),$APP.Pm(new $APP.m(null,1,[$APP.Al,a],null)),$APP.Pm(new $APP.m(null,1,[vRd,d],null)),!1):!0},xRd=function(a,b){b=$APP.zt.A?$APP.zt.A(a,b):$APP.zt.call(null,a,b);var c=$APP.rt.C(b),d=$APP.sw.C(b);if($APP.y(d)){var e=$APP.Ug($APP.rh.A($APP.rt,d)),f=$APP.bw(d,b);if($APP.Lg.A($APP.vc(f),$APP.vc(d))){b=new $APP.m(null,2,[$APP.mm,new $APP.m(null,3,[$APP.rt,c,$APP.Qv,$APP.Qv.C(b),
$APP.Sv,$APP.Sv.C(b)],null),$APP.Bp,$APP.lj.A(function(p){return new $APP.m(null,3,[$APP.rt,$APP.rt.C(p),$APP.Sv,$APP.Sv.C(p),$APP.cw,$APP.rt.C($APP.cw.C(p))],null)},d)],null);$APP.Cv.G($APP.G([$APP.FC,"Broken chain:"]));$APP.Pm(b);t$($APP.rB,$APP.Fh.G($APP.G([new $APP.O(null,2,5,$APP.Q,[new $APP.O(null,2,5,$APP.Q,[$APP.ZB,["Broken chain detected:\n",$APP.t.C(b)].join("")],null),$APP.Es],null)])));var g=$APP.rt.C($APP.gIa(a,c,c)),h=$APP.Gh.C(e),k=function(){for(var p=$APP.$f;;)if($APP.y($APP.v(h))){var q=
$APP.Jc(p);if($APP.y($APP.Jc(p)))var r=q;else $APP.n(function(){var z=$APP.ad(p);return z?g:z}())?($APP.Ih.F(h,$APP.Jx,g),r=new $APP.O(null,1,5,$APP.Q,[g],null)):r=function(){var z=$APP.A($APP.v(h));$APP.Ih.F(h,$APP.Jx,z);return new $APP.O(null,1,5,$APP.Q,[z],null)}();var u=r,x=function(){var z=$APP.rt.C;var D=$APP.cw.C;var F=$APP.A(u);F=$APP.zt.A?$APP.zt.A(a,F):$APP.zt.call(null,a,F);z=z.call($APP.rt,D.call($APP.cw,F));$APP.n(z)?($APP.Ih.F(h,$APP.Jx,z),z=!$APP.Xd($APP.Ug(u),z)&&$APP.Xd(e,z)?$APP.ke($APP.Pe(z,
u)):null):z=null;return $APP.n(z)?z:u}();r=function(){var z=$APP.rt.C($APP.hIa(a,$APP.Jc(x)));$APP.n(z)?($APP.Ih.F(h,$APP.Jx,z),z=!$APP.Xd($APP.Ug(x),z)&&$APP.Xd(e,z)?$APP.Ke.A(x,z):null):z=null;return $APP.n(z)?z:x}();p=$APP.ad(q)?$APP.Ke.A($APP.ke($APP.Vg(p)),r):$APP.B.A(r,u)?$APP.Ke.A(p,$APP.$f):$APP.Ke.A($APP.ke($APP.Vg(p)),r)}else return p}();return $APP.Gf.A($APP.kk,$APP.Xl.A(function(p,q){return $APP.Xl.A(function(r,u){u=new $APP.m(null,1,[$APP.rt,u],null);r=0===p&&0===r?c:0!==p&&0===r?$APP.Jc($APP.C.A(k,
p-1)):0<r?$APP.C.A(q,r-1):null;return $APP.T.F(u,$APP.cw,r)},q)},k))}}return null},yRd=function(a,b){b=$APP.ou.C($APP.rh.A($APP.A,$APP.Ig(b)));return $APP.Uf.G(function(c){return xRd(a,c)},$APP.G([b]))},zRd=function(a,b){a=$APP.zt.A?$APP.zt.A(a,b):$APP.zt.call(null,a,b);a=$APP.qw.C(a);return $APP.tg.A($APP.pf,$APP.wl.A(function(c){var d=$APP.C.F(c,0,null);$APP.C.F(c,1,null);return $APP.B.A(d,new $APP.O(null,2,5,$APP.Q,[null,null],null))},$APP.Mh(function(c){return new $APP.O(null,2,5,$APP.Q,[$APP.wt.A(c,
new $APP.O(null,2,5,$APP.Q,[$APP.kw,$APP.rt],null)),$APP.wt.A(c,new $APP.O(null,2,5,$APP.Q,[$APP.cw,$APP.rt],null))],null)},a)))},ARd=function(a,b){$APP.y(b)&&($APP.Cv.G($APP.G([$APP.FC,"Parent left id conflicts:"])),t$($APP.rB,$APP.Fh.G($APP.G([new $APP.O(null,2,5,$APP.Q,[new $APP.O(null,2,5,$APP.Q,[$APP.ZB,["Parent-left conflicts detected:\n",$APP.t.C(b)].join("")],null),$APP.Es],null)]))));return $APP.Uf.G(function(c){$APP.C.F(c,0,null);c=$APP.C.F(c,1,null);var d=$APP.Xt.A($APP.Nv,c);c=$APP.y(d);
var e=$APP.A(c);c=$APP.jc(c);c=$APP.Xl.A(function(g,h){return new $APP.m(null,3,[$APP.rt,$APP.rt.C(h),$APP.cw,$APP.rt.C($APP.C.A(d,0===g?g:g-1)),$APP.kw,$APP.rt.C($APP.kw.C(e))],null)},c);var f=function(){var g=$APP.hIa(a,$APP.rt.C(e));return $APP.n(g)?new $APP.O(null,1,5,$APP.Q,[new $APP.m(null,2,[$APP.rt,$APP.rt.C(g),$APP.cw,$APP.rt.C($APP.Jc(d))],null)],null):null}();return $APP.kk.A(c,f)},$APP.G([b]))},BRd=function(a,b){a=zRd(a,b);return $APP.Wf.A(function(c){return 1<$APP.vc($APP.Dc(c))},a)},
GRd=function(a,b){var c=$APP.rf($APP.pf),d=$APP.H.F(c,CRd,!0),e=$APP.H.F(c,DRd,!0);c=$APP.H.F(c,ERd,!1);var f=$APP.v(a),g=$APP.zt.A?$APP.zt.A(f,b):$APP.zt.call(null,f,b);if(!$APP.n(function(){var p=$APP.dIa(f,g);return $APP.n(p)?p:$APP.lw(g)}())){c=$APP.n(c)?new $APP.m(null,1,[$APP.QRa,!0],null):$APP.pf;var h=$APP.Gh.C($APP.$f);$APP.n(d)&&FRd(a,b,c,h);if($APP.n(e)&&(d=$APP.v(a),b=zRd(f,b),b=yRd(d,b),$APP.y(b))){var k=$APP.ot.C($APP.Zv(a,b,c));$APP.Ih.A(h,function(p){return $APP.kk.A(p,k)})}$APP.v(h)}},
HRd=function(a,b){a=$APP.rf(a);var c=$APP.H.A(a,$APP.vy),d=$APP.jy.C(c);$APP.n(d)?(d=$APP.jy.C(c),$APP.n(d)?((d=$APP.Xd(new $APP.Ng(null,new $APP.m(null,2,[$APP.TWa,null,$APP.vA,null],null),null),d))?c=d:(d=$APP.MZa.C(c),c=$APP.n(d)?d:$APP.UTa.C(c)),c=$APP.nb(c)):c=null):c=d;return $APP.n(c)?nRd(a,b):null},IRd=function(a,b){var c=$APP.lt.C(a);b=$APP.ou.C($APP.wk.A(function(d){var e=function(){var g=$APP.jt.C(a),h=new $APP.O(null,2,5,$APP.Q,[$APP.Qv,d],null);return $APP.zt.A?$APP.zt.A(g,h):$APP.zt.call(null,
g,h)}();if($APP.n($APP.cy.C($APP.by.C($APP.kw.C(e))))){var f=function(){var g=$APP.rt.C($APP.kw.C(e));return $APP.zt.A?$APP.zt.A(c,g):$APP.zt.call(null,c,g)}();return $APP.ad($APP.sw.C(f))?f:null}return null},b));return $APP.y(b)?$APP.wl.A($APP.jb,$APP.Uf.G(function(d){var e=$APP.by.C(d);e=$APP.rf(e);var f=$APP.H.A(e,$APP.yXa);e=$APP.H.A(e,$APP.cy);f=new $APP.O(null,2,5,$APP.Q,[$APP.Qv,f],null);f=$APP.zt.A?$APP.zt.A(c,f):$APP.zt.call(null,c,f);var g=$APP.T.F($APP.yw.C(f),e,"");return $APP.n($APP.n(f)?
e:f)?new $APP.O(null,2,5,$APP.Q,[new $APP.O(null,2,5,$APP.Q,[$APP.bNa,$APP.rt.C(d)],null),new $APP.O(null,4,5,$APP.Q,[$APP.tt,$APP.rt.C(f),$APP.yw,g],null)],null):null},$APP.G([b]))):null},JRd=function(a,b){b=$APP.rf(b);var c=$APP.H.A(b,$APP.jt),d=$APP.H.A(b,$APP.lt);b=$APP.H.A(b,$APP.ot);b=$APP.ou.C($APP.wl.A($APP.jb,$APP.rh.A(function(k){var p=$APP.rt.C,q=$APP.iw.C,r=$APP.zt.A?$APP.zt.A(d,k):$APP.zt.call(null,d,k);k=$APP.n(r)?r:$APP.zt.A?$APP.zt.A(c,k):$APP.zt.call(null,c,k);return p.call($APP.rt,
q.call($APP.iw,k))},$APP.ou.C($APP.rh.A($APP.zn,$APP.Wf.A(function(k){return $APP.Xd(new $APP.Ng(null,new $APP.m(null,2,[$APP.cw,null,$APP.kw,null],null),null),$APP.nt.C(k))},b))))));b=$APP.y(b);for(var e=null,f=0,g=0;;)if(g<f){var h=e.ia(null,g);GRd(a,h);g+=1}else if(b=$APP.y(b))e=b,$APP.nd(e)?(b=$APP.Qb(e),f=$APP.Rb(e),e=b,h=$APP.vc(b),b=f,f=h):(h=$APP.A(e),GRd(a,h),b=$APP.jc(e),e=null,f=0),g=0;else return null},LRd=function(a,b,c,d){if($APP.n(function(){var f=$APP.DWa.C(d);return $APP.n(f)?$APP.Lv(a):
f}())){var e=wRd(c,$APP.SYa.C(d));$APP.n(function(){var f=$APP.wt.A(d,new $APP.O(null,2,5,$APP.Q,[$APP.SYa,KRd],null));return $APP.n(f)?!e:f}())&&t$($APP.rB,$APP.Fh.G($APP.G([new $APP.O(null,2,5,$APP.Q,[new $APP.O(null,1,5,$APP.Q,["Invalid DB!"],null),$APP.Es],null)])))}return $APP.n(function(){var f=$APP.DWa.C(d);return $APP.n(f)?$APP.nb($APP.LUa.C(d)):f}())?JRd(b,c):null},ORd=function(a,b,c){var d=dQd.C($APP.v(x$));if($APP.n(MRd.C($APP.vy.C(c))))return null;var e=$APP.vy.C(c),f=$APP.rf(e),g=$APP.H.A(f,
$APP.TA);f=$APP.H.A(f,$APP.KB);if($APP.n($APP.n(g)?g:f))return new $APP.m(null,1,[NRd,c],null);g=iRd(c);g=$APP.rf(g);var h=$APP.H.A(g,$APP.ow),k=$APP.H.A(g,$APP.qy);cOd(a)&&function(){var r=$APP.ou.C($APP.rh.A($APP.rt,h));r=$APP.y(r);for(var u=null,x=0,z=0;;)if(z<x){var D=u.ia(null,z);$APP.n(function(){var F=$APP.v(b),J=D;return $APP.zt.A?$APP.zt.A(F,J):$APP.zt.call(null,F,J)}())&&gQd(a,D,e);z+=1}else if(r=$APP.y(r))u=r,$APP.nd(u)?(r=$APP.Qb(u),z=$APP.Rb(u),u=r,x=$APP.vc(r),r=z):(D=$APP.A(u),$APP.n(function(){var F=
$APP.v(b),J=D;return $APP.zt.A?$APP.zt.A(F,J):$APP.zt.call(null,F,J)}())&&gQd(a,D,e),r=$APP.jc(u),u=null,x=0),z=0;else return null}();var p=$APP.Ug(jRd($APP.ot.C(c))),q=$APP.kk.G($APP.Ug(HRd(c,k)),$APP.y(p)?IRd(c,p):null,$APP.G([function(){var r=$APP.wl.A(function(x){return $APP.Xd($APP.Ug(p),$APP.Qv.C(x))},k),u=$APP.wt.A(c,new $APP.O(null,2,5,$APP.Q,[$APP.kt,$APP.cDa],null));return $APP.wl.A($APP.jb,$APP.rh.A(function(x){x=$APP.rt.C(x);return $APP.n(x)?new $APP.m(null,2,[$APP.rt,x,$APP.wA,u],null):
null},r))}()]));g=function(){var r=$APP.y(q)?$APP.Zv(b,q,new $APP.m(null,2,[$APP.QRa,!0,MRd,!0],null)):null;if($APP.n(r))return r;r=$APP.v(b);$APP.KEa?$APP.KEa(r):JOd.call(null,r);return c}();f=LRd(a,b,c,d);f=$APP.kk.G($APP.ot.C(c),f,$APP.G([$APP.ot.C(g)]));g=$APP.T.G(g,$APP.ot,f,$APP.G([$APP.jt,$APP.jt.C(c)]));d=$APP.n($APP.ESa.C(d))?null:oRd(g);return new $APP.m(null,5,[NRd,g,$APP.cTa,d,$APP.RRa,p,$APP.ow,h,$APP.qy,k],null)},PRd=function(a){return $APP.ie.F(function(b,c){$APP.C.F(c,0,null);var d=
$APP.C.F(c,1,null);$APP.C.F(c,2,null);var e=$APP.C.F(c,3,null);$APP.C.F(c,4,null);var f=$APP.H.A(b,d);if($APP.n(f)){$APP.C.F(f,0,null);$APP.C.F(f,1,null);$APP.C.F(f,2,null);var g=$APP.C.F(f,3,null);$APP.C.F(f,4,null);return g<=e?$APP.T.F(b,d,c):b}return $APP.T.F(b,d,c)},$APP.pf,a)},QRd=function(a,b,c,d){b=$APP.Ug($APP.H.A($APP.zt.A?$APP.zt.A(b,c):$APP.zt.call(null,b,c),d));c=$APP.Ug($APP.H.A($APP.zt.A?$APP.zt.A(a,c):$APP.zt.call(null,a,c),d));a=$APP.es.A(b,c);b=$APP.es.A(c,b);c=$APP.pf;a=$APP.y(a)?
$APP.Ke.A(c,new $APP.O(null,2,5,$APP.Q,[$APP.mB,a],null)):c;return $APP.y(b)?$APP.Ke.A(a,new $APP.O(null,2,5,$APP.Q,[B$,b],null)):a},RRd=function(a,b,c){b=$APP.yw.C($APP.zt.A?$APP.zt.A(b,c):$APP.zt.call(null,b,c));a=$APP.yw.C($APP.zt.A?$APP.zt.A(a,c):$APP.zt.call(null,a,c));a=$APP.rh.A($APP.cl.A($APP.Ug,$APP.Ig),$APP.SAa(b,a));c=$APP.C.F(a,0,null);b=$APP.C.F(a,1,null);var d=$APP.C.F(a,2,null);a=$APP.es.G(b,c,$APP.G([d]));b=$APP.gs.A(d,b);c=$APP.hv.A(c,b);b=$APP.pf;c=$APP.y(c)?$APP.Ke.A(b,new $APP.O(null,
2,5,$APP.Q,[$APP.mB,c],null)):b;return $APP.y(a)?$APP.Ke.A(c,new $APP.O(null,2,5,$APP.Q,[B$,a],null)):c},TRd=function(a,b,c){var d=PRd(c);if($APP.y(d)){var e=$APP.Ug($APP.Ig(d)),f=function(){var x=null==d?null:$APP.A(d);x=null==x?null:$APP.Dc(x);return null==x?null:$APP.A(x)}();c=$APP.rf(d);var g=$APP.H.A(c,$APP.Qv);$APP.C.F(g,0,null);$APP.C.F(g,1,null);var h=$APP.C.F(g,2,null);$APP.C.F(g,3,null);var k=$APP.C.F(g,4,null);g=$APP.H.A(c,$APP.Pv);$APP.C.F(g,0,null);$APP.C.F(g,1,null);$APP.C.F(g,2,null);
$APP.C.F(g,3,null);var p=$APP.C.F(g,4,null);g=$APP.H.A(c,$APP.kw);$APP.C.F(g,0,null);$APP.C.F(g,1,null);$APP.C.F(g,2,null);$APP.C.F(g,3,null);var q=$APP.C.F(g,4,null);g=$APP.H.A(c,$APP.cw);$APP.C.F(g,0,null);$APP.C.F(g,1,null);$APP.C.F(g,2,null);$APP.C.F(g,3,null);var r=$APP.C.F(g,4,null);c=$APP.H.A(c,$APP.Rv);$APP.C.F(c,0,null);$APP.C.F(c,1,null);$APP.C.F(c,2,null);$APP.C.F(c,3,null);var u=$APP.C.F(c,4,null);c=$APP.n(function(){var x=$APP.nb(k);return x?$APP.n(h)?$APP.nb(p)&&$APP.Xd(e,$APP.Pv):h:
x}())?new $APP.O(null,1,5,$APP.Q,[new $APP.O(null,2,5,$APP.Q,[I$,h],null)],null):$APP.n(function(){var x=$APP.nb(k);return x?h:x}())?new $APP.O(null,1,5,$APP.Q,[new $APP.O(null,2,5,$APP.Q,[$APP.lA,h],null)],null):function(){var x=$APP.y($APP.gs.A(e,new $APP.Ng(null,new $APP.m(null,7,[$APP.Bw,null,$APP.my,null,$APP.yw,null,$APP.ey,null,$APP.Vv,null,$APP.Sv,null,$APP.fw,null],null),null))),z=function(){var D=$APP.$f;D=$APP.n($APP.n(q)?q:r)?$APP.Ke.A(D,new $APP.O(null,1,5,$APP.Q,[$APP.hA],null)):D;var F=
(F=$APP.Xd(e,$APP.Pv))?p:F;$APP.n(F)||(F=(F=$APP.Xd(e,$APP.Rv))?u:F);return $APP.n(F)?$APP.Ke.A(D,new $APP.O(null,1,5,$APP.Q,[J$],null)):D}();x=$APP.Gf.A($APP.Ln,$APP.wk.A(function(D){switch(D instanceof $APP.K?D.Z:null){case "block/link":case "block/schema":case "block/content":return $APP.of([$APP.sh.C($APP.Wg(D)),null]);case "block/alias":D=QRd(a,b,f,$APP.Bw);if($APP.y(D)){D=$APP.rf(D);var F=$APP.H.A(D,$APP.mB),J=$APP.H.A(D,B$),M=$APP.wk.A($APP.Qv,function(){var R=new $APP.O(null,1,5,$APP.Q,[$APP.Qv],
null),W=$APP.rh.A($APP.rt,F);return $APP.ju?$APP.ju(b,R,W):$APP.ku.call(null,b,R,W)}()),P=$APP.wk.A($APP.Qv,function(){var R=new $APP.O(null,1,5,$APP.Q,[$APP.Qv],null),W=$APP.rh.A($APP.rt,J);return $APP.ju?$APP.ju(a,R,W):$APP.ku.call(null,a,R,W)}());return new $APP.m(null,1,[$APP.Hw,function(){var R=$APP.pf;R=$APP.y(M)?$APP.Ke.A(R,new $APP.O(null,2,5,$APP.Q,[$APP.mB,M],null)):R;return $APP.y(P)?$APP.Ke.A(R,new $APP.O(null,2,5,$APP.Q,[B$,P],null)):R}()],null)}return null;case "block/type":return D=
QRd(a,b,f,$APP.fw),$APP.y(D)?new $APP.m(null,1,[$APP.yl,D],null):null;case "block/tags":return D=QRd(a,b,f,$APP.Vv),$APP.y(D)?(D=$APP.rf(D),F=$APP.H.A(D,$APP.mB),J=$APP.H.A(D,B$),M=$APP.wk.A($APP.Qv,function(){var R=new $APP.O(null,1,5,$APP.Q,[$APP.Qv],null),W=$APP.rh.A($APP.rt,F);return $APP.ju?$APP.ju(b,R,W):$APP.ku.call(null,b,R,W)}()),P=$APP.wk.A($APP.Qv,function(){var R=new $APP.O(null,1,5,$APP.Q,[$APP.Qv],null),W=$APP.rh.A($APP.rt,J);return $APP.ju?$APP.ju(a,R,W):$APP.ku.call(null,a,R,W)}()),
new $APP.m(null,1,[$APP.Zx,function(){var R=$APP.pf;R=$APP.y(M)?$APP.Ke.A(R,new $APP.O(null,2,5,$APP.Q,[$APP.mB,M],null)):R;return $APP.y(P)?$APP.Ke.A(R,new $APP.O(null,2,5,$APP.Q,[B$,P],null)):R}()],null)):null;case "block/properties":return D=RRd(a,b,f),$APP.y(D)?(D=$APP.rf(D),F=$APP.H.A(D,$APP.mB),J=$APP.H.A(D,B$),M=$APP.wk.A($APP.Qv,function(){var R=new $APP.O(null,1,5,$APP.Q,[$APP.Qv],null),W=$APP.rh.A(function(U){return new $APP.O(null,2,5,$APP.Q,[$APP.Qv,U],null)},F);return $APP.ju?$APP.ju(b,
R,W):$APP.ku.call(null,b,R,W)}()),new $APP.m(null,1,[$APP.Ap,function(){var R=$APP.pf;R=$APP.y(M)?$APP.Ke.A(R,new $APP.O(null,2,5,$APP.Q,[$APP.mB,M],null)):R;return $APP.y(J)?$APP.Ke.A(R,new $APP.O(null,2,5,$APP.Q,[B$,J],null)):R}()],null)):null;default:return null}},x));return $APP.y(x)?$APP.Ke.A(z,new $APP.O(null,2,5,$APP.Q,[$APP.DA,x],null)):z}();return $APP.wk.A(function(x){var z=function(){var F=$APP.zt.A?$APP.zt.A(b,f):$APP.zt.call(null,b,f);F=null==F?null:$APP.Qv.C(F);return null==F?null:$APP.t.C(F)}(),
D=$APP.A(x);D=D instanceof $APP.K?D.Z:null;switch(D){case "move":return $APP.n(z)?new $APP.O(null,2,5,$APP.Q,["move",new $APP.m(null,1,[$APP.WB,z],null)],null):null;case "update":return $APP.n(z)?new $APP.O(null,2,5,$APP.Q,["update",function(){var F=new $APP.m(null,1,[$APP.WB,z],null);return $APP.n($APP.Dc(x))?$APP.Ke.A(F,new $APP.O(null,2,5,$APP.Q,[SRd,$APP.Dc(x)],null)):F}()],null):null;case "update-page":return $APP.n(z)?new $APP.O(null,2,5,$APP.Q,["update-page",new $APP.m(null,1,[$APP.WB,z],null)],
null):null;case "remove":return new $APP.O(null,2,5,$APP.Q,["remove",new $APP.m(null,1,[$APP.WB,$APP.t.C($APP.Dc(x))],null)],null);case "remove-page":return new $APP.O(null,2,5,$APP.Q,["remove-page",new $APP.m(null,1,[$APP.WB,$APP.t.C($APP.Dc(x))],null)],null);default:throw Error(["No matching clause: ",$APP.t.C(D)].join(""));}},c)}return null},URd=function(a,b){var c=PRd(b);if($APP.y(c)){var d=function(){var q=null==c?null:$APP.A(c);q=null==q?null:$APP.Dc(q);return null==q?null:$APP.A(q)}();b=$APP.rf(c);
var e=$APP.H.A(b,$APP.p0a);$APP.C.F(e,0,null);$APP.C.F(e,1,null);var f=$APP.C.F(e,2,null);$APP.C.F(e,3,null);var g=$APP.C.F(e,4,null);b=$APP.H.A(b,$APP.aXa);$APP.C.F(b,0,null);$APP.C.F(b,1,null);var h=$APP.C.F(b,2,null);$APP.C.F(b,3,null);var k=$APP.C.F(b,4,null);b=$APP.n(function(){var q=$APP.n(g)?f:g;return $APP.n(q)?q:$APP.n(k)?h:k}())?new $APP.O(null,1,5,$APP.Q,[QQd],null):$APP.n(function(){var q=$APP.nb(g);return q?f:q}())?new $APP.O(null,2,5,$APP.Q,[PQd,f],null):null;if($APP.n(b)){e=function(){var q=
$APP.zt.A?$APP.zt.A(a,d):$APP.zt.call(null,a,d);q=null==q?null:$APP.p0a.C(q);return null==q?null:$APP.t.C(q)}();var p=$APP.A(b);p=p instanceof $APP.K?p.Z:null;switch(p){case "update-asset":return $APP.n(e)?new $APP.O(null,2,5,$APP.Q,["update-asset",new $APP.m(null,1,[H$,e],null)],null):null;case "remove-asset":return new $APP.O(null,2,5,$APP.Q,["remove-asset",new $APP.m(null,1,[H$,$APP.t.C($APP.Dc(b))],null)],null);default:throw Error(["No matching clause: ",$APP.t.C(p)].join(""));}}else return null}else return null},
VRd=function(a,b,c,d){var e=$APP.rh.A($APP.ke,d);d=$APP.Mh($APP.A,e);e=$APP.ou.C($APP.rh.A($APP.A,e));e=$APP.rh.A(d,e);d=$APP.wk.A($APP.xk.A(URd,c),e);c=$APP.n($APP.Mc(d))?$APP.Uf.G($APP.xk.F(TRd,b,c),$APP.G([e])):null;var f=1E3*$APP.am($APP.Dl());b=$APP.Xl.A(function(h,k){return new $APP.O(null,2,5,$APP.Q,[$APP.A(k),$APP.T.F($APP.Dc(k),$APP.gC,h+f)],null)},c);var g=f+$APP.vc(c);c=$APP.Xl.A(function(h,k){return new $APP.O(null,2,5,$APP.Q,[$APP.A(k),$APP.T.F($APP.Dc(k),$APP.gC,h+g)],null)},d);$APP.y(b)&&
TQd(a,b);return $APP.y(c)?UQd(a,c):null},XRd=function(a,b){return lOd(b,WRd,function(c){var d=$APP.rf(c);c=$APP.H.A(d,$APP.ot);var e=$APP.H.A(d,$APP.vy),f=$APP.H.A(d,$APP.jt);d=$APP.H.A(d,$APP.lt);return $APP.n($APP.Dy.A(e,!0))?VRd(a,f,d,c):null})},$Rd=function(a,b){return lOd(b,YRd,function(c){var d=$APP.rf(c);c=$APP.H.A(d,$APP.vy);var e=$APP.rf(c);e=$APP.H.A(e,MRd);var f=ORd(a,b,d),g=function(){var h=NRd.C(f);return $APP.n(h)?h:d}();if($APP.n(e))return null;c=$APP.Fh.G($APP.G([$APP.Ln.G($APP.G([new $APP.m(null,
4,[$APP.aw,$APP.aw.C(c),$APP.jC,a,$APP.ot,$APP.ot.C(g),$APP.vy,c],null),$APP.cj.A(f,NRd)]))]));t$($APP.XSa,c);return $APP.el(null,function(){var h=KPd(a,g);var k=$APP.rf(h);h=$APP.H.A(k,$APP.oVa);k=$APP.H.A(k,$APP.yUa);var p=ZRd.C($APP.v(x$));$APP.n(p)?($APP.y(h)&&p.search_delete_blocks(a,$APP.Fi(h)),h=$APP.y(k)?p.search_upsert_blocks(a,$APP.Fi(k)):null):h=null;return $APP.Xk(h)})})},N$=function(a){if(a instanceof $APP.Xh)throw a;return a},cSd=function(a,b,c){a=new WebSocket($APP.kl($APP.v(aSd),a));
a.onopen=function(){return $APP.Gi(c)};a.onmessage=function(d){d=$APP.Mo.G(JSON.parse(d.data),$APP.G([$APP.No,!0]));return $APP.$i(b,d)};a.onclose=function(d){$APP.kz.G($APP.G([bSd]));return console.error(d)};return a},gSd=function(a){var b=$APP.Ti(1);$APP.Ii(function(){var c=function(){function e(f){var g=f[1];if(7===g)return f[2]=f[7].readyState>dSd,f[1]=8,$APP.V;if(20===g){var h=f[8];g=N$(f[2]);f[9]=g;return $APP.Pi(f,21,h)}if(1===g)return f[2]=null,f[1]=2,$APP.V;if(4===g)return f[2]=f[2],f[1]=
3,$APP.V;if(15===g)return f[2]=f[2],f[1]=11,$APP.V;if(21===g)return g=f[2],f[4]=$APP.hc(f[4]),f[2]=g,f[1]=18,$APP.V;if(13===g){g=$APP.Vh();g=$APP.t.C(g);h=O$.C(a);var k=$APP.Ti(1);var p=$APP.gj(h,g,k);f[11]=g;f[10]=h;f[8]=k;f[12]=p;f[2]=null;f[1]=16;return $APP.V}if(6===g)return f[2]=f[13],f[1]=8,$APP.V;if(17===g)return f[2]=f[2],f[1]=15,$APP.V;if(3===g)return $APP.Ri(f,f[2]);if(12===g)return h=f[14],g=f[2],k=$APP.zA.C(a),h=$APP.Kf(k,h),k=P$.C(a),k=$APP.v(k),f[16]=g,f[17]=h,f[15]=k,f[1]=$APP.n(k)?
13:14,$APP.V;if(2===g)return f[4]=$APP.Pe(5,f[4]),g=$APP.zA.C(a),g=$APP.v(g),h=null==g,f[7]=g,f[13]=h,f[1]=$APP.n(h)?6:7,$APP.V;if(19===g)throw f[4]=$APP.hc(f[4]),g=f[2],f[5]=g,g;if(11===g)return g=f[2],f[4]=$APP.hc(f[4]),f[2]=g,f[1]=3,$APP.V;if(9===g)return g=$APP.Ti(null),h=eSd.C(a),h=$APP.v(h),k=fSd.C(a),h=cSd(h,k,g),f[14]=h,$APP.Pi(f,12,g);if(5===g)return f[4]=$APP.hc(f[4]),f[5]=f[2],f[1]=4,f[5]=null,$APP.V;if(14===g)return f[2]=null,f[1]=15,$APP.V;if(16===g)return k=f[11],g=f[15],f[4]=$APP.Pe(18,
f[4]),f[4]=$APP.Pe(19,f[4]),g=$APP.Cg([$APP.IC,Q$,$APP.Zz],["register-graph-updates",k,g]),g=R$.A?R$.A(a,g):R$.call(null,a,g),$APP.Pi(f,20,g);if(10===g)return f[2]=null,f[1]=11,$APP.V;if(18===g){p=f[10];k=f[11];h=f[8];f[4]=$APP.hc(f[4]);g=f[2];h=$APP.hj(p,k,h);k=f[5];if($APP.n(k))throw k;f[18]=h;f[2]=g;f[1]=17;return $APP.V}return 8===g?(f[1]=$APP.n(f[2])?9:10,$APP.V):null}return function(){function f(k){for(;;){a:try{for(;;){var p=e(k);if(!$APP.Se(p,$APP.V)){var q=p;break a}}}catch(r){q=r;k[2]=q;
if($APP.y(k[4]))k[1]=$APP.A(k[4]);else throw q;q=$APP.V}if(!$APP.Se(q,$APP.V))return q}}function g(){var k=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];k[0]=h;k[1]=1;return k}var h=null;h=function(k){switch(arguments.length){case 0:return g.call(this);case 1:return f.call(this,k)}throw Error("Invalid arity: "+arguments.length);};h.I=g;h.C=f;return h}()}(),d=function(){var e=c();e[6]=b;return e}();return $APP.Oi(d)});return b},R$=function(a,b){var c=
$APP.Ti(1);$APP.Ii(function(){var d=function(){function f(g){var h=g[1];if(1===h)return g[2]=null,g[1]=2,$APP.V;if(2===h)return g[4]=$APP.Pe(5,g[4]),h=gSd(a),$APP.Pi(g,6,h);if(3===h)return $APP.Ri(g,g[2]);if(4===h)return g[2]=g[2],g[1]=3,$APP.V;if(5===h)return g[4]=$APP.hc(g[4]),g[5]=g[2],g[1]=4,g[5]=null,$APP.V;if(6===h){h=N$(g[2]);var k=$APP.zA.C(a);k=$APP.v(k);var p=hSd.C?hSd.C(b):hSd.call(null,b);k=k.send(JSON.stringify($APP.Ei(iSd.C?iSd.C(p):iSd.call(null,p))));g[4]=$APP.hc(g[4]);g[7]=h;g[2]=
k;g[1]=3;return $APP.V}return null}return function(){function g(p){for(;;){a:try{for(;;){var q=f(p);if(!$APP.Se(q,$APP.V)){var r=q;break a}}}catch(u){r=u;p[2]=r;if($APP.y(p[4]))p[1]=$APP.A(p[4]);else throw r;r=$APP.V}if(!$APP.Se(r,$APP.V))return r}}function h(){var p=[null,null,null,null,null,null,null,null];p[0]=k;p[1]=1;return p}var k=null;k=function(p){switch(arguments.length){case 0:return h.call(this);case 1:return g.call(this,p)}throw Error("Invalid arity: "+arguments.length);};k.I=h;k.C=g;
return k}()}(),e=function(){var f=d();f[6]=c;return f}();return $APP.Oi(e)});return c},nSd=function(a,b){var c=$APP.Ti(1);$APP.Ii(function(){var d=function(){function f(g){var h=g[1];if(7===h)return h=g[2],g[4]=$APP.hc(g[4]),g[2]=h,g[1]=3,$APP.V;if(1===h)return g[2]=null,g[1]=2,$APP.V;if(4===h)return g[2]=g[2],g[1]=3,$APP.V;if(15===h){var k=$APP.rf(g[2]);h=$APP.H.A(k,$APP.Ly);k=$APP.H.A(k,$APP.Jy);var p=$APP.rD.C?$APP.rD.C(h):$APP.rD.call(null,h);g[7]=h;g[8]=k;g[1]=$APP.n(p)?16:17;return $APP.V}if(13===
h)return g[2]=g[9],g[1]=14,$APP.V;if(6===h)return h=g[10],g[4]=$APP.Pe(8,g[4]),g[4]=$APP.Pe(9,g[4]),h=$APP.T.F(b,Q$,h),h=R$(a,h),$APP.Pi(g,10,h);if(17===h){var q=g[7];k=g[8];h=g[10];p=[Q$,jSd,S$];k=$APP.Cg([$APP.yl,$APP.Ly,$APP.Jy],[kSd,q,k]);h=$APP.Cg(p,[h,"get s3 object failed",k]);g[2]=h;g[1]=18;return $APP.V}if(3===h)return $APP.Ri(g,g[2]);if(12===h)return h=g[11],k=$APP.Cg([$APP.UOa],[!1]),h=$APP.IPa(h,$APP.G([k])),$APP.Pi(g,15,h);if(2===h)return g[4]=$APP.Pe(5,g[4]),h=$APP.Vh(),h=$APP.t.C(h),
k=O$.C(a),p=$APP.Ti(1),q=$APP.gj(k,h,p),g[10]=h,g[12]=k,g[13]=p,g[14]=q,g[2]=null,g[1]=6,$APP.V;if(11===h)return h=g[2],k=lSd.C(h),g[9]=h,g[11]=k,g[1]=$APP.n(k)?12:13,$APP.V;if(9===h)throw g[4]=$APP.hc(g[4]),h=g[2],g[5]=h,h;if(5===h)return g[4]=$APP.hc(g[4]),g[5]=g[2],g[1]=4,g[5]=null,$APP.V;if(14===h)return h=g[2],h=mSd.C?mSd.C(h):mSd.call(null,h),g[4]=$APP.hc(g[4]),g[2]=h,g[1]=8,$APP.V;if(16===h)return k=g[8],h=JSON.parse(k),h=$APP.Mo.G(h,$APP.G([$APP.No,!0])),g[2]=h,g[1]=18,$APP.V;if(10===h)return p=
g[13],h=N$(g[2]),g[15]=h,$APP.Pi(g,11,p);if(18===h)return g[2]=g[2],g[1]=14,$APP.V;if(8===h){q=g[12];h=g[10];p=g[13];g[4]=$APP.hc(g[4]);k=g[2];h=$APP.hj(q,h,p);p=g[5];if($APP.n(p))throw p;g[16]=h;g[2]=k;g[1]=7;return $APP.V}return null}return function(){function g(p){for(;;){a:try{for(;;){var q=f(p);if(!$APP.Se(q,$APP.V)){var r=q;break a}}}catch(u){r=u;p[2]=r;if($APP.y(p[4]))p[1]=$APP.A(p[4]);else throw r;r=$APP.V}if(!$APP.Se(r,$APP.V))return r}}function h(){var p=[null,null,null,null,null,null,null,
null,null,null,null,null,null,null,null,null,null];p[0]=k;p[1]=1;return p}var k=null;k=function(p){switch(arguments.length){case 0:return h.call(this);case 1:return g.call(this,p)}throw Error("Invalid arity: "+arguments.length);};k.I=h;k.C=g;return k}()}(),e=function(){var f=d();f[6]=c;return f}();return $APP.Oi(e)});return c},qSd=function(a){a=a.readyState;switch(a){case 0:return oSd;case 1:return $APP.zB;case 2:return pSd;case 3:return $APP.pq;default:throw Error(["No matching clause: ",$APP.t.C(a)].join(""));
}},rSd=function(a){a=$APP.wHa(a);return $APP.wk.A(function(b){return $APP.y(b)?$APP.ie.F(function(c,d){if($APP.Xd(new $APP.Ng(null,new $APP.m(null,2,[$APP.cw,null,$APP.kw,null],null),null),$APP.nt.C(d))&&!$APP.Ld($APP.mt.C(d)))throw $APP.xl.A("invalid block data",new $APP.m(null,1,[$APP.iDa,d],null));return $APP.Xd($APP.b3a,$APP.nt.C(d))?$APP.Wr.K(c,$APP.nt.C(d),$APP.Ke,$APP.mt.C(d)):$APP.T.F(c,$APP.nt.C(d),$APP.mt.C(d))},new $APP.m(null,1,[$APP.rt,$APP.zn.C($APP.A(b))],null),b):null},$APP.Ct.A($APP.zn,
a))},vSd=function(a,b,c){var d=$APP.Ti(1);$APP.Ii(function(){var e=function(){function g(h){var k=h[1];if(7===k){var p=h[7];k=h[2];var q=$APP.Cg([sSd],[p]);k=$APP.Ln.G($APP.G([k,q]));h[4]=$APP.hc(h[4]);h[2]=k;h[1]=4;return $APP.V}if(1===k){p=h[8];var r=h[9];k=h[10];k=$APP.Vh();k=$APP.t.C(k);q=O$.C(a);p=$APP.Ti(1);r=$APP.gj(q,k,p);h[9]=k;h[8]=q;h[10]=p;h[11]=r;k=h;k[2]=null;k[1]=2;return $APP.V}if(4===k)return p=h[8],r=h[9],k=h[10],h[4]=$APP.hc(h[4]),q=h[2],k=$APP.hj(p,r,k),function(){var x=h[5];if($APP.n(x))throw x;
return null}(),h[12]=k,k=h,k[2]=q,k[1]=3,$APP.V;if(15===k)return p=h[13],k=$APP.xl.A("upload graph failed",p),h[2]=k,h[1]=17,$APP.V;if(13===k)return p=h[14],h[15]=h[2],$APP.Pi(h,14,p);if(6===k)return k=h[10],q=h[2],p=$APP.v(c),p=rSd(p),p=$APP.hMa($APP.$A,null).write(p),h[16]=q,h[7]=p,$APP.Pi(h,7,k);if(17===k)return k=h[2],h[4]=$APP.hc(h[4]),h[2]=k,h[1]=11,$APP.V;if(3===k)return p=$APP.rf(h[2]),q=$APP.H.A(p,$APP.Rw),k=$APP.H.A(p,$APP.xq),p=$APP.H.A(p,sSd),p=$APP.Cg([$APP.Jy],[p]),q=QOd(q,$APP.G([p])),
h[17]=k,$APP.Pi(h,8,q);if(12===k)throw h[4]=$APP.hc(h[4]),k=h,q=k[2],k[5]=q,q;if(2===k)return r=h[9],h[4]=$APP.Pe(4,h[4]),h[4]=$APP.Pe(5,h[4]),k=$APP.Cg([Q$,$APP.IC],[r,"presign-put-temp-s3-obj"]),k=R$(a,k),$APP.Pi(h,6,k);if(11===k)return r=h[18],q=h[19],p=h[14],h[4]=$APP.hc(h[4]),k=h[2],q=$APP.hj(r,q,p),function(){var x=h[5];if($APP.n(x))throw x;return null}(),h[20]=q,q=h,q[2]=k,q[1]=10,$APP.V;if(9===k)return q=h[19],k=h[17],h[4]=$APP.Pe(11,h[4]),h[4]=$APP.Pe(12,h[4]),k=$APP.Cg([Q$,$APP.IC,tSd],
[q,"full-upload-graph",k]),k=R$(a,k),$APP.Pi(h,13,k);if(5===k)throw h[4]=$APP.hc(h[4]),k=h,q=k[2],k[5]=q,q;if(14===k)return p=h[13],k=h[2],q=$APP.Zz.C(k),q=$APP.nb(q),h[13]=k,h[1]=q?15:16,$APP.V;if(16===k)return p=h[13],k=$APP.Ih.K(K$,$APP.T,b,uSd),q=$APP.Zz.C(p),q=WQd(b,q),p=$APP.Vz.C(p),p=VQd(b,p),r=gRd(b),h[21]=k,h[22]=q,h[23]=p,$APP.Pi(h,18,r);if(10===k)return $APP.Ri(h,h[2]);if(18===k)return p=h[13],h[24]=h[2],k=h,k[2]=p,k[1]=17,$APP.V;if(8===k){r=h[18];q=h[19];p=h[14];k=h[2];q=$APP.Vh();q=$APP.t.C(q);
p=O$.C(a);r=$APP.Ti(1);var u=$APP.gj(p,q,r);h[25]=k;h[19]=q;h[18]=p;h[14]=r;h[26]=u;k=h;k[2]=null;k[1]=9;return $APP.V}return null}return function(){function h(q){for(;;){a:try{for(;;){var r=g(q);if(!$APP.Se(r,$APP.V)){var u=r;break a}}}catch(x){u=x;q[2]=u;if($APP.y(q[4]))q[1]=$APP.A(q[4]);else throw u;u=$APP.V}if(!$APP.Se(u,$APP.V))return u}}function k(){var q=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];
q[0]=p;q[1]=1;return q}var p=null;p=function(q){switch(arguments.length){case 0:return k.call(this);case 1:return h.call(this,q)}throw Error("Invalid arity: "+arguments.length);};p.I=k;p.C=h;return p}()}(),f=function(){var g=e();g[6]=d;return g}();return $APP.Oi(f)});return d},ySd=function(a){return $APP.lj.A(function(b){var c=$APP.rt.C(b),d=$APP.rt.C($APP.kw.C(b)),e=$APP.rt.C($APP.cw.C(b)),f=$APP.rh.A($APP.rt,$APP.Bw.C(b)),g=$APP.rh.A($APP.rt,$APP.Vv.C(b)),h=$APP.wk.A($APP.cl.A(wSd,$APP.ct),$APP.fw.C(b)),
k=function(){var r=$APP.ey.C(b);return null==r?null:xSd.read(r)}(),p=function(){var r=$APP.yw.C(b);return null==r?null:xSd.read(r)}(),q=$APP.rt.C($APP.my.C(b));c=$APP.T.F(b,$APP.rt,$APP.t.C(c));d=$APP.n(d)?$APP.T.F(c,$APP.kw,$APP.t.C(d)):c;e=$APP.n(e)?$APP.T.F(d,$APP.cw,$APP.t.C(e)):d;f=$APP.y(f)?$APP.T.F(e,$APP.Bw,$APP.rh.A($APP.t,f)):e;g=$APP.y(g)?$APP.T.F(f,$APP.Vv,$APP.rh.A($APP.t,g)):f;h=$APP.y(h)?$APP.T.F(g,$APP.fw,h):g;k=$APP.n(k)?$APP.T.F(h,$APP.ey,k):h;p=$APP.n(p)?$APP.T.F(k,$APP.yw,p):k;
return $APP.n(q)?$APP.T.F(p,$APP.my,$APP.t.C(q)):p},a)},ASd=function(a){var b=$APP.Mh(function(e){return $APP.Ad($APP.Pv.C(e))},a);b=$APP.Ug($APP.H.A(b,!1));var c=$APP.tg.A($APP.pf,$APP.rh.A($APP.Pj.A($APP.rt,$APP.pe),a)),d=$APP.tg.A($APP.pf,$APP.rh.A(function(e){return new $APP.O(null,2,5,$APP.Q,[$APP.rt.C(e),$APP.rt.C(zSd(c,e))],null)},b));return $APP.lj.A(function(e){e=$APP.T.F(e,$APP.Px,$APP.cs);var f=$APP.rt.C(e);f=d.C?d.C(f):d.call(null,f);return $APP.n(f)?$APP.T.F(e,$APP.iw,f):e},a)},DSd=function(a,
b){var c=$APP.Ti(1);$APP.Ii(function(){var d=function(){function f(g){var h=g[1];if(1===h)return g[2]=null,g[1]=2,$APP.V;if(2===h){var k=g[7];g[4]=$APP.Pe(5,g[4]);k=$APP.rf(a);h=$APP.H.A(k,$APP.Vz);k=$APP.H.A(k,$APP.qy);k=ySd(k);var p=ASd(k);k=$APP.v(x$);var q=ZRd.C(k);k=$APP.el(null,function(){return function(){return $APP.el(q.createOrOpenDB(b,new $APP.m(null,1,[BSd,!1],null)),function(){return $APP.el(q.exportDB(b),function(){return $APP.el(q.transact(b,p,new $APP.m(null,1,[CSd,!0],null),dQd.C($APP.v(x$))),
function(){return $APP.Xk(q.closeDB(b))})})})}}());k=$APP.Sy(k);g[7]=h;return $APP.Pi(g,6,k)}if(3===h)return $APP.Ri(g,g[2]);if(4===h)return g[2]=g[2],g[1]=3,$APP.V;if(5===h)return g[4]=$APP.hc(g[4]),g[5]=g[2],g[1]=4,g[5]=null,$APP.V;if(6===h){k=g[7];h=N$(g[2]);var r=$APP.Cg([$APP.jC],[b]);r=$APP.Fh.G($APP.G([r]));r=t$($APP.L_a,r);k=VQd(b,k);g[4]=$APP.hc(g[4]);g[8]=h;g[9]=r;g[2]=k;g[1]=3;return $APP.V}return null}return function(){function g(p){for(;;){a:try{for(;;){var q=f(p);if(!$APP.Se(q,$APP.V)){var r=
q;break a}}}catch(u){r=u;p[2]=r;if($APP.y(p[4]))p[1]=$APP.A(p[4]);else throw r;r=$APP.V}if(!$APP.Se(r,$APP.V))return r}}function h(){var p=[null,null,null,null,null,null,null,null,null,null];p[0]=k;p[1]=1;return p}var k=null;k=function(p){switch(arguments.length){case 0:return h.call(this);case 1:return g.call(this,p)}throw Error("Invalid arity: "+arguments.length);};k.I=h;k.C=g;return k}()}(),e=function(){var f=d();f[6]=c;return f}();return $APP.Oi(e)});return c},ISd=function(a,b,c){var d=$APP.Ti(1);
$APP.Ii(function(){var e=function(){function g(h){var k=h[1];if(7===k)return k=$APP.rf(h[2]),k=$APP.H.A(k,$APP.Rw),k=ROd(k),$APP.Pi(h,11,k);if(1===k)return h[2]=null,h[1]=2,$APP.V;if(4===k)return h[2]=h[2],h[1]=3,$APP.V;if(15===k){k=h[7];var p=N$(h[2]),q=WQd(k,c),r=new $APP.cc(function(){return K$},ESd,$APP.Cg([$APP.Sn,$APP.Tn,$APP.Un,$APP.Vn,$APP.Wn,$APP.Xn,$APP.hm,$APP.Yn,$APP.Zn,$APP.$n,$APP.ao],[!0,FSd,GSd,"frontend/worker/rtc/op_mem_layer.cljs",30,1,107,107,$APP.gc,null,$APP.n(K$)?K$.T:null]));
r=$APP.v(r);r=$APP.v(r);r=r.C?r.C(k):r.call(null,k);r=$APP.Cv.G($APP.G([HSd,k,r]));k=gRd(k);h[8]=p;h[9]=q;h[10]=r;return $APP.Pi(h,16,k)}if(13===k)return p=h[11],k=h[7],q=xSd.read(p),p=$APP.Ih.K(K$,$APP.T,k,uSd),k=DSd(q,k),h[12]=p,$APP.Pi(h,15,k);if(6===k)return q=h[13],k=h[14],h[4]=$APP.Pe(8,h[4]),h[4]=$APP.Pe(9,h[4]),p=$APP.Cg([Q$,$APP.IC,$APP.Zz],[q,"full-download-graph",c]),p=R$(a,p),h[15]=p,$APP.Pi(h,10,k);if(3===k)return $APP.Ri(h,h[2]);if(12===k)return k=h[16],k=$APP.xl.A("\x3cdownload-graph failed",
k),h[2]=k,h[1]=14,$APP.V;if(2===k)return r=h[17],q=h[13],k=h[14],h[4]=$APP.Pe(5,h[4]),k=$APP.Vh(),k=$APP.t.C(k),p=O$.C(a),q=$APP.Ti(1),r=$APP.gj(p,k,q),h[13]=k,h[17]=p,h[14]=q,h[18]=r,k=h,k[2]=null,k[1]=6,$APP.V;if(11===k)return k=h[16],q=$APP.rf(h[2]),r=$APP.H.A(q,$APP.Ly),p=$APP.H.A(q,$APP.Jy),k=["logseq_db_rtc-",$APP.t.C(b)].join(""),r=$APP.Lg.A(200,r),h[16]=q,h[11]=p,h[7]=k,h[1]=r?12:13,$APP.V;if(9===k)throw h[4]=$APP.hc(h[4]),k=h,p=k[2],k[5]=p,p;return 5===k?(h[4]=$APP.hc(h[4]),k=h,k[5]=k[2],
k[1]=4,k[5]=null,$APP.V):14===k?(k=h[2],h[4]=$APP.hc(h[4]),h[2]=k,h[1]=3,$APP.V):16===k?(h[2]=h[2],h[1]=14,$APP.V):10===k?(k=h[2],h[4]=$APP.hc(h[4]),h[2]=k,h[1]=8,$APP.V):8===k?(r=h[17],q=h[13],k=h[14],h[4]=$APP.hc(h[4]),p=h[2],k=$APP.hj(r,q,k),function(){var u=h[5];if($APP.n(u))throw u;return null}(),h[19]=k,k=h,k[2]=p,k[1]=7,$APP.V):null}return function(){function h(q){for(;;){a:try{for(;;){var r=g(q);if(!$APP.Se(r,$APP.V)){var u=r;break a}}}catch(x){u=x;q[2]=u;if($APP.y(q[4]))q[1]=$APP.A(q[4]);
else throw u;u=$APP.V}if(!$APP.Se(u,$APP.V))return u}}function k(){var q=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];q[0]=p;q[1]=1;return q}var p=null;p=function(q){switch(arguments.length){case 0:return k.call(this);case 1:return h.call(this,q)}throw Error("Invalid arity: "+arguments.length);};p.I=k;p.C=h;return p}()}(),f=function(){var g=e();g[6]=d;return g}();return $APP.Oi(f)});return d},JSd=function(a,b,c,d){var e=$APP.PAa(a),f=$APP.rh.A($APP.Ej,
new $APP.O(null,2,5,$APP.Q,[c,d],null)),g=$APP.C.F(f,0,null),h=$APP.C.F(f,1,null);d=$APP.rh.A($APP.Hv,new $APP.O(null,2,5,$APP.Q,[c,d],null));c=$APP.C.F(d,0,null);d=$APP.C.F(d,1,null);f=$APP.rh.A(function(r){return $APP.ua(r,"/")?$APP.vj(r,"/","."):r},new $APP.O(null,2,5,$APP.Q,[g,h],null));var k=$APP.C.F(f,0,null),p=$APP.C.F(f,1,null),q=function(){var r=$APP.B.A($APP.jx,e);return r?(r=$APP.dYa.C(a),$APP.n(r)?$APP.gh($APP.jh($APP.So("\\[\\[file:\\.*/.*%s\\.org\\]\\[(.*?)\\]\\]",$APP.G([k]))),b):r):
r}();return $APP.vj($APP.n(q)?function(){var r=$APP.C.F(q,0,null),u=$APP.C.F(q,1,null),x=$APP.B.A(u,g)?h:u;u=$APP.vj($APP.vj(r,k,p),["[",$APP.t.C(u),"]"].join(""),["[",$APP.t.C(x),"]"].join(""));return $APP.vj(b,r,u)}():b,c,d)},KSd=function(a,b,c){b=$APP.So("#%s",$APP.G([b]));var d=$APP.n($APP.gh(/[\s\t]+/,c))?$APP.So("#[[%s]]",$APP.G([c])):["#",$APP.t.C(c)].join("");return $APP.vj(a,$APP.jh(["(?i)(^|\\s)(",$APP.t.C($APP.Cua(b)),")(?\x3d[,\\.]*($|\\s))"].join("")),function(e){$APP.C.F(e,0,null);var f=
$APP.C.F(e,1,null);$APP.C.F(e,2,null);$APP.C.F(e,3,null);return[$APP.t.C(f),$APP.t.C(d)].join("")})},LSd=function(a,b,c,d,e){"string"===typeof b&&"string"===typeof c&&"string"===typeof d?(a=KSd(JSd(a,b,c,d),c,d),d=$APP.sh.C($APP.vj($APP.yj(d),/\s+/,"-")),c=(e=$APP.B.A($APP.jx,e))?$APP.EJa(c):[$APP.t.C(c),"::"].join(""),e=e?$APP.EJa($APP.Wg(d)):[$APP.Wg(d),"::"].join(""),c=$APP.Dua(a,c,e)):c=null;return c},MSd=function(a,b,c,d,e){return $APP.Uj(function(f){if($APP.ld(f)&&$APP.Xd(new $APP.Ng(null,new $APP.m(null,
2,["Label",null,"Search",null],null),null),$APP.A(f))&&$APP.Hj($APP.Dc(f),[$APP.t.C(c),"/"].join("")))f=new $APP.O(null,2,5,$APP.Q,[$APP.A(f),$APP.wj($APP.Dc(f),[$APP.t.C(c),"/"].join(""),[$APP.t.C(d),"/"].join(""))],null);else if("string"===typeof f)f=$APP.B.A(f,c)?d:LSd(a,f,c,d,e);else{var g=$APP.sh.C(f);g=$APP.n(g)?$APP.B.A($APP.Wg(f),c):g;f=$APP.n(g)?$APP.sh.C($APP.vj($APP.yj(d),/\s+/,"-")):f}return f},b)},NSd=function(a,b,c){return $APP.ke($APP.ou.C($APP.Pe(new $APP.m(null,1,[$APP.rt,c],null),
$APP.wl.A($APP.Rg([new $APP.m(null,1,[$APP.rt,b],null)]),a))))},OSd=function(a,b,c,d){var e=function(){var h=new $APP.O(null,2,5,$APP.Q,[$APP.Pv,$APP.Oo(c)],null);return $APP.zt.A?$APP.zt.A(a,h):$APP.zt.call(null,a,h)}(),f=function(){var h=new $APP.O(null,2,5,$APP.Q,[$APP.Pv,$APP.Oo(d)],null);return $APP.zt.A?$APP.zt.A(a,h):$APP.zt.call(null,a,h)}(),g=$APP.pw.C(function(){var h=$APP.rt.C(e);return $APP.zt.A?$APP.zt.A(a,h):$APP.zt.call(null,a,h)}());return $APP.wl.A($APP.jb,$APP.rh.A(function(h){h=
$APP.rf(h);var k=$APP.H.A(h,$APP.Qv),p=$APP.H.A(h,$APP.Sv),q=$APP.H.A(h,$APP.yw),r=$APP.H.A(h,$APP.Px),u=function(){var z=LSd(b,p,c,d,r);return $APP.B.A(z,p)?null:z}(),x=function(){var z=MSd(b,q,c,d,r);return $APP.B.A(z,q)?null:z}();return $APP.n($APP.n(u)?u:x)?$APP.Io(new $APP.m(null,5,[$APP.Qv,k,$APP.Sv,u,$APP.yw,x,$APP.zy,$APP.y(x)?$APP.rh.A($APP.A,x):null,$APP.Tv,$APP.Ug($APP.rh.A($APP.rt,NSd($APP.Tv.C(h),$APP.rt.C(e),$APP.rt.C(f))))],null)):null},g))},PSd=function(a,b,c,d,e,f){e=$APP.uKa(e);
return $APP.uKa(f)?(f=$APP.A($APP.rua("/",f)),$APP.n(f)?(qPd(a,b,c,f),a=$APP.v(b),c=new $APP.O(null,2,5,$APP.Q,[$APP.Pv,$APP.Oo(f)],null),a=$APP.zt.A?$APP.zt.A(a,c):$APP.zt.call(null,a,c),d=new $APP.O(null,1,5,$APP.Q,[new $APP.m(null,2,[$APP.rt,$APP.rt.C(d),$APP.Dw,$APP.rt.C(a)],null)],null),$APP.Zv(b,d,new $APP.m(null,1,[$APP.Dy,!0],null))):null):e?$APP.Zv(b,new $APP.O(null,1,5,$APP.Q,[new $APP.O(null,3,5,$APP.Q,[$APP.xt,$APP.rt.C(d),$APP.Dw],null)],null),new $APP.m(null,1,[$APP.Dy,!0],null)):null},
QSd=function(a,b){function c(g){return $APP.vj(g,$APP.t.C(e),$APP.t.C(f))}var d=$APP.pw.C(a),e=$APP.Qv.C(a),f=$APP.Qv.C(b);return $APP.y(d)?$APP.Uf.G(function(g){g=$APP.rf(g);var h=$APP.H.A(g,$APP.OHa),k=$APP.H.A(g,$APP.yw),p=c(h);h=$APP.Lg.A(h,p)?new $APP.m(null,2,[$APP.rt,$APP.rt.C(g),$APP.Sv,p],null):null;p=$APP.Io(jOd(function(q){return $APP.bd(q)&&$APP.Wh($APP.A(q))?$APP.lj.A(function(r){return $APP.B.A(r,e)?f:r},q):$APP.Wh(q)&&$APP.B.A(q,e)?f:$APP.bd(q)&&"string"===typeof $APP.A(q)?$APP.lj.A(c,
q):"string"===typeof q?c(q):q},k));k=$APP.Ln.G($APP.G([h,$APP.Lg.A($APP.y(k),$APP.y(p))?new $APP.m(null,2,[$APP.rt,$APP.rt.C(g),$APP.yw,p],null):null]));return $APP.kk.A(new $APP.O(null,2,5,$APP.Q,[new $APP.O(null,4,5,$APP.Q,[$APP.tt,$APP.rt.C(g),$APP.Tv,$APP.rt.C(b)],null),new $APP.O(null,4,5,$APP.Q,[$APP.xt,$APP.rt.C(g),$APP.Tv,$APP.rt.C(a)],null)],null),$APP.n(k)?new $APP.O(null,1,5,$APP.Q,[k],null):null)},$APP.G([d])):null},USd=function(a,b,c,d,e,f){var g=$APP.rf(f);f=$APP.H.A(g,$APP.gVa);g=$APP.H.A(g,
$APP.z0a);if($APP.n(function(){var J=$APP.lIa($APP.v(b),d);return $APP.n(J)?(J=$APP.lIa($APP.v(b),e),$APP.n(J)?$APP.Lg.A(d,e):J):J}())){var h=$APP.v(b),k=function(){var J=new $APP.O(null,2,5,$APP.Q,[$APP.Pv,e],null);return $APP.zt.A?$APP.zt.A(h,J):$APP.zt.call(null,h,J)}(),p=$APP.rt.C(k),q=function(){var J=new $APP.O(null,2,5,$APP.Q,[$APP.Pv,d],null);return $APP.zt.A?$APP.zt.A(h,J):$APP.zt.call(null,h,J)}(),r=$APP.rt.C(q),u=function(){var J=new $APP.O(null,1,5,$APP.Q,[$APP.Yt],null);J=$APP.hu?$APP.hu(h,
J,r):$APP.iu.call(null,h,J,r);J=null==J?null:$APP.Xx($APP.v(b),J);J=null==J?null:$APP.RMa(J,b);return null==J?null:$APP.ry.C(J)}(),x=$APP.tIa(h,p),z=$APP.Lv(a),D=$APP.xHa($APP.v(b),$APP.iw,r),F=$APP.lj.A($APP.zn,D);D=function(){var J=new $APP.O(null,6,5,$APP.Q,[$APP.rt,$APP.iw,$APP.Tv,$APP.Ox,$APP.cw,$APP.kw],null);return $APP.ju?$APP.ju(h,J,F):$APP.ku.call(null,h,J,F)}();D=$APP.rh.A(function(J){var M=$APP.rt.C(J),P=new $APP.m(null,1,[$APP.rt,p],null);var R=$APP.Tv.C(J);R=$APP.ke($APP.ou.C($APP.Pe(new $APP.m(null,
1,[$APP.rt,p],null),$APP.wl.A($APP.Rg([new $APP.m(null,1,[$APP.rt,r],null)]),R))));P=new $APP.m(null,3,[$APP.rt,M,$APP.iw,P,$APP.Tv,R],null);M=$APP.n($APP.n(u)?$APP.B.A(M,$APP.rt.C(u)):u)?$APP.T.F(P,$APP.cw,new $APP.m(null,1,[$APP.rt,$APP.n(x)?x:p],null)):P;return $APP.B.A($APP.kw.C(J),new $APP.m(null,1,[$APP.rt,r],null))?$APP.T.F(M,$APP.kw,new $APP.m(null,1,[$APP.rt,p],null)):M},D);k=z?QSd(q,k):OSd(h,c,d,e);k=$APP.kk.A(D,k);RSd.mb?RSd.mb(a,b,c,f,g,SSd,!0,TSd,k):RSd.call(null,a,b,c,f,g,SSd,!0,TSd,
k);YOd(a,b,d,function(){return null},$APP.G([new $APP.m(null,1,[$APP.dXa,!0],null)]))}},VSd=function(a,b,c){b=new $APP.O(null,2,5,$APP.Q,[$APP.Pv,b],null);b=$APP.zt.A?$APP.zt.A(a,b):$APP.zt.call(null,a,b);a=$APP.gw.C(b);if($APP.n($APP.n(a)?$APP.nb($APP.rw.C(b)):a)){b=$APP.hw.C(a);var d=$APP.eOa(c);c=$APP.Cj.A(b,"/");var e=$APP.Jc($APP.Cj.A($APP.Jc(c),"."));d=[$APP.t.C(d),".",$APP.t.C(e)].join("");c=$APP.kk.A($APP.Vg(c),new $APP.O(null,1,5,$APP.Q,[d],null));c=$APP.Uo(c);return new $APP.m(null,3,[$APP.XB,
b,$APP.bA,c,$APP.ot,new $APP.O(null,1,5,$APP.Q,[new $APP.m(null,2,[$APP.rt,$APP.rt.C(a),$APP.hw,c],null)],null)],null)}return null},RSd=function(a){for(var b=[],c=arguments.length,d=0;;)if(d<c)b.push(arguments[d]),d+=1;else break;b=5<b.length?new $APP.dc(b.slice(5),0,null):null;return WSd(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],b)},WSd=function(a,b,c,d,e,f){f=$APP.rf(f);var g=$APP.H.A(f,SSd),h=$APP.H.A(f,TSd),k=$APP.v(b),p=$APP.Oo(d),q=$APP.Oo(e),r=$APP.Lv(a);f=function(){var D=
$APP.v(b),F=new $APP.O(null,1,5,$APP.Q,[$APP.Yt],null),J=new $APP.O(null,2,5,$APP.Q,[$APP.Pv,p],null);return $APP.hu?$APP.hu(D,F,J):$APP.iu.call(null,D,F,J)}();if($APP.n($APP.n(a)?f:a)){var u=$APP.Rv.C(f);g=$APP.n(g)?null:new $APP.O(null,1,5,$APP.Q,[new $APP.m(null,4,[$APP.rt,$APP.rt.C(f),$APP.Qv,$APP.Qv.C(f),$APP.Pv,q,$APP.Rv,e],null)],null);q=VSd(k,p,e);q=$APP.rf(q);var x=$APP.H.A(q,$APP.XB),z=$APP.H.A(q,$APP.bA);q=$APP.H.A(q,$APP.ot);h=$APP.kk.G(g,h,$APP.G([r?null:$APP.wl.A($APP.jb,$APP.kk.A(OSd(k,
c,d,e),q))]));$APP.Zv(b,h,new $APP.m(null,2,[$APP.jy,$APP.PRa,$APP.ry,function(){var D=new $APP.m(null,2,[$APP.gVa,d,$APP.z0a,e],null);return $APP.n($APP.n(x)?z:x)?$APP.Ln.G($APP.G([D,new $APP.m(null,2,[$APP.XB,x,$APP.bA,z],null)])):D}()],null));return PSd(a,b,c,f,u,e)}return null},XSd=function(a,b,c,d,e){var f=$APP.JIa($APP.v(b),d,new $APP.m(null,1,[$APP.Cw,$APP.Lv(a)],null)),g=function(){var F=$APP.v(b),J=new $APP.O(null,1,5,$APP.Q,[$APP.Yt],null),M=new $APP.O(null,2,5,$APP.Q,[$APP.Pv,$APP.Oo(d)],
null);return $APP.hu?$APP.hu(F,J,M):$APP.iu.call(null,F,J,M)}();f=$APP.Pe(g,f);f=$APP.y(f);g=null;for(var h=0,k=0;;)if(k<h){var p=g.ia(null,k);p=$APP.rf(p);var q=$APP.H.A(p,$APP.Pv),r=$APP.H.A(p,$APP.Rv),u=function(){var F=r;return $APP.n(F)?F:q}(),x=qOd(u,d,e);$APP.n(function(){var F=u;return $APP.n(F)?x:F}())&&(RSd(a,b,c,u,x),$APP.kz.G($APP.G(["Renamed ",u," to ",x])));k+=1}else if(f=$APP.y(f)){if($APP.nd(f))h=$APP.Qb(f),f=$APP.Rb(f),g=h,h=$APP.vc(h);else{g=$APP.A(f);g=$APP.rf(g);q=$APP.H.A(g,$APP.Pv);
r=$APP.H.A(g,$APP.Rv);var z=function(){var F=r;return $APP.n(F)?F:q}(),D=qOd(z,d,e);$APP.n(function(){var F=z;return $APP.n(F)?D:F}())&&(RSd(a,b,c,z,D),$APP.kz.G($APP.G(["Renamed ",z," to ",D])));f=$APP.jc(f);g=null;h=0}k=0}else break},YSd=function(a,b,c,d,e){var f=$APP.Hv($APP.Oo(d)),g=$APP.So("[[%s/",$APP.G([$APP.Oo(d)]));f=COd($APP.v(b),f);g=COd($APP.v(b),g);if($APP.n(f)){f=$APP.y(f);for(var h=null,k=0,p=0;;)if(p<k){var q=h.ia(null,p);q=$APP.rf(q);var r=$APP.H.A(q,$APP.Pv),u=$APP.H.A(q,$APP.Rv),
x=function(){var S=u;return $APP.n(S)?S:r}(),z=$APP.vj(x,$APP.Hv(d),$APP.Hv(e));$APP.n(function(){var S=x;return $APP.n(S)?z:S}())&&(RSd(a,b,c,x,z),$APP.kz.G($APP.G(["Renamed ",x," to ",z])));p+=1}else if(f=$APP.y(f)){if($APP.nd(f))k=$APP.Qb(f),f=$APP.Rb(f),h=k,k=$APP.vc(k);else{h=$APP.A(f);h=$APP.rf(h);var D=$APP.H.A(h,$APP.Pv),F=$APP.H.A(h,$APP.Rv),J=function(){var S=F;return $APP.n(S)?S:D}(),M=$APP.vj(J,$APP.Hv(d),$APP.Hv(e));$APP.n(function(){var S=J;return $APP.n(S)?M:S}())&&(RSd(a,b,c,J,M),
$APP.kz.G($APP.G(["Renamed ",J," to ",M])));f=$APP.jc(f);h=null;k=0}p=0}else break}if($APP.n(g))for(g=$APP.y(g),f=null,k=h=0;;)if(k<h){p=f.ia(null,k);p=$APP.rf(p);var P=$APP.H.A(p,$APP.Pv),R=$APP.H.A(p,$APP.Rv),W=function(){var S=R;return $APP.n(S)?S:P}(),U=$APP.vj(W,$APP.So("[[%s/",$APP.G([d])),$APP.So("[[%s/",$APP.G([e])));$APP.n(function(){var S=W;return $APP.n(S)?U:S}())&&(RSd(a,b,c,W,U),$APP.kz.G($APP.G(["Renamed ",W," to ",U])));k+=1}else if(g=$APP.y(g)){if($APP.nd(g))h=$APP.Qb(g),g=$APP.Rb(g),
f=h,h=$APP.vc(h);else{f=$APP.A(g);f=$APP.rf(f);P=$APP.H.A(f,$APP.Pv);R=$APP.H.A(f,$APP.Rv);var E=function(){var S=R;return $APP.n(S)?S:P}(),N=$APP.vj(E,$APP.So("[[%s/",$APP.G([d])),$APP.So("[[%s/",$APP.G([e])));$APP.n(function(){var S=E;return $APP.n(S)?N:S}())&&(RSd(a,b,c,E,N),$APP.kz.G($APP.G(["Renamed ",E," to ",N])));g=$APP.jc(g);f=null;h=0}k=0}else return null;else return null},$Sd=function(a){for(var b=[],c=arguments.length,d=0;;)if(d<c)b.push(arguments[d]),d+=1;else break;b=5<b.length?new $APP.dc(b.slice(5),
0,null):null;return ZSd(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],b)},ZSd=function(a,b,c,d,e,f){f=$APP.rf(f);f=$APP.H.F(f,$APP.Dy,!0);var g=$APP.v(b);d=(0,$APP.va)(d);e=(0,$APP.va)(e);var h=$APP.Oo(d),k=function(){var u=new $APP.O(null,2,5,$APP.Q,[$APP.Pv,h],null);return $APP.zt.A?$APP.zt.A(g,u):$APP.zt.call(null,g,u)}(),p=$APP.Oo(e),q=function(){var u=new $APP.O(null,2,5,$APP.Q,[$APP.Pv,p],null);return $APP.zt.A?$APP.zt.A(g,u):$APP.zt.call(null,g,u)}(),r=$APP.Lg.A(d,e);return $APP.Fj(e)?
aTd:$APP.n($APP.n(k)?$APP.n(q)?$APP.Xd($APP.fw.C(k),"whiteboard")||$APP.Xd($APP.fw.C(q),"whiteboard"):q:k)?bTd:$APP.n($APP.n(d)?$APP.n(e)?r:e:d)?($APP.B.A(h,p)?$APP.Zv(b,new $APP.O(null,1,5,$APP.Q,[new $APP.m(null,2,[$APP.rt,$APP.rt.C(k),$APP.Rv,e],null)],null),new $APP.m(null,2,[$APP.Dy,f,$APP.jy,$APP.PRa],null)):$APP.n(function(){var u=$APP.Lg.A(h,p);if(u){u=$APP.v(b);var x=new $APP.O(null,2,5,$APP.Q,[$APP.Pv,p],null);return $APP.zt.A?$APP.zt.A(u,x):$APP.zt.call(null,u,x)}return u}())?USd(a,b,c,
h,p,new $APP.m(null,3,[$APP.gVa,d,$APP.z0a,e,$APP.Dy,f],null)):XSd(a,b,c,d,e),YSd(a,b,c,d,e)):null},eTd=function(){$APP.Cv.G($APP.G([cTd,dTd]));var a=$APP.Ti(1);$APP.Ii(function(){var b=function(){return function(){function d(g){for(;;){a:try{for(;;){var h=1===g[1]?$APP.Ri(g,null):null;if(!$APP.Se(h,$APP.V)){var k=h;break a}}}catch(p){k=p;g[2]=k;if($APP.y(g[4]))g[1]=$APP.A(g[4]);else throw k;k=$APP.V}if(!$APP.Se(k,$APP.V))return k}}function e(){var g=[null,null,null,null,null,null,null];g[0]=f;g[1]=
1;return g}var f=null;f=function(g){switch(arguments.length){case 0:return e.call(this);case 1:return d.call(this,g)}throw Error("Invalid arity: "+arguments.length);};f.I=e;f.C=d;return f}()}(),c=function(){var d=b();d[6]=a;return d}();return $APP.Oi(c)});return a},iTd=function(a,b,c,d){var e=$APP.Ti(1);$APP.Ii(function(){var f=function(){function h(k){var p=k[1];if(62===p){var q=k,r=q;r[2]=null;r[1]=2;return $APP.V}if(7===p){var u=k[7];k[4]=$APP.Pe(10,k[4]);var x=$APP.y(u),z=null,D=0,F=0;k[8]=x;
k[9]=z;k[10]=D;k[11]=F;var J=q=k;J[2]=null;J[1]=11;return $APP.V}if(59===p){var M=k[12],P=jSd.C(M),R=S$.C(M);throw $APP.xl.A(P,R);}if(20===p){var W=k[13],U=$APP.aXa.C(W),E=q=k;E[2]=U;E[1]=21;return $APP.V}if(58===p){M=k[12];var N=N$(k[2]),S=S$.C(N);k[12]=N;q=k;q[1]=$APP.n(S)?59:60;return $APP.V}if(60===p){var X=q=k;X[2]=null;X[1]=61;return $APP.V}if(27===p){var aa=k[14],qa=k[15],ra=k[16],wa=k[17],Fa=[$APP.Cg(qa,[aa,k[2]])],za=$APP.Cg(wa,["update-assets",b,new $APP.O(null,1,5,ra,Fa,null)]),Ga=nSd(a,
za);q=k;return $APP.Pi(q,18,Ga)}if(1===p){var Ka=q=k;Ka[2]=null;Ka[1]=2;return $APP.V}if(24===p){var Va=k[18],Ra=k[2];k[18]=Ra;q=k;q[1]=$APP.n(Ra)?25:26;return $APP.V}if(55===p){var Ja=q=k;Ja[2]=null;Ja[1]=56;return $APP.V}if(39===p){var Pa=k[19],rb=$APP.Qb(Pa),lb=$APP.Rb(Pa),Db=$APP.vc(rb);x=lb;z=rb;D=Db;F=0;k[8]=x;k[9]=z;k[10]=D;k[11]=F;var Tb=q=k;Tb[2]=null;Tb[1]=11;return $APP.V}if(46===p){var ec=k[20],ic=$APP.aXa.C(ec),ac=q=k;ac[2]=ic;ac[1]=47;return $APP.V}if(4===p){var xc=k[21],mc=$APP.rf(xc);
u=$APP.H.A(mc,fTd);aa=$APP.H.A(mc,H$);k[7]=u;k[14]=aa;var Qc=q=k;Qc[2]=null;Qc[1]=7;return $APP.V}if(54===p){var Ec=k[22],Vc=jSd.C(Ec),Lc=S$.C(Ec);throw $APP.xl.A(Vc,Lc);}if(15===p){var yc=k[2],zc=q=k;zc[2]=yc;zc[1]=12;return $APP.V}if(48===p){var Kc=q=k;Kc[2]=null;Kc[1]=50;return $APP.V}if(50===p){var ed=k[23],Rc=k[2];k[23]=Rc;q=k;q[1]=$APP.n(Rc)?51:52;return $APP.V}if(21===p){var Pc=k[24],qd=k[2],sd=null==qd;k[24]=qd;q=k;q[1]=$APP.n(sd)?22:23;return $APP.V}if(31===p){aa=k[14];var rd=$APP.Cg([$APP.IC,
$APP.Zz,$APP.SB],["update-assets",b,new $APP.O(null,1,5,$APP.Q,[aa],null)]),md=nSd(a,rd);q=k;return $APP.Pi(q,32,md)}if(32===p){var kd=k[25],Od=N$(k[2]),Id=S$.C(Od);k[25]=Od;q=k;q[1]=$APP.n(Id)?33:34;return $APP.V}if(40===p){Pa=k[19];var Cd=$APP.A(Pa),Dd=$APP.C.F(Cd,0,null),Ed=$APP.C.F(Cd,1,null);k[26]=Ed;q=k;var fd=Dd instanceof $APP.K?Dd.Z:null;switch(fd){case "update-asset":q[1]=43;break;case "remove-asset":q[1]=57;break;default:throw Error(["No matching clause: ",$APP.t.C(fd)].join(""));}return $APP.V}if(56===
p){var Hd=k[2],ne=q=k;ne[2]=Hd;ne[1]=42;return $APP.V}if(33===p){kd=k[25];var ge=jSd.C(kd),Pf=S$.C(kd);throw $APP.xl.A(ge,Pf);}if(13===p){z=k[9];F=k[11];var vf=$APP.Oc(z,F),qe=$APP.C.F(vf,0,null),$d=$APP.C.F(vf,1,null);k[27]=$d;q=k;var Fd=qe instanceof $APP.K?qe.Z:null;switch(Fd){case "update-asset":q[1]=17;break;case "remove-asset":q[1]=31;break;default:throw Error(["No matching clause: ",$APP.t.C(Fd)].join(""));}return $APP.V}if(22===p){var Ce=q=k;Ce[2]=null;Ce[1]=24;return $APP.V}if(36===p){Pa=
k[19];var Re=$APP.nd(Pa);q=k;q[1]=Re?39:40;return $APP.V}if(41===p){var Ne=k[2],Fe=q=k;Fe[2]=Ne;Fe[1]=38;return $APP.V}if(43===p){aa=k[14];ec=k[20];var Le=$APP.v(d),cf=new $APP.O(null,1,5,$APP.Q,[$APP.Yt],null),$e=new $APP.O(null,2,5,$APP.Q,[$APP.p0a,aa],null),re=$APP.hu?$APP.hu(Le,cf,$e):$APP.iu.call(null,Le,cf,$e),Pd=[$APP.IC,$APP.Zz,$APP.mA],Jd=$APP.Q,Wc=[H$,gTd],hd=null==re;k[20]=re;k[28]=Pd;k[29]=Jd;k[30]=Wc;q=k;q[1]=$APP.n(hd)?45:46;return $APP.V}if(61===p){var Zc=k[2],Md=q=k;Md[2]=Zc;Md[1]=
42;return $APP.V}if(29===p){var ud=q=k;ud[2]=null;ud[1]=30;return $APP.V}if(44===p){Ec=k[22];var Wd=N$(k[2]),Yb=S$.C(Wd);k[22]=Wd;q=k;q[1]=$APP.n(Yb)?54:55;return $APP.V}if(6===p){var Qd=k[2],he=q=k;he[2]=Qd;he[1]=3;return $APP.V}if(28===p){var Ae=k[31],De=jSd.C(Ae),ae=S$.C(Ae);throw $APP.xl.A(De,ae);}if(64===p){var ce=k[2],Nc=q=k;Nc[2]=ce;Nc[1]=6;return $APP.V}if(51===p){ed=k[23];var Fc=q=k;Fc[2]=ed;Fc[1]=53;return $APP.V}if(25===p){Va=k[18];var td=q=k;td[2]=Va;td[1]=27;return $APP.V}if(34===p){var wf=
q=k;wf[2]=null;wf[1]=35;return $APP.V}if(17===p){aa=k[14];W=k[13];var Zd=$APP.v(d),oe=new $APP.O(null,1,5,$APP.Q,[$APP.Yt],null),hf=new $APP.O(null,2,5,$APP.Q,[$APP.p0a,aa],null),Ac=$APP.hu?$APP.hu(Zd,oe,hf):$APP.iu.call(null,Zd,oe,hf);wa=[$APP.IC,$APP.Zz,$APP.mA];ra=$APP.Q;qa=[H$,gTd];var qf=null==Ac;k[13]=Ac;k[17]=wa;k[16]=ra;k[15]=qa;q=k;q[1]=$APP.n(qf)?19:20;return $APP.V}if(3===p){var Qf=k[2];q=k;return $APP.Ri(q,Qf)}if(12===p){aa=k[14];var Bf=k[2],cg=aa,zf=$APP.H.A($APP.v(K$),c),Og=M$.C(zf),
Ef=$APP.rf(Og),Ge=$APP.H.A(Ef,G$),Cf=$APP.H.A(Ef,E$),Ag=C$(Cf,cg);var yh=$APP.Ih.G(K$,$APP.Jl,new $APP.O(null,2,5,$APP.Q,[c,M$],null),$APP.T,$APP.G([E$,$APP.cj.A(Cf,cg),G$,$APP.cj.A(Ge,Ag)]));k[4]=$APP.hc(k[4]);k[32]=Bf;k[33]=yh;var nh=q=k;nh[2]=$APP.V;nh[1]=8;return $APP.V}if(2===p){xc=k[21];var zh=$APP.H.A($APP.v(K$),c),Ah=M$.C(zh),fg=$APP.rf(Ah),kj=$APP.H.A(fg,G$),Eh=$APP.H.A(fg,E$),xh=$APP.A(kj);if($APP.n(xh)){$APP.C.F(xh,0,null);var oh=$APP.C.F(xh,1,null);var dh=new $APP.m(null,2,[H$,oh,fTd,
Eh.C?Eh.C(oh):Eh.call(null,oh)],null)}else dh=null;k[21]=dh;q=k;q[1]=$APP.n(dh)?4:5;return $APP.V}if(23===p){Pc=k[24];var Yh=$APP.Un.C(Pc),Bh=q=k;Bh[2]=Yh;Bh[1]=24;return $APP.V}if(47===p){var yi=k[34],ti=k[2],Bi=null==ti;k[34]=ti;q=k;q[1]=$APP.n(Bi)?48:49;return $APP.V}if(35===p){var mi=k[2],Qg=q=k;Qg[2]=mi;Qg[1]=16;return $APP.V}if(19===p){var Qk=q=k;Qk[2]=null;Qk[1]=21;return $APP.V}if(57===p){aa=k[14];var vk=$APP.Cg([$APP.IC,$APP.Zz,$APP.SB],["update-assets",b,new $APP.O(null,1,5,$APP.Q,[aa],
null)]),Zh=nSd(a,vk);q=k;return $APP.Pi(q,58,Zh)}if(11===p){F=k[11];D=k[10];var Hh=F<D;q=k;q[1]=$APP.n(Hh)?13:14;return $APP.V}if(9===p){var Xc=$APP.Cv.G($APP.G([hTd,k[2]]));k[35]=Xc;var mg=q=k;mg[2]=null;mg[1]=8;return $APP.V}if(5===p){var ph=q=k;ph[2]=null;ph[1]=6;return $APP.V}if(14===p){x=k[8];Pa=k[19];var ni=$APP.y(x);k[19]=ni;q=k;q[1]=ni?36:37;return $APP.V}if(45===p){var $h=q=k;$h[2]=null;$h[1]=47;return $APP.V}if(53===p){aa=k[14];Wc=k[30];Jd=k[29];Pd=k[28];var Sg=[$APP.Cg(Wc,[aa,k[2]])],Nj=
$APP.Cg(Pd,["update-assets",b,new $APP.O(null,1,5,Jd,Sg,null)]),ai=nSd(a,Nj);q=k;return $APP.Pi(q,44,ai)}if(26===p){var jf=q=k;jf[2]="default-name";jf[1]=27;return $APP.V}if(16===p){F=k[11];x=k[8];z=k[9];D=k[10];var Yf=x,Rk=z,dm=D,Ui=F+1;k[36]=k[2];k[8]=Yf;k[9]=Rk;k[10]=dm;k[11]=Ui;var ej=q=k;ej[2]=null;ej[1]=11;return $APP.V}if(38===p){var zd=k[2],Oj=q=k;Oj[2]=zd;Oj[1]=15;return $APP.V}if(30===p){var $k=k[2],vm=q=k;vm[2]=$k;vm[1]=16;return $APP.V}if(10===p){k[4]=$APP.hc(k[4]);q=k;q[5]=q[2];var rq=
q;rq[1]=9;rq[5]=null;return $APP.V}if(18===p){Ae=k[31];var Gj=N$(k[2]),$s=S$.C(Gj);k[31]=Gj;q=k;q[1]=$APP.n($s)?28:29;return $APP.V}if(52===p){var sq=q=k;sq[2]="default-name";sq[1]=53;return $APP.V}if(42===p){Pa=k[19];var on=k[2];x=$APP.jc(Pa);z=null;F=D=0;k[37]=on;k[8]=x;k[9]=z;k[10]=D;k[11]=F;var Td=q=k;Td[2]=null;Td[1]=11;return $APP.V}if(37===p){var lf=q=k;lf[2]=null;lf[1]=38;return $APP.V}if(63===p){var iB=q=k;iB[2]=null;iB[1]=64;return $APP.V}if(8===p){var M9=$APP.B.A($APP.V,k[2]);q=k;q[1]=
M9?62:63;return $APP.V}if(49===p){yi=k[34];var Q4=$APP.Un.C(yi),sx=q=k;sx[2]=Q4;sx[1]=50;return $APP.V}return null}return function(){function k(r){for(;;){a:try{for(;;){var u=h(r);if(!$APP.Se(u,$APP.V)){var x=u;break a}}}catch(z){x=z;r[2]=x;if($APP.y(r[4]))r[1]=$APP.A(r[4]);else throw x;x=$APP.V}if(!$APP.Se(x,$APP.V))return x}}function p(){var r=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,
null,null,null,null,null,null,null];r[0]=q;r[1]=1;return r}var q=null;q=function(r){switch(arguments.length){case 0:return p.call(this);case 1:return k.call(this,r)}throw Error("Invalid arity: "+arguments.length);};q.I=p;q.C=k;return q}()}(),g=function(){var h=f();h[6]=e;return h}();return $APP.Oi(g)});return e},lTd=function(a){var b=$APP.Ti(1);$APP.Ii(function(){var c=function(){return function(){function e(h){for(;;){a:try{for(;;){var k=h,p=k[1];if(1===p){var q=jTd.C(a),r=$APP.v(q),u=kTd.C(a),x=
$APP.v(u),z=P$.C(a),D=$APP.v(z),F=iTd(a,D,r,x);var J=$APP.Pi(k,2,F)}else J=2===p?$APP.Ri(k,k[2]):null;if(!$APP.Se(J,$APP.V)){var M=J;break a}}}catch(P){M=P;h[2]=M;if($APP.y(h[4]))h[1]=$APP.A(h[4]);else throw M;M=$APP.V}if(!$APP.Se(M,$APP.V))return M}}function f(){var h=[null,null,null,null,null,null,null];h[0]=g;h[1]=1;return h}var g=null;g=function(h){switch(arguments.length){case 0:return f.call(this);case 1:return e.call(this,h)}throw Error("Invalid arity: "+arguments.length);};g.I=f;g.C=e;return g}()}(),
d=function(){var e=c();e[6]=b;return e}();return $APP.Oi(d)});return b},mTd=function(a,b){if($APP.n(b))return $APP.Ti(null);var c=$APP.Ti(1);$APP.Ii(function(){var d=function(){return function(){function f(k){for(;;){a:try{for(;;){var p=k,q=p[1];if(1===q){var r=$APP.Mi(2E3);var u=$APP.Pi(p,2,r)}else if(2===q){var x=p[2],z=a,D=$APP.H.A($APP.v(K$),z),F=null==D?null:M$.C(D),J=null==F?null:E$.C(F),M=null==J?null:$APP.Ig(J),P=0<(null==M?null:$APP.vc(M));p[7]=x;u=$APP.Ri(p,P)}else u=null;if(!$APP.Se(u,
$APP.V)){var R=u;break a}}}catch(W){R=W;k[2]=R;if($APP.y(k[4]))k[1]=$APP.A(k[4]);else throw R;R=$APP.V}if(!$APP.Se(R,$APP.V))return R}}function g(){var k=[null,null,null,null,null,null,null,null];k[0]=h;k[1]=1;return k}var h=null;h=function(k){switch(arguments.length){case 0:return g.call(this);case 1:return f.call(this,k)}throw Error("Invalid arity: "+arguments.length);};h.I=g;h.C=f;return h}()}(),e=function(){var f=d();f[6]=c;return f}();return $APP.Oi(e)});return c},oTd=function(a){for(var b=[],
c=arguments.length,d=0;;)if(d<c)b.push(arguments[d]),d+=1;else break;b=4<b.length?new $APP.dc(b.slice(4),0,null):null;return nTd(arguments[0],arguments[1],arguments[2],arguments[3],b)},nTd=function(a,b,c,d,e){e=$APP.rf(e);var f=$APP.H.A(e,pTd),g=$APP.Ti(1);$APP.Ii(function(){var h=function(){function p(q){var r=q[1];if(1===r){var u=q[8],x=q[9],z=q[10];r=jTd.C(a);r=$APP.Kf(r,c);x=P$.C(a);x=$APP.Kf(x,b);var D=kTd.C(a);D=$APP.Kf(D,d);var F=$APP.rf(a),J=$APP.H.A(F,O$),M=qTd.C(a),P=rTd.C(a),R=$APP.Hi(100),
W=$APP.rh.C(mSd);R=$APP.Bka(R,W);W=$APP.Ti(null);var U=sTd.C(a);U=$APP.Kf(U,W);var E=$APP.gj(J,"push-assets-updates",R);q[11]=r;q[12]=x;q[13]=D;q[7]=F;q[9]=J;q[14]=M;q[15]=P;q[10]=R;q[8]=W;q[16]=U;q[17]=E;q[1]=$APP.n(f)?2:3;return $APP.V}if(2===r)return r=$APP.Cg([$APP.IC],["list-graphs"]),r=nSd(a,r),$APP.Pi(q,5,r);if(3===r)return q[2]=null,q[1]=4,$APP.V;if(4===r){x=q[9];M=q[14];P=q[15];z=q[10];u=q[8];r=q[2];var N=$APP.Ti(1);x=$APP.Ii(function(){var S=M,X=P,aa=z,qa=u;return function(){var ra=function(){function Fa(za){var Ga=
za[1];if(7===Ga){var Ka=$APP.rf(za[2]);Ga=$APP.H.A(Ka,tTd);var Va=$APP.H.A(Ka,dTd),Ra=$APP.H.A(Ka,uTd);Ka=$APP.H.A(Ka,$APP.as);za[7]=Va;za[8]=Ra;za[9]=Ka;za[1]=$APP.n(Ga)?26:27;return $APP.V}return 20===Ga?(Ga=$APP.Cg([$APP.as],[!0]),za[2]=Ga,za[1]=22,$APP.V):27===Ga?(Va=za[7],za[1]=$APP.n(Va)?29:30,$APP.V):1===Ga?(Ga=$APP.v(S),Va=mTd(c,$APP.nb(Ga)),za[10]=Va,za[2]=null,za[1]=2,$APP.V):24===Ga?(za[2]=null,za[1]=25,$APP.V):39===Ga?(Ga=vTd.C(a),Ga=$APP.Kf(Ga,$APP.pq),za[2]=Ga,za[1]=41,$APP.V):4===Ga?
(Ka=za[13],Ga=za[2],Va=$APP.C.F(Ga,0,null),Ra=$APP.C.F(Ga,1,null),Ka=$APP.B.A(Ra,Ka),za[11]=Ga,za[14]=Va,za[12]=Ra,za[1]=Ka?5:6,$APP.V):15===Ga?(Ga=$APP.Cg([tTd],[!0]),za[2]=Ga,za[1]=16,$APP.V):21===Ga?(Ga=za[12],Ga=$APP.B.A(Ga,$APP.Zi),za[1]=Ga?23:24,$APP.V):31===Ga?(za[2]=za[2],za[1]=28,$APP.V):32===Ga?(Ga=lTd(a),$APP.Pi(za,35,Ga)):40===Ga?(za[1]=42,$APP.V):33===Ga?(Ka=za[9],za[1]=$APP.n(Ka)?39:40,$APP.V):13===Ga?(za[1]=$APP.n(za[2])?14:15,$APP.V):22===Ga?(za[2]=za[2],za[1]=19,$APP.V):36===Ga?(Ga=
$APP.Cv.G($APP.G([wTd,"quitting loop",za[15]])),za[2]=Ga,za[1]=38,$APP.V):41===Ga?(za[2]=za[2],za[1]=34,$APP.V):43===Ga?(za[2]=null,za[1]=44,$APP.V):29===Ga?(Ga=eTd(),Ga=$APP.Cv.G($APP.G([xTd,Ga])),Va=$APP.v(S),Va=mTd(c,$APP.nb(Va)),za[16]=Ga,za[10]=Va,za[2]=null,za[1]=2,$APP.V):44===Ga?(za[2]=za[2],za[1]=41,$APP.V):6===Ga?(Ga=za[12],Va=za[10],Ga=$APP.B.A(Ga,Va),za[1]=Ga?8:9,$APP.V):28===Ga?(za[2]=za[2],za[1]=3,$APP.V):25===Ga?(za[2]=za[2],za[1]=22,$APP.V):34===Ga?(za[2]=za[2],za[1]=31,$APP.V):17===
Ga?(Ga=za[11],Ga=$APP.C.F(Ga,0,null),Ga=$APP.Cg([dTd],[Ga]),za[2]=Ga,za[1]=19,$APP.V):3===Ga?$APP.Ri(za,za[2]):12===Ga?(za[2]=za[17],za[1]=13,$APP.V):2===Ga?(Va=za[10],Ga=new $APP.O(null,4,5,$APP.Q,[X,Va,aa,qa],null),za[13]=X,za[18]=aa,za[19]=qa,$APP.Pka(za,4,Ga,$APP.G([$APP.Yi,!0]))):23===Ga?(Va=za[14],za[2]=Va,za[1]=25,$APP.V):35===Ga?(Ga=za[2],Va=$APP.uTa.C($APP.bi(Ga)),Va=$APP.B.A($APP.GTa,Va),za[15]=Ga,za[1]=Va?36:37,$APP.V):19===Ga?(za[2]=za[2],za[1]=10,$APP.V):11===Ga?(Ga=za[20],za[2]=!0===
Ga,za[1]=13,$APP.V):9===Ga?(Ga=za[12],Va=za[18],Ga=$APP.B.A(Ga,Va),za[1]=Ga?17:18,$APP.V):5===Ga?(Ga=$APP.Cg([tTd],[!0]),za[2]=Ga,za[1]=7,$APP.V):14===Ga?(Ga=$APP.Cg([uTd],[!0]),za[2]=Ga,za[1]=16,$APP.V):26===Ga?(Ga=$APP.v(S),Va=mTd(c,$APP.nb(Ga)),za[10]=Va,za[2]=null,za[1]=2,$APP.V):16===Ga?(za[2]=za[2],za[1]=10,$APP.V):38===Ga?(za[2]=za[2],za[1]=34,$APP.V):30===Ga?(Ra=za[8],za[1]=$APP.n(Ra)?32:33,$APP.V):10===Ga?(za[2]=za[2],za[1]=7,$APP.V):18===Ga?(Ga=za[12],Va=za[19],Ga=$APP.B.A(Ga,Va),za[1]=
Ga?20:21,$APP.V):42===Ga?(za[2]=null,za[1]=44,$APP.V):37===Ga?(Ga=$APP.v(S),Va=mTd(c,$APP.nb(Ga)),za[10]=Va,za[2]=null,za[1]=2,$APP.V):8===Ga?(Ga=za[11],Ga=$APP.C.F(Ga,0,null),Va=$APP.v(S),za[20]=Ga,za[17]=Va,za[1]=$APP.n(Va)?11:12,$APP.V):null}return function(){function za(Va){for(;;){a:try{for(;;){var Ra=Fa(Va);if(!$APP.Se(Ra,$APP.V)){var Ja=Ra;break a}}}catch(Pa){Ja=Pa;Va[2]=Ja;if($APP.y(Va[4]))Va[1]=$APP.A(Va[4]);else throw Ja;Ja=$APP.V}if(!$APP.Se(Ja,$APP.V))return Ja}}function Ga(){var Va=[null,
null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];Va[0]=Ka;Va[1]=1;return Va}var Ka=null;Ka=function(Va){switch(arguments.length){case 0:return Ga.call(this);case 1:return za.call(this,Va)}throw Error("Invalid arity: "+arguments.length);};Ka.I=Ga;Ka.C=za;return Ka}()}(),wa=function(){var Fa=ra();Fa[6]=N;return Fa}();return $APP.Oi(wa)}}());q[18]=r;q[19]=x;return $APP.Pi(q,6,N)}return 5===r?(r=N$(q[2]),x=$APP.Cv.G($APP.G([yTd,r])),r=$APP.Gi(f),q[20]=
x,q[2]=r,q[1]=4,$APP.V):6===r?(x=q[9],z=q[10],r=q[2],x=$APP.hj(x,"push-assets-update",z),q[21]=r,$APP.Ri(q,x)):null}return function(){function q(x){for(;;){a:try{for(;;){var z=p(x);if(!$APP.Se(z,$APP.V)){var D=z;break a}}}catch(F){D=F;x[2]=D;if($APP.y(x[4]))x[1]=$APP.A(x[4]);else throw D;D=$APP.V}if(!$APP.Se(D,$APP.V))return D}}function r(){var x=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];x[0]=u;x[1]=1;return x}var u=null;u=function(x){switch(arguments.length){case 0:return r.call(this);
case 1:return q.call(this,x)}throw Error("Invalid arity: "+arguments.length);};u.I=r;u.C=q;return u}()}(),k=function(){var p=h();p[6]=g;return p}();return $APP.Oi(k)});return g},zTd=function(a){return $APP.Xd($APP.Ug($APP.fw.C(a)),"whiteboard")},ATd=function(a,b){return $APP.Mh(function(c){c=$APP.rf(c);c=$APP.H.A(c,$APP.WB);c=new $APP.O(null,2,5,$APP.Q,[$APP.Qv,c],null);c=$APP.zt.A?$APP.zt.A(a,c):$APP.zt.call(null,a,c);c=$APP.n(c)?zTd($APP.kw.C(c)):null;return $APP.Ad(c)},b)},ETd=function(a,b,c,d){$APP.Cv.G($APP.G([BTd,
d]));d=ATd($APP.v(b),d);var e=$APP.rf(d);d=$APP.H.A(e,!0);e=$APP.H.A(e,!1);T$.F(CTd,b,$APP.rh.A($APP.WB,d));d=$APP.y(e);e=null;for(var f=0,g=0;;)if(g<f){var h=e.ia(null,g),k=function(){var p=$APP.v(b),q=new $APP.O(null,2,5,$APP.Q,[$APP.Qv,$APP.WB.C(h)],null);return $APP.zt.A?$APP.zt.A(p,q):$APP.zt.call(null,p,q)}();$APP.n(k)&&(T$.na($APP.vA,a,b,c,new $APP.O(null,1,5,$APP.Q,[k],null),new $APP.m(null,1,[$APP.ty,!1],null)),$APP.Cv.G($APP.G([DTd,$APP.WB.C(h)])));g+=1}else if(d=$APP.y(d))e=d,$APP.nd(e)?
(d=$APP.Qb(e),g=$APP.Rb(e),e=d,f=$APP.vc(d),d=g):(h=$APP.A(e),d=function(){var p=$APP.v(b),q=new $APP.O(null,2,5,$APP.Q,[$APP.Qv,$APP.WB.C(h)],null);return $APP.zt.A?$APP.zt.A(p,q):$APP.zt.call(null,p,q)}(),$APP.n(d)&&(T$.na($APP.vA,a,b,c,new $APP.O(null,1,5,$APP.Q,[d],null),new $APP.m(null,1,[$APP.ty,!1],null)),$APP.Cv.G($APP.G([DTd,$APP.WB.C(h)]))),d=$APP.jc(e),e=null,f=0),g=0;else return null},HTd=function(a,b,c,d,e,f,g){if($APP.n(function(){var u=$APP.y(d);return u?e:u}())){var h=$APP.A(d),k=
function(){var u=$APP.v(b),x=new $APP.O(null,2,5,$APP.Q,[$APP.Qv,h],null);return $APP.zt.A?$APP.zt.A(u,x):$APP.zt.call(null,u,x)}(),p=zTd(k),q=p?null:function(){var u=$APP.v(b),x=new $APP.O(null,2,5,$APP.Q,[$APP.Qv,e],null);return $APP.zt.A?$APP.zt.A(u,x):$APP.zt.call(null,u,x)}(),r=new $APP.m(null,1,[$APP.Qv,c],null);p=new $APP.O(null,3,5,$APP.Q,[p,null!=k,null!=q],null);if($APP.B.A(new $APP.O(null,3,5,$APP.Q,[!1,!1,!0],null),p))$APP.n(f)?T$.na($APP.ny,a,b,new $APP.O(null,1,5,$APP.Q,[r],null),q,
!0):T$.na($APP.ky,a,b,new $APP.O(null,1,5,$APP.Q,[new $APP.m(null,3,[$APP.Qv,c,$APP.Sv,"",$APP.Px,$APP.cs],null)],null),q,new $APP.m(null,2,[$APP.gy,!0,$APP.iy,!0],null));else if($APP.B.A(new $APP.O(null,3,5,$APP.Q,[!1,!0,!0],null),p))g=$APP.Lg.A($APP.Qv.C(k),$APP.Qv.C(q)),$APP.n(f)?T$.na($APP.ny,a,b,new $APP.O(null,1,5,$APP.Q,[r],null),q,g):T$.na($APP.ky,a,b,new $APP.O(null,1,5,$APP.Q,[new $APP.m(null,3,[$APP.Qv,c,$APP.Sv,"",$APP.Px,$APP.cs],null)],null),q,new $APP.m(null,2,[$APP.gy,g,$APP.iy,!0],
null));else if($APP.B.A(new $APP.O(null,3,5,$APP.Q,[!1,!0,!1],null),p))$APP.n(f)?T$.na($APP.ny,a,b,new $APP.O(null,1,5,$APP.Q,[r],null),k,!1):T$.na($APP.ky,a,b,new $APP.O(null,1,5,$APP.Q,[new $APP.m(null,3,[$APP.Qv,c,$APP.Sv,"",$APP.Px,$APP.cs],null)],null),k,new $APP.m(null,2,[$APP.gy,!1,$APP.iy,!0],null));else if($APP.B.A(new $APP.O(null,3,5,$APP.Q,[!0,!0,!1],null),p))null==$APP.Ap.C(g)&&($APP.n(f)?T$.na($APP.ny,a,b,new $APP.O(null,1,5,$APP.Q,[r],null),k,!1):T$.na($APP.ky,a,b,new $APP.O(null,1,
5,$APP.Q,[new $APP.m(null,3,[$APP.Qv,c,$APP.Sv,"",$APP.Px,$APP.cs],null)],null),k,new $APP.m(null,2,[$APP.gy,!1,$APP.iy,!0],null)));else if($APP.B.A(new $APP.O(null,3,5,$APP.Q,[!0,!0,!0],null),p))null==$APP.Ap.C(g)&&(g=$APP.Lg.A($APP.Qv.C(k),$APP.Qv.C(q)),$APP.n(f)?T$.na($APP.ny,a,b,new $APP.O(null,1,5,$APP.Q,[r],null),q,g):T$.na($APP.ky,a,b,new $APP.O(null,1,5,$APP.Q,[new $APP.m(null,3,[$APP.Qv,c,$APP.Sv,"",$APP.Px,$APP.cs],null)],null),q,new $APP.m(null,2,[$APP.gy,g,$APP.iy,!0],null)));else throw $APP.xl.A("Don't know where to insert",
new $APP.m(null,3,[$APP.WB,c,FTd,d,GTd,e],null));}},ITd=function(a){var b=$APP.tg.A($APP.pf,$APP.rh.A(function(e){var f=$APP.C.F(e,0,null);e=$APP.C.F(e,1,null);return new $APP.O(null,2,5,$APP.Q,[f,$APP.Ug($APP.Ke.A($APP.Nh.C(e),$APP.TB.C(e)))],null)},a)),c=$APP.Ug($APP.Ig(a)),d=function(){for(var e=$APP.$f,f=c,g=$APP.A(f);;){if($APP.nb(g))return e;var h=b.C?b.C(g):b.call(null,g);h=$APP.A($APP.gs.A(h,f));$APP.n(h)?g=h:(f=$APP.Jx.A(f,g),e=$APP.Ke.A(e,g),g=f,h=$APP.A(f),f=g,g=h)}}();return $APP.lj.A(a,
d)},LTd=function(a,b,c,d){var e=function(){var g=new $APP.O(null,2,5,$APP.Q,[$APP.Qv,b],null);return $APP.zt.A?$APP.zt.A(a,g):$APP.zt.call(null,a,g)}(),f=$APP.A(c);return null==e?JTd:null==$APP.cw.C(e)&&$APP.Lg.A($APP.Qv.C($APP.kw.C(e)),f)?KTd:$APP.n(function(){var g=$APP.cw.C(e);return $APP.n(g)?$APP.Lg.A($APP.Qv.C($APP.kw.C(e)),f)||$APP.Lg.A($APP.Qv.C($APP.cw.C(e)),d):g}())?KTd:null},OTd=function(a,b,c){c=$APP.rf(c);var d=$APP.H.A(c,$APP.Nh);c=$APP.H.A(c,$APP.Ap);var e=$APP.v(b),f=$APP.A(d);d=function(){var k=
new $APP.O(null,2,5,$APP.Q,[$APP.Qv,f],null);return $APP.zt.A?$APP.zt.A(e,k):$APP.zt.call(null,e,k)}();if($APP.n(d)){d=$APP.Pv.C(d);var g=MTd.read(c),h=$APP.lMa(a,e,$APP.cx);c=function(){var k=$APP.id(g);return k?$APP.H.A(g,h):k}();T$.F(NTd,b,new $APP.O(null,1,5,$APP.Q,[$APP.KMa(a,e,c,d)],null))}},QTd=function(a,b,c,d,e){var f=$APP.rf(e),g=$APP.H.A(f,$APP.Nh);e=$APP.H.A(f,$APP.Ap);$APP.H.A(f,$APP.FRa);var h=$APP.gs.A($APP.Ke.A(PTd,$APP.Ex),$APP.Ug($APP.Ig(f)));if($APP.y(h)){var k=$APP.A(g);g=function(){var r=
$APP.v(b),u=new $APP.O(null,2,5,$APP.Q,[$APP.Qv,k],null);return $APP.zt.A?$APP.zt.A(r,u):$APP.zt.call(null,r,u)}();g=zTd(g);if($APP.n(g?e:g))OTd(a,b,f);else{var p=function(){var r=$APP.v(b),u=new $APP.O(null,2,5,$APP.Q,[$APP.Qv,d],null);return $APP.zt.A?$APP.zt.A(r,u):$APP.zt.call(null,r,u)}();e=$APP.rt.C(p);g=function(){var r=$APP.Xd(h,$APP.Ex)&&$APP.Lg.A($APP.Ex.C(f),$APP.Sv.C(p))?$APP.T.F(p,$APP.Sv,$APP.Ex.C(f)):p;r=$APP.Xd(h,$APP.Zw)?$APP.T.F(r,$APP.Mv,$APP.Zw.C(f)):r;r=$APP.Xd(h,$APP.hx)?$APP.T.F(r,
$APP.Nv,$APP.hx.C(f)):r;r=$APP.Xd(h,$APP.Hw)?$APP.T.F(r,$APP.Bw,function(){var u=$APP.y($APP.Hw.C(f));u=null==u?null:$APP.rh.A($APP.xk.A($APP.Fk,$APP.Qv),u);if(null==u)u=null;else{var x=$APP.v(b),z=new $APP.O(null,1,5,$APP.Q,[$APP.rt],null);u=$APP.ju?$APP.ju(x,z,u):$APP.ku.call(null,x,z,u)}return null==u?null:$APP.wk.A($APP.rt,u)}()):r;r=$APP.Xd(h,$APP.yl)?$APP.T.F(r,$APP.fw,$APP.yl.C(f)):r;r=$APP.Xd(h,$APP.Wo)?$APP.T.F(r,$APP.ey,$APP.YLa(MTd,$APP.Wo.C(f))):r;r=$APP.Xd(h,$APP.Zx)?$APP.T.F(r,$APP.Vv,
function(){var u=$APP.y($APP.Zx.C(f));u=null==u?null:$APP.rh.A($APP.xk.A($APP.Fk,$APP.Qv),u);if(null==u)u=null;else{var x=$APP.v(b),z=new $APP.O(null,1,5,$APP.Q,[$APP.rt],null);u=$APP.ju?$APP.ju(x,z,u):$APP.ku.call(null,x,z,u)}return null==u?null:$APP.wk.A($APP.rt,u)}()):r;r=$APP.Xd(h,$APP.Ap)?$APP.T.F(r,$APP.yw,$APP.YLa(MTd,$APP.Ap.C(f))):r;return $APP.Xd(h,$APP.Ix)?$APP.T.F(r,$APP.my,function(){var u=$APP.Ix.C(f);u=null==u?null:new $APP.O(null,2,5,$APP.Q,[$APP.Qv,u],null);if(null==u)u=null;else{var x=
$APP.v(b),z=new $APP.O(null,1,5,$APP.Q,[$APP.rt],null);u=$APP.hu?$APP.hu(x,z,u):$APP.iu.call(null,x,z,u)}return null==u?null:$APP.rt.C(u)}()):r}();var q=$APP.Gh.C($APP.$f);$APP.Xd(h,$APP.Hw)&&$APP.Ih.F(q,$APP.Ke,new $APP.O(null,3,5,$APP.Q,[$APP.xt,e,$APP.Bw],null));$APP.Xd(h,$APP.Zx)&&$APP.Ih.F(q,$APP.Ke,new $APP.O(null,3,5,$APP.Q,[$APP.xt,e,$APP.Vv],null));$APP.y($APP.v(q))&&$APP.Zv(b,$APP.v(q),new $APP.m(null,1,[$APP.Dy,!1],null));T$.ba($APP.UB,a,b,c,g)}}},TTd=function(a,b,c,d){$APP.Cv.G($APP.G([$APP.jC,
a,RTd,d]));for(var e=$APP.y(d),f=null,g=0,h=0;;)if(h<g){d=f.ia(null,h);var k=$APP.rf(d);d=k;var p=$APP.H.A(k,$APP.Nh),q=$APP.H.A(k,$APP.TB);k=$APP.H.A(k,U$);var r=LTd($APP.v(b),k,p,q),u=r;if($APP.B.A(JTd,u))HTd(a,b,k,p,q,!1,d);else if($APP.B.A(KTd,u))HTd(a,b,k,p,q,!0,d);else if(!$APP.B.A(null,u))throw Error(["No matching clause: ",$APP.t.C(u)].join(""));QTd(a,b,c,k,d);$APP.Cv.G($APP.G([STd,k,r,p,q]));h+=1}else if(d=$APP.y(e)){e=d;if($APP.nd(e))p=$APP.Qb(e),q=$APP.Rb(e),d=p,p=$APP.vc(p),e=q,f=d,g=
p;else{d=$APP.A(e);d=f=$APP.rf(d);p=$APP.H.A(f,$APP.Nh);q=$APP.H.A(f,$APP.TB);k=$APP.H.A(f,U$);g=f=LTd($APP.v(b),k,p,q);if($APP.B.A(JTd,g))HTd(a,b,k,p,q,!1,d);else if($APP.B.A(KTd,g))HTd(a,b,k,p,q,!0,d);else if(!$APP.B.A(null,g))throw Error(["No matching clause: ",$APP.t.C(g)].join(""));QTd(a,b,c,k,d);$APP.Cv.G($APP.G([STd,k,f,p,q]));e=$APP.jc(e);f=null;g=0}h=0}else return null},WTd=function(a,b,c,d){$APP.Cv.G($APP.G([UTd,d]));d=$APP.y(d);for(var e=null,f=0,g=0;;)if(g<f){var h=e.ia(null,g),k=$APP.rf(h);
h=k;var p=$APP.H.A(k,$APP.Nh),q=$APP.H.A(k,$APP.TB);k=$APP.H.A(k,U$);if($APP.n(function(){var u=p;return $APP.n(u)?q:u}())){var r=LTd($APP.v(b),k,p,q);switch(r instanceof $APP.K?r.Z:null){case "not-exist":HTd(a,b,k,p,q,!1,h);break;case "wrong-pos":HTd(a,b,k,p,q,!0,h)}}QTd(a,b,c,k,h);$APP.Cv.G($APP.G([VTd,k]));g+=1}else if(d=$APP.y(d)){if($APP.nd(d))e=$APP.Qb(d),d=$APP.Rb(d),h=e,f=$APP.vc(e),e=h;else{h=$APP.A(d);h=e=$APP.rf(h);p=$APP.H.A(e,$APP.Nh);q=$APP.H.A(e,$APP.TB);k=$APP.H.A(e,U$);if($APP.n(function(){var u=
p;return $APP.n(u)?q:u}()))switch(e=LTd($APP.v(b),k,p,q),e instanceof $APP.K?e.Z:null){case "not-exist":HTd(a,b,k,p,q,!1,h);break;case "wrong-pos":HTd(a,b,k,p,q,!0,h)}QTd(a,b,c,k,h);$APP.Cv.G($APP.G([VTd,k]));d=$APP.jc(d);e=null;f=0}g=0}else return null},XTd=function(a,b,c,d){var e=$APP.jw($APP.v(b),c,$APP.pf),f=$APP.A($APP.jw($APP.v(b),d,$APP.pf));if($APP.n(function(){var J=$APP.y(e);return J?f:J}())){d=$APP.uy;var g=v$,h=new $APP.m(null,2,[$APP.Dy,!0,$APP.Az,new $APP.m(null,2,[$APP.jC,a,$APP.UA,
b],null)],null);c=$APP.n(d)?$APP.T.F(h,$APP.AB,!0):h;if($APP.n(d))$APP.n(g)&&$APP.Zf.A(g,c),iPd(a,b,e,f,!1);else{(function(){var J=$APP.pf;return $APP.n($APP.H.F(h,$APP.Dy,!0))?$APP.T.F(J,$APP.Dy,!0):J})();d=$APP.uy;g=v$;var k=$APP.Mb($APP.$f),p=$APP.Mb($APP.$f);$APP.uy=k;v$=p;try{$APP.Zf.A(v$,c);iPd(a,b,e,f,!1);var q=$APP.Ob($APP.uy),r=$APP.Uf.G($APP.ot,$APP.G([q])),u=$APP.A($APP.rh.A($APP.vy,q)),x=$APP.kk.A(r,$APP.AC.C(c)),z=$APP.Ob(v$),D=$APP.Gf.A($APP.Ln,$APP.Me(z)),F=$APP.Ln.G($APP.G([$APP.cj.G(D,
$APP.AC,$APP.G([$APP.BC,$APP.AB])),u]));$APP.y(x)&&($APP.n($APP.AB.C(c))||POd(x,$APP.cj.A(F,$APP.Az),$APP.Az.C(F)))}finally{v$=g,$APP.uy=d}}}},YTd=function(a,b,c,d){for(var e=XPd(a),f=$APP.y(d),g=null,h=0,k=0;;)if(k<h){d=g.ia(null,k);var p=$APP.rf(d);d=p;var q=$APP.H.A(p,U$),r=$APP.H.A(p,$APP.$z),u=$APP.H.A(p,$APP.fC),x=$APP.Rv.C(function(){var M=$APP.v(b),P=new $APP.O(null,2,5,$APP.Q,[$APP.Qv,q],null);return $APP.zt.A?$APP.zt.A(M,P):$APP.zt.call(null,M,P)}()),z=function(){var M=$APP.v(b),P=new $APP.O(null,
2,5,$APP.Q,[$APP.Pv,r],null);return $APP.zt.A?$APP.zt.A(M,P):$APP.zt.call(null,M,P)}();p=new $APP.m(null,3,[$APP.By,!1,$APP.Cy,q,$APP.Dy,!1],null);if($APP.n(function(){var M=z;return $APP.n(M)?$APP.Lg.A($APP.Qv.C(z),q):M}())){var D=$APP.So("%s-%s-CONFLICT",$APP.G([u,$APP.am($APP.Dl())]));ZSd(a,b,e,u,D,$APP.G([new $APP.m(null,1,[$APP.Dy,!1],null)]));$APP.zOa(a,b,e,u,$APP.G([p]));XTd(a,b,D,u)}else $APP.n(function(){var M=x;return $APP.n(M)?$APP.Lg.A(x,u):M}())?ZSd(a,b,e,x,u,$APP.G([new $APP.m(null,
1,[$APP.Dy,!1],null)])):$APP.zOa(a,b,e,u,$APP.G([p]));QTd(a,b,c,q,d);k+=1}else if(d=$APP.y(f)){f=d;if($APP.nd(f))g=$APP.Qb(f),f=$APP.Rb(f),d=g,h=$APP.vc(g),g=d;else{d=$APP.A(f);d=g=$APP.rf(d);q=$APP.H.A(g,U$);r=$APP.H.A(g,$APP.$z);u=$APP.H.A(g,$APP.fC);var F=$APP.Rv.C(function(){var M=$APP.v(b),P=new $APP.O(null,2,5,$APP.Q,[$APP.Qv,q],null);return $APP.zt.A?$APP.zt.A(M,P):$APP.zt.call(null,M,P)}()),J=function(){var M=$APP.v(b),P=new $APP.O(null,2,5,$APP.Q,[$APP.Pv,r],null);return $APP.zt.A?$APP.zt.A(M,
P):$APP.zt.call(null,M,P)}();g=new $APP.m(null,3,[$APP.By,!1,$APP.Cy,q,$APP.Dy,!1],null);$APP.n(function(){var M=J;return $APP.n(M)?$APP.Lg.A($APP.Qv.C(J),q):M}())?(h=$APP.So("%s-%s-CONFLICT",$APP.G([u,$APP.am($APP.Dl())])),ZSd(a,b,e,u,h,$APP.G([new $APP.m(null,1,[$APP.Dy,!1],null)])),$APP.zOa(a,b,e,u,$APP.G([g])),XTd(a,b,h,u)):$APP.n(function(){var M=F;return $APP.n(M)?$APP.Lg.A(F,u):M}())?ZSd(a,b,e,F,u,$APP.G([new $APP.m(null,1,[$APP.Dy,!1],null)])):$APP.zOa(a,b,e,u,$APP.G([g]));QTd(a,b,c,q,d);
f=$APP.jc(f);g=null;h=0}k=0}else return null},ZTd=function(a,b,c){c=$APP.y(c);for(var d=null,e=0,f=0;;)if(f<e){var g=d.ia(null,f),h=$APP.Pv.C(function(){var k=$APP.v(b),p=new $APP.O(null,2,5,$APP.Q,[$APP.Qv,$APP.WB.C(g)],null);return $APP.zt.A?$APP.zt.A(k,p):$APP.zt.call(null,k,p)}());$APP.n(h)&&YOd(a,b,h,null,$APP.G([new $APP.m(null,1,[$APP.Dy,!1],null)]));f+=1}else if(c=$APP.y(c))d=c,$APP.nd(d)?(c=$APP.Qb(d),f=$APP.Rb(d),d=c,e=$APP.vc(c),c=f):(g=$APP.A(d),c=$APP.Pv.C(function(){var k=$APP.v(b),
p=new $APP.O(null,2,5,$APP.Q,[$APP.Qv,$APP.WB.C(g)],null);return $APP.zt.A?$APP.zt.A(k,p):$APP.zt.call(null,k,p)}()),$APP.n(c)&&YOd(a,b,c,null,$APP.G([new $APP.m(null,1,[$APP.Dy,!1],null)])),c=$APP.jc(d),d=null,e=0),f=0;else return null},aUd=function(a,b){return $APP.ie.F(function(c,d){switch($APP.A(d)){case "move":var e=$APP.WB.C($APP.Dc(d));d=$APP.H.A(c,e);var f=$APP.sC.C(d);switch(f instanceof $APP.K?f.Z:null){case "remove":return $APP.cj.A(c,$APP.WB.C(d));case "move":return $APP.cj.A(c,U$.C(d));
default:return c}case "update":e=$APP.WB.C($APP.Dc(d));f=$APP.Ug($APP.Ig(SRd.C($APP.Dc(d))));d=$APP.H.A(c,e);if($APP.n(d)){var g=$APP.T.F;var h=$APP.sC.C(d);var k=new $APP.Ng(null,new $APP.m(null,2,[$APP.hA,null,$Td,null],null),null);h=k.C?k.C(h):k.call(null,h);return g.call($APP.T,c,e,$APP.n(h)?$APP.Gf.F($APP.cj,d,f):d)}return c;default:return c}},a,b)},kUd=function(a,b,c,d){var e=$APP.Ti(1);$APP.Ii(function(){var f=function(){function h(k){var p=k[1];if(7===p)return $APP.Ri(k,k[2]);if(20===p){p=
k[7];var q=k[8];p=aUd(p,q);k[2]=p;k[1]=22;return $APP.V}if(27===p)return p=k[9],p=ETd(a,b,c,p),k[2]=p,k[1]=28,$APP.V;if(1===p){var r=k[10];p=k[11];r=$APP.Vz.C(d);p=bUd.C(d);q=$Qd(a);var u=0<r;k[10]=r;k[12]=p;k[13]=q;k[11]=u;k[1]=$APP.n(u)?2:3;return $APP.V}if(24===p)return q=k[14],p=YTd(a,b,c,q),k[2]=p,k[1]=25,$APP.V;if(39===p)return k[2]=null,k[1]=40,$APP.V;if(4===p)return k[1]=$APP.nb(k[2])?5:6,$APP.V;if(15===p)return r=k[15],k[2]=r,k[1]=16,$APP.V;if(21===p)return p=k[7],k[2]=p,k[1]=22,$APP.V;if(31===
p)return k[16]=k[2],k[1]=$APP.n(!1)?32:33,$APP.V;if(32===p){var x=k[17];p=console.time(VTd);q=WTd(a,b,c,x);r=console.timeEnd(VTd);k[18]=p;k[19]=r;k[2]=q;k[1]=34;return $APP.V}if(40===p)return k[2]=k[2],k[1]=19,$APP.V;if(33===p)return x=k[17],p=WTd(a,b,c,x),k[2]=p,k[1]=34,$APP.V;if(13===p)return k[2]=k[2],k[1]=10,$APP.V;if(22===p)return r=k[10],p=k[12],q=k[13],p=k[7],q=k[8],p=$APP.Mh(function(){return function(z){$APP.C.F(z,0,null);z=$APP.C.F(z,1,null);return $APP.H.A(z,$APP.sC)}}(),k[2]),q=$APP.xk.A($APP.tg,
$APP.ug),p=$APP.uja(p,q),r=$APP.rf(p),p=$APP.H.A(r,$APP.lA),u=$APP.H.A(r,$APP.hA),x=$APP.H.A(r,$Td),q=$APP.H.A(r,J$),r=$APP.H.A(r,I$),p=$APP.Kg(p),u=ITd(u),x=$APP.Kg(x),q=$APP.Kg(q),r=$APP.Kg(r),k[9]=p,k[20]=u,k[17]=x,k[14]=q,k[21]=r,k[1]=$APP.n(!1)?23:24,$APP.V;if(36===p)return r=k[21],p=ZTd(a,b,r),k[2]=p,k[1]=37,$APP.V;if(29===p)return u=k[20],p=console.time(STd),q=TTd(a,b,c,u),r=console.timeEnd(STd),k[22]=p,k[23]=r,k[2]=q,k[1]=31,$APP.V;if(6===p)return r=k[10],q=k[13],k[1]=$APP.n(r<=q)?8:9,$APP.V;
if(28===p)return k[24]=k[2],k[1]=$APP.n(!1)?29:30,$APP.V;if(25===p)return k[25]=k[2],k[1]=$APP.n(!1)?26:27,$APP.V;if(34===p)return k[26]=k[2],k[1]=$APP.n(!1)?35:36,$APP.V;if(17===p)return q=k[8],p=cUd.C(d),q=YQd(a),k[7]=p,k[8]=q,k[1]=$APP.n(q)?20:21,$APP.V;if(3===p)return p=k[11],k[2]=p,k[1]=4,$APP.V;if(12===p)return p=k[12],q=k[13],r=k[15],p=p<=q,k[15]=p,k[1]=$APP.n(p)?14:15,$APP.V;if(2===p)return p=k[12],k[2]=0<p,k[1]=4,$APP.V;if(23===p)return q=k[14],p=console.time(dUd),q=YTd(a,b,c,q),r=console.timeEnd(dUd),
k[27]=p,k[28]=r,k[2]=q,k[1]=25,$APP.V;if(35===p)return r=k[21],p=console.time(eUd),q=ZTd(a,b,r),r=console.timeEnd(eUd),k[29]=p,k[30]=r,k[2]=q,k[1]=37,$APP.V;if(19===p)return k[2]=k[2],k[1]=13,$APP.V;if(11===p)return r=k[10],p=k[12],q=k[13],p=$APP.Cv.G($APP.G([fUd,gUd,r,hUd,p,iUd,q])),k[31]=p,k[2]=fUd,k[1]=13,$APP.V;if(9===p)return q=k[13],p=k[12],k[1]=$APP.n(q<p)?11:12,$APP.V;if(5===p)throw k=$APP.Cg([$APP.ry],[d]),$APP.xl.A("invalid remote-data",k);if(14===p)return q=k[13],r=k[10],k[2]=q<=r,k[1]=
16,$APP.V;if(26===p)return p=k[9],q=console.time(DTd),p=ETd(a,b,c,p),r=console.timeEnd(DTd),k[32]=q,k[33]=r,k[2]=p,k[1]=28,$APP.V;if(16===p)return k[1]=$APP.n(k[2])?17:18,$APP.V;if(38===p)throw r=k[10],p=k[12],q=k[13],k=$APP.Cg([gUd,hUd,iUd],[r,p,q]),$APP.xl.A("unreachable",k);return 30===p?(u=k[20],p=TTd(a,b,c,u),k[2]=p,k[1]=31,$APP.V):10===p?(k[2]=k[2],k[1]=7,$APP.V):18===p?(k[1]=38,$APP.V):37===p?(r=k[10],p=k[2],q=VQd(a,r),k[34]=p,k[2]=q,k[1]=19,$APP.V):8===p?(r=k[10],p=k[12],q=k[13],p=$APP.Cv.G($APP.G([jUd,
gUd,r,gUd,p,iUd,q])),k[2]=p,k[1]=10,$APP.V):null}return function(){function k(r){for(;;){a:try{for(;;){var u=h(r);if(!$APP.Se(u,$APP.V)){var x=u;break a}}}catch(z){x=z;r[2]=x;if($APP.y(r[4]))r[1]=$APP.A(r[4]);else throw x;x=$APP.V}if(!$APP.Se(x,$APP.V))return x}}function p(){var r=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];r[0]=q;r[1]=1;return r}var q=null;q=function(r){switch(arguments.length){case 0:return p.call(this);
case 1:return k.call(this,r)}throw Error("Invalid arity: "+arguments.length);};q.I=p;q.C=k;return q}()}(),g=function(){var h=f();h[6]=e;return h}();return $APP.Oi(g)});return e},lUd=function(a,b,c,d){$APP.Cv.G($APP.G([dTd,d]));var e=$APP.Ti(1);$APP.Ii(function(){var f=function(){function h(k){var p=k[1];if(1===p)return p=kUd(a,b,c,d),$APP.Pi(k,2,p);if(2===p){p=k[2];var q=$APP.B.A(p,fUd);k[7]=p;k[1]=q?3:4;return $APP.V}return 3===p?(p=k[7],k[2]=p,k[1]=5,$APP.V):4===p?(k[2]=null,k[1]=5,$APP.V):5===
p?$APP.Ri(k,k[2]):null}return function(){function k(r){for(;;){a:try{for(;;){var u=h(r);if(!$APP.Se(u,$APP.V)){var x=u;break a}}}catch(z){x=z;r[2]=x;if($APP.y(r[4]))r[1]=$APP.A(r[4]);else throw x;x=$APP.V}if(!$APP.Se(x,$APP.V))return x}}function p(){var r=[null,null,null,null,null,null,null,null];r[0]=q;r[1]=1;return r}var q=null;q=function(r){switch(arguments.length){case 0:return p.call(this);case 1:return k.call(this,r)}throw Error("Invalid arity: "+arguments.length);};q.I=p;q.C=k;return q}()}(),
g=function(){var h=f();h[6]=e;return h}();return $APP.Oi(g)});return e},mUd=function(a,b){b=$APP.rf(b);var c=$APP.H.A(b,$APP.mB);b=$APP.H.A(b,B$);var d=$APP.wk.A($APP.Qv,function(){var f=$APP.v(a),g=new $APP.O(null,1,5,$APP.Q,[$APP.Qv],null),h=$APP.rh.A(function(k){return new $APP.O(null,2,5,$APP.Q,[$APP.Qv,k],null)},c);return $APP.ju?$APP.ju(f,g,h):$APP.ku.call(null,f,g,h)}()),e=$APP.pf;d=$APP.y(d)?$APP.T.F(e,$APP.mB,d):e;return $APP.y(b)?$APP.T.F(d,B$,b):d},wUd=function(a,b,c){var d=$APP.Gh.C($APP.Pg),
e=$APP.Gh.C($APP.$f),f=$APP.rf(c);c=$APP.H.A(f,$APP.hA);var g=$APP.H.A(f,$APP.lA),h=$APP.H.A(f,$APP.DA),k=$APP.H.A(f,J$);f=$APP.H.A(f,I$);var p=$APP.Df($APP.cl.A($APP.WB,$APP.Dc),new $APP.O(null,3,5,$APP.Q,[c,h,k],null));if($APP.n(p)){var q=function(){var x=$APP.v(b),z=new $APP.O(null,2,5,$APP.Q,[$APP.Qv,p],null);return $APP.zt.A?$APP.zt.A(x,z):$APP.zt.call(null,x,z)}();if($APP.n(q)){var r=function(){var x=null==q?null:$APP.cw.C(q);return null==x?null:$APP.Qv.C(x)}(),u=function(){var x=null==q?null:
$APP.kw.C(q);return null==x?null:$APP.Qv.C(x)}();$APP.n(u)&&$APP.n(c)&&V$.qb($APP.MUa,nUd,u,oUd,r,$APP.WB,p,W$,e,pUd,d);$APP.n(h)&&V$.rb(qUd,$APP.jC,a,$APP.UA,b,$APP.Vm,q,qUd,h,nUd,u,oUd,r,W$,e);$APP.n(k)&&V$.mb(rUd,$APP.jC,a,$APP.UA,b,$APP.WB,p,W$,e)}}$APP.n(g)&&V$.mb(sUd,$APP.jC,a,$APP.UA,b,sUd,g,W$,e);$APP.n(f)&&V$.mb(tUd,$APP.jC,a,$APP.UA,b,tUd,f,W$,e);return new $APP.m(null,2,[uUd,$APP.v(e),vUd,$APP.v(d)],null)},xUd=function(a){for(var b=[],c=arguments.length,d=0;;)if(d<c)b.push(arguments[d]),
d+=1;else break;d=2<b.length?new $APP.dc(b.slice(2),0,null):null;a:{b=arguments[0];c=arguments[1];d=$APP.rf(d);d=$APP.H.F(d,$APP.An,50);for(var e=null,f=null,g=null,h=$APP.pf;;){if($APP.ad(e)&&$APP.ad(g)&&$APP.vc(h)>=d){b=h;break a}if($APP.ad(e)&&$APP.ad(g))if(f=b,f=$APP.H.A($APP.v(K$),f),f=M$.C(f),f=$APP.rf(f),e=$APP.H.A(f,F$),f=$APP.H.A(f,D$),e=$APP.A(e),$APP.n(e)?($APP.C.F(e,0,null),e=$APP.C.F(e,1,null),f=new $APP.m(null,2,[$APP.WB,e,fTd,f.C?f.C(e):f.call(null,e)],null)):f=null,$APP.n(f))f=$APP.rf(f),
e=$APP.H.A(f,fTd),f=$APP.H.A(f,$APP.WB),bRd(b,f);else{b=h;break a}else if($APP.ad(e)&&$APP.y(g)){f=$APP.y(g);g=$APP.A(f);e=$APP.jc(f);f=g;g=e;var k=b;e=f;k=$APP.H.A($APP.v(K$),k);k=M$.C(k);k=$APP.rf(k);k=$APP.H.A(k,D$);e=k.C?k.C(e):k.call(null,e);bRd(b,f)}else if($APP.y(e)){e=wUd(b,c,e);k=$APP.rf(e);e=$APP.H.A(k,uUd);var p=$APP.H.A(k,vUd);k=$APP.hv;var q=k.A;g=$APP.Ug(g);var r=b;r=$APP.H.A($APP.v(K$),r);r=null==r?null:M$.C(r);r=null==r?null:D$.C(r);r=null==r?null:$APP.Ig(r);r=null==r?null:$APP.Ug(r);
p=null==r?null:$APP.gs.A($APP.Ug(p),r);g=q.call(k,g,p);h=$APP.T.F(h,f,$APP.tg.A($APP.pf,e));f=e=null}else{b=null;break a}}}return b},zUd=function(a){var b=$APP.tg.F($APP.pf,$APP.wk.C(function(k){var p=$APP.C.F(k,0,null);k=$APP.C.F(k,1,null);k=$APP.H.A(k,$APP.hA);return $APP.n(k)?new $APP.O(null,2,5,$APP.Q,[p,yUd.C(k)],null):null}),a),c=$APP.Ug($APP.Ig(b)),d=function(){for(var k=$APP.$f,p=c,q=$APP.A(p);;){if($APP.nb(q))return k;var r=b.C?b.C(q):b.call(null,q);r=$APP.H.A(p,r);$APP.n(r)?q=r:(p=$APP.Jx.A(p,
q),k=$APP.Ke.A(k,q),q=p,r=$APP.A(p),p=q,q=r)}}();d=$APP.wk.A(function(k){k=$APP.wt.A(a,new $APP.O(null,2,5,$APP.Q,[k,$APP.hA],null));return null==k?null:new $APP.O(null,2,5,$APP.Q,[$APP.hA,k],null)},d);var e=$APP.wk.A(function(k){$APP.C.F(k,0,null);k=$APP.C.F(k,1,null);k=$APP.lA.C(k);return null==k?null:new $APP.O(null,2,5,$APP.Q,[$APP.lA,k],null)},a),f=$APP.wk.A(function(k){$APP.C.F(k,0,null);k=$APP.C.F(k,1,null);k=$APP.DA.C(k);return null==k?null:new $APP.O(null,2,5,$APP.Q,[$APP.DA,k],null)},a),
g=$APP.wk.A(function(k){$APP.C.F(k,0,null);k=$APP.C.F(k,1,null);k=J$.C(k);return null==k?null:new $APP.O(null,2,5,$APP.Q,[J$,k],null)},a),h=$APP.wk.A(function(k){$APP.C.F(k,0,null);k=$APP.C.F(k,1,null);k=I$.C(k);return null==k?null:new $APP.O(null,2,5,$APP.Q,[I$,k],null)},a);return $APP.kk.G(g,e,$APP.G([d,f,h]))},HUd=function(a){var b=$APP.Ti(1);$APP.Ii(function(){var c=function(){function e(f){var g=f[1];if(7===g)return f[2]=f[7],f[1]=9,$APP.V;if(1===g){g=jTd.C(a);g=$APP.v(g);var h=kTd.C(a);h=$APP.v(h);
var k=AUd.C(a);k=$APP.v(k);var p=$APP.H.A($APP.v(K$),g);p=$APP.rf(p);p=$APP.H.A(p,M$);p=$APP.Ih.K(K$,$APP.Vr,new $APP.O(null,2,5,$APP.Q,[g,L$],null),p);f[8]=g;f[9]=h;f[10]=k;f[11]=p;f[2]=null;f[1]=2;return $APP.V}if(4===g)return g=f[8],h=$APP.Cv.G($APP.G([BUd,f[2]])),g=XQd(g),f[12]=h,f[13]=g,f[2]=null,f[1]=3,$APP.V;if(15===g)return g=f[8],h=$APP.Cv.G($APP.G([CUd])),g=XQd(g),f[14]=h,f[15]=g,f[2]=null,f[1]=13,$APP.V;if(13===g)return f[2]=f[2],f[1]=12,$APP.V;if(6===g)return g=N$(f[2]),h=S$.C(g),f[16]=
g,f[17]=h,f[1]=$APP.n(h)?10:11,$APP.V;if(17===g)throw g=f[8],h=f[17],XQd(g),f=$APP.Cg([DUd],[h]),$APP.xl.A("Unavailable",f);if(3===g)return $APP.Ri(f,f[2]);if(12===g)return g=f[2],f[4]=$APP.hc(f[4]),f[2]=g,f[1]=3,$APP.V;if(2===g)return g=f[8],h=f[9],f[4]=$APP.Pe(5,f[4]),h=xUd(g,h),h=zUd(h),g=$Qd(g),k=[$APP.IC,$APP.Zz,fTd,bUd],p=P$.C(a),p=$APP.v(p),f[19]=h,f[7]=g,f[20]=k,f[21]=p,f[1]=$APP.n(g)?7:8,$APP.V;if(11===g){g=f[8];h=f[9];k=f[10];p=f[16];var q=$APP.Ih.G(K$,$APP.Wr,g,$APP.cj,$APP.G([L$]));g=
kUd(g,h,k,p);f[22]=q;return $APP.Pi(f,18,g)}if(9===g)return p=f[21],h=f[19],k=f[20],g=$APP.Cg(k,["apply-ops",p,h,f[2]]),g=nSd(a,g),$APP.Pi(f,6,g);if(5===g)return f[4]=$APP.hc(f[4]),f[5]=f[2],f[1]=4,f[5]=null,$APP.V;if(14===g)return g=f[8],h=$APP.Cv.G($APP.G([EUd])),g=XQd(g),f[23]=h,f[24]=g,f[2]=null,f[1]=13,$APP.V;if(16===g)return p=f[16],g=f[8],h=$APP.Cv.G($APP.G([FUd,p])),g=XQd(g),f[25]=h,f[26]=g,f[2]=null,f[1]=13,$APP.V;if(10===g){h=f[17];g=$APP.yl.C(h);switch(g instanceof $APP.K?g.Z:null){case "graph-lock-failed":f[1]=
14;break;case "graph-lock-missing":f[1]=15;break;case "get-s3-object-failed":f[1]=16;break;default:f[1]=17}return $APP.V}return 18===g?(p=f[16],g=f[2],h=$APP.Vz.C(p),h=$APP.Cv.G($APP.G([GUd,$APP.Vz,h])),f[27]=g,f[2]=h,f[1]=12,$APP.V):8===g?(f[2]=1,f[1]=9,$APP.V):null}return function(){function f(k){for(;;){a:try{for(;;){var p=e(k);if(!$APP.Se(p,$APP.V)){var q=p;break a}}}catch(r){q=r;k[2]=q;if($APP.y(k[4]))k[1]=$APP.A(k[4]);else throw q;q=$APP.V}if(!$APP.Se(q,$APP.V))return q}}function g(){var k=
[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];k[0]=h;k[1]=1;return k}var h=null;h=function(k){switch(arguments.length){case 0:return g.call(this);case 1:return f.call(this,k)}throw Error("Invalid arity: "+arguments.length);};h.I=g;h.C=f;return h}()}(),d=function(){var e=c();e[6]=b;return e}();return $APP.Oi(d)});return b},IUd=function(a,b){if($APP.n(b))return $APP.Ti(null);var c=$APP.Ti(1);$APP.Ii(function(){var d=
function(){return function(){function f(k){for(;;){a:try{for(;;){var p=k,q=p[1];if(1===q){var r=$APP.Mi(2E3);var u=$APP.Pi(p,2,r)}else if(2===q){var x=p[2],z=0<aRd(a);p[7]=x;u=$APP.Ri(p,z)}else u=null;if(!$APP.Se(u,$APP.V)){var D=u;break a}}}catch(F){D=F;k[2]=D;if($APP.y(k[4]))k[1]=$APP.A(k[4]);else throw D;D=$APP.V}if(!$APP.Se(D,$APP.V))return D}}function g(){var k=[null,null,null,null,null,null,null,null];k[0]=h;k[1]=1;return k}var h=null;h=function(k){switch(arguments.length){case 0:return g.call(this);
case 1:return f.call(this,k)}throw Error("Invalid arity: "+arguments.length);};h.I=g;h.C=f;return h}()}(),e=function(){var f=d();f[6]=c;return f}();return $APP.Oi(e)});return c},KUd=function(a){for(var b=[],c=arguments.length,d=0;;)if(d<c)b.push(arguments[d]),d+=1;else break;b=5<b.length?new $APP.dc(b.slice(5),0,null):null;return JUd(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],b)},JUd=function(a,b,c,d,e,f){f=$APP.rf(f);var g=$APP.H.A(f,pTd);$APP.H.A(f,$APP.El);var h=$APP.Ti(1);
$APP.Ii(function(){var k=function(){function q(r){var u=r[1];if(7===u){var x=r[7];r[8]=r[2];return $APP.Pi(r,8,x)}if(1===u){var z=r[10];u=jTd.C(a);u=$APP.Kf(u,c);x=kTd.C(a);x=$APP.Kf(x,d);var D=AUd.C(a),F=$APP.Kf(D,e);D=LUd.C(a);var J=$APP.Kf(D,$APP.zB),M=$APP.Ih.K(X$,$APP.Wr,$APP.oTa,$APP.pc),P=$APP.rf(a);D=$APP.H.A(P,O$);var R=$APP.H.A(P,MUd),W=$APP.Hi(100),U=$APP.rh.C(mSd),E=$APP.Bka(W,U);W=$APP.Ti(null);var N=NUd.C(a),S=OUd.C(a),X=PUd.C(a);U=QUd.C(a);U=$APP.Kf(U,W);var aa=gSd(a);r[11]=u;r[12]=
x;r[13]=F;r[14]=J;r[15]=M;r[9]=P;r[16]=D;r[17]=R;r[18]=E;r[10]=W;r[19]=N;r[20]=S;r[21]=X;r[22]=U;return $APP.Pi(r,2,aa)}if(4===u)return D=r[16],E=r[18],u=r[2],x=$APP.gj(D,"push-updates",E),r[23]=u,r[24]=x,r[1]=$APP.n(g)?9:10,$APP.V;if(6===u)throw r[4]=$APP.hc(r[4]),u=r,x=u[2],u[5]=x,x;if(3===u)return D=r[25],r[4]=$APP.Pe(5,r[4]),r[4]=$APP.Pe(6,r[4]),u=$APP.Cg([$APP.IC,Q$,$APP.Zz],["register-graph-updates",D,b]),u=R$(a,u),$APP.Pi(r,7,u);if(12===u)return D=r[16],E=r[18],u=r[2],x=$APP.hj(D,"push-updates",
E),r[26]=u,$APP.Ri(r,x);if(2===u)return F=r[27],D=r[25],x=r[7],u=r[2],x=P$.C(a),x=$APP.Kf(x,b),D=$APP.Vh(),D=$APP.t.C(D),F=O$.C(a),J=$APP.Ti(1),M=$APP.gj(F,D,J),r[28]=u,r[29]=x,r[25]=D,r[27]=F,r[7]=J,r[30]=M,u=r,u[2]=null,u[1]=3,$APP.V;if(11===u){S=r[20];N=r[19];R=r[17];X=r[21];E=r[18];z=r[10];D=r[16];u=r[2];var qa=$APP.Ti(1);x=$APP.Ii(function(){var ra=S,wa=N,Fa=X,za=E,Ga=z;return function(){var Ka=function(){function Ra(Ja){var Pa=Ja[1];if(7===Pa){var rb=$APP.rf(Ja[2]);Pa=$APP.H.A(rb,dTd);var lb=
$APP.H.A(rb,RUd),Db=$APP.H.A(rb,$APP.as);rb=$APP.H.A(rb,tTd);Ja[7]=Pa;Ja[8]=lb;Ja[9]=Db;Ja[1]=$APP.n(rb)?29:30;return $APP.V}return 20===Pa?(Pa=Ja[10],Pa=$APP.C.F(Pa,0,null),Pa=$APP.Cg([dTd],[Pa]),Ja[2]=Pa,Ja[1]=22,$APP.V):27===Pa?(Ja[2]=null,Ja[1]=28,$APP.V):1===Pa?(Pa=$APP.v(wa),Pa=IUd(c,$APP.nb(Pa)),Ja[11]=Pa,Ja[2]=null,Ja[1]=2,$APP.V):24===Pa?(lb=Ja[12],Pa=$APP.B.A(lb,$APP.Zi),Ja[1]=Pa?26:27,$APP.V):39===Pa?(Pa=HUd(a),$APP.Pi(Ja,42,Pa)):46===Pa?(Ja[2]=null,Ja[1]=48,$APP.V):4===Pa?(rb=Ja[13],Pa=
Ja[2],lb=$APP.C.F(Pa,0,null),Db=$APP.C.F(Pa,1,null),rb=$APP.B.A(Db,rb),Ja[10]=Pa,Ja[14]=lb,Ja[12]=Db,Ja[1]=rb?5:6,$APP.V):15===Pa?(Ja[2]=Ja[15],Ja[1]=16,$APP.V):48===Pa?(Ja[2]=Ja[2],Ja[1]=45,$APP.V):21===Pa?(lb=Ja[12],Pa=$APP.B.A(lb,Ja[16]),Ja[1]=Pa?23:24,$APP.V):31===Pa?(Ja[2]=Ja[2],Ja[1]=3,$APP.V):32===Pa?(Pa=Ja[7],Pa=lUd(c,d,e,Pa),$APP.Pi(Ja,35,Pa)):40===Pa?(Db=Ja[9],Ja[1]=$APP.n(Db)?43:44,$APP.V):33===Pa?(lb=Ja[8],Ja[1]=$APP.n(lb)?39:40,$APP.V):13===Pa?(Ja[2]=Ja[2],Ja[1]=10,$APP.V):22===Pa?(Ja[2]=
Ja[2],Ja[1]=13,$APP.V):36===Pa?(Pa=$APP.Vi(ra,!0),Ja[2]=Pa,Ja[1]=38,$APP.V):41===Pa?(Ja[2]=Ja[2],Ja[1]=34,$APP.V):43===Pa?(Pa=$APP.zA.C(a),Pa=$APP.v(Pa),Pa.onopen=null,Pa.onclose=null,Pa.onmessage=null,Pa.onerror=null,Pa=Pa.close(),lb=LUd.C(a),lb=$APP.Kf(lb,$APP.pq),Ja[17]=Pa,Ja[2]=lb,Ja[1]=45,$APP.V):29===Pa?(Pa=$APP.v(wa),Pa=IUd(c,$APP.nb(Pa)),Ja[11]=Pa,Ja[2]=null,Ja[1]=2,$APP.V):44===Pa?(Ja[1]=46,$APP.V):6===Pa?(lb=Ja[12],Pa=$APP.B.A(lb,Ja[18]),Ja[1]=Pa?8:9,$APP.V):28===Pa?(Ja[2]=Ja[2],Ja[1]=25,
$APP.V):25===Pa?(Ja[2]=Ja[2],Ja[1]=22,$APP.V):34===Pa?(Ja[2]=Ja[2],Ja[1]=31,$APP.V):17===Pa?(Pa=$APP.Cg([RUd],[!0]),Ja[2]=Pa,Ja[1]=19,$APP.V):3===Pa?$APP.Ri(Ja,Ja[2]):12===Pa?(lb=Ja[12],Pa=$APP.B.A(lb,Ja[19]),Ja[1]=Pa?20:21,$APP.V):2===Pa?(Pa=Ja[11],Pa=new $APP.O(null,5,5,$APP.Q,[Fa,ra,Pa,za,Ga],null),Ja[13]=Fa,Ja[18]=ra,Ja[19]=za,Ja[16]=Ga,$APP.Pka(Ja,4,Pa,$APP.G([$APP.Yi,!0]))):23===Pa?(Pa=$APP.Cg([$APP.as],[!0]),Ja[2]=Pa,Ja[1]=25,$APP.V):47===Pa?(Ja[2]=null,Ja[1]=48,$APP.V):35===Pa?(Pa=$APP.B.A(Ja[2],
fUd),Ja[1]=Pa?36:37,$APP.V):19===Pa?(Ja[2]=Ja[2],Ja[1]=13,$APP.V):11===Pa?(Pa=Ja[10],Pa=$APP.C.F(Pa,0,null),lb=$APP.v(wa),Ja[20]=Pa,Ja[15]=lb,Ja[1]=$APP.n(lb)?14:15,$APP.V):9===Pa?(lb=Ja[12],Pa=Ja[11],Pa=$APP.B.A(lb,Pa),Ja[1]=Pa?11:12,$APP.V):5===Pa?(Pa=$APP.Cg([tTd],[!0]),Ja[2]=Pa,Ja[1]=7,$APP.V):14===Pa?(Pa=Ja[20],Ja[2]=!0===Pa,Ja[1]=16,$APP.V):45===Pa?(Ja[2]=Ja[2],Ja[1]=41,$APP.V):26===Pa?(lb=Ja[14],Ja[2]=lb,Ja[1]=28,$APP.V):16===Pa?(Ja[1]=$APP.n(Ja[2])?17:18,$APP.V):38===Pa?(lb=Ja[2],Pa=$APP.v(wa),
Pa=IUd(c,$APP.nb(Pa)),Ja[21]=lb,Ja[11]=Pa,Ja[2]=null,Ja[1]=2,$APP.V):30===Pa?(Pa=Ja[7],Ja[1]=$APP.n(Pa)?32:33,$APP.V):10===Pa?(Ja[2]=Ja[2],Ja[1]=7,$APP.V):18===Pa?(Pa=$APP.Cg([tTd],[!0]),Ja[2]=Pa,Ja[1]=19,$APP.V):42===Pa?(lb=Ja[2],Pa=$APP.v(wa),Pa=IUd(c,$APP.nb(Pa)),Ja[22]=lb,Ja[11]=Pa,Ja[2]=null,Ja[1]=2,$APP.V):37===Pa?(Ja[2]=null,Ja[1]=38,$APP.V):8===Pa?(Pa=$APP.Cg([RUd],[!0]),Ja[2]=Pa,Ja[1]=10,$APP.V):null}return function(){function Ja(lb){for(;;){a:try{for(;;){var Db=Ra(lb);if(!$APP.Se(Db,$APP.V)){var Tb=
Db;break a}}}catch(ec){Tb=ec;lb[2]=Tb;if($APP.y(lb[4]))lb[1]=$APP.A(lb[4]);else throw Tb;Tb=$APP.V}if(!$APP.Se(Tb,$APP.V))return Tb}}function Pa(){var lb=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];lb[0]=rb;lb[1]=1;return lb}var rb=null;rb=function(lb){switch(arguments.length){case 0:return Pa.call(this);case 1:return Ja.call(this,lb)}throw Error("Invalid arity: "+arguments.length);};rb.I=Pa;rb.C=Ja;return rb}()}(),Va=function(){var Ra=
Ka();Ra[6]=qa;return Ra}();return $APP.Oi(Va)}}());r[31]=u;r[32]=x;return $APP.Pi(r,12,qa)}return 9===u?(u=$APP.Gi(g),r[2]=u,r[1]=11,$APP.V):5===u?(F=r[27],D=r[25],x=r[7],r[4]=$APP.hc(r[4]),u=r[2],x=$APP.hj(F,D,x),function(){var ra=r[5];if($APP.n(ra))throw ra;return null}(),r[33]=x,x=r,x[2]=u,x[1]=4,$APP.V):10===u?(r[2]=null,r[1]=11,$APP.V):8===u?(u=r[2],r[4]=$APP.hc(r[4]),r[2]=u,r[1]=5,$APP.V):null}return function(){function r(z){for(;;){a:try{for(;;){var D=q(z);if(!$APP.Se(D,$APP.V)){var F=D;break a}}}catch(J){F=
J;z[2]=F;if($APP.y(z[4]))z[1]=$APP.A(z[4]);else throw F;F=$APP.V}if(!$APP.Se(F,$APP.V))return F}}function u(){var z=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];z[0]=x;z[1]=1;return z}var x=null;x=function(z){switch(arguments.length){case 0:return u.call(this);case 1:return r.call(this,z)}throw Error("Invalid arity: "+arguments.length);};x.I=u;x.C=r;return x}()}(),p=function(){var q=
k();q[6]=h;return q}();return $APP.Oi(p)});return h},VUd=function(a,b,c){c=$APP.rf(c);var d=$APP.H.A(c,SUd),e=$APP.H.A(c,TUd),f=$APP.Ti(1);$APP.Ii(function(){var g=function(){function k(p){var q=p[1];if(7===q)return q=p[7],q=$APP.T.F(q,SUd,d),p[2]=q,p[1]=9,$APP.V;if(1===q){q=$APP.Vh();q=$APP.t.C(q);var r=O$.C(a);var u=$APP.Ti(1);var x=$APP.gj(r,q,u);p[9]=q;p[8]=r;p[10]=u;p[11]=x;p[2]=null;p[1]=2;return $APP.V}if(4===q){r=p[8];u=p[9];x=p[10];p[4]=$APP.hc(p[4]);q=p[2];r=$APP.hj(r,u,x);u=p[5];if($APP.n(u))throw u;
p[12]=r;p[2]=q;p[1]=3;return $APP.V}if(15===q)return q=$APP.Cv.G($APP.G([UUd,$APP.Dz])),p[2]=q,p[1]=16,$APP.V;if(13===q)return q=p[2],p[4]=$APP.hc(p[4]),p[2]=q,p[1]=4,$APP.V;if(6===q)return x=p[10],p[13]=p[2],$APP.Pi(p,13,x);if(3===q)return q=p[2],r=jSd.C(q),p[14]=q,p[15]=r,p[1]=$APP.n(r)?14:15,$APP.V;if(12===q)return q=R$(a,p[2]),$APP.Pi(p,6,q);if(2===q)return u=p[9],p[4]=$APP.Pe(4,p[4]),p[4]=$APP.Pe(5,p[4]),q=$APP.Cg([Q$,$APP.IC,$APP.Zz],[u,"grant-access",b]),p[7]=q,p[1]=$APP.n(d)?7:8,$APP.V;if(11===
q)return q=p[16],p[2]=q,p[1]=12,$APP.V;if(9===q)return q=p[2],p[16]=q,p[1]=$APP.n(e)?10:11,$APP.V;if(5===q)throw p[4]=$APP.hc(p[4]),q=p[2],p[5]=q,q;return 14===q?(r=p[14],q=p[15],r=S$.C(r),q=$APP.Cv.G($APP.G([UUd,q,r])),p[2]=q,p[1]=16,$APP.V):16===q?$APP.Ri(p,p[2]):10===q?(q=p[16],q=$APP.T.F(q,TUd,e),p[2]=q,p[1]=12,$APP.V):8===q?(q=p[7],p[2]=q,p[1]=9,$APP.V):null}return function(){function p(u){for(;;){a:try{for(;;){var x=k(u);if(!$APP.Se(x,$APP.V)){var z=x;break a}}}catch(D){z=D;u[2]=z;if($APP.y(u[4]))u[1]=
$APP.A(u[4]);else throw z;z=$APP.V}if(!$APP.Se(z,$APP.V))return z}}function q(){var u=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];u[0]=r;u[1]=1;return u}var r=null;r=function(u){switch(arguments.length){case 0:return q.call(this);case 1:return p.call(this,u)}throw Error("Invalid arity: "+arguments.length);};r.I=q;r.C=p;return r}()}(),h=function(){var k=g();k[6]=f;return k}();return $APP.Oi(h)})},WUd=function(a){var b=$APP.Ti(1);$APP.Ii(function(){var c=function(){return function(){function e(h){for(;;){a:try{for(;;){var k=
void 0,p=h,q=p[1];if(1===q){var r=NUd.C(a),u=$APP.Ih.A(r,$APP.nb),x=PUd.C(a);p[7]=u;k=p;var z=$APP.Qi(k,2,x,!0)}else if(2===q){var D=p[2],F=NUd.C(a),J=$APP.v(F);p[8]=D;k=p;z=$APP.Ri(k,J)}else z=null;if(!$APP.Se(z,$APP.V)){var M=z;break a}}}catch(P){M=P;h[2]=M;if($APP.y(h[4]))h[1]=$APP.A(h[4]);else throw M;M=$APP.V}if(!$APP.Se(M,$APP.V))return M}}function f(){var h=[null,null,null,null,null,null,null,null,null];h[0]=g;h[1]=1;return h}var g=null;g=function(h){switch(arguments.length){case 0:return f.call(this);
case 1:return e.call(this,h)}throw Error("Invalid arity: "+arguments.length);};g.I=f;g.C=e;return g}()}(),d=function(){var e=c();e[6]=b;return e}();return $APP.Oi(d)});return b},$Ud=function(a,b){var c=$APP.rna(),d=$APP.Ti(1);$APP.Ii(function(){var e=function(){function g(h){var k=h[1];if(7===k)return h[1]=$APP.n(h[2])?8:9,$APP.V;if(1===k)return k=null==a,h[7]=a,h[1]=$APP.n(k)?2:3,$APP.V;if(4===k)return k=h[2],h[8]=k,h[1]=$APP.n(null==k)?5:6,$APP.V;if(15===k){var p=h[9];h[10]=h[2];return $APP.Pi(h,
16,p)}if(13===k){var q=h[11];k=h[12];p=h[9];h[4]=$APP.hc(h[4]);var r=h[2];k=$APP.hj(q,k,p);p=h[5];if($APP.n(p))throw p;h[13]=k;h[2]=r;h[1]=12;return $APP.V}if(6===k)return k=h[8],k=$APP.v(k),h[2]=k,h[1]=7,$APP.V;if(17===k)return k=h[15],r=$APP.Cv.G($APP.G([XUd,jSd,h[14],S$,k])),k=$APP.Yk(c,null),h[16]=r,h[2]=k,h[1]=19,$APP.V;if(3===k)return k=h[7],k=P$.C(k),h[2]=k,h[1]=4,$APP.V;if(12===k)return h[2]=h[2],h[1]=10,$APP.V;if(2===k)return h[2]=null,h[1]=4,$APP.V;if(19===k)return k=h[2],h[4]=$APP.hc(h[4]),
h[2]=k,h[1]=13,$APP.V;if(11===k)return k=h[12],h[4]=$APP.Pe(13,h[4]),h[4]=$APP.Pe(14,h[4]),r=[Q$,$APP.IC,YUd,$APP.Zz],p=new $APP.O(null,1,5,$APP.Q,[b],null),q=P$.C(a),q=$APP.v(q),k=$APP.Cg(r,[k,"query-block-content-versions",p,q]),k=R$(a,k),$APP.Pi(h,15,k);if(9===k)return h[2]=null,h[1]=10,$APP.V;if(5===k)return h[2]=null,h[1]=7,$APP.V;if(14===k)throw h[4]=$APP.hc(h[4]),k=h[2],h[5]=k,k;return 16===k?(p=$APP.rf(h[2]),r=$APP.H.A(p,jSd),k=$APP.H.A(p,S$),p=$APP.H.A(p,ZUd),h[14]=r,h[15]=k,h[17]=p,h[1]=
$APP.n(r)?17:18,$APP.V):10===k?$APP.Ri(h,h[2]):18===k?(p=h[17],k=$APP.Fi(p),k=$APP.Yk(c,k),h[2]=k,h[1]=19,$APP.V):8===k?(k=$APP.Vh(),k=$APP.t.C(k),r=O$.C(a),p=$APP.Ti(1),q=$APP.gj(r,k,p),h[12]=k,h[11]=r,h[9]=p,h[18]=q,h[2]=null,h[1]=11,$APP.V):null}return function(){function h(q){for(;;){a:try{for(;;){var r=g(q);if(!$APP.Se(r,$APP.V)){var u=r;break a}}}catch(x){u=x;q[2]=u;if($APP.y(q[4]))q[1]=$APP.A(q[4]);else throw u;u=$APP.V}if(!$APP.Se(u,$APP.V))return u}}function k(){var q=[null,null,null,null,
null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];q[0]=p;q[1]=1;return q}var p=null;p=function(q){switch(arguments.length){case 0:return k.call(this);case 1:return h.call(this,q)}throw Error("Invalid arity: "+arguments.length);};p.I=k;p.C=h;return p}()}(),f=function(){var g=e();g[6]=d;return g}();return $APP.Oi(f)});return c},aVd=function(a,b){var c=ZQd(a),d=$Qd(a);a=aRd(a);c=new $APP.m(null,3,[$APP.Zz,c,$APP.mZa,d,$APP.VSa,a],null);return $APP.n(b)?$APP.Ln.G($APP.G([c,new $APP.m(null,
3,[$APP.QXa,$APP.v(LUd.C(b)),$APP.C0a,function(){var e=$APP.v($APP.zA.C(b));return null==e?null:qSd(e)}(),$APP.rVa,function(){var e=NUd.C(b);return $APP.n(e)?$APP.v(e):null}()],null)])):c},cVd=function(a,b,c){var d=$APP.Ti(1);$APP.Ii(function(){var e=function(){function g(h){var k=h[1];if(1===k){var p=$APP.Ti($APP.Hi(100));var q=$APP.Ti(null);k=cSd(b,p,q);h[7]=p;h[8]=k;return $APP.Pi(h,2,q)}return 2===k?(k=h[8],q=h[7],p=h[2],k=$APP.Cg([$APP.zA,PUd,LUd,jTd,fSd,QUd,$APP.oTa,OUd,O$,P$,kTd,eSd,NUd,AUd],
[$APP.Gh.C(k),$APP.Ti($APP.Hi(1)),$APP.Gh.G($APP.pq,$APP.G([$APP.xQa,bVd])),$APP.Gh.C(a),q,$APP.Gh.C(null),0,$APP.Ti($APP.Hi(1)),$APP.Rka(q,Q$),$APP.Gh.C(null),$APP.Gh.C(null),$APP.Gh.C(b),$APP.Gh.G(!0,$APP.G([$APP.xQa,$APP.wd])),$APP.Gh.C(null)]),h[9]=p,h[10]=k,h[1]=$APP.n(c)?3:4,$APP.V):3===k?(k=h[10],p=$APP.Kf(X$,k),k=$APP.Ih.K(X$,$APP.Wr,$APP.oTa,$APP.pc),h[11]=p,h[2]=k,h[1]=5,$APP.V):4===k?(h[2]=null,h[1]=5,$APP.V):5===k?(k=h[10],h[12]=h[2],$APP.Ri(h,k)):null}return function(){function h(q){for(;;){a:try{for(;;){var r=
g(q);if(!$APP.Se(r,$APP.V)){var u=r;break a}}}catch(x){u=x;q[2]=u;if($APP.y(q[4]))q[1]=$APP.A(q[4]);else throw u;u=$APP.V}if(!$APP.Se(u,$APP.V))return u}}function k(){var q=[null,null,null,null,null,null,null,null,null,null,null,null,null];q[0]=p;q[1]=1;return q}var p=null;p=function(q){switch(arguments.length){case 0:return k.call(this);case 1:return h.call(this,q)}throw Error("Invalid arity: "+arguments.length);};p.I=k;p.C=h;return p}()}(),f=function(){var g=e();g[6]=d;return g}();return $APP.Oi(f)});
return d},eVd=function(a,b,c){var d=$APP.Ti(1);$APP.Ii(function(){var e=function(){function g(h){var k=h[1];if(1===k)return k=cVd(a,c,!0),$APP.Pi(h,2,k);if(2===k){var p=h[2];var q=$APP.Cg([$APP.zA,sTd,jTd,fSd,O$,P$,kTd,rTd,eSd,vTd,AUd,qTd],[$APP.zA.C(p),$APP.Gh.C(null),$APP.Gh.C(null),fSd.C(p),O$.C(p),$APP.Gh.C(null),$APP.Gh.C(null),$APP.Ti($APP.Hi(1)),eSd.C(p),$APP.Gh.C(null),$APP.Gh.C(null),$APP.Gh.G(!0,$APP.G([$APP.xQa,$APP.wd]))]);var r=$APP.Kf(dVd,q);k=XPd(a);var u=ZQd(a);h[7]=p;h[8]=q;h[10]=
r;h[11]=k;h[9]=u;h[1]=$APP.n(u)?3:4;return $APP.V}return 3===k?(k=h[11],r=h[7],q=h[9],p=h[8],k=$APP.NAa(k),k=KUd(r,q,a,b,k),p=oTd(p,q,a,b),h[12]=p,$APP.Pi(h,6,k)):4===k?(k=$APP.Fh.G($APP.G([new $APP.O(null,2,5,$APP.Q,[new $APP.O(null,2,5,$APP.Q,[$APP.ZB,new $APP.O(null,2,5,$APP.Q,[$APP.Wz,"RTC is not supported for this graph"],null)],null),$APP.Es],null)])),k=t$($APP.rB,k),h[2]=k,h[1]=5,$APP.V):5===k?$APP.Ri(h,h[2]):6===k?(p=h[12],h[13]=h[2],$APP.Pi(h,7,p)):7===k?(h[2]=h[2],h[1]=5,$APP.V):null}return function(){function h(q){for(;;){a:try{for(;;){var r=
g(q);if(!$APP.Se(r,$APP.V)){var u=r;break a}}}catch(x){u=x;q[2]=u;if($APP.y(q[4]))q[1]=$APP.A(q[4]);else throw u;u=$APP.V}if(!$APP.Se(u,$APP.V))return u}}function k(){var q=[null,null,null,null,null,null,null,null,null,null,null,null,null,null];q[0]=p;q[1]=1;return q}var p=null;p=function(q){switch(arguments.length){case 0:return k.call(this);case 1:return h.call(this,q)}throw Error("Invalid arity: "+arguments.length);};p.I=k;p.C=h;return p}()}(),f=function(){var g=e();g[6]=d;return g}();return $APP.Oi(f)})},
fVd=function(){var a=function(){var b=$APP.v(X$);b=null==b?null:QUd.C(b);return null==b?null:$APP.v(b)}();$APP.n(a)&&$APP.Gi(a);a=function(){var b=$APP.v(dVd);b=null==b?null:sTd.C(b);return null==b?null:$APP.v(b)}();$APP.n(a)&&$APP.Gi(a)},gVd=function(a,b){var c=$APP.rna(),d=$APP.Ti(1);$APP.Ii(function(){var e=function(){function g(h){var k=h[1];if(7===k)return k=$APP.Fi(h[2]),k=$APP.Yk(c,k),$APP.Ri(h,k);if(1===k)return k=$APP.v(X$),h[7]=k,h[1]=$APP.n(k)?2:3,$APP.V;if(4===k){k=h[2];var p=$APP.Vh();
p=$APP.t.C(p);var q=O$.C(k);var r=$APP.Ti(1);var u=$APP.gj(q,p,r);h[8]=k;h[10]=p;h[9]=q;h[11]=r;h[12]=u;h[2]=null;h[1]=6;return $APP.V}if(6===k)return p=h[10],k=h[8],h[4]=$APP.Pe(8,h[4]),h[4]=$APP.Pe(9,h[4]),p=$APP.Cg([Q$,$APP.IC],[p,"list-graphs"]),k=R$(k,p),$APP.Pi(h,10,k);if(3===k)return k=cVd(a,b,!0),$APP.Pi(h,5,k);if(2===k)return k=h[7],h[2]=k,h[1]=4,$APP.V;if(11===k)return k=$APP.bC.C(h[2]),h[4]=$APP.hc(h[4]),h[2]=k,h[1]=8,$APP.V;if(9===k)throw h[4]=$APP.hc(h[4]),k=h[2],h[5]=k,k;if(5===k)return h[2]=
h[2],h[1]=4,$APP.V;if(10===k)return r=h[11],h[13]=h[2],$APP.Pi(h,11,r);if(8===k){q=h[9];p=h[10];r=h[11];h[4]=$APP.hc(h[4]);k=h[2];p=$APP.hj(q,p,r);q=h[5];if($APP.n(q))throw q;h[14]=p;h[2]=k;h[1]=7;return $APP.V}return null}return function(){function h(q){for(;;){a:try{for(;;){var r=g(q);if(!$APP.Se(r,$APP.V)){var u=r;break a}}}catch(x){u=x;q[2]=u;if($APP.y(q[4]))q[1]=$APP.A(q[4]);else throw u;u=$APP.V}if(!$APP.Se(u,$APP.V))return u}}function k(){var q=[null,null,null,null,null,null,null,null,null,
null,null,null,null,null,null];q[0]=p;q[1]=1;return q}var p=null;p=function(q){switch(arguments.length){case 0:return k.call(this);case 1:return h.call(this,q)}throw Error("Invalid arity: "+arguments.length);};p.I=k;p.C=h;return p}()}(),f=function(){var g=e();g[6]=d;return g}();return $APP.Oi(f)});return c},jVd=function(a){if($APP.n($APP.v(hVd)))return null;var b=WPd(a);return $APP.n(b)?b:$APP.el(null,function(){return $APP.el($APP.v(iVd).installOpfsSAHPoolVfs({name:["logseq-pool-",pOd(a)].join(""),
initialCapacity:20}),function(c){$APP.Ih.K(VPd,$APP.T,a,c);return $APP.Xk(c)})})},mVd=function(){return $APP.n($APP.v(iVd))?null:$APP.el(null,function(){return $APP.el(location.href,function(a){return $APP.el($APP.ua(a,"electron\x3dtrue"),function(b){return $APP.el($APP.ua(a,"publishing\x3dtrue"),function(c){return $APP.el($APP.Kf(hVd,c),function(){return $APP.el([$APP.t.C(self.location.protocol),"//",$APP.t.C(self.location.host)].join(""),function(d){return $APP.el($APP.n(b)?new URL("sqlite3.wasm",
location.href):[$APP.t.C(d),$APP.vj(self.location.pathname,"db-worker.js","")].join(""),function(e){return $APP.el(kVd.default($APP.Ei(new $APP.m(null,3,[$APP.Rw,e,$APP.lVa,console.log,lVd,console.error],null))),function(f){$APP.Kf(iVd,f);return $APP.Xk(null)})})})})})})})})},nVd=function(a){return $APP.el(null,function(){return $APP.el(jVd(a),function(b){return $APP.Xk($APP.n(b)?b.exportFile("/db.sqlite"):null)})})},oVd=function(a,b,c){var d=SPd(a);return d.transaction(function(e){for(var f=$APP.y(b),
g=null,h=0,k=0;;)if(k<h){var p=g.ia(null,k);e.exec({sql:"INSERT INTO kvs (addr, content) values ($addr, $content) on conflict(addr) do update set content \x3d $content",bind:p});k+=1}else if(f=$APP.y(f))g=f,$APP.nd(g)?(f=$APP.Qb(g),k=$APP.Rb(g),g=f,h=$APP.vc(f),f=k):(f=$APP.A(g),e.exec({sql:"INSERT INTO kvs (addr, content) values ($addr, $content) on conflict(addr) do update set content \x3d $content",bind:f}),f=$APP.jc(g),g=null,h=0),k=0;else break;e=$APP.y(c);f=null;for(k=h=0;;)if(k<h)g=f.ia(null,
k),d.exec({sql:"Delete from kvs where addr \x3d ?",bind:[g]}),k+=1;else if(e=$APP.y(e))f=e,$APP.nd(f)?(e=$APP.Qb(f),h=$APP.Rb(f),f=e,g=$APP.vc(e),e=h,h=g):(g=$APP.A(f),d.exec({sql:"Delete from kvs where addr \x3d ?",bind:[g]}),e=$APP.jc(f),f=null,h=0),k=0;else return null})},qVd=function(a){var b=$APP.pf;if("undefined"===typeof $APP.S2a||"undefined"===typeof pVd||"undefined"===typeof Y$)Y$=function(c,d,e){this.La=c;this.rw=d;this.Yx=e;this.V=393216;this.aa=0},Y$.prototype.ga=function(c,d){return new Y$(this.La,
this.rw,d)},Y$.prototype.fa=function(){return this.Yx},Y$.prototype.kt=function(c,d,e){c=$APP.rh.A(function(f){var g=$APP.C.F(f,0,null);f=$APP.C.F(f,1,null);return{$addr:g,$content:$APP.Fh.G($APP.G([f]))}},d);return oVd(this.La,c,e)},Y$.prototype.jt=function(c,d){c=SPd(this.La);d=$APP.Gc(c.exec({sql:"select content from kvs where addr \x3d ?",bind:[d],rowMode:"array"}));return $APP.n(d)?$APP.Tw.C(d):null},Y$.Ca=!0,Y$.Aa="frontend.db-worker/t_frontend$db_worker106987",Y$.Ea=function(c){return $APP.Kb(c,
"frontend.db-worker/t_frontend$db_worker106987")};return new Y$(a,b,$APP.pf)},rVd=function(a,b,c){$APP.Ih.F(TPd,$APP.cj,a);$APP.Ih.F(UPd,$APP.cj,a);$APP.n(b)&&b.close();$APP.n(c)&&c.close();b=WPd(a);$APP.n(b)&&b.releaseAccessHandles();return $APP.Ih.F(VPd,$APP.cj,a)},sVd=function(a){for(var b=$APP.y($APP.v(TPd)),c=null,d=0,e=0;;)if(e<d){var f=c.ia(null,e),g=$APP.C.F(f,0,null);f=$APP.C.F(f,1,null);var h=$APP.rf(f);f=$APP.H.A(h,$APP.KC);h=$APP.H.A(h,$APP.tC);$APP.B.A(a,g)||rVd(g,f,h);e+=1}else if(g=
$APP.y(b))b=g,$APP.nd(b)?(c=$APP.Qb(b),b=$APP.Rb(b),g=c,d=$APP.vc(c),c=g):(c=$APP.A(b),g=$APP.C.F(c,0,null),c=$APP.C.F(c,1,null),c=$APP.rf(c),f=$APP.H.A(c,$APP.KC),h=$APP.H.A(c,$APP.tC),$APP.B.A(a,g)||rVd(g,f,h),b=$APP.jc(b),c=null,d=0),e=0;else return null},tVd=function(a){var b=$APP.v(TPd);b=b.C?b.C(a):b.call(null,a);var c=$APP.rf(b);b=$APP.H.A(c,$APP.KC);c=$APP.H.A(c,$APP.tC);return rVd(a,b,c)},uVd=function(a){return $APP.n($APP.v(hVd))?$APP.el(null,function(){return $APP.el($APP.v(iVd).oo1.DB,
function(b){return $APP.el(new b("/db.sqlite","c"),function(c){return $APP.el(new b("/search-db.sqlite","c"),function(d){return $APP.Xk(new $APP.O(null,2,5,$APP.Q,[c,d],null))})})})}):$APP.el(null,function(){return $APP.el(jVd(a),function(b){return $APP.el(b.getCapacity(),function(c){return $APP.el(0===c?b.acquireAccessHandles():null,function(){return $APP.el(new b.OpfsSAHPoolDb("/db.sqlite"),function(d){return $APP.el(new b.OpfsSAHPoolDb("search/db.sqlite"),function(e){return $APP.Xk(new $APP.O(null,
2,5,$APP.Q,[d,e],null))})})})})})})},vVd=function(a){return $APP.n(SPd(a))?null:$APP.el(null,function(){return $APP.el(uVd(a),function(b){var c=$APP.C.F(b,0,null),d=$APP.C.F(b,1,null);return $APP.el(qVd(a),function(e){return $APP.Xk(function(){$APP.Ih.K(TPd,$APP.T,a,new $APP.m(null,2,[$APP.KC,c,$APP.tC,d],null));c.exec("PRAGMA locking_mode\x3dexclusive");c.exec("create table if not exists kvs (addr INTEGER primary key, content TEXT)");rPd(d);var f=$APP.KHa(a),g=OOd(e,f);$APP.Ih.K(UPd,$APP.T,a,g);
$APP.el(null,function(){return $APP.el(eRd(a),function(){$APP.Ih.F($APP.Gv.C($APP.Uc(g)),$APP.cj,WRd);$APP.Ih.F($APP.Gv.C($APP.Uc(g)),$APP.cj,YRd);$APP.Lv(a)&&null!=$Qd(a)&&XRd(a,g);var h=$Rd(a,g);return $APP.Xk(h)})});return null}())})})})},wVd=function(a){return $APP.n(a)?$APP.el(null,function(){return $APP.Xk(function(){return function d(c){return $APP.dl($APP.il(new $APP.O(null,1,5,$APP.Q,[c],null)),function(e){var f=$APP.C.F(e,0,null);return $APP.el(null,function(){return $APP.Xk($APP.el(null,
function(){return $APP.el(a.next(),function(g){return $APP.Xk($APP.n(g.done)?f:d($APP.Ke.A(f,g.value)))})}))})})}($APP.$f)}())}):null},xVd=function(){function a(b){return $APP.B.A(b.kind,"directory")}return $APP.el(null,function(){return $APP.el(navigator.storage.getDirectory(),function(b){return $APP.Xk($APP.el(null,function(){return $APP.Xk(function(){return function f(d,e){return $APP.dl($APP.il(new $APP.O(null,2,5,$APP.Q,[d,e],null)),function(g){var h=$APP.C.F(g,0,null),k=$APP.C.F(g,1,null);return $APP.el(null,
function(){return $APP.Xk($APP.ad(k)?h:$APP.el(null,function(){return $APP.el($APP.A(k),function(p){return $APP.el($APP.Ke.A(h,p),function(q){return $APP.el(a(p)?p.values():null,function(r){return $APP.el($APP.n(r)?wVd(r):null,function(u){return $APP.el($APP.Wf.A(a,u),function(x){return $APP.el($APP.kk.A(q,u),function(z){return $APP.el($APP.kk.A(x,$APP.hc(k)),function(D){return $APP.Xk(f(z,D))})})})})})})})}))})})}($APP.$f,new $APP.O(null,1,5,$APP.Q,[b],null))}())}))})})},yVd=function(a){return $APP.fl($APP.el(null,
function(){return $APP.el(navigator.storage.getDirectory(),function(b){return $APP.el(b.getDirectoryHandle([".",["logseq-pool-",pOd(a)].join("")].join("")),function(){return $APP.Xk(!0)})})}),function(){return!1})},zVd=function(a){return RPd(a,$APP.G([new $APP.m(null,1,[$APP.xTa,!0],null)]))},tQd=/^(\d{2})(?::?(\d{2})(?::?(\d{2})(\.\d+)?)?)?$/,sQd=/Z|(?:([-+])(\d{2})(?::?(\d{2}))?)$/,r$,v$=null,$Od=function $Od(a){return null!=a&&$APP.Zb===a.Du?a:$APP.Sc(a)?(a=a.I?a.I():a.call(null),$Od.C?$Od.C(a):
$Od.call(null,a)):null==a?eOd():$APP.zp.A($APP.D_a,new $APP.m(null,1,[$APP.Xo,a],null))},zOd=function zOd(a,b,c,d,e,f,g){if($APP.B.A($APP.rt.C(d),$APP.rt.C($APP.cw.C(e))))return $APP.n(f)?(c=$APP.Jc(c),$APP.zt.A?$APP.zt.A(a,c):$APP.zt.call(null,a,c)):d;b=$APP.rt.C($APP.cw.C(b));b=$APP.zt.A?$APP.zt.A(a,b):$APP.zt.call(null,a,b);return $APP.Xd($APP.Ug(c),$APP.rt.C(b))?zOd.Wa?zOd.Wa(a,b,c,d,e,f,g):zOd.call(null,a,b,c,d,e,f,g):b},wOd=function wOd(a,b,c){var e=$APP.zt.A?$APP.zt.A(a,c):$APP.zt.call(null,
a,c);if($APP.n(e)){if($APP.B.A(b,c))return!0;if($APP.n($APP.hIa(a,c)))return!1;c=$APP.rt.C($APP.kw.C(e));return wOd.F?wOd.F(a,b,c):wOd.call(null,a,b,c)}return null};$APP.l=IOd.prototype;$APP.l.sa=function(a,b){return this.ca(null,b,null)};$APP.l.ca=function(a,b,c){switch(b instanceof $APP.K?b.Z:null){case "storage":return this.storage;default:return $APP.H.F(this.H,b,c)}};
$APP.l.xa=function(a,b,c){return $APP.ie.F(function(d,e){var f=$APP.C.F(e,0,null);e=$APP.C.F(e,1,null);return b.F?b.F(d,f,e):b.call(null,d,f,e)},c,this)};$APP.l.la=function(a,b,c){return $APP.lh(b,function(d){return $APP.lh(b,$APP.qh,""," ","",c,d)},"#datascript.storage.StorageAdapter{",", ","}",c,$APP.kk.A(new $APP.O(null,1,5,$APP.Q,[new $APP.O(null,2,5,$APP.Q,[$APP.xs,this.storage],null)],null),this.H))};
$APP.l.va=function(){return new $APP.pg(this,1,new $APP.O(null,1,5,$APP.Q,[$APP.xs],null),$APP.n(this.H)?$APP.Ub(this.H):$APP.yf())};$APP.l.fa=function(){return this.J};$APP.l.ta=function(){return new IOd(this.storage,this.J,this.H,this.O)};$APP.l.pa=function(){return 1+$APP.vc(this.H)};$APP.l.oa=function(){var a=this.O;return null!=a?a:this.O=a=1627330428^$APP.nc(this)};$APP.l.ka=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.B.A(this.storage,b.storage)&&$APP.B.A(this.H,b.H)};
$APP.l.ya=function(a,b){return $APP.Xd(new $APP.Ng(null,new $APP.m(null,1,[$APP.xs,null],null),null),b)?$APP.cj.A($APP.Ib($APP.tg.A($APP.pf,this),this.J),b):new IOd(this.storage,this.J,$APP.sf($APP.cj.A(this.H,b)),null)};$APP.l.wa=function(a,b){switch(b instanceof $APP.K?b.Z:null){case "storage":return!0;default:return $APP.Xd(this.H,b)}};
$APP.l.ha=function(a,b,c){return $APP.n($APP.Se.A?$APP.Se.A($APP.xs,b):$APP.Se.call(null,$APP.xs,b))?new IOd(c,this.J,this.H,null):new IOd(this.storage,this.J,$APP.T.F(this.H,b,c),null)};$APP.l.qa=function(){return $APP.y($APP.kk.A(new $APP.O(null,1,5,$APP.Q,[new $APP.Yd($APP.xs,this.storage,null)],null),this.H))};$APP.l.ga=function(a,b){return new IOd(this.storage,b,this.H,this.O)};$APP.l.ra=function(a,b){return $APP.ld(b)?this.ha(null,$APP.Oc(b,0),$APP.Oc(b,1)):$APP.ie.F($APP.zb,this,b)};
$APP.l.Pu=function(a,b,c){a=$APP.n($APP.n(c)?b instanceof $APP.IBa&&$APP.Xd($APP.Ug(b.De),c):c)?$APP.GEa.xb(null,$APP.GEa.Ya(null)+1):$APP.n(c)?c:$APP.GEa.xb(null,$APP.GEa.Ya(null)+1);c=$APP.lj.A($APP.yEa,b.keys);c=new $APP.m(null,1,[$APP.Yp,c],null);b=b instanceof $APP.IBa?$APP.T.F(c,$APP.w0a,b.De):c;$APP.Sb($APP.nu,$APP.Zf.A($APP.v($APP.nu),new $APP.O(null,2,5,$APP.Q,[a,b],null)));return a};
$APP.l.Ou=function(a,b){a=bOd(this.storage,b);a=$APP.rf(a);var c=$APP.H.A(a,$APP.Yp);a=$APP.H.A(a,$APP.w0a);if($APP.n(c)){c=$APP.bBa($APP.rh.A(function(e){var f=$APP.C.F(e,0,null),g=$APP.C.F(e,1,null),h=$APP.C.F(e,2,null);e=$APP.C.F(e,3,null);return $APP.zs.K(f,g,h,e)},c));b=new $APP.m(null,2,[$APP.os,b,$APP.HBa,!1],null);if($APP.n(a)){var d=Array($APP.vc(a));return $APP.FBa(c,d,a,$APP.G([b]))}return $APP.ws.G(c,$APP.G([b]))}return null};$APP.l.Wx=function(){return null};
$APP.l.Nu=function(a,b){return $APP.Ih.K($APP.IEa,$APP.Wr,this.storage,function(c){return $APP.tg.A(c,$APP.wl.A($APP.jb,b))})};var jPd=function jPd(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=4<c.length?new $APP.dc(c.slice(4),0,null):null;return jPd.G(arguments[0],arguments[1],arguments[2],arguments[3],c)};
jPd.G=function(a,b,c,d,e){var f=$APP.rf(e);e=$APP.H.A(f,$APP.sYa);f=$APP.H.A(f,$APP.eVa);var g=$APP.v(b),h=$APP.rh.A(function(D){D=$APP.rt.C(D);return $APP.zt.A?$APP.zt.A(g,D):$APP.zt.call(null,g,D)},c);c=yOd(g,h);if($APP.ad(c)){var k=function(){var D=$APP.rt.C($APP.A(h));return $APP.zt.A?$APP.zt.A(g,D):$APP.zt.call(null,g,D)}(),p=function(){var D=$APP.rt.C($APP.cw.C(k));return $APP.zt.A?$APP.zt.A(g,D):$APP.zt.call(null,g,D)}(),q=$APP.kw.C(k);c=function(){function D(J){var M=null;if(0<arguments.length){M=
0;for(var P=Array(arguments.length-0);M<P.length;)P[M]=arguments[M+0],++M;M=new $APP.dc(P,0,null)}return F.call(this,M)}function F(J){return new $APP.m(null,2,[$APP.ot,$APP.Gf.A($APP.sy,$APP.rh.A($APP.ot,J)),$APP.vy,$APP.vy.C($APP.A(J))],null)}D.R=0;D.X=function(J){J=$APP.y(J);return F(J)};D.G=F;return D}();var r=new $APP.m(null,1,[$APP.jy,$APP.uNa],null);if($APP.n(d)){if($APP.n($APP.n(p)?!fOd(k):p)){d=$APP.tIa(g,$APP.rt.C(p));var u=$APP.ah.A(function(D){return $APP.B.A($APP.rt.C($APP.kw.C(D)),$APP.rt.C(p))},
h);if($APP.y(u))return $APP.n(d)?(d=$APP.zt.A?$APP.zt.A(g,d):$APP.zt.call(null,g,d),d=u$(a,b,u,d,$APP.Ln.G($APP.G([r,new $APP.m(null,2,[$APP.gy,!0,$APP.ly,!0],null)]))),e=$APP.n($APP.tw.C(p))?new $APP.m(null,1,[$APP.ot,new $APP.O(null,1,5,$APP.Q,[new $APP.m(null,2,[$APP.rt,$APP.rt.C(p),$APP.tw,!1],null)],null)],null):null,c(d,e)):u$(a,b,u,p,$APP.Ln.G($APP.G([r,new $APP.m(null,2,[$APP.gy,!1,$APP.ly,!0],null)])))}return null}if($APP.n(e))return u=$APP.$g.A(function(D){return $APP.Lg.A($APP.rt.C($APP.kw.C(D)),
$APP.rt.C($APP.kw.C(q)))},h),u$(a,b,u,e,$APP.Ln.G($APP.G([r,new $APP.m(null,3,[$APP.jy,$APP.uNa,$APP.gy,!0,$APP.ly,!1],null)])));if($APP.n(function(){if($APP.n(q)){var D=$APP.rt.C(q);D=$APP.zt.A?$APP.zt.A(g,D):$APP.zt.call(null,g,D);D=null==$APP.Pv.C(D)}else D=q;return D}())){u=$APP.$g.A(function(D){return $APP.Lg.A($APP.rt.C($APP.kw.C(D)),$APP.rt.C($APP.kw.C(q)))},h);d=u$(a,b,u,q,$APP.Ln.G($APP.G([r,new $APP.m(null,1,[$APP.gy,!0],null)])));if($APP.n(f))return d;var x=function(){var D=$APP.rt.C($APP.Jc(u));
return $APP.zt.A?$APP.zt.A(g,D):$APP.zt.call(null,g,D)}(),z=$APP.rh.A($APP.ry,nOd(b,$APP.Xx(g,x)));return $APP.y(z)?(e=function(){var D=$APP.tIa(g,$APP.rt.C(x));return $APP.n(D)?u$(a,b,z,$APP.zt.A?$APP.zt.A(g,D):$APP.zt.call(null,g,D),$APP.Ln.G($APP.G([r,new $APP.m(null,1,[$APP.gy,!0],null)]))):u$(a,b,z,x,$APP.Ln.G($APP.G([r,new $APP.m(null,1,[$APP.gy,!1],null)])))}(),c(d,e)):d}}return null};jPd.R=4;
jPd.X=function(a){var b=$APP.A(a),c=$APP.jc(a);a=$APP.A(c);var d=$APP.jc(c);c=$APP.A(d);var e=$APP.jc(d);d=$APP.A(e);e=$APP.jc(e);return this.G(b,a,c,d,e)};
var lSd=new $APP.K(null,"s3-presign-url","s3-presign-url",-714097497),qUd=new $APP.K(null,"update-op","update-op",447969937),AVd=new $APP.K(null,"this","this",-611633625),G$=new $APP.K(null,"epoch-\x3easset-uuid-sorted-map","epoch-\x3easset-uuid-sorted-map",2053134043),oSd=new $APP.K(null,"connecting","connecting",-1347943866),hTd=new $APP.K("frontend.worker.rtc.asset-sync","unknown-ex","frontend.worker.rtc.asset-sync/unknown-ex",-1610928757),U$=new $APP.K(null,"self","self",-1547428899),BVd=new $APP.K("frontend.worker.react",
"custom","frontend.worker.react/custom",1148305719),LUd=new $APP.K(null,"*rtc-state","*rtc-state",-21969375),pSd=new $APP.K(null,"closing","closing",-1862893890),O$=new $APP.K(null,"data-from-ws-pub","data-from-ws-pub",-774120717),M$=new $APP.K(null,"current-branch","current-branch",873754793),vRd=new $APP.K(null,"entity-maps","entity-maps",1211331718),BTd=new $APP.K(null,"remove-ops","remove-ops",1092982894),CVd=new $APP.K("rtc","remote-batch-txs","rtc/remote-batch-txs",-559588876),DVd=new $APP.K("block-type",
"class","block-type/class",-255869386),pTd=new $APP.K(null,"loop-started-ch","loop-started-ch",-1386292476),kTd=new $APP.K(null,"*db-conn","*db-conn",1411380916),vUd=new $APP.K(null,"depend-on-block-uuids","depend-on-block-uuids",407575644),bTd=new $APP.K(null,"merge-whiteboard-pages","merge-whiteboard-pages",287177049),jSd=new $APP.K(null,"ex-message","ex-message",1526142375),EVd=new $APP.K("block-type","macros","block-type/macros",-362067167),uUd=new $APP.K(null,"remote-ops","remote-ops",1178110828),
I$=new $APP.K(null,"remove-page","remove-page",-1679345876),FTd=new $APP.K(null,"remote-parents","remote-parents",1298599492),P$=new $APP.K(null,"*graph-uuid","*graph-uuid",722695732),GQd=new $APP.K(null,"default-decoder","default-decoder",808357161),FVd=new $APP.K("malli.transform","map-of-key-decoders","malli.transform/map-of-key-decoders",-1029175759),L$=new $APP.K(null,"old-branch","old-branch",-95656804),GPd=new $APP.K(null,"blocks-to-remove","blocks-to-remove",818616402),EQd=new $APP.K(null,
"transformers","transformers",-734201565),lVd=new $APP.K(null,"printErr","printErr",-1323332006),QQd=new $APP.K(null,"update-asset","update-asset",501550582),GTd=new $APP.K(null,"remote-left","remote-left",-1963136922),fSd=new $APP.K(null,"data-from-ws-chan","data-from-ws-chan",1434761574),fUd=new $APP.K("frontend.worker.rtc.core","need-pull-remote-data","frontend.worker.rtc.core/need-pull-remote-data",-806740178),STd=new $APP.K(null,"apply-remote-move-ops","apply-remote-move-ops",1600501517),xTd=
new $APP.K("frontend.worker.rtc.asset-sync","\x3cpush-data-from-ws-handler","frontend.worker.rtc.asset-sync/\x3cpush-data-from-ws-handler",-371395791),UTd=new $APP.K(null,"update-ops","update-ops",1840358994),IQd=new $APP.K(null,"default-encoder","default-encoder",117541207),$Td=new $APP.K(null,"update-attrs","update-attrs",1528055735),SRd=new $APP.K(null,"updated-attrs","updated-attrs",-194090551),uRd=new $APP.K(null,"closed-schema?","closed-schema?",264902537),GVd=new $APP.K("block-type","hidden",
"block-type/hidden",890389910),cTd=new $APP.K("frontend.worker.rtc.asset-sync","push-data-from-ws","frontend.worker.rtc.asset-sync/push-data-from-ws",819832462),HVd=new $APP.K("decode","string","decode/string",-108229948),yUd=new $APP.K(null,"target-uuid","target-uuid",-603957653),$Pd=new $APP.K("db","latest-transact-time","db/latest-transact-time",202350481),CRd=new $APP.K(null,"fix-parent-left?","fix-parent-left?",-1137969508),YRd=new $APP.K(null,"sync-db","sync-db",-166283514),SSd=new $APP.K(null,
"merge?","merge?",-2004416151),NPd=new $APP.K(null,"shouldSort","shouldSort",-1733947834),NRd=new $APP.K(null,"tx-report","tx-report",1910895391),IVd=new $APP.K(null,"notify-main-thread","notify-main-thread",884804301),CUd=new $APP.K(null,"graph-lock-missing","graph-lock-missing",-736248772),aTd=new $APP.K(null,"invalid-empty-name","invalid-empty-name",-1837009122),JVd=new $APP.K("malli.transform","json-vectors","malli.transform/json-vectors",-1108071835),AUd=new $APP.K(null,"*date-formatter","*date-formatter",
2076037469),yTd=new $APP.K("frontend.worker.rtc.asset-sync","just-for-test","frontend.worker.rtc.asset-sync/just-for-test",934697866),JTd=new $APP.K(null,"not-exist","not-exist",-1832922632),kRd=new $APP.K(null,"parent-id","parent-id",-1400729131),iUd=new $APP.K(null,"local-t","local-t",-2128577077),rUd=new $APP.K(null,"update-page-op","update-page-op",1640000564),tUd=new $APP.K(null,"remove-page-op","remove-page-op",-70089318),F$=new $APP.K(null,"epoch-\x3eblock-uuid-sorted-map","epoch-\x3eblock-uuid-sorted-map",
1201376810),KVd=new $APP.K("malli.transform","invalid-transformer","malli.transform/invalid-transformer",-1717093616),rTd=new $APP.K(null,"toggle-auto-push-assets-update-ops-chan","toggle-auto-push-assets-update-ops-chan",1091937624),LVd=new $APP.K("malli.transform","too-deep-compilation","malli.transform/too-deep-compilation",-1157462070),KTd=new $APP.K(null,"wrong-pos","wrong-pos",-1024799173),dRd=new $APP.K("frontend.worker.rtc.op-mem-layer","\x3cinit-load-from-indexeddb!","frontend.worker.rtc.op-mem-layer/\x3cinit-load-from-indexeddb!",
721714022),HSd=new $APP.K("frontend.worker.rtc.full-upload-download-graph","download-graph","frontend.worker.rtc.full-upload-download-graph/download-graph",-873971009),gUd=new $APP.K(null,"remote-t","remote-t",-1375604239),bUd=new $APP.K(null,"t-before","t-before",-507640180),eSd=new $APP.K(null,"*token","*token",-482442375),dTd=new $APP.K(null,"push-data-from-ws","push-data-from-ws",-1442567323),MVd=new $APP.K("block-type","property","block-type/property",1199682094),PQd=new $APP.K(null,"remove-asset",
"remove-asset",-1739744854),sTd=new $APP.K(null,"*stop-asset-sync-loop-chan","*stop-asset-sync-loop-chan",-1773280253),TSd=new $APP.K(null,"other-tx","other-tx",337309802),fTd=new $APP.K(null,"ops","ops",1237330063),NVd=new $APP.w(null,"p1__103774#","p1__103774#",1801756257,null),WRd=new $APP.K(null,"gen-ops","gen-ops",-558095490),OPd=new $APP.K(null,"tokenize","tokenize",1336117716),ESd=new $APP.w("frontend.worker.rtc.op-mem-layer","*ops-store","frontend.worker.rtc.op-mem-layer/*ops-store",-1477224849,
null),PUd=new $APP.K(null,"toggle-auto-push-client-ops-chan","toggle-auto-push-client-ops-chan",-145280064),H$=new $APP.K(null,"asset-uuid","asset-uuid",-1797647247),BUd=new $APP.K("frontend.worker.rtc.core","unknown-ex","frontend.worker.rtc.core/unknown-ex",933559954),RTd=new $APP.K(null,"sorted-move-ops","sorted-move-ops",-1376028583),D$=new $APP.K(null,"block-uuid-\x3eops","block-uuid-\x3eops",685364161),GSd=new $APP.w(null,"*ops-store","*ops-store",-528108295,null),ZUd=new $APP.K(null,"versions",
"versions",536521978),DTd=new $APP.K(null,"apply-remote-remove-ops","apply-remote-remove-ops",-1032543236),oUd=new $APP.K(null,"left-uuid","left-uuid",405553863),MRd=new $APP.K(null,"pipeline-replace?","pipeline-replace?",-758892518),FUd=new $APP.K("frontend.worker.rtc.core","get-s3-object-failed","frontend.worker.rtc.core/get-s3-object-failed",-153141937),TUd=new $APP.K(null,"target-user-emails","target-user-emails",-25552368),dUd=new $APP.K(null,"apply-remote-update-page-ops","apply-remote-update-page-ops",
-1428664455),DRd=new $APP.K(null,"fix-broken-chain?","fix-broken-chain?",-894948392),HQd=new $APP.K(null,"encoders","encoders",-111722908),OVd=new $APP.w(null,"p1__103773#","p1__103773#",341780020,null),pRd=new $APP.K(null,"add-db","add-db",-1814456640),FQd=new $APP.K(null,"decoders","decoders",1132818244),PVd=new $APP.K(null,"insert-blocks?","insert-blocks?",-393496700),BSd=new $APP.K(null,"close-other-db?","close-other-db?",-1978674579),QVd=new $APP.w(null,"p1__103772#","p1__103772#",410001122,
null),OUd=new $APP.K(null,"force-push-client-ops-chan","force-push-client-ops-chan",59689331),ZRd=new $APP.K("worker","object","worker/object",881291071),PPd=new $APP.K(null,"minMatchCharLength","minMatchCharLength",-46930554),RVd=new $APP.K("frontend.db-worker","download-graph-failed","frontend.db-worker/download-graph-failed",2112232821),RUd=new $APP.K(null,"client-op-update","client-op-update",-1472249758),eUd=new $APP.K(null,"apply-remote-remove-page-ops","apply-remote-remove-page-ops",-917701158),
DUd=new $APP.K(null,"remote-ex","remote-ex",231483810),E$=new $APP.K(null,"asset-uuid-\x3eops","asset-uuid-\x3eops",-1676332642),bSd=new $APP.K(null,"ws-stopped","ws-stopped",-2088337595),KRd=new $APP.K(null,"fail-invalid?","fail-invalid?",2067343710),B$=new $APP.K(null,"retract","retract",-1549826125),tSd=new $APP.K(null,"s3-key","s3-key",696218166),gTd=new $APP.K(null,"asset-name","asset-name",-1412454368),J$=new $APP.K(null,"update-page","update-page",-503479891),FSd=new $APP.w(null,"frontend.worker.rtc.op-mem-layer",
"frontend.worker.rtc.op-mem-layer",1938242288,null),cUd=new $APP.K(null,"affected-blocks","affected-blocks",1873706240),sSd=new $APP.K(null,"all-blocks-str","all-blocks-str",1904494073),SVd=new $APP.K(null,"failed-ops","failed-ops",-653595454),VTd=new $APP.K(null,"apply-remote-update-ops","apply-remote-update-ops",-38907266),Q$=new $APP.K(null,"req-id","req-id",-471642231),QUd=new $APP.K(null,"*stop-rtc-loop-chan","*stop-rtc-loop-chan",1200773616),TVd=new $APP.K(null,"conflicts-tx","conflicts-tx",
1257439975),GUd=new $APP.K(null,"\x3cclient-op-update-handler","\x3cclient-op-update-handler",-2021295860),SUd=new $APP.K(null,"target-user-uuids","target-user-uuids",-739511872),UVd=new $APP.K("frontend.worker.react","react-query-keys","frontend.worker.react/react-query-keys",-1655577384),lRd=new $APP.K(null,"block-ref-ids","block-ref-ids",-280941211),vTd=new $APP.K(null,"*assets-update-state","*assets-update-state",833100125),XUd=new $APP.K("frontend.worker.rtc.core","\x3cget-block-content-versions",
"frontend.worker.rtc.core/\x3cget-block-content-versions",-657844976),NTd=new $APP.K(null,"upsert-whiteboard-block","upsert-whiteboard-block",765052357),VVd=new $APP.K("malli.transform","compiled","malli.transform/compiled",-1910053091),S$=new $APP.K(null,"ex-data","ex-data",-309040259),dQd=new $APP.K("worker","context","worker/context",-1507477131),W$=new $APP.K(null,"*remote-ops","*remote-ops",234002129),eQd=new $APP.K("file","write-file-error","file/write-file-error",-1260826625),nUd=new $APP.K(null,
"parent-uuid","parent-uuid",-2003485227),hUd=new $APP.K(null,"remote-t-before","remote-t-before",-1778889484),sUd=new $APP.K(null,"remove-op","remove-op",1576450797),WVd=new $APP.K("block-type","whiteboard","block-type/whiteboard",-1077635082),uTd=new $APP.K(null,"client-assets-update","client-assets-update",-1902884044),MUd=new $APP.K(null,"_client-op-update-chan","_client-op-update-chan",1498833346),UUd=new $APP.K("frontend.worker.rtc.core","\x3cgrant-graph-access-to-others","frontend.worker.rtc.core/\x3cgrant-graph-access-to-others",
1882264893),jUd=new $APP.K("frontend.worker.rtc.core","skip","frontend.worker.rtc.core/skip",959999327),jTd=new $APP.K(null,"*repo","*repo",-2120083580),XVd=new $APP.K("frontend.worker.react","affected-keys","frontend.worker.react/affected-keys",1349828143),CTd=new $APP.K(null,"delete-whiteboard-blocks","delete-whiteboard-blocks",-881390968),tTd=new $APP.K(null,"continue","continue",-207346553),YUd=new $APP.K(null,"block-uuids","block-uuids",-1313492773),wTd=new $APP.K("frontend.worker.rtc.asset-sync",
"\x3cloop-for-assets-sync","frontend.worker.rtc.asset-sync/\x3cloop-for-assets-sync",-1347369088),ERd=new $APP.K(null,"replace-tx?","replace-tx?",-659417392),NUd=new $APP.K(null,"*auto-push-client-ops?","*auto-push-client-ops?",-1146746470),CSd=new $APP.K(null,"rtc-download-graph?","rtc-download-graph?",-1013530237),qTd=new $APP.K(null,"*auto-push-assets-update-ops?","*auto-push-assets-update-ops?",-303623587),pUd=new $APP.K(null,"*depend-on-block-uuid-set","*depend-on-block-uuid-set",-431701684),
EUd=new $APP.K(null,"graph-lock-failed","graph-lock-failed",-561597533),kSd=new $APP.K(null,"get-s3-object-failed","get-s3-object-failed",-146074641);var kVd=$APP.jl(609);var MPd=$APP.jl(610);var JPd=$APP.Gh.C(null);var x$=$APP.Gh.C(new $APP.m(null,6,[ZRd,null,$Pd,$APP.pf,dQd,$APP.pf,$APP.oC,$APP.pf,$APP.Sz,null,CVd,null],null)),aSd=$APP.Gh.C(null),iVd=$APP.Gh.C(null),TPd=$APP.Gh.C(null),UPd=$APP.Gh.C(null),VPd=$APP.Gh.C(null);var aQd,YVd=dPd(new $APP.O(null,6,5,$APP.Q,[$APP.Yq,new $APP.O(null,2,5,$APP.Q,[$APP.jC,$APP.Dn],null),new $APP.O(null,2,5,$APP.Q,[$APP.eTa,$APP.yB],null),new $APP.O(null,2,5,$APP.Q,[$APP.jy,$APP.yB],null),new $APP.O(null,2,5,$APP.Q,[$APP.gC,$APP.xz],null),new $APP.O(null,2,5,$APP.Q,[$APP.aw,$APP.xz],null)],null),null),ZVd=$APP.rh.C(YVd);aQd=$APP.Bka(1E4,ZVd);
var bQd=new $APP.O(null,10,5,$APP.Q,[$APP.yw,$APP.Qv,$APP.Sv,$APP.Px,$APP.Nv,$APP.Mv,$APP.tw,new $APP.m(null,1,[$APP.iw,new $APP.O(null,1,5,$APP.Q,[$APP.Qv],null)],null),new $APP.m(null,1,[$APP.cw,new $APP.O(null,1,5,$APP.Q,[$APP.Qv],null)],null),new $APP.m(null,1,[$APP.kw,new $APP.O(null,1,5,$APP.Q,[$APP.Qv],null)],null)],null);var iQd=$APP.Gh.C($APP.pf);var JQd={},A$,KQd=function KQd(a,b,c){if($APP.Sc(a))return new $APP.m(null,1,[$APP.Vp,a],null);if($APP.id(a)&&$APP.Xd(a,$APP.Oz)){var e=VVd.A(c,0),f=$APP.T.F(c,VVd,e+1);10<=e&&$APP.zp.A(LVd,new $APP.m(null,3,[AVd,a,$APP.Wo,b,$APP.LA,f],null));e=function(){var g=$APP.Oz.C(a);g=g.A?g.A(b,f):g.call(null,b,f);return KQd.F?KQd.F(g,b,f):KQd.call(null,g,b,f)}();return $APP.n(e)?$APP.Ln.G($APP.G([$APP.cj.A(a,$APP.Oz),e])):null}return $APP.id(a)&&($APP.Xd(a,$APP.Vp)||$APP.Xd(a,$APP.Rwa))?a:$APP.bd(a)?$APP.ie.A(function(g,
h){g=$APP.rf(g);var k=$APP.H.A(g,$APP.Vp),p=$APP.H.A(g,$APP.Rwa);h=$APP.rf(h);var q=$APP.H.A(h,$APP.Vp),r=$APP.H.A(h,$APP.Rwa);return new $APP.m(null,2,[$APP.Vp,$APP.n($APP.n(k)?q:k)?function(u){u=k.C?k.C(u):k.call(null,u);return q.C?q.C(u):q.call(null,u)}:$APP.n(k)?k:q,$APP.Rwa,$APP.n($APP.n(p)?r:p)?function(u){u=r.C?r.C(u):r.call(null,u);return p.C?p.C(u):p.call(null,u)}:$APP.n(p)?p:r],null)},$APP.wk.A(function(g){return KQd.F?KQd.F(g,b,c):KQd.call(null,g,b,c)},a)):null==a?null:$APP.Bd(a)?new $APP.m(null,
1,[$APP.Vp,a],null):$APP.zp.A(KVd,new $APP.m(null,1,[$APP.Xo,a],null))},Z$=function Z$(a){switch(arguments.length){case 0:return Z$.I();case 1:return Z$.C(arguments[0]);default:throw Error(["Invalid arity: ",$APP.t.C(arguments.length)].join(""));}};Z$.I=function(){return Z$.C(null)};
Z$.C=function(a){a=$APP.rf(a);var b=$APP.H.A(a,JVd),c=$APP.H.F(a,FVd,DQd());return LQd($APP.G([new $APP.m(null,3,[$APP.Un,$APP.$A,FQd,function(){var d=$APP.T.F(BQd(),$APP.vq,new $APP.m(null,1,[$APP.Oz,function(e){e=null==e?null:$APP.ur.C(e);e=null==e?null:$APP.A(e);e=null==e?null:$APP.Fp.C(e);e=null==e?null:c.C?c.C(e):c.call(null,e);e=null==e?null:$APP.Wp.A(e,hOd);e=null==e?null:xQd(e);return $APP.n(e)?e:xQd(hOd)}],null));return $APP.n(b)?$APP.T.F(d,$APP.io,zQd):d}(),HQd,CQd()],null)]))};Z$.R=1;var $Vd=new $APP.O(null,9,5,$APP.Q,[$APP.Oq,new $APP.m(null,1,[$APP.Pq,$APP.A],null),new $APP.O(null,2,5,$APP.Q,["move",new $APP.O(null,3,5,$APP.Q,[$APP.Yq,new $APP.O(null,2,5,$APP.Q,[$APP.sC,$APP.Dn],null),new $APP.O(null,2,5,$APP.Q,[$APP.Xo,new $APP.O(null,3,5,$APP.Q,[$APP.ho,new $APP.O(null,2,5,$APP.Q,[$APP.WB,$APP.Cy],null),new $APP.O(null,2,5,$APP.Q,[$APP.gC,$APP.xz],null)],null)],null)],null)],null),new $APP.O(null,2,5,$APP.Q,["remove",new $APP.O(null,3,5,$APP.Q,[$APP.Yq,new $APP.O(null,2,5,
$APP.Q,[$APP.sC,$APP.Dn],null),new $APP.O(null,2,5,$APP.Q,[$APP.Xo,new $APP.O(null,3,5,$APP.Q,[$APP.ho,new $APP.O(null,2,5,$APP.Q,[$APP.WB,$APP.Cy],null),new $APP.O(null,2,5,$APP.Q,[$APP.gC,$APP.xz],null)],null)],null)],null)],null),new $APP.O(null,2,5,$APP.Q,["update",new $APP.O(null,3,5,$APP.Q,[$APP.Yq,new $APP.O(null,2,5,$APP.Q,[$APP.sC,$APP.Dn],null),new $APP.O(null,2,5,$APP.Q,[$APP.Xo,new $APP.O(null,4,5,$APP.Q,[$APP.ho,new $APP.O(null,2,5,$APP.Q,[$APP.WB,$APP.Cy],null),new $APP.O(null,3,5,$APP.Q,
[SRd,new $APP.m(null,1,[$APP.tq,!0],null),new $APP.O(null,9,5,$APP.Q,[$APP.ho,new $APP.m(null,1,[$APP.pq,!0],null),new $APP.O(null,3,5,$APP.Q,[$APP.Wo,new $APP.m(null,1,[$APP.tq,!0],null),$APP.BA],null),new $APP.O(null,3,5,$APP.Q,[$APP.Ex,new $APP.m(null,1,[$APP.tq,!0],null),$APP.BA],null),new $APP.O(null,3,5,$APP.Q,[$APP.Ix,new $APP.m(null,1,[$APP.tq,!0],null),$APP.BA],null),new $APP.O(null,3,5,$APP.Q,[$APP.Hw,new $APP.m(null,1,[$APP.tq,!0],null),new $APP.O(null,3,5,$APP.Q,[$APP.ho,new $APP.O(null,
3,5,$APP.Q,[$APP.mB,new $APP.m(null,1,[$APP.tq,!0],null),new $APP.O(null,2,5,$APP.Q,[$APP.jo,$APP.Cy],null)],null),new $APP.O(null,3,5,$APP.Q,[B$,new $APP.m(null,1,[$APP.tq,!0],null),new $APP.O(null,2,5,$APP.Q,[$APP.jo,$APP.Cy],null)],null)],null)],null),new $APP.O(null,3,5,$APP.Q,[$APP.yl,new $APP.m(null,1,[$APP.tq,!0],null),new $APP.O(null,3,5,$APP.Q,[$APP.ho,new $APP.O(null,3,5,$APP.Q,[$APP.mB,new $APP.m(null,1,[$APP.tq,!0],null),new $APP.O(null,2,5,$APP.Q,[$APP.jo,$APP.Dn],null)],null),new $APP.O(null,
3,5,$APP.Q,[B$,new $APP.m(null,1,[$APP.tq,!0],null),new $APP.O(null,2,5,$APP.Q,[$APP.jo,$APP.Dn],null)],null)],null)],null),new $APP.O(null,3,5,$APP.Q,[$APP.Zx,new $APP.m(null,1,[$APP.tq,!0],null),new $APP.O(null,3,5,$APP.Q,[$APP.ho,new $APP.O(null,3,5,$APP.Q,[$APP.mB,new $APP.m(null,1,[$APP.tq,!0],null),new $APP.O(null,2,5,$APP.Q,[$APP.jo,$APP.Cy],null)],null),new $APP.O(null,3,5,$APP.Q,[B$,new $APP.m(null,1,[$APP.tq,!0],null),new $APP.O(null,2,5,$APP.Q,[$APP.jo,$APP.Cy],null)],null)],null)],null),
new $APP.O(null,3,5,$APP.Q,[$APP.Ap,new $APP.m(null,1,[$APP.tq,!0],null),new $APP.O(null,3,5,$APP.Q,[$APP.ho,new $APP.O(null,3,5,$APP.Q,[$APP.mB,new $APP.m(null,1,[$APP.tq,!0],null),new $APP.O(null,2,5,$APP.Q,[$APP.jo,$APP.Cy],null)],null),new $APP.O(null,3,5,$APP.Q,[B$,new $APP.m(null,1,[$APP.tq,!0],null),new $APP.O(null,2,5,$APP.Q,[$APP.jo,$APP.Cy],null)],null)],null)],null)],null)],null),new $APP.O(null,2,5,$APP.Q,[$APP.gC,$APP.xz],null)],null)],null)],null)],null),new $APP.O(null,2,5,$APP.Q,["update-page",
new $APP.O(null,3,5,$APP.Q,[$APP.Yq,new $APP.O(null,2,5,$APP.Q,[$APP.sC,$APP.Dn],null),new $APP.O(null,2,5,$APP.Q,[$APP.Xo,new $APP.O(null,3,5,$APP.Q,[$APP.ho,new $APP.O(null,2,5,$APP.Q,[$APP.WB,$APP.Cy],null),new $APP.O(null,2,5,$APP.Q,[$APP.gC,$APP.xz],null)],null)],null)],null)],null),new $APP.O(null,2,5,$APP.Q,["remove-page",new $APP.O(null,3,5,$APP.Q,[$APP.Yq,new $APP.O(null,2,5,$APP.Q,[$APP.sC,$APP.Dn],null),new $APP.O(null,2,5,$APP.Q,[$APP.Xo,new $APP.O(null,3,5,$APP.Q,[$APP.ho,new $APP.O(null,
2,5,$APP.Q,[$APP.WB,$APP.Cy],null),new $APP.O(null,2,5,$APP.Q,[$APP.gC,$APP.xz],null)],null)],null)],null)],null),new $APP.O(null,2,5,$APP.Q,["update-asset",new $APP.O(null,3,5,$APP.Q,[$APP.Yq,new $APP.O(null,2,5,$APP.Q,[$APP.sC,$APP.Dn],null),new $APP.O(null,2,5,$APP.Q,[$APP.Xo,new $APP.O(null,3,5,$APP.Q,[$APP.ho,new $APP.O(null,2,5,$APP.Q,[H$,$APP.Cy],null),new $APP.O(null,2,5,$APP.Q,[$APP.gC,$APP.xz],null)],null)],null)],null)],null),new $APP.O(null,2,5,$APP.Q,["remove-asset",new $APP.O(null,3,
5,$APP.Q,[$APP.Yq,new $APP.O(null,2,5,$APP.Q,[$APP.sC,$APP.Dn],null),new $APP.O(null,2,5,$APP.Q,[$APP.Xo,new $APP.O(null,3,5,$APP.Q,[$APP.ho,new $APP.O(null,2,5,$APP.Q,[H$,$APP.Cy],null),new $APP.O(null,2,5,$APP.Q,[$APP.gC,$APP.xz],null)],null)],null)],null)],null)],null),aWd=new $APP.O(null,2,5,$APP.Q,[$APP.Ur,$Vd],null),cRd;
cRd=dPd(new $APP.O(null,2,5,$APP.Q,[$APP.Ur,new $APP.O(null,3,5,$APP.Q,[$APP.Yq,new $APP.O(null,2,5,$APP.Q,[$APP.xq,$APP.xz],null),new $APP.O(null,2,5,$APP.Q,[$APP.sC,$Vd],null)],null)],null),Z$);$APP.hD.C(aWd);
var SQd=cPd(aWd,Z$),fRd=aPd(aWd,Z$),bWd=new $APP.O(null,7,5,$APP.Q,[$APP.ho,new $APP.O(null,3,5,$APP.Q,[$APP.Zz,new $APP.m(null,1,[$APP.tq,!0],null),$APP.Dn],null),new $APP.O(null,3,5,$APP.Q,[$APP.mZa,new $APP.m(null,1,[$APP.tq,!0],null),$APP.xz],null),new $APP.O(null,2,5,$APP.Q,[D$,new $APP.O(null,3,5,$APP.Q,[$APP.vq,$APP.Cy,new $APP.O(null,3,5,$APP.Q,[$APP.vq,new $APP.O(null,6,5,$APP.Q,[$APP.Cq,$APP.hA,$APP.lA,$APP.DA,J$,I$],null),$APP.yB],null)],null)],null),new $APP.O(null,2,5,$APP.Q,[E$,new $APP.O(null,
3,5,$APP.Q,[$APP.vq,$APP.Cy,new $APP.O(null,3,5,$APP.Q,[$APP.vq,new $APP.O(null,3,5,$APP.Q,[$APP.Cq,QQd,PQd],null),$APP.yB],null)],null)],null),new $APP.O(null,2,5,$APP.Q,[F$,new $APP.O(null,3,5,$APP.Q,[$APP.vq,$APP.xz,$APP.Cy],null)],null),new $APP.O(null,2,5,$APP.Q,[G$,new $APP.O(null,3,5,$APP.Q,[$APP.vq,$APP.xz,$APP.Cy],null)],null)],null),cWd=dPd(new $APP.O(null,3,5,$APP.Q,[$APP.vq,$APP.Dn,new $APP.O(null,3,5,$APP.Q,[$APP.ho,new $APP.O(null,2,5,$APP.Q,[M$,bWd],null),new $APP.O(null,3,5,$APP.Q,
[L$,new $APP.m(null,1,[$APP.tq,!0],null),new $APP.O(null,2,5,$APP.Q,[$APP.Ok,bWd],null)],null)],null)],null),null),K$=$APP.Gh.G($APP.pf,$APP.G([$APP.xQa,cWd])),OQd=function OQd(a,b){var d=$APP.gC.C($APP.Dc(a)),e=$APP.gC.C($APP.Dc(b));if(d>e)return OQd.A?OQd.A(b,a):OQd.call(null,b,a);var f=SRd.C($APP.Dc(a)),g=SRd.C($APP.Dc(b)),h=NQd($APP.Hw.C(f),$APP.Hw.C(g)),k=NQd($APP.yl.C(f),$APP.yl.C(g));d=NQd($APP.Zx.C(f),$APP.Zx.C(g));b=NQd($APP.Ap.C(f),$APP.Ap.C(g));f=$APP.Ln.G($APP.G([$APP.Mg(f,new $APP.O(null,
3,5,$APP.Q,[$APP.Wo,$APP.Ex,$APP.Ix],null)),$APP.Mg(g,new $APP.O(null,3,5,$APP.Q,[$APP.Wo,$APP.Ex,$APP.Ix],null))]));f=$APP.n(h)?$APP.T.F(f,$APP.Hw,h):f;k=$APP.n(k)?$APP.T.F(f,$APP.yl,k):f;d=$APP.n(d)?$APP.T.F(k,$APP.Zx,d):k;b=$APP.n(b)?$APP.T.F(d,$APP.Ap,b):d;return new $APP.O(null,2,5,$APP.Q,["update",new $APP.m(null,3,[$APP.WB,$APP.WB.C($APP.Dc(a)),SRd,b,$APP.gC,e],null)],null)},uSd=new $APP.m(null,1,[M$,new $APP.m(null,4,[D$,$APP.pf,F$,$APP.hz($APP.Pr),E$,$APP.pf,G$,$APP.hz($APP.Pr)],null)],null);
(function(){var a=$APP.Ti(1);$APP.Ii(function(){var b=function(){function d(e){var f=e[1];if(7===f)return e[7]=e[2],e[2]=null,e[1]=2,$APP.V;if(1===f)return e[2]=null,e[1]=2,$APP.V;if(4===f){f=e[2];var g=$APP.Sz.C($APP.v(x$));e[9]=f;e[8]=g;e[1]=$APP.n(g)?5:6;return $APP.V}return 13===f?(e[2]=e[2],e[1]=7,$APP.V):6===f?(e[2]=null,e[1]=7,$APP.V):3===f?$APP.Ri(e,e[2]):12===f?(e[2]=null,e[1]=13,$APP.V):2===f?(f=$APP.Mi(3E3),$APP.Pi(e,4,f)):11===f?(f=e[8],f=gRd(f),$APP.Pi(e,14,f)):9===f?(e[2]=e[10],e[1]=
10,$APP.V):5===f?(f=e[8],f=$APP.Lv(f),e[10]=f,e[1]=f?8:9,$APP.V):14===f?(e[2]=e[2],e[1]=13,$APP.V):10===f?(e[1]=$APP.n(e[2])?11:12,$APP.V):8===f?(f=e[8],g=$APP.v(K$),f=g.C?g.C(f):g.call(null,f),f=$APP.Xd(f,M$),e[2]=f,e[1]=10,$APP.V):null}return function(){function e(h){for(;;){a:try{for(;;){var k=d(h);if(!$APP.Se(k,$APP.V)){var p=k;break a}}}catch(q){p=q;h[2]=p;if($APP.y(h[4]))h[1]=$APP.A(h[4]);else throw p;p=$APP.V}if(!$APP.Se(p,$APP.V))return p}}function f(){var h=[null,null,null,null,null,null,
null,null,null,null,null];h[0]=g;h[1]=1;return h}var g=null;g=function(h){switch(arguments.length){case 0:return f.call(this);case 1:return e.call(this,h)}throw Error("Invalid arity: "+arguments.length);};g.I=f;g.C=e;return g}()}(),c=function(){var d=b();d[6]=a;return d}();return $APP.Oi(c)});return a})();$APP.ak($APP.GC,$APP.nj($APP.Bma,$APP.nj($APP.ii,new $APP.O(null,1,5,$APP.Q,[QVd],null),$APP.nj($APP.lk,$APP.GC,QVd)),$APP.zr),$APP.yma(new $APP.O(null,2,5,$APP.Q,[$APP.nj($APP.tB,new $APP.O(null,1,5,$APP.Q,[$APP.Wj],null),$APP.nj($APP.lk,$APP.GC,$APP.Wj)),$APP.zr],null),new $APP.O(null,2,5,$APP.Q,[function(a){return $APP.B.A($APP.GC,a)},$APP.Kd],null)));
$APP.ak($APP.sz,$APP.nj($APP.Bma,$APP.nj($APP.ii,new $APP.O(null,1,5,$APP.Q,[OVd],null),$APP.nj($APP.lk,$APP.sz,OVd))),$APP.yma(new $APP.O(null,1,5,$APP.Q,[$APP.nj($APP.tB,new $APP.O(null,1,5,$APP.Q,[$APP.Wj],null),$APP.nj($APP.lk,$APP.sz,$APP.Wj))],null),new $APP.O(null,1,5,$APP.Q,[function(a){return $APP.B.A($APP.sz,a)}],null)));
$APP.ak($APP.JA,$APP.nj($APP.Bma,$APP.nj($APP.ii,new $APP.O(null,1,5,$APP.Q,[NVd],null),$APP.nj($APP.lk,$APP.JA,NVd)),$APP.zr),$APP.yma(new $APP.O(null,2,5,$APP.Q,[$APP.nj($APP.tB,new $APP.O(null,1,5,$APP.Q,[$APP.Wj],null),$APP.nj($APP.lk,$APP.JA,$APP.Wj)),$APP.zr],null),new $APP.O(null,2,5,$APP.Q,[function(a){return $APP.B.A($APP.JA,a)},$APP.Kd],null)));$APP.ak(BVd,$APP.vr,$APP.tb);
$APP.ak(UVd,$APP.nj($APP.uC,$APP.Vm,$APP.GC,$APP.RYa,$APP.sz,$APP.Lx,$APP.JA,$APP.MB,BVd),$APP.SC(new $APP.O(null,4,5,$APP.Q,[$APP.Vm,$APP.RYa,$APP.Lx,$APP.MB],null),new $APP.O(null,4,5,$APP.Q,[$APP.GC,$APP.sz,$APP.JA,BVd],null),new $APP.O(null,4,5,$APP.Q,[$APP.GC,$APP.sz,$APP.JA,BVd],null),null));$APP.ak(XVd,$APP.nj($APP.gA,UVd),$APP.yk(UVd,UVd,new $APP.m(null,4,[$APP.tk,!0,$APP.ok,null,$APP.qk,$APP.nj($APP.gA,UVd),$APP.pk,function(a){return $APP.bd(a)}],null),null));var dWd=$APP.tg.A(new $APP.O(null,2,5,$APP.Q,[$APP.Oq,new $APP.m(null,1,[$APP.Pq,$APP.Tc(function(a,b){var c=$APP.wt.A;b=new $APP.O(null,2,5,$APP.Q,[$APP.Qv,$APP.A(b)],null);a=$APP.zt.A?$APP.zt.A(a,b):$APP.zt.call(null,a,b);return c.call($APP.wt,a,new $APP.O(null,2,5,$APP.Q,[$APP.ey,$APP.yl],null))},new $APP.m(null,1,[pRd,!0],null))],null)],null),$APP.rh.A(function(a){var b=$APP.C.F(a,0,null);a=$APP.C.F(a,1,null);return $APP.Tc(new $APP.O(null,2,5,$APP.Q,[b,$APP.ld(a)?$APP.Jc(a):a],null),new $APP.m(null,
1,[$APP.SVa,!0],null))},$APP.T4a)),eWd=new $APP.O(null,2,5,$APP.Q,[$APP.Ur,dWd],null),$$=new $APP.O(null,8,5,$APP.Q,[new $APP.O(null,2,5,$APP.Q,[$APP.Qv,$APP.Cy],null),new $APP.O(null,2,5,$APP.Q,[$APP.Nv,$APP.xz],null),new $APP.O(null,2,5,$APP.Q,[$APP.Mv,$APP.xz],null),new $APP.O(null,2,5,$APP.Q,[$APP.Px,new $APP.O(null,2,5,$APP.Q,[$APP.Cq,$APP.cs],null)],null),new $APP.O(null,3,5,$APP.Q,[$APP.yw,new $APP.m(null,1,[$APP.tq,!0],null),eWd],null),new $APP.O(null,3,5,$APP.Q,[$APP.Tv,new $APP.m(null,1,
[$APP.tq,!0],null),new $APP.O(null,2,5,$APP.Q,[$APP.jo,$APP.xz],null)],null),new $APP.O(null,3,5,$APP.Q,[$APP.Vv,new $APP.m(null,1,[$APP.tq,!0],null),new $APP.O(null,2,5,$APP.Q,[$APP.jo,$APP.xz],null)],null),new $APP.O(null,3,5,$APP.Q,[$APP.wA,new $APP.m(null,1,[$APP.tq,!0],null),$APP.xz],null)],null),fWd=new $APP.O(null,6,5,$APP.Q,[new $APP.O(null,2,5,$APP.Q,[$APP.Pv,$APP.Dn],null),new $APP.O(null,2,5,$APP.Q,[$APP.Rv,$APP.Dn],null),new $APP.O(null,3,5,$APP.Q,[$APP.fw,new $APP.m(null,1,[$APP.tq,!0],
null),new $APP.O(null,5,5,$APP.Q,[$APP.Cq,new $APP.Ng(null,new $APP.m(null,1,["property",null],null),null),new $APP.Ng(null,new $APP.m(null,1,["class",null],null),null),new $APP.Ng(null,new $APP.m(null,1,["whiteboard",null],null),null),new $APP.Ng(null,new $APP.m(null,1,["hidden",null],null),null)],null)],null),new $APP.O(null,2,5,$APP.Q,[$APP.rw,$APP.oz],null),new $APP.O(null,3,5,$APP.Q,[$APP.Bw,new $APP.m(null,1,[$APP.tq,!0],null),new $APP.O(null,2,5,$APP.Q,[$APP.jo,$APP.xz],null)],null),new $APP.O(null,
3,5,$APP.Q,[$APP.Ox,new $APP.m(null,1,[$APP.tq,!0],null),new $APP.O(null,2,5,$APP.Q,[$APP.jo,$APP.xz],null)],null)],null),gWd=$APP.ke($APP.kk.G(new $APP.O(null,4,5,$APP.Q,[$APP.ho,new $APP.O(null,3,5,$APP.Q,[$APP.tw,new $APP.m(null,1,[$APP.tq,!0],null),$APP.oz],null),new $APP.O(null,3,5,$APP.Q,[$APP.Kx,new $APP.m(null,1,[$APP.tq,!0],null),$APP.xz],null),new $APP.O(null,3,5,$APP.Q,[$APP.Dw,new $APP.m(null,1,[$APP.tq,!0],null),$APP.xz],null)],null),fWd,$APP.G([$$]))),hWd=$APP.ke($APP.kk.G(new $APP.O(null,
3,5,$APP.Q,[$APP.ho,new $APP.O(null,3,5,$APP.Q,[$APP.Dw,new $APP.m(null,1,[$APP.tq,!0],null),$APP.xz],null),new $APP.O(null,3,5,$APP.Q,[$APP.ey,new $APP.m(null,1,[$APP.tq,!0],null),new $APP.O(null,2,5,$APP.Q,[$APP.ho,new $APP.O(null,3,5,$APP.Q,[$APP.Ap,new $APP.m(null,1,[$APP.tq,!0],null),new $APP.O(null,2,5,$APP.Q,[$APP.io,$APP.Cy],null)],null)],null)],null)],null),fWd,$APP.G([$$]))),iWd=new $APP.O(null,4,5,$APP.Q,[new $APP.O(null,3,5,$APP.Q,[$APP.VB,new $APP.m(null,1,[$APP.tq,!0],null),new $APP.O(null,
3,5,$APP.Q,[$APP.Cq,$APP.iWa,$APP.Qz],null)],null),new $APP.O(null,3,5,$APP.Q,[$APP.Eq,new $APP.m(null,1,[$APP.tq,!0],null),new $APP.O(null,2,5,$APP.Q,[$APP.io,$APP.Cy],null)],null),new $APP.O(null,3,5,$APP.Q,[$APP.kB,new $APP.m(null,1,[$APP.tq,!0],null),$APP.Dn],null),new $APP.O(null,3,5,$APP.Q,[$APP.JB,new $APP.m(null,1,[$APP.tq,!0],null),new $APP.O(null,2,5,$APP.Q,[$APP.jo,new $APP.O(null,3,5,$APP.Q,[$APP.gq,$APP.Cy,$APP.Do],null)],null)],null)],null),jWd=new $APP.O(null,2,5,$APP.Q,[new $APP.O(null,
3,5,$APP.Q,[$APP.sA,new $APP.m(null,1,[$APP.tq,!0],null),$APP.oz],null),new $APP.O(null,3,5,$APP.Q,[$APP.RA,new $APP.m(null,1,[$APP.tq,!0],null),$APP.Dn],null)],null),kWd=$APP.ke($APP.kk.G(new $APP.O(null,2,5,$APP.Q,[$APP.ho,new $APP.O(null,2,5,$APP.Q,[$APP.ey,$APP.ke($APP.kk.G(new $APP.O(null,2,5,$APP.Q,[$APP.ho,new $APP.O(null,2,5,$APP.Q,[$APP.yl,$APP.Gf.F($APP.Fk,$APP.Cq,$APP.tg.A($APP.Q4a,$APP.R4a))],null)],null),jWd,$APP.G([iWd])))],null)],null),fWd,$APP.G([$$]))),lWd=$APP.tg.A(new $APP.O(null,
2,5,$APP.Q,[$APP.Oq,new $APP.m(null,1,[$APP.Pq,$APP.yl],null)],null),$APP.rh.A(function(a){return new $APP.O(null,2,5,$APP.Q,[a,$APP.ke($APP.kk.G(new $APP.O(null,2,5,$APP.Q,[$APP.ho,new $APP.O(null,2,5,$APP.Q,[$APP.yl,$APP.Do],null)],null),jWd,$APP.G([$APP.wl.A(function(b){return!$APP.YNa(a,$APP.A(b))},iWd)])))],null)},$APP.R4a)),mWd=$APP.ke($APP.kk.G(new $APP.O(null,2,5,$APP.Q,[$APP.ho,new $APP.O(null,3,5,$APP.Q,[$APP.ey,new $APP.m(null,1,[$APP.tq,!0],null),lWd],null)],null),fWd,$APP.G([$$]))),nWd=
new $APP.O(null,4,5,$APP.Q,[$APP.Oq,new $APP.m(null,1,[$APP.Pq,function(a){return $APP.Xd($APP.O4a,$APP.Pv.C(a))}],null),new $APP.O(null,2,5,$APP.Q,[!0,kWd],null),new $APP.O(null,2,5,$APP.Q,[$APP.Hxa,mWd],null)],null),oWd=$APP.ke($APP.kk.G(new $APP.O(null,2,5,$APP.Q,[$APP.ho,new $APP.O(null,3,5,$APP.Q,[$APP.by,new $APP.m(null,1,[$APP.tq,!0],null),new $APP.O(null,2,5,$APP.Q,[$APP.ho,new $APP.O(null,2,5,$APP.Q,[$APP.E1a,$APP.Cy],null)],null)],null)],null),fWd,$APP.G([$$]))),pWd=new $APP.O(null,6,5,
$APP.Q,[$APP.Oq,new $APP.m(null,1,[$APP.Pq,$APP.fw],null),new $APP.O(null,2,5,$APP.Q,[new $APP.Ng(null,new $APP.m(null,1,["property",null],null),null),nWd],null),new $APP.O(null,2,5,$APP.Q,[new $APP.Ng(null,new $APP.m(null,1,["class",null],null),null),hWd],null),new $APP.O(null,2,5,$APP.Q,[new $APP.Ng(null,new $APP.m(null,1,["hidden",null],null),null),oWd],null),new $APP.O(null,2,5,$APP.Q,[$APP.Hxa,gWd],null)],null),qWd=new $APP.O(null,15,5,$APP.Q,[new $APP.O(null,2,5,$APP.Q,[$APP.Sv,$APP.Dn],null),
new $APP.O(null,2,5,$APP.Q,[$APP.cw,$APP.xz],null),new $APP.O(null,2,5,$APP.Q,[$APP.kw,$APP.xz],null),new $APP.O(null,3,5,$APP.Q,[$APP.by,new $APP.m(null,1,[$APP.tq,!0],null),new $APP.O(null,4,5,$APP.Q,[$APP.ho,new $APP.O(null,2,5,$APP.Q,[$APP.yXa,$APP.Cy],null),new $APP.O(null,2,5,$APP.Q,[$APP.cy,$APP.Cy],null),new $APP.O(null,3,5,$APP.Q,[$APP.UWa,new $APP.m(null,1,[$APP.tq,!0],null),$APP.Cy],null)],null)],null),new $APP.O(null,2,5,$APP.Q,[$APP.iw,$APP.xz],null),new $APP.O(null,3,5,$APP.Q,[$APP.Ox,
new $APP.m(null,1,[$APP.tq,!0],null),new $APP.O(null,2,5,$APP.Q,[$APP.jo,$APP.xz],null)],null),new $APP.O(null,3,5,$APP.Q,[$APP.ay,new $APP.m(null,1,[$APP.tq,!0],null),new $APP.O(null,2,5,$APP.Q,[$APP.jo,$APP.xz],null)],null),new $APP.O(null,3,5,$APP.Q,[$APP.my,new $APP.m(null,1,[$APP.tq,!0],null),$APP.xz],null),new $APP.O(null,3,5,$APP.Q,[$APP.v_a,new $APP.m(null,1,[$APP.tq,!0],null),new $APP.O(null,2,5,$APP.Q,[$APP.jo,$APP.xz],null)],null),new $APP.O(null,3,5,$APP.Q,[$APP.dy,new $APP.m(null,1,[$APP.tq,
!0],null),$APP.Dn],null),new $APP.O(null,3,5,$APP.Q,[$APP.AZa,new $APP.m(null,1,[$APP.tq,!0],null),$APP.xz],null),new $APP.O(null,3,5,$APP.Q,[$APP.A1a,new $APP.m(null,1,[$APP.tq,!0],null),$APP.xz],null),new $APP.O(null,3,5,$APP.Q,[$APP.u_a,new $APP.m(null,1,[$APP.tq,!0],null),$APP.oz],null),new $APP.O(null,3,5,$APP.Q,[$APP.fy,new $APP.m(null,1,[$APP.tq,!0],null),$APP.Dn],null),new $APP.O(null,3,5,$APP.Q,[$APP.tw,new $APP.m(null,1,[$APP.tq,!0],null),$APP.oz],null)],null),rWd=$APP.ke($APP.kk.G(new $APP.O(null,
1,5,$APP.Q,[$APP.ho],null),new $APP.O(null,4,5,$APP.Q,[new $APP.O(null,2,5,$APP.Q,[$APP.Sv,$APP.Dn],null),new $APP.O(null,2,5,$APP.Q,[$APP.kw,$APP.xz],null),new $APP.O(null,2,5,$APP.Q,[$APP.iw,$APP.xz],null),new $APP.O(null,3,5,$APP.Q,[$APP.Ox,new $APP.m(null,1,[$APP.tq,!0],null),new $APP.O(null,2,5,$APP.Q,[$APP.jo,$APP.xz],null)],null)],null),$APP.G([$$]))),sWd=$APP.ke($APP.kk.G(new $APP.O(null,1,5,$APP.Q,[$APP.ho],null),new $APP.O(null,3,5,$APP.Q,[new $APP.O(null,2,5,$APP.Q,[$APP.fw,new $APP.O(null,
2,5,$APP.Q,[$APP.Rr,new $APP.Ng(null,new $APP.m(null,1,["closed value",null],null),null)],null)],null),new $APP.O(null,3,5,$APP.Q,[$APP.ey,new $APP.m(null,1,[$APP.tq,!0],null),new $APP.O(null,3,5,$APP.Q,[$APP.ho,new $APP.O(null,2,5,$APP.Q,[$APP.Xo,new $APP.O(null,3,5,$APP.Q,[$APP.gq,$APP.Dn,$APP.DC],null)],null),new $APP.O(null,3,5,$APP.Q,[$APP.RA,new $APP.m(null,1,[$APP.tq,!0],null),$APP.Dn],null)],null)],null),new $APP.O(null,2,5,$APP.Q,[$APP.by,new $APP.O(null,2,5,$APP.Q,[$APP.ho,new $APP.O(null,
2,5,$APP.Q,[$APP.cy,$APP.Cy],null)],null)],null)],null),$APP.G([$APP.wl.A(function(a){a=$APP.A(a);var b=new $APP.Ng(null,new $APP.m(null,3,[$APP.cw,null,$APP.by,null,$APP.Sv,null],null),null);return b.C?b.C(a):b.call(null,a)},qWd),$$]))),tWd=$APP.ke($APP.kk.G(new $APP.O(null,1,5,$APP.Q,[$APP.ho],null),qWd,$APP.G([$$]))),uWd=new $APP.O(null,6,5,$APP.Q,[$APP.ho,new $APP.O(null,2,5,$APP.Q,[$APP.Qv,$APP.Cy],null),new $APP.O(null,3,5,$APP.Q,[$APP.wA,new $APP.m(null,1,[$APP.tq,!0],null),$APP.xz],null),
new $APP.O(null,2,5,$APP.Q,[$APP.pA,$APP.Dn],null),new $APP.O(null,2,5,$APP.Q,[$APP.hw,$APP.Dn],null),new $APP.O(null,2,5,$APP.Q,[$APP.pC,$APP.oc],null)],null),vWd=new $APP.O(null,3,5,$APP.Q,[$APP.ho,new $APP.O(null,2,5,$APP.Q,[$APP.p0a,$APP.Cy],null),new $APP.O(null,2,5,$APP.Q,[$APP.aXa,$APP.ho],null)],null),wWd=new $APP.O(null,4,5,$APP.Q,[$APP.ho,new $APP.O(null,2,5,$APP.Q,[$APP.ct,$APP.Do],null),new $APP.O(null,2,5,$APP.Q,[$APP.jYa,$APP.xz],null),new $APP.O(null,3,5,$APP.Q,[$APP.wA,new $APP.m(null,
1,[$APP.tq,!0],null),$APP.xz],null)],null),xWd=new $APP.O(null,4,5,$APP.Q,[$APP.ho,new $APP.O(null,2,5,$APP.Q,[$APP.ct,$APP.Do],null),new $APP.O(null,3,5,$APP.Q,[$APP.jUa,new $APP.m(null,1,[$APP.tq,!0],null),$APP.Dn],null),new $APP.O(null,3,5,$APP.Q,[$APP.wA,new $APP.m(null,1,[$APP.tq,!0],null),$APP.xz],null)],null),qRd=new $APP.O(null,2,5,$APP.Q,[$APP.Ur,new $APP.O(null,8,5,$APP.Q,[$APP.gq,pWd,new $APP.O(null,4,5,$APP.Q,[$APP.gq,tWd,sWd,rWd],null),uWd,wWd,xWd,new $APP.O(null,6,5,$APP.Q,[$APP.ho,
new $APP.O(null,2,5,$APP.Q,[$APP.ct,$APP.Dn],null),new $APP.O(null,2,5,$APP.Q,[$APP.Qv,$APP.Cy],null),new $APP.O(null,2,5,$APP.Q,[$APP.fw,new $APP.O(null,2,5,$APP.Q,[$APP.Rr,new $APP.Ng(null,new $APP.m(null,1,["macro",null],null),null)],null)],null),new $APP.O(null,2,5,$APP.Q,[$APP.yw,eWd],null),new $APP.O(null,3,5,$APP.Q,[$APP.wA,new $APP.m(null,1,[$APP.tq,!0],null),$APP.xz],null)],null),vWd],null)],null),yWd=$APP.Ug($APP.rh.A($APP.A,$APP.Wf.A(function(a){return $APP.B.A($APP.Jc(a),new $APP.O(null,
2,5,$APP.Q,[$APP.jo,$APP.xz],null))},$APP.kk.G(fWd,qWd,$APP.G([$$]))))),zWd=$APP.y($APP.wl.A(yWd,$APP.c3a));if(zWd)throw $APP.xl.A(["The malli DB schema is missing the following cardinality-many ref attributes from datascript's schema: ",$APP.Qj.A(", ",zWd)].join(""),$APP.pf);
var AWd=$APP.Ug($APP.rh.A($APP.A,$APP.Wf.A(function(a){return $APP.B.A($APP.Jc(a),$APP.xz)},$APP.kk.G(fWd,qWd,$APP.G([$$,$APP.hc(gWd)]))))),BWd=$APP.y($APP.wl.A($APP.Yu.A(AWd,new $APP.Ng(null,new $APP.m(null,1,[$APP.gw,null],null),null)),$APP.d3a));if(BWd)throw $APP.xl.A(["The malli DB schema is missing the following cardinality-one ref attributes from datascript's schema: ",$APP.Qj.A(", ",BWd)].join(""),$APP.pf);
var CWd=$APP.Ug($APP.rh.A($APP.A,$APP.wl.A(function(a){return $APP.B.A($APP.Jc(a),new $APP.O(null,2,5,$APP.Q,[$APP.jo,$APP.xz],null))},$APP.kk.G($APP.hc(uWd),$APP.hc(vWd),$APP.G([$APP.hc(xWd),$APP.hc(wWd),$APP.hc(hWd),$APP.kk.G(fWd,qWd,$APP.G([$$,$APP.hc(gWd)]))]))))),DWd=$APP.y($APP.wl.A($APP.Yu.A(CWd,new $APP.Ng(null,new $APP.m(null,1,[$APP.M_a,null],null),null)),$APP.e3a));
if(DWd)throw $APP.xl.A(["The malli DB schema is missing the following non ref attributes from datascript's schema: ",$APP.Qj.A(", ",DWd)].join(""),$APP.pf);var FRd=function FRd(a,b,c,d){var f=$APP.v(a),g=BRd(f,b);f=$APP.y(g)?ARd(f,g):null;if($APP.y(f)){$APP.Cv.G($APP.G([$APP.FC,TVd]));$APP.Pm(f);var h=$APP.ot.C($APP.Zv(a,f,c));$APP.Ih.A(d,function(k){return $APP.kk.A(k,h)});return $APP.y(BRd($APP.v(a),b))?FRd.K?FRd.K(a,b,c,d):FRd.call(null,a,b,c,d):null}return null};var EWd=new $APP.O(null,8,5,$APP.Q,[new $APP.O(null,3,5,$APP.Q,[$APP.Zw,new $APP.m(null,1,[$APP.tq,!0],null),$APP.xz],null),new $APP.O(null,3,5,$APP.Q,[$APP.hx,new $APP.m(null,1,[$APP.tq,!0],null),$APP.xz],null),new $APP.O(null,3,5,$APP.Q,[$APP.Hw,new $APP.m(null,1,[$APP.tq,!0],null),new $APP.O(null,2,5,$APP.Q,[$APP.Ok,new $APP.O(null,2,5,$APP.Q,[$APP.Ur,$APP.Cy],null)],null)],null),new $APP.O(null,3,5,$APP.Q,[$APP.yl,new $APP.m(null,1,[$APP.tq,!0],null),new $APP.O(null,2,5,$APP.Q,[$APP.Ok,new $APP.O(null,
2,5,$APP.Q,[$APP.Ur,$APP.Dn],null)],null)],null),new $APP.O(null,3,5,$APP.Q,[$APP.Wo,new $APP.m(null,1,[$APP.tq,!0],null),new $APP.O(null,2,5,$APP.Q,[$APP.Ok,$APP.Dn],null)],null),new $APP.O(null,3,5,$APP.Q,[$APP.Zx,new $APP.m(null,1,[$APP.tq,!0],null),new $APP.O(null,2,5,$APP.Q,[$APP.Ok,new $APP.O(null,2,5,$APP.Q,[$APP.Ur,$APP.Cy],null)],null)],null),new $APP.O(null,3,5,$APP.Q,[$APP.Ap,new $APP.m(null,1,[$APP.tq,!0],null),new $APP.O(null,2,5,$APP.Q,[$APP.Ok,$APP.Dn],null)],null),new $APP.O(null,
3,5,$APP.Q,[$APP.Ix,new $APP.m(null,1,[$APP.tq,!0],null),new $APP.O(null,2,5,$APP.Q,[$APP.Ok,$APP.Cy],null)],null)],null),PTd=$APP.tg.F($APP.Pg,$APP.rh.C($APP.A),EWd),FWd=new $APP.O(null,6,5,$APP.Q,[$APP.Cq,"property","class","whiteboard","hidden","closed value"],null),GWd=new $APP.O(null,7,5,$APP.Q,[$APP.Oq,new $APP.m(null,2,[$APP.Pq,$APP.A,HVd,function(a){return $APP.Wr.F(a,0,$APP.sh)}],null),new $APP.O(null,2,5,$APP.Q,[$APP.hA,new $APP.O(null,3,5,$APP.Q,[$APP.Xq,$APP.Do,new $APP.O(null,4,5,$APP.Q,
[$APP.ho,new $APP.O(null,2,5,$APP.Q,[$APP.WB,$APP.Cy],null),new $APP.O(null,2,5,$APP.Q,[yUd,$APP.Cy],null),new $APP.O(null,2,5,$APP.Q,[$APP.gy,$APP.oz],null)],null)],null)],null),new $APP.O(null,2,5,$APP.Q,[$APP.lA,new $APP.O(null,3,5,$APP.Q,[$APP.Xq,$APP.Do,new $APP.O(null,2,5,$APP.Q,[$APP.ho,new $APP.O(null,2,5,$APP.Q,[YUd,new $APP.O(null,2,5,$APP.Q,[$APP.Ur,$APP.Cy],null)],null)],null)],null)],null),new $APP.O(null,2,5,$APP.Q,[$APP.DA,new $APP.O(null,3,5,$APP.Q,[$APP.Xq,$APP.Do,new $APP.O(null,
13,5,$APP.Q,[$APP.ho,new $APP.O(null,2,5,$APP.Q,[$APP.WB,$APP.Cy],null),new $APP.O(null,3,5,$APP.Q,[yUd,new $APP.m(null,1,[$APP.tq,!0],null),$APP.Cy],null),new $APP.O(null,3,5,$APP.Q,[$APP.gy,new $APP.m(null,1,[$APP.tq,!0],null),$APP.oz],null),new $APP.O(null,3,5,$APP.Q,[$APP.Ex,new $APP.m(null,1,[$APP.tq,!0],null),$APP.Dn],null),new $APP.O(null,3,5,$APP.Q,[$APP.Zw,new $APP.m(null,1,[$APP.tq,!0],null),$APP.xz],null),new $APP.O(null,3,5,$APP.Q,[$APP.hx,new $APP.m(null,1,[$APP.tq,!0],null),$APP.xz],
null),new $APP.O(null,3,5,$APP.Q,[$APP.Zx,new $APP.m(null,1,[$APP.tq,!0],null),new $APP.O(null,3,5,$APP.Q,[$APP.ho,new $APP.O(null,3,5,$APP.Q,[$APP.mB,new $APP.m(null,1,[$APP.tq,!0],null),new $APP.O(null,2,5,$APP.Q,[$APP.Ok,new $APP.O(null,2,5,$APP.Q,[$APP.jo,$APP.Cy],null)],null)],null),new $APP.O(null,3,5,$APP.Q,[B$,new $APP.m(null,1,[$APP.tq,!0],null),new $APP.O(null,2,5,$APP.Q,[$APP.Ok,new $APP.O(null,2,5,$APP.Q,[$APP.jo,$APP.Cy],null)],null)],null)],null)],null),new $APP.O(null,3,5,$APP.Q,[$APP.Hw,
new $APP.m(null,1,[$APP.tq,!0],null),new $APP.O(null,3,5,$APP.Q,[$APP.ho,new $APP.O(null,3,5,$APP.Q,[$APP.mB,new $APP.m(null,1,[$APP.tq,!0],null),new $APP.O(null,2,5,$APP.Q,[$APP.Ok,new $APP.O(null,2,5,$APP.Q,[$APP.jo,$APP.Cy],null)],null)],null),new $APP.O(null,3,5,$APP.Q,[B$,new $APP.m(null,1,[$APP.tq,!0],null),new $APP.O(null,2,5,$APP.Q,[$APP.Ok,new $APP.O(null,2,5,$APP.Q,[$APP.jo,$APP.Cy],null)],null)],null)],null)],null),new $APP.O(null,3,5,$APP.Q,[$APP.yl,new $APP.m(null,1,[$APP.tq,!0],null),
new $APP.O(null,3,5,$APP.Q,[$APP.ho,new $APP.O(null,3,5,$APP.Q,[$APP.mB,new $APP.m(null,1,[$APP.tq,!0],null),new $APP.O(null,2,5,$APP.Q,[$APP.Ok,new $APP.O(null,2,5,$APP.Q,[$APP.jo,FWd],null)],null)],null),new $APP.O(null,3,5,$APP.Q,[B$,new $APP.m(null,1,[$APP.tq,!0],null),new $APP.O(null,2,5,$APP.Q,[$APP.Ok,new $APP.O(null,2,5,$APP.Q,[$APP.jo,FWd],null)],null)],null)],null)],null),new $APP.O(null,3,5,$APP.Q,[$APP.Wo,new $APP.m(null,1,[$APP.tq,!0],null),$APP.Dn],null),new $APP.O(null,3,5,$APP.Q,[$APP.Ap,
new $APP.m(null,1,[$APP.tq,!0],null),new $APP.O(null,3,5,$APP.Q,[$APP.ho,new $APP.O(null,3,5,$APP.Q,[$APP.mB,new $APP.m(null,1,[$APP.tq,!0],null),new $APP.O(null,2,5,$APP.Q,[$APP.Ur,new $APP.O(null,3,5,$APP.Q,[$APP.Xq,$APP.Cy,$APP.Dn],null)],null)],null),new $APP.O(null,3,5,$APP.Q,[B$,new $APP.m(null,1,[$APP.tq,!0],null),new $APP.O(null,2,5,$APP.Q,[$APP.jo,$APP.Cy],null)],null)],null)],null),new $APP.O(null,3,5,$APP.Q,[$APP.Ix,new $APP.m(null,1,[$APP.tq,!0],null),$APP.Cy],null)],null)],null)],null),
new $APP.O(null,2,5,$APP.Q,[J$,new $APP.O(null,3,5,$APP.Q,[$APP.Xq,$APP.Do,new $APP.O(null,4,5,$APP.Q,[$APP.ho,new $APP.O(null,2,5,$APP.Q,[$APP.WB,$APP.Cy],null),new $APP.O(null,2,5,$APP.Q,[$APP.$z,$APP.Dn],null),new $APP.O(null,2,5,$APP.Q,[$APP.fC,$APP.Dn],null)],null)],null)],null),new $APP.O(null,2,5,$APP.Q,[I$,new $APP.O(null,3,5,$APP.Q,[$APP.Xq,$APP.Do,new $APP.O(null,2,5,$APP.Q,[$APP.ho,new $APP.O(null,2,5,$APP.Q,[$APP.WB,$APP.Cy],null)],null)],null)],null)],null),HWd=new $APP.O(null,9,5,$APP.Q,
[$APP.ho,new $APP.O(null,2,5,$APP.Q,[Q$,$APP.Dn],null),new $APP.O(null,3,5,$APP.Q,[$APP.Vz,new $APP.m(null,1,[$APP.tq,!0],null),$APP.xz],null),new $APP.O(null,3,5,$APP.Q,[bUd,new $APP.m(null,1,[$APP.tq,!0],null),$APP.xz],null),new $APP.O(null,3,5,$APP.Q,[SVd,new $APP.m(null,1,[$APP.tq,!0],null),new $APP.O(null,2,5,$APP.Q,[$APP.Ur,GWd],null)],null),new $APP.O(null,3,5,$APP.Q,[lSd,new $APP.m(null,1,[$APP.tq,!0],null),$APP.Dn],null),new $APP.O(null,3,5,$APP.Q,[cUd,new $APP.m(null,1,[$APP.tq,!0],null),
new $APP.O(null,3,5,$APP.Q,[$APP.vq,$APP.Cy,new $APP.O(null,7,5,$APP.Q,[$APP.Oq,new $APP.m(null,2,[$APP.Pq,$APP.sC,HVd,function(a){return $APP.Wr.F(a,$APP.sC,$APP.sh)}],null),new $APP.O(null,2,5,$APP.Q,[$APP.hA,$APP.Gf.F($APP.Ke,new $APP.O(null,7,5,$APP.Q,[$APP.ho,new $APP.m(null,1,[$APP.pq,!0],null),new $APP.O(null,2,5,$APP.Q,[$APP.sC,$APP.Do],null),new $APP.O(null,2,5,$APP.Q,[U$,$APP.Cy],null),new $APP.O(null,2,5,$APP.Q,[$APP.Nh,new $APP.O(null,2,5,$APP.Q,[$APP.Ur,$APP.Cy],null)],null),new $APP.O(null,
2,5,$APP.Q,[$APP.TB,$APP.Cy],null),new $APP.O(null,3,5,$APP.Q,[$APP.Ex,new $APP.m(null,1,[$APP.tq,!0],null),$APP.Dn],null)],null),EWd)],null),new $APP.O(null,2,5,$APP.Q,[$APP.lA,new $APP.O(null,4,5,$APP.Q,[$APP.ho,new $APP.m(null,1,[$APP.pq,!0],null),new $APP.O(null,2,5,$APP.Q,[$APP.sC,$APP.Do],null),new $APP.O(null,2,5,$APP.Q,[$APP.WB,$APP.Cy],null)],null)],null),new $APP.O(null,2,5,$APP.Q,[$Td,$APP.Gf.F($APP.Ke,new $APP.O(null,7,5,$APP.Q,[$APP.ho,new $APP.m(null,1,[$APP.pq,!0],null),new $APP.O(null,
2,5,$APP.Q,[$APP.sC,$APP.Do],null),new $APP.O(null,2,5,$APP.Q,[U$,$APP.Cy],null),new $APP.O(null,3,5,$APP.Q,[$APP.Nh,new $APP.m(null,1,[$APP.tq,!0],null),new $APP.O(null,2,5,$APP.Q,[$APP.Ur,$APP.Cy],null)],null),new $APP.O(null,3,5,$APP.Q,[$APP.TB,new $APP.m(null,1,[$APP.tq,!0],null),$APP.Cy],null),new $APP.O(null,3,5,$APP.Q,[$APP.Ex,new $APP.m(null,1,[$APP.tq,!0],null),$APP.Dn],null)],null),EWd)],null),new $APP.O(null,2,5,$APP.Q,[J$,$APP.Gf.F($APP.Ke,new $APP.O(null,6,5,$APP.Q,[$APP.ho,new $APP.m(null,
1,[$APP.pq,!0],null),new $APP.O(null,2,5,$APP.Q,[$APP.sC,$APP.Do],null),new $APP.O(null,2,5,$APP.Q,[U$,$APP.Cy],null),new $APP.O(null,2,5,$APP.Q,[$APP.$z,$APP.Dn],null),new $APP.O(null,2,5,$APP.Q,[$APP.fC,$APP.Dn],null)],null),EWd)],null),new $APP.O(null,2,5,$APP.Q,[I$,new $APP.O(null,4,5,$APP.Q,[$APP.ho,new $APP.m(null,1,[$APP.pq,!0],null),new $APP.O(null,2,5,$APP.Q,[$APP.sC,$APP.Do],null),new $APP.O(null,2,5,$APP.Q,[$APP.WB,$APP.Cy],null)],null)],null)],null)],null)],null),new $APP.O(null,3,5,$APP.Q,
[S$,new $APP.m(null,1,[$APP.tq,!0],null),new $APP.O(null,2,5,$APP.Q,[$APP.ho,new $APP.O(null,2,5,$APP.Q,[$APP.yl,$APP.Do],null)],null)],null),new $APP.O(null,3,5,$APP.Q,[jSd,new $APP.m(null,1,[$APP.tq,!0],null),$APP.yB],null)],null),mSd=cPd(HWd,MQd);$APP.hD.C(HWd);
var IWd=$APP.sAa(new $APP.O(null,12,5,$APP.Q,[$APP.Oq,new $APP.m(null,1,[$APP.Pq,$APP.IC],null),new $APP.O(null,2,5,$APP.Q,["list-graphs",new $APP.O(null,3,5,$APP.Q,[$APP.ho,new $APP.O(null,2,5,$APP.Q,[Q$,$APP.Dn],null),new $APP.O(null,2,5,$APP.Q,[$APP.IC,$APP.Dn],null)],null)],null),new $APP.O(null,2,5,$APP.Q,["register-graph-updates",new $APP.O(null,4,5,$APP.Q,[$APP.ho,new $APP.O(null,2,5,$APP.Q,[Q$,$APP.Dn],null),new $APP.O(null,2,5,$APP.Q,[$APP.IC,$APP.Dn],null),new $APP.O(null,2,5,$APP.Q,[$APP.Zz,
$APP.Dn],null)],null)],null),new $APP.O(null,2,5,$APP.Q,["apply-ops",new $APP.O(null,6,5,$APP.Q,[$APP.ho,new $APP.O(null,2,5,$APP.Q,[Q$,$APP.Dn],null),new $APP.O(null,2,5,$APP.Q,[$APP.IC,$APP.Dn],null),new $APP.O(null,2,5,$APP.Q,[$APP.Zz,$APP.Dn],null),new $APP.O(null,2,5,$APP.Q,[fTd,new $APP.O(null,2,5,$APP.Q,[$APP.Ur,GWd],null)],null),new $APP.O(null,2,5,$APP.Q,[bUd,$APP.xz],null)],null)],null),new $APP.O(null,2,5,$APP.Q,["presign-put-temp-s3-obj",new $APP.O(null,3,5,$APP.Q,[$APP.ho,new $APP.O(null,
2,5,$APP.Q,[Q$,$APP.Dn],null),new $APP.O(null,2,5,$APP.Q,[$APP.IC,$APP.Dn],null)],null)],null),new $APP.O(null,2,5,$APP.Q,["full-download-graph",new $APP.O(null,4,5,$APP.Q,[$APP.ho,new $APP.O(null,2,5,$APP.Q,[Q$,$APP.Dn],null),new $APP.O(null,2,5,$APP.Q,[$APP.IC,$APP.Dn],null),new $APP.O(null,2,5,$APP.Q,[$APP.Zz,$APP.Dn],null)],null)],null),new $APP.O(null,2,5,$APP.Q,["full-upload-graph",new $APP.O(null,4,5,$APP.Q,[$APP.ho,new $APP.O(null,2,5,$APP.Q,[Q$,$APP.Dn],null),new $APP.O(null,2,5,$APP.Q,[$APP.IC,
$APP.Dn],null),new $APP.O(null,2,5,$APP.Q,[tSd,$APP.Dn],null)],null)],null),new $APP.O(null,2,5,$APP.Q,["grant-access",new $APP.O(null,6,5,$APP.Q,[$APP.ho,new $APP.O(null,2,5,$APP.Q,[Q$,$APP.Dn],null),new $APP.O(null,2,5,$APP.Q,[$APP.IC,$APP.Dn],null),new $APP.O(null,2,5,$APP.Q,[$APP.Zz,$APP.Cy],null),new $APP.O(null,3,5,$APP.Q,[SUd,new $APP.m(null,1,[$APP.tq,!0],null),new $APP.O(null,2,5,$APP.Q,[$APP.Ur,$APP.Cy],null)],null),new $APP.O(null,3,5,$APP.Q,[TUd,new $APP.m(null,1,[$APP.tq,!0],null),new $APP.O(null,
2,5,$APP.Q,[$APP.Ur,$APP.Dn],null)],null)],null)],null),new $APP.O(null,2,5,$APP.Q,["query-block-content-versions",new $APP.O(null,5,5,$APP.Q,[$APP.ho,new $APP.O(null,2,5,$APP.Q,[Q$,$APP.Dn],null),new $APP.O(null,2,5,$APP.Q,[$APP.IC,$APP.Dn],null),new $APP.O(null,2,5,$APP.Q,[$APP.Zz,$APP.Dn],null),new $APP.O(null,2,5,$APP.Q,[YUd,new $APP.O(null,2,5,$APP.Q,[$APP.Ur,$APP.Cy],null)],null)],null)],null),new $APP.O(null,2,5,$APP.Q,["query-blocks",new $APP.O(null,5,5,$APP.Q,[$APP.ho,new $APP.O(null,2,5,
$APP.Q,[Q$,$APP.Dn],null),new $APP.O(null,2,5,$APP.Q,[$APP.IC,$APP.Dn],null),new $APP.O(null,2,5,$APP.Q,[$APP.Zz,$APP.Cy],null),new $APP.O(null,2,5,$APP.Q,[YUd,new $APP.O(null,2,5,$APP.Q,[$APP.Ur,$APP.Cy],null)],null)],null)],null),new $APP.O(null,2,5,$APP.Q,["update-assets",new $APP.O(null,6,5,$APP.Q,[$APP.ho,new $APP.O(null,2,5,$APP.Q,[Q$,$APP.Dn],null),new $APP.O(null,2,5,$APP.Q,[$APP.IC,$APP.Dn],null),new $APP.O(null,2,5,$APP.Q,[$APP.Zz,$APP.Cy],null),new $APP.O(null,3,5,$APP.Q,[$APP.mA,new $APP.m(null,
1,[$APP.tq,!0],null),new $APP.O(null,2,5,$APP.Q,[$APP.Ur,new $APP.O(null,3,5,$APP.Q,[$APP.ho,new $APP.O(null,2,5,$APP.Q,[H$,$APP.Cy],null),new $APP.O(null,2,5,$APP.Q,[gTd,$APP.Dn],null)],null)],null)],null),new $APP.O(null,3,5,$APP.Q,[$APP.SB,new $APP.m(null,1,[$APP.tq,!0],null),new $APP.O(null,2,5,$APP.Q,[$APP.Ur,$APP.Cy],null)],null)],null)],null)],null)),iSd=aPd(IWd,MQd),hSd=cPd(IWd,MQd);var dSd=$APP.B.A("default","nodejs")?1:WebSocket.OPEN;var xSd=$APP.XLa($APP.$A,null),wSd=new $APP.m(null,5,[MVd,"property",DVd,"class",WVd,"whiteboard",EVd,"macros",GVd,"hidden"],null),zSd=$APP.Jh(function(a,b){b=$APP.kw.C(b);return $APP.n(b)?(b=a.C?a.C(b):a.call(null,b),$APP.n(b)?$APP.n($APP.Pv.C(b))?b:zSd.A?zSd.A(a,b):zSd.call(null,a,b):null):null});var JWd=new $APP.O(null,14,5,$APP.Q,[$APP.ho,new $APP.m(null,1,[$APP.pq,!0],null),new $APP.O(null,2,5,$APP.Q,[P$,$APP.yB],null),new $APP.O(null,2,5,$APP.Q,[jTd,$APP.yB],null),new $APP.O(null,2,5,$APP.Q,[kTd,$APP.yB],null),new $APP.O(null,2,5,$APP.Q,[eSd,$APP.yB],null),new $APP.O(null,2,5,$APP.Q,[AUd,$APP.yB],null),new $APP.O(null,2,5,$APP.Q,[$APP.zA,$APP.yB],null),new $APP.O(null,2,5,$APP.Q,[vTd,$APP.yB],null),new $APP.O(null,2,5,$APP.Q,[fSd,$APP.yB],null),new $APP.O(null,2,5,$APP.Q,[O$,$APP.yB],
null),new $APP.O(null,2,5,$APP.Q,[qTd,$APP.yB],null),new $APP.O(null,2,5,$APP.Q,[rTd,$APP.yB],null),new $APP.O(null,2,5,$APP.Q,[sTd,$APP.yB],null)],null);(function(){var a=$APP.hD.C(JWd);return function(b){return $APP.n(a.C?a.C(b):a.call(null,b))?!0:$APP.Cv.G($APP.G([$APP.uAa(JWd,b)]))}})();var dVd=$APP.Gh.C(null);var KWd=new $APP.O(null,16,5,$APP.Q,[$APP.ho,new $APP.m(null,1,[$APP.pq,!0],null),new $APP.O(null,2,5,$APP.Q,[P$,$APP.yB],null),new $APP.O(null,2,5,$APP.Q,[jTd,$APP.yB],null),new $APP.O(null,2,5,$APP.Q,[kTd,$APP.yB],null),new $APP.O(null,2,5,$APP.Q,[eSd,$APP.yB],null),new $APP.O(null,2,5,$APP.Q,[AUd,$APP.yB],null),new $APP.O(null,2,5,$APP.Q,[fSd,$APP.yB],null),new $APP.O(null,2,5,$APP.Q,[O$,$APP.yB],null),new $APP.O(null,2,5,$APP.Q,[QUd,$APP.yB],null),new $APP.O(null,2,5,$APP.Q,[$APP.zA,$APP.yB],
null),new $APP.O(null,2,5,$APP.Q,[LUd,$APP.yB],null),new $APP.O(null,2,5,$APP.Q,[PUd,$APP.yB],null),new $APP.O(null,2,5,$APP.Q,[NUd,$APP.yB],null),new $APP.O(null,2,5,$APP.Q,[OUd,$APP.yB],null),new $APP.O(null,2,5,$APP.Q,[$APP.oTa,$APP.yB],null)],null);(function(){var a=$APP.hD.C(KWd);return function(b){return $APP.n(a.C?a.C(b):a.call(null,b))?!0:$APP.Cv.G($APP.G([$APP.uAa(KWd,b)]))}})();
var bVd=$APP.hD.C(new $APP.O(null,3,5,$APP.Q,[$APP.Cq,$APP.zB,$APP.pq],null)),LWd=$APP.hMa($APP.$A,null),MTd=$APP.XLa($APP.$A,null),T$=function(){var a=$APP.Gh.C($APP.pf),b=$APP.Gh.C($APP.pf),c=$APP.Gh.C($APP.pf),d=$APP.Gh.C($APP.pf),e=$APP.H.F($APP.pf,$APP.hB,$APP.Oh.I?$APP.Oh.I():$APP.Oh.call(null));return new $APP.Sh($APP.th.A("frontend.worker.rtc.core","transact-db!"),function(){function f(g,h){if(1<arguments.length)for(var k=0,p=Array(arguments.length-1);k<p.length;)p[k]=arguments[k+1],++k;return g}
f.R=1;f.X=function(g){var h=$APP.A(g);$APP.hc(g);return h};f.G=function(g){return g};return f}(),$APP.Zi,e,a,b,c,d)}();
T$.da(null,$APP.vA,function(){function a(c,d){var e=null;if(1<arguments.length){e=0;for(var f=Array(arguments.length-1);e<f.length;)f[e]=arguments[e+1],++e;e=new $APP.dc(f,0,null)}return b.call(this,c,e)}function b(c,d){var e=$APP.uy,f=v$,g=new $APP.m(null,2,[$APP.Dy,!1,$APP.Az,new $APP.m(null,2,[$APP.jC,$APP.A(d),$APP.UA,$APP.Dc(d)],null)],null);c=$APP.n(e)?$APP.T.F(g,$APP.AB,!0):g;if($APP.n(e))return $APP.n(f)&&$APP.Zf.A(f,c),$APP.Gf.A(hPd,d);e=$APP.pf;$APP.n($APP.H.F(g,$APP.Dy,!0))&&$APP.T.F(e,
$APP.Dy,!0);g=$APP.uy;e=v$;f=$APP.Mb($APP.$f);var h=$APP.Mb($APP.$f);$APP.uy=f;v$=h;try{$APP.Zf.A(v$,c);$APP.Gf.A(hPd,d);var k=$APP.Ob($APP.uy),p=$APP.Uf.G($APP.ot,$APP.G([k])),q=$APP.A($APP.rh.A($APP.vy,k)),r=$APP.kk.A(p,$APP.AC.C(c)),u=$APP.Ob(v$),x=$APP.Gf.A($APP.Ln,$APP.Me(u)),z=$APP.Ln.G($APP.G([$APP.cj.G(x,$APP.AC,$APP.G([$APP.BC,$APP.AB])),q]));return $APP.y(r)?$APP.n($APP.AB.C(c))?null:POd(r,$APP.cj.A(z,$APP.Az),$APP.Az.C(z)):null}finally{v$=e,$APP.uy=g}}a.R=1;a.X=function(c){var d=$APP.A(c);
c=$APP.hc(c);return b(d,c)};a.G=b;return a}());
T$.da(null,$APP.ny,function(){function a(c,d){var e=null;if(1<arguments.length){e=0;for(var f=Array(arguments.length-1);e<f.length;)f[e]=arguments[e+1],++e;e=new $APP.dc(f,0,null)}return b.call(this,c,e)}function b(c,d){var e=$APP.uy,f=v$,g=new $APP.m(null,2,[$APP.Dy,!1,$APP.Az,new $APP.m(null,2,[$APP.jC,$APP.A(d),$APP.UA,$APP.Dc(d)],null)],null);c=$APP.n(e)?$APP.T.F(g,$APP.AB,!0):g;if($APP.n(e))return $APP.n(f)&&$APP.Zf.A(f,c),$APP.Gf.A(iPd,d);e=$APP.pf;$APP.n($APP.H.F(g,$APP.Dy,!0))&&$APP.T.F(e,
$APP.Dy,!0);g=$APP.uy;e=v$;f=$APP.Mb($APP.$f);var h=$APP.Mb($APP.$f);$APP.uy=f;v$=h;try{$APP.Zf.A(v$,c);$APP.Gf.A(iPd,d);var k=$APP.Ob($APP.uy),p=$APP.Uf.G($APP.ot,$APP.G([k])),q=$APP.A($APP.rh.A($APP.vy,k)),r=$APP.kk.A(p,$APP.AC.C(c)),u=$APP.Ob(v$),x=$APP.Gf.A($APP.Ln,$APP.Me(u)),z=$APP.Ln.G($APP.G([$APP.cj.G(x,$APP.AC,$APP.G([$APP.BC,$APP.AB])),q]));return $APP.y(r)?$APP.n($APP.AB.C(c))?null:POd(r,$APP.cj.A(z,$APP.Az),$APP.Az.C(z)):null}finally{v$=e,$APP.uy=g}}a.R=1;a.X=function(c){var d=$APP.A(c);
c=$APP.hc(c);return b(d,c)};a.G=b;return a}());
T$.da(null,$APP.ky,function(){function a(c,d){var e=null;if(1<arguments.length){e=0;for(var f=Array(arguments.length-1);e<f.length;)f[e]=arguments[e+1],++e;e=new $APP.dc(f,0,null)}return b.call(this,c,e)}function b(c,d){var e=$APP.uy,f=v$,g=new $APP.m(null,2,[$APP.Dy,!1,$APP.Az,new $APP.m(null,2,[$APP.jC,$APP.A(d),$APP.UA,$APP.Dc(d)],null)],null);c=$APP.n(e)?$APP.T.F(g,$APP.AB,!0):g;if($APP.n(e))return $APP.n(f)&&$APP.Zf.A(f,c),$APP.Gf.A($APP.UNa,d);e=$APP.pf;$APP.n($APP.H.F(g,$APP.Dy,!0))&&$APP.T.F(e,
$APP.Dy,!0);g=$APP.uy;e=v$;f=$APP.Mb($APP.$f);var h=$APP.Mb($APP.$f);$APP.uy=f;v$=h;try{$APP.Zf.A(v$,c);$APP.Gf.A($APP.UNa,d);var k=$APP.Ob($APP.uy),p=$APP.Uf.G($APP.ot,$APP.G([k])),q=$APP.A($APP.rh.A($APP.vy,k)),r=$APP.kk.A(p,$APP.AC.C(c)),u=$APP.Ob(v$),x=$APP.Gf.A($APP.Ln,$APP.Me(u)),z=$APP.Ln.G($APP.G([$APP.cj.G(x,$APP.AC,$APP.G([$APP.BC,$APP.AB])),q]));return $APP.y(r)?$APP.n($APP.AB.C(c))?null:POd(r,$APP.cj.A(z,$APP.Az),$APP.Az.C(z)):null}finally{v$=e,$APP.uy=g}}a.R=1;a.X=function(c){var d=$APP.A(c);
c=$APP.hc(c);return b(d,c)};a.G=b;return a}());
T$.da(null,$APP.UB,function(){function a(c,d){var e=null;if(1<arguments.length){e=0;for(var f=Array(arguments.length-1);e<f.length;)f[e]=arguments[e+1],++e;e=new $APP.dc(f,0,null)}return b.call(this,c,e)}function b(c,d){var e=$APP.uy,f=v$,g=new $APP.m(null,2,[$APP.Dy,!1,$APP.Az,new $APP.m(null,2,[$APP.jC,$APP.A(d),$APP.UA,$APP.Dc(d)],null)],null);c=$APP.n(e)?$APP.T.F(g,$APP.AB,!0):g;if($APP.n(e))return $APP.n(f)&&$APP.Zf.A(f,c),$APP.Gf.A(oPd,d);e=$APP.pf;$APP.n($APP.H.F(g,$APP.Dy,!0))&&$APP.T.F(e,
$APP.Dy,!0);g=$APP.uy;e=v$;f=$APP.Mb($APP.$f);var h=$APP.Mb($APP.$f);$APP.uy=f;v$=h;try{$APP.Zf.A(v$,c);$APP.Gf.A(oPd,d);var k=$APP.Ob($APP.uy),p=$APP.Uf.G($APP.ot,$APP.G([k])),q=$APP.A($APP.rh.A($APP.vy,k)),r=$APP.kk.A(p,$APP.AC.C(c)),u=$APP.Ob(v$),x=$APP.Gf.A($APP.Ln,$APP.Me(u)),z=$APP.Ln.G($APP.G([$APP.cj.G(x,$APP.AC,$APP.G([$APP.BC,$APP.AB])),q]));return $APP.y(r)?$APP.n($APP.AB.C(c))?null:POd(r,$APP.cj.A(z,$APP.Az),$APP.Az.C(z)):null}finally{v$=e,$APP.uy=g}}a.R=1;a.X=function(c){var d=$APP.A(c);
c=$APP.hc(c);return b(d,c)};a.G=b;return a}());T$.da(null,CTd,function(a,b,c){return $APP.Zv(b,$APP.lj.A(function(d){return new $APP.O(null,2,5,$APP.Q,[$APP.bNa,new $APP.O(null,2,5,$APP.Q,[$APP.Qv,d],null)],null)},c),new $APP.m(null,1,[$APP.Dy,!1],null))});T$.da(null,NTd,function(a,b,c){return $APP.Zv(b,c,new $APP.m(null,1,[$APP.Dy,!1],null))});
var V$=function(){var a=$APP.Gh.C($APP.pf),b=$APP.Gh.C($APP.pf),c=$APP.Gh.C($APP.pf),d=$APP.Gh.C($APP.pf),e=$APP.H.F($APP.pf,$APP.hB,$APP.Oh.I?$APP.Oh.I():$APP.Oh.call(null));return new $APP.Sh($APP.th.A("frontend.worker.rtc.core","local-block-ops-\x3eremote-ops-aux"),function(){function f(g,h){if(1<arguments.length)for(var k=0,p=Array(arguments.length-1);k<p.length;)p[k]=arguments[k+1],++k;return g}f.R=1;f.X=function(g){var h=$APP.A(g);$APP.hc(g);return h};f.G=function(g){return g};return f}(),$APP.Zi,
e,a,b,c,d)}();
V$.da(null,$APP.MUa,function(){function a(c,d){var e=null;if(1<arguments.length){e=0;for(var f=Array(arguments.length-1);e<f.length;)f[e]=arguments[e+1],++e;e=new $APP.dc(f,0,null)}return b.call(this,c,e)}function b(c,d){var e=$APP.rf(d),f=$APP.H.A(e,nUd),g=$APP.H.A(e,oUd);c=$APP.H.A(e,$APP.WB);d=$APP.H.A(e,W$);e=$APP.H.A(e,pUd);if($APP.n(f)){var h=$APP.n(g)?g:f;f=$APP.Lg.A(g,f);$APP.Ih.F(d,$APP.Ke,new $APP.O(null,2,5,$APP.Q,[$APP.hA,new $APP.m(null,3,[$APP.WB,c,yUd,h,$APP.gy,f],null)],null));return $APP.Ih.F(e,
$APP.Ke,h)}return null}a.R=1;a.X=function(c){var d=$APP.A(c);c=$APP.hc(c);return b(d,c)};a.G=b;return a}());
V$.da(null,qUd,function(){function a(c,d){var e=null;if(1<arguments.length){e=0;for(var f=Array(arguments.length-1);e<f.length;)f[e]=arguments[e+1],++e;e=new $APP.dc(f,0,null)}return b.call(this,c,e)}function b(c,d){var e=$APP.rf(d);c=$APP.H.A(e,$APP.UA);var f=$APP.H.A(e,$APP.Vm);d=$APP.H.A(e,qUd);var g=$APP.H.A(e,oUd),h=$APP.H.A(e,nUd);e=$APP.H.A(e,W$);var k=$APP.Qv.C(f),p=SRd.C($APP.Dc(d)),q=$APP.Xd(p,$APP.Hw)?mUd(c,$APP.Hw.C(p)):null,r=$APP.Xd(p,$APP.Zx)?mUd(c,$APP.Zx.C(p)):null,u=$APP.Xd(p,$APP.yl)?
function(){var F=$APP.yl.C(p),J=$APP.rf(F);F=$APP.H.A(J,$APP.mB);J=$APP.H.A(J,B$);var M=$APP.Ug($APP.fw.C(f));F=$APP.gs.A(F,M);J=$APP.es.A(J,M);M=$APP.pf;F=$APP.y(F)?$APP.T.F(M,$APP.mB,F):M;return $APP.y(J)?$APP.T.F(F,B$,J):F}():null,x=$APP.Xd(p,$APP.Ap)?function(){var F=$APP.Ap.C(p);F=$APP.rf(F);var J=$APP.H.A(F,$APP.mB);F=$APP.H.A(F,B$);var M=$APP.yw.C(f);J=$APP.tg.A($APP.$f,$APP.uja($APP.Mg(M,J),$APP.xk.A($APP.iMa,LWd)));M=$APP.pf;J=$APP.y(J)?$APP.T.F(M,$APP.mB,J):M;return $APP.y(F)?$APP.T.F(J,
B$,F):J}():null,z=$APP.n(g)?g:h,D=$APP.Lg.A(g,h);return $APP.Ih.F(e,$APP.Ke,new $APP.O(null,2,5,$APP.Q,[$APP.DA,function(){var F=new $APP.m(null,1,[$APP.WB,k],null);F=$APP.n($APP.Mv.C(f))?$APP.T.F(F,$APP.Zw,$APP.Mv.C(f)):F;F=$APP.n($APP.Nv.C(f))?$APP.T.F(F,$APP.hx,$APP.Nv.C(f)):F;F=$APP.Xd(p,$APP.Wo)?$APP.T.F(F,$APP.Wo,$APP.iMa(LWd,$APP.ey.C(f))):F;F=$APP.n(q)?$APP.T.F(F,$APP.Hw,q):F;F=$APP.n(u)?$APP.T.F(F,$APP.yl,u):F;F=$APP.n(r)?$APP.T.F(F,$APP.Zx,r):F;F=$APP.n(x)?$APP.T.F(F,$APP.Ap,x):F;F=$APP.n(function(){var J=
$APP.Xd(p,$APP.Ex);return J?$APP.Sv.C(f):J}())?$APP.T.F(F,$APP.Ex,$APP.Sv.C(f)):F;F=$APP.n(function(){var J=$APP.Xd(p,$APP.Ix);return J?$APP.Qv.C($APP.my.C(f)):J}())?$APP.T.F(F,$APP.Ix,$APP.Qv.C($APP.my.C(f))):F;return $APP.n(z)?$APP.T.G(F,yUd,z,$APP.G([$APP.gy,D])):F}()],null))}a.R=1;a.X=function(c){var d=$APP.A(c);c=$APP.hc(c);return b(d,c)};a.G=b;return a}());
V$.da(null,rUd,function(){function a(c,d){var e=null;if(1<arguments.length){e=0;for(var f=Array(arguments.length-1);e<f.length;)f[e]=arguments[e+1],++e;e=new $APP.dc(f,0,null)}return b.call(this,c,e)}function b(c,d){d=$APP.rf(d);var e=$APP.H.A(d,$APP.UA);c=$APP.H.A(d,$APP.WB);d=$APP.H.A(d,W$);e=$APP.v(e);var f=new $APP.O(null,2,5,$APP.Q,[$APP.Qv,c],null);e=$APP.zt.A?$APP.zt.A(e,f):$APP.zt.call(null,e,f);return $APP.n(e)?(f=$APP.rf(e),e=$APP.H.A(f,$APP.Pv),f=$APP.H.A(f,$APP.Rv),$APP.Ih.F(d,$APP.Ke,
new $APP.O(null,2,5,$APP.Q,[J$,new $APP.m(null,3,[$APP.WB,c,$APP.$z,e,$APP.fC,$APP.n(f)?f:e],null)],null))):null}a.R=1;a.X=function(c){var d=$APP.A(c);c=$APP.hc(c);return b(d,c)};a.G=b;return a}());
V$.da(null,sUd,function(){function a(c,d){var e=null;if(1<arguments.length){e=0;for(var f=Array(arguments.length-1);e<f.length;)f[e]=arguments[e+1],++e;e=new $APP.dc(f,0,null)}return b.call(this,c,e)}function b(c,d){c=$APP.rf(d);d=$APP.H.A(c,$APP.UA);var e=$APP.H.A(c,sUd);c=$APP.H.A(c,W$);e=$APP.WB.C($APP.Dc(e));if($APP.n(e)){d=$APP.v(d);var f=new $APP.O(null,2,5,$APP.Q,[$APP.Qv,e],null);c=null==($APP.zt.A?$APP.zt.A(d,f):$APP.zt.call(null,d,f))?$APP.Ih.F(c,$APP.Ke,new $APP.O(null,2,5,$APP.Q,[$APP.lA,
new $APP.m(null,1,[YUd,new $APP.O(null,1,5,$APP.Q,[e],null)],null)],null)):null}else c=null;return c}a.R=1;a.X=function(c){var d=$APP.A(c);c=$APP.hc(c);return b(d,c)};a.G=b;return a}());
V$.da(null,tUd,function(){function a(c,d){var e=null;if(1<arguments.length){e=0;for(var f=Array(arguments.length-1);e<f.length;)f[e]=arguments[e+1],++e;e=new $APP.dc(f,0,null)}return b.call(this,c,e)}function b(c,d){c=$APP.rf(d);d=$APP.H.A(c,$APP.UA);var e=$APP.H.A(c,tUd);c=$APP.H.A(c,W$);e=$APP.WB.C($APP.Dc(e));if($APP.n(e)){d=$APP.v(d);var f=new $APP.O(null,2,5,$APP.Q,[$APP.Qv,e],null);c=null==($APP.zt.A?$APP.zt.A(d,f):$APP.zt.call(null,d,f))?$APP.Ih.F(c,$APP.Ke,new $APP.O(null,2,5,$APP.Q,[I$,new $APP.m(null,
1,[$APP.WB,e],null)],null)):null}else c=null;return c}a.R=1;a.X=function(c){var d=$APP.A(c);c=$APP.hc(c);return b(d,c)};a.G=b;return a}());var X$=$APP.Gh.C(null);$APP.vh(X$,IVd,function(a,b,c,d){a=jTd.C(d);return $APP.n(a)?(d=aVd($APP.v(a),d),c=aVd($APP.v(a),c),$APP.Lg.A(d,c)||$APP.B.A($APP.zB,$APP.QXa.C(d))?t$($APP.QSa,$APP.Fh.G($APP.G([d]))):null):null});var pVd={},Y$,hVd=$APP.Gh.C(!1),MWd=class extends Object{constructor(){super()}};$APP.l=MWd.prototype;$APP.l.getVersion=function(){var a=$APP.v(iVd);return $APP.n(a)?a.version:null};$APP.l.init=function(a){$APP.Kf(aSd,a);return mVd()};
$APP.l.listDB=function(){return $APP.el(null,function(){return $APP.el(xVd(),function(a){return $APP.el($APP.ou.C($APP.wk.A(function(b){return $APP.B.A(b.kind,"directory")&&$APP.sa(b.name,".logseq-pool-")?$APP.vj($APP.vj(b.name.replace(".logseq-pool-",""),"+3A+",":"),"++","/"):null},a)),function(b){return $APP.Xk($APP.Fi(b))})})})};
$APP.l.createOrOpenDB=function(){function a(c,d){var e=null;if(1<arguments.length){e=0;for(var f=Array(arguments.length-1);e<f.length;)f[e]=arguments[e+1],++e;e=new $APP.dc(f,0,null)}return b.call(this,c,e)}function b(c,d){d=$APP.rf(d);var e=$APP.H.F(d,BSd,!0);return $APP.el(null,function(){return $APP.el($APP.n(e)?sVd(c):null,function(){return $APP.Xk(vVd(c))})})}a.R=1;a.X=function(c){var d=$APP.A(c);c=$APP.hc(c);return b(d,c)};a.G=b;return a}();
$APP.l.getMaxTx=function(a){a=w$(a);return $APP.n(a)?$APP.Ms.C($APP.v(a)):null};$APP.l.q=function(a,b){a=w$(a);return $APP.n(a)?(b=$APP.Tw.C(b),b=$APP.Gf.K($APP.ew,$APP.A(b),$APP.v(a),$APP.hc(b)),$APP.Fh.G($APP.G([b]))):null};$APP.l.pull=function(a,b,c){a=w$(a);if($APP.n(a)){b=$APP.Tw.C(b);var d=$APP.Tw.C(c);c=$APP.v(a);a=$APP.v(a);a=$APP.hu?$APP.hu(a,b,d):$APP.iu.call(null,a,b,d);a=FOd(c,a);return $APP.Fh.G($APP.G([a]))}return null};
$APP.l.pull_many=function(a,b,c){a=w$(a);return $APP.n(a)?(b=$APP.Tw.C(b),c=$APP.Tw.C(c),a=$APP.v(a),c=$APP.ju?$APP.ju(a,b,c):$APP.ku.call(null,a,b,c),$APP.Fh.G($APP.G([c]))):null};$APP.l.get_right_sibling=function(a,b){a=w$(a);return $APP.n(a)?(b=$APP.hIa($APP.v(a),b),$APP.Fh.G($APP.G([b]))):null};$APP.l.get_block_and_children=function(a,b,c){a=w$(a);return $APP.n(a)?$APP.Fh.G($APP.G([GOd($APP.v(a),b,c)])):null};
$APP.l.get_block_refs=function(a,b){var c=w$(a);if($APP.n(c)){a=$APP.Fh.G;c=$APP.v(c);var d=$APP.zt.A?$APP.zt.A(c,b):$APP.zt.call(null,c,b);$APP.n($APP.Pv.C(d))?c=WOd(c,b):(d=$APP.pw.C($APP.zt.A?$APP.zt.A(c,b):$APP.zt.call(null,c,b)),$APP.y(d)?(b=new $APP.O(null,1,5,$APP.Q,[$APP.Yt],null),d=$APP.rh.A($APP.rt,d),c=$APP.ju?$APP.ju(c,b,d):$APP.ku.call(null,c,b,d)):c=null);a=a.call($APP.Fh,$APP.G([c]))}else a=null;return a};
$APP.l.get_block_refs_count=function(a,b){a=w$(a);$APP.n(a)?(a=$APP.v(a),b=$APP.zt.A?$APP.zt.A(a,b):$APP.zt.call(null,a,b),b=null==b?null:$APP.pw.C(b),b=null==b?null:$APP.vc(b)):b=null;return b};
$APP.l.get_block_parents=function(a,b,c){var d=w$(a);return $APP.n(d)?(a=$APP.Qv.C(function(){var e=$APP.v(d);return $APP.zt.A?$APP.zt.A(e,b):$APP.zt.call(null,e,b)}()),c=$APP.rh.A(function(e){var f=$APP.v(d),g=new $APP.O(null,1,5,$APP.Q,[$APP.Yt],null);e=$APP.rt.C(e);return $APP.hu?$APP.hu(f,g,e):$APP.iu.call(null,f,g,e)},$APP.wIa($APP.v(d),a,new $APP.m(null,1,[$APP.vIa,$APP.n(c)?c:3],null))),$APP.Fh.G($APP.G([c]))):null};
$APP.l.get_page_unlinked_refs=function(a,b,c){a=w$(a);return $APP.n(a)?(c=$APP.Tw.C(c),$APP.Fh.G($APP.G([VOd($APP.v(a),b,c)]))):null};
$APP.l.transact=function(a,b,c,d){$APP.n(a)&&$APP.Ih.K(x$,$APP.Vr,new $APP.O(null,2,5,$APP.Q,[$Pd,a],null),$APP.To());var e=w$(a);if($APP.n(e))try{var f="string"===typeof b?$APP.Tw.C(b):b,g="string"===typeof c?$APP.Tw.C(c):c,h="string"===typeof d?$APP.Tw.C(d):d;$APP.n(h)&&$APP.Ih.K(x$,$APP.T,dQd,h);var k=$APP.n($APP.KB.C(g))?g:function(){var p=$APP.nb($APP.QWa.C(g))&&$APP.nb(CSd.C(g))?$APP.T.F(g,$APP.BHa,!0):g;return $APP.cj.A(p,PVd)}();$APP.n(function(){var p=$APP.xOa.C(g);if($APP.n(p)){p=$APP.yOa.C(g);
if($APP.n(p)){if(p=$APP.y(f)){p=$APP.v(e);var q=new $APP.O(null,2,5,$APP.Q,[$APP.Pv,$APP.yOa.C(g)],null);return $APP.zt.A?$APP.zt.A(p,q):$APP.zt.call(null,p,q)}return p}return p}return p}())?t$($APP.XSa,$APP.Fh.G($APP.G([new $APP.m(null,4,[$APP.aw,$APP.aw.C(g),$APP.jC,a,$APP.ot,$APP.$f,$APP.vy,null],null)]))):$APP.n(!1)?(console.time("Worker db transact"),$APP.Zv(e,f,k),console.timeEnd("Worker db transact")):$APP.Zv(e,f,k);return null}catch(p){return a=p,$APP.Cv.G($APP.G([$APP.FC,$APP.Es])),console.error(a,
b)}else return null};
$APP.l.getInitialData=function(a){var b=w$(a);if($APP.n(b)){a=$APP.Fh.G;b=$APP.v(b);var c=$APP.mx(new Date);var d=$APP.Nf.A;var e=$APP.Xt.A,f=new $APP.O(null,10,5,$APP.Q,[$APP.kv,new $APP.O(null,2,5,$APP.Q,[$APP.nj($APP.Ju,$APP.mw,new $APP.O(null,1,5,$APP.Q,[$APP.Yt],null)),$APP.Zt],null),$APP.fk,$APP.Ku,$APP.i_a,$APP.Kl,new $APP.O(null,3,5,$APP.Q,[$APP.mw,$APP.Pv,$APP.nw],null),new $APP.O(null,3,5,$APP.Q,[$APP.mw,$APP.rw,!0],null),new $APP.O(null,3,5,$APP.Q,[$APP.mw,$APP.Kx,$APP.GRa],null),new $APP.O(null,
1,5,$APP.Q,[$APP.nj($APP.wC,$APP.GRa,$APP.i_a)],null)],null);c=$APP.ew.F?$APP.ew.F(f,b,c):$APP.ew.call(null,f,b,c);d=d.call($APP.Nf,3,$APP.Me(e.call($APP.Xt,$APP.Kx,c)));e=sOd(b);b=DOd(b);b=$APP.kk.G(d,e,$APP.G([b]));a=a.call($APP.Fh,$APP.G([b]))}else a=null;return a};
$APP.l.fetch_all_pages=function(a){var b=w$(a);if($APP.n(b)){var c=$APP.Ti(1);$APP.Ii(function(){var d=function(){function f(g){var h=g[1];if(7===h){var k=g[7];h=g[8];var p=g[9],q=g[10];g[11]=g[2];g[8]=h;g[9]=p;g[10]=q;g[7]=k+1;g[2]=null;g[1]=2;return $APP.V}if(1===h)return h=g[12],h=$APP.v(b),k=HOd(h),h=function(){return function(u,x){return new $APP.O(null,2,5,$APP.Q,[u,x],null)}}(),k=$APP.iz.A(2E3,k),k=$APP.Xl.A(h,k),h=$APP.y(k),g[12]=k,g[8]=h,g[9]=null,g[10]=0,g[7]=0,g[2]=null,g[1]=2,$APP.V;if(4===
h){p=g[9];k=g[7];h=g[12];k=$APP.Oc(p,k);q=$APP.C.F(k,0,null);k=$APP.C.F(k,1,null);p=[$APP.jC,$APP.ot,$APP.vy];var r=[$APP.$Sa,$APP.UUa];h=$APP.vc(h)-1;h=[!0,$APP.B.A(q,h)];h=$APP.Cg(r,h);h=$APP.Cg(p,[a,k,h]);h=$APP.Fh.G($APP.G([h]));h=t$($APP.XSa,h);k=$APP.Mi(100);g[13]=h;return $APP.Pi(g,7,k)}return 13===h?(g[2]=g[2],g[1]=10,$APP.V):6===h?(g[2]=g[2],g[1]=3,$APP.V):3===h?$APP.Ri(g,g[2]):12===h?(k=g[14],h=g[12],k=$APP.A(k),q=$APP.C.F(k,0,null),k=$APP.C.F(k,1,null),p=[$APP.jC,$APP.ot,$APP.vy],r=[$APP.$Sa,
$APP.UUa],h=$APP.vc(h)-1,h=[!0,$APP.B.A(q,h)],h=$APP.Cg(r,h),h=$APP.Cg(p,[a,k,h]),h=$APP.Fh.G($APP.G([h])),h=t$($APP.XSa,h),k=$APP.Mi(100),g[15]=h,$APP.Pi(g,14,k)):2===h?(k=g[7],q=g[10],g[1]=$APP.n(k<q)?4:5,$APP.V):11===h?(k=g[14],h=$APP.Qb(k),k=$APP.Rb(k),p=$APP.vc(h),g[8]=k,g[9]=h,g[10]=p,g[7]=0,g[2]=null,g[1]=2,$APP.V):9===h?(g[2]=null,g[1]=10,$APP.V):5===h?(h=g[8],k=g[14],h=$APP.y(h),g[14]=h,g[1]=h?8:9,$APP.V):14===h?(k=g[14],p=g[2],h=$APP.jc(k),g[16]=p,g[8]=h,g[9]=null,g[10]=0,g[7]=0,g[2]=null,
g[1]=2,$APP.V):10===h?(g[2]=g[2],g[1]=6,$APP.V):8===h?(k=g[14],g[1]=$APP.nd(k)?11:12,$APP.V):null}return function(){function g(p){for(;;){a:try{for(;;){var q=f(p);if(!$APP.Se(q,$APP.V)){var r=q;break a}}}catch(u){r=u;p[2]=r;if($APP.y(p[4]))p[1]=$APP.A(p[4]);else throw r;r=$APP.V}if(!$APP.Se(r,$APP.V))return r}}function h(){var p=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];p[0]=k;p[1]=1;return p}var k=null;k=function(p){switch(arguments.length){case 0:return h.call(this);
case 1:return g.call(this,p)}throw Error("Invalid arity: "+arguments.length);};k.I=h;k.C=g;return k}()}(),e=function(){var f=d();f[6]=c;return f}();return $APP.Oi(e)})}return null};$APP.l.closeDB=function(a){return tVd(a)};$APP.l.unsafeUnlinkDB=function(a){return $APP.el(null,function(){return $APP.el(jVd(a),function(b){return $APP.el(tVd(a),function(){return $APP.el($APP.n(b)?b.removeVfs():null,function(){return $APP.Xk(null)})})})})};
$APP.l.releaseAccessHandles=function(a){a=WPd(a);return $APP.n(a)?a.releaseAccessHandles():null};$APP.l.dbExists=function(a){return yVd(a)};$APP.l.exportDB=function(a){return nVd(a)};$APP.l.importDb=function(a,b){return $APP.Fj(a)?null:$APP.el(null,function(){return $APP.el(jVd(a),function(c){return $APP.Xk(c.importDb("/db.sqlite",b))})})};$APP.l.search_blocks=function(a,b,c){return $APP.el(null,function(){return $APP.el(zVd(a),function(d){return $APP.el(xPd(d,b,$APP.Di(c)),function(e){return $APP.Xk($APP.Fi(e))})})})};
$APP.l.search_upsert_blocks=function(a,b){return $APP.el(null,function(){return $APP.el(zVd(a),function(c){tPd(c,b);return $APP.Xk(null)})})};$APP.l.search_delete_blocks=function(a,b){return $APP.el(null,function(){return $APP.el(zVd(a),function(c){var d=["DELETE from blocks WHERE id IN ",sPd(b)].join("");c.exec(d);return $APP.Xk(null)})})};
$APP.l.search_truncate_tables=function(a){return $APP.el(null,function(){return $APP.el(zVd(a),function(b){b.exec("delete from blocks");b.exec("delete from blocks_fts");return $APP.Xk(null)})})};$APP.l.search_build_blocks_indice=function(a){var b=w$(a);return $APP.n(b)?CPd(a,$APP.v(b)):null};$APP.l.search_build_pages_indice=function(a){var b=w$(a);return $APP.n(b)?CPd(a,$APP.v(b)):null};$APP.l.page_search=function(a,b,c){var d=w$(a);return $APP.n(d)?QPd(a,$APP.v(d),b,c):null};
$APP.l.page_rename=function(a,b,c){var d=w$(a);if($APP.n(d)){var e=XPd(a);a=$Sd(a,d,e,b,c);return $APP.Fi(new $APP.m(null,1,[$APP.Cz,a],null))}return null};$APP.l.page_delete=function(a,b){var c=w$(a);return $APP.n(c)?(a=YOd(a,c,b,null,$APP.G([$APP.pf])),$APP.Fi(new $APP.m(null,1,[$APP.Cz,a],null))):null};
$APP.l.apply_outliner_ops=function(a,b,c){var d=w$(a);if($APP.n(d)){var e=$APP.Tw.C(b);c=$APP.Tw.C(c);b=$APP.Ms.C($APP.v(d));e=pPd(a,d,e,$APP.NAa(XPd(a)),c);d=$APP.Ms.C($APP.v(d));$APP.B.A(b,d)&&t$($APP.XSa,$APP.Fh.G($APP.G([new $APP.m(null,4,[$APP.aw,$APP.aw.C(c),$APP.jC,a,$APP.ot,$APP.$f,$APP.vy,null],null)])));return $APP.Fh.G($APP.G([e]))}return null};
$APP.l.file_writes_finished_QMARK_=function(a){var b=w$(a);a=$APP.v($APP.U4a);$APP.n(b)&&$APP.Ih.A($APP.U4a,function(c){return $APP.tg.A($APP.pf,$APP.wl.A(function(d){$APP.C.F(d,0,null);d=$APP.C.F(d,1,null);var e=$APP.v(b);return $APP.zt.A?$APP.zt.A(e,d):$APP.zt.call(null,e,d)},c))});if($APP.ad(a))return!0;$APP.Cv.G($APP.G(["Unfinished file writes:",$APP.v($APP.U4a)]));return!1};$APP.l.page_file_saved=function(a){s$.C?s$.C(a):s$.call(null,a);return null};
$APP.l.sync_app_state=function(a){a=$APP.Tw.C(a);YPd(a);return null};$APP.l.block__GT_content=function(a,b,c,d){var e=w$(a);return $APP.n(e)?$APP.nOa(a,$APP.v(e),b,$APP.Tw.C(c),$APP.Tw.C(d)):null};$APP.l.get_all_pages=function(a){var b=w$(a);return $APP.n(b)?$APP.Fh.G($APP.G([UOd(a,$APP.v(b))])):null};$APP.l.get_all_page__GT_content=function(a){var b=w$(a);return $APP.n(b)?$APP.Fh.G($APP.G([ZOd(a,$APP.v(b))])):null};$APP.l.rtc_start=function(a,b){var c=w$(a);$APP.n(c)&&eVd(a,c,b);return null};
$APP.l.rtc_stop=function(){fVd();return null};
$APP.l.rtc_toggle_sync=function(){var a=$APP.rna(),b=$APP.Ti(1);$APP.Ii(function(){var c=function(){return function(){function e(h){for(;;){a:try{for(;;){var k=h,p=k[1];if(1===p){var q=$APP.v(X$);var r=$APP.n(q)?WUd(q):null;var u=$APP.Pi(k,2,r)}else if(2===p){var x=$APP.Yk(a,k[2]);u=$APP.Ri(k,x)}else u=null;if(!$APP.Se(u,$APP.V)){var z=u;break a}}}catch(D){z=D;h[2]=z;if($APP.y(h[4]))h[1]=$APP.A(h[4]);else throw z;z=$APP.V}if(!$APP.Se(z,$APP.V))return z}}function f(){var h=[null,null,null,null,null,
null,null];h[0]=g;h[1]=1;return h}var g=null;g=function(h){switch(arguments.length){case 0:return f.call(this);case 1:return e.call(this,h)}throw Error("Invalid arity: "+arguments.length);};g.I=f;g.C=e;return g}()}(),d=function(){var e=c();e[6]=b;return e}();return $APP.Oi(d)});return a};$APP.l.rtc_grant_graph_access=function(a,b,c){var d=$APP.v(X$);$APP.n(d)&&VUd(d,a,$APP.G([SUd,b,TUd,c]));return null};
$APP.l.rtc_upload_graph=function(a,b){var c=w$(a);if($APP.n(c)){var d=$APP.Ti(1);$APP.Ii(function(){var e=function(){function g(h){var k=h[1];if(1===k)return h[2]=null,h[1]=2,$APP.V;if(2===k)return h[4]=$APP.Pe(5,h[4]),k=cVd(a,b,!1),$APP.Pi(h,6,k);if(3===k)return $APP.Ri(h,h[2]);if(4===k){k=h[2];var p=$APP.Fh.G($APP.G([new $APP.O(null,2,5,$APP.Q,[new $APP.O(null,2,5,$APP.Q,[$APP.ZB,new $APP.O(null,2,5,$APP.Q,[$APP.Wz,"upload graph failed"],null)],null),$APP.Es],null)]));p=t$($APP.rB,p);k=$APP.Cv.G($APP.G([RVd,
k]));h[7]=p;h[2]=k;h[1]=3;return $APP.V}if(5===k)return h[4]=$APP.hc(h[4]),h[5]=h[2],h[1]=4,h[5]=null,$APP.V;if(6===k)return k=vSd(h[2],a,c),$APP.Pi(h,7,k);if(7===k){k=h[2];p=XRd(a,c);var q=$APP.Fh.G($APP.G([new $APP.O(null,1,5,$APP.Q,[new $APP.O(null,2,5,$APP.Q,[$APP.ZB,new $APP.O(null,2,5,$APP.Q,[$APP.Wz,"Upload graph successfully"],null)],null)],null)]));q=t$($APP.rB,q);h[4]=$APP.hc(h[4]);h[8]=k;h[9]=p;h[2]=q;h[1]=3;return $APP.V}return null}return function(){function h(q){for(;;){a:try{for(;;){var r=
g(q);if(!$APP.Se(r,$APP.V)){var u=r;break a}}}catch(x){u=x;q[2]=u;if($APP.y(q[4]))q[1]=$APP.A(q[4]);else throw u;u=$APP.V}if(!$APP.Se(u,$APP.V))return u}}function k(){var q=[null,null,null,null,null,null,null,null,null,null];q[0]=p;q[1]=1;return q}var p=null;p=function(q){switch(arguments.length){case 0:return k.call(this);case 1:return h.call(this,q)}throw Error("Invalid arity: "+arguments.length);};p.I=k;p.C=h;return p}()}(),f=function(){var g=e();g[6]=d;return g}();return $APP.Oi(f)})}return null};
$APP.l.rtc_download_graph=function(a,b,c){var d=$APP.Ti(1);$APP.Ii(function(){var e=function(){function g(h){var k=h[1];if(1===k)return k=cVd(a,b,!1),$APP.Pi(h,2,k);if(2===k)return k=h[2],h[7]=k,h[2]=null,h[1]=3,$APP.V;if(3===k)return k=h[7],h[4]=$APP.Pe(6,h[4]),k=ISd(k,a,c),$APP.Pi(h,7,k);if(4===k)return $APP.Ri(h,h[2]);if(5===k){k=h[2];var p=$APP.Fh.G($APP.G([new $APP.O(null,2,5,$APP.Q,[new $APP.O(null,2,5,$APP.Q,[$APP.ZB,new $APP.O(null,2,5,$APP.Q,[$APP.Wz,"download graph failed"],null)],null),
$APP.Es],null)]));p=t$($APP.rB,p);k=$APP.Cv.G($APP.G([RVd,k]));h[8]=p;h[2]=k;h[1]=4;return $APP.V}return 6===k?(h[4]=$APP.hc(h[4]),h[5]=h[2],h[1]=5,h[5]=null,$APP.V):7===k?(k=N$(h[2]),p=$APP.Fh.G($APP.G([new $APP.O(null,1,5,$APP.Q,[new $APP.O(null,2,5,$APP.Q,[$APP.ZB,new $APP.O(null,2,5,$APP.Q,[$APP.Wz,"download graph successfully"],null)],null)],null)])),p=t$($APP.rB,p),h[4]=$APP.hc(h[4]),h[9]=k,h[2]=p,h[1]=4,$APP.V):null}return function(){function h(q){for(;;){a:try{for(;;){var r=g(q);if(!$APP.Se(r,
$APP.V)){var u=r;break a}}}catch(x){u=x;q[2]=u;if($APP.y(q[4]))q[1]=$APP.A(q[4]);else throw u;u=$APP.V}if(!$APP.Se(u,$APP.V))return u}}function k(){var q=[null,null,null,null,null,null,null,null,null,null];q[0]=p;q[1]=1;return q}var p=null;p=function(q){switch(arguments.length){case 0:return k.call(this);case 1:return h.call(this,q)}throw Error("Invalid arity: "+arguments.length);};p.I=k;p.C=h;return p}()}(),f=function(){var g=e();g[6]=d;return g}();return $APP.Oi(f)});return null};
$APP.l.rtc_push_pending_ops=function(){$APP.Vi(OUd.C($APP.v(X$)),!0);return null};$APP.l.rtc_get_graphs=function(a,b){return gVd(a,b)};$APP.l.rtc_get_block_content_versions=function(a){return $Ud($APP.v(X$),a)};$APP.l.rtc_get_debug_state=function(a){return $APP.Fi(aVd(a,$APP.v(X$)))};$APP.l.dangerousRemoveAllDbs=function(){var a=this;return $APP.el(null,function(){return $APP.el(a.listDB(),function(b){return $APP.Xk($APP.il($APP.rh.A(function(c){return a.unsafeUnlinkDB(c)},b)))})})};try{var NWd=new MWd;$APP.Ih.K(x$,$APP.T,ZRd,NWd);hQd();$APP.P4a.expose(NWd)}catch(a){throw console.error("An error occurred when calling (frontend.db-worker/init)"),a;};
}).call(this);