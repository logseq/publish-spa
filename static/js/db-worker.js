importScripts("shared.js");
(function(){
shadow$provide[617]=function(za,ca,ab,K){function x(Q,g){B(Q,g);g.add(Q)}function X(Q,g,h){B(Q,g);g.set(Q,h)}function B(Q,g){if(g.has(Q))throw new TypeError("Cannot initialize the same private elements twice on an object");}function r(Q,g,h){a:if("object"===typeof g&&null!==g){var b=g[Symbol.toPrimitive];if(void 0!==b){g=b.call(g,"string");if("object"!==typeof g)break a;throw new TypeError("@@toPrimitive must return a primitive value.");}g=String(g)}g="symbol"===typeof g?g:String(g);g in Q?Object.defineProperty(Q,
g,{value:h,enumerable:!0,configurable:!0,writable:!0}):Q[g]=h;return Q}function c(Q,g,h){if(!g.has(Q))throw new TypeError("attempted to get private field on non-instance");return h}function w(Q,g){g=C(Q,g,"get");Q=g.get?g.get.call(Q):g.value;return Q}function A(Q,g,h){g=C(Q,g,"set");if(g.set)g.set.call(Q,h);else{if(!g.writable)throw new TypeError("attempted to set read only private field");g.value=h}return h}function C(Q,g,h){if(!g.has(Q))throw new TypeError("attempted to "+h+" private field on non-instance");
return g.get(Q)}ca(2);"use strict";Object.defineProperty(K,"__esModule",{value:!0});K.default=void 0;var G=(()=>function(Q){function g(Qc){return u.locateFile?u.locateFile(Qc,ba):ba+Qc}function h(Qc,Wa,Ya){var Db=Wa+Ya;for(Ya=Wa;Qc[Ya]&&!(Ya>=Db);)++Ya;if(16<Ya-Wa&&Qc.buffer&&Aa)return Aa.decode(Qc.subarray(Wa,Ya));for(Db="";Wa<Ya;){var vb=Qc[Wa++];if(vb&128){var fc=Qc[Wa++]&63;if(192==(vb&224))Db+=String.fromCharCode((vb&31)<<6|fc);else{var kc=Qc[Wa++]&63;vb=224==(vb&240)?(vb&15)<<12|fc<<6|kc:(vb&
7)<<18|fc<<12|kc<<6|Qc[Wa++]&63;65536>vb?Db+=String.fromCharCode(vb):(vb-=65536,Db+=String.fromCharCode(55296|vb>>10,56320|vb&1023))}}else Db+=String.fromCharCode(vb)}return Db}function b(Qc,Wa,Ya,Db){if(!(0<Db))return 0;var vb=Ya;Db=Ya+Db-1;for(var fc=0;fc<Qc.length;++fc){var kc=Qc.charCodeAt(fc);if(55296<=kc&&57343>=kc){var Fb=Qc.charCodeAt(++fc);kc=65536+((kc&1023)<<10)|Fb&1023}if(127>=kc){if(Ya>=Db)break;Wa[Ya++]=kc}else{if(2047>=kc){if(Ya+1>=Db)break;Wa[Ya++]=192|kc>>6}else{if(65535>=kc){if(Ya+
2>=Db)break;Wa[Ya++]=224|kc>>12}else{if(Ya+3>=Db)break;Wa[Ya++]=240|kc>>18;Wa[Ya++]=128|kc>>12&63}Wa[Ya++]=128|kc>>6&63}Wa[Ya++]=128|kc&63}}Wa[Ya]=0;return Ya-vb}function k(Qc){for(var Wa=0,Ya=0;Ya<Qc.length;++Ya){var Db=Qc.charCodeAt(Ya);127>=Db?Wa++:2047>=Db?Wa+=2:55296<=Db&&57343>=Db?(Wa+=4,++Ya):Wa+=3}return Wa}function l(){var Qc=Da.buffer;u.HEAP8=Ja=new Int8Array(Qc);u.HEAP16=hb=new Int16Array(Qc);u.HEAP32=Ha=new Int32Array(Qc);u.HEAPU8=Ma=new Uint8Array(Qc);u.HEAPU16=new Uint16Array(Qc);u.HEAPU32=
Pa=new Uint32Array(Qc);u.HEAPF32=new Float32Array(Qc);u.HEAPF64=new Float64Array(Qc);u.HEAP64=new BigInt64Array(Qc);u.HEAPU64=new BigUint64Array(Qc)}function m(Qc){qa++;u.monitorRunDependencies&&u.monitorRunDependencies(qa)}function E(Qc){qa--;u.monitorRunDependencies&&u.monitorRunDependencies(qa);0==qa&&(null!==ra&&(clearInterval(ra),ra=null),Ra&&(Qc=Ra,Ra=null,Qc()))}function y(Qc){if(u.onAbort)u.onAbort(Qc);Qc="Aborted("+Qc+")";sa(Qc);ua=!0;Qc=new WebAssembly.RuntimeError(Qc+". Build with -sASSERTIONS for more info.");
N(Qc);throw Qc;}function t(Qc){try{if(Qc==Va&&ya)return new Uint8Array(ya);if(Y)return Y(Qc);throw"both async and sync fetching of the wasm failed";}catch(Wa){y(Wa)}}function p(){return ya||!W&&!aa||"function"!=typeof fetch?Promise.resolve().then(function(){return t(Va)}):fetch(Va,{credentials:"same-origin"}).then(function(Qc){if(!Qc.ok)throw"failed to load wasm binary file at '"+Va+"'";return Qc.arrayBuffer()}).catch(function(){return t(Va)})}function e(Qc){for(;0<Qc.length;)Qc.shift()(u)}function I(){if("object"==
typeof crypto&&"function"==typeof crypto.getRandomValues){var Qc=new Uint8Array(1);return()=>{crypto.getRandomValues(Qc);return Qc[0]}}return()=>y("randomDevice")}function z(Qc,Wa,Ya){Ya=0<Ya?Ya:k(Qc)+1;Ya=Array(Ya);Qc=b(Qc,Ya,0,Ya.length);Wa&&(Ya.length=Qc);return Ya}function M(Qc){Qc=65536*Math.ceil(Qc/65536);var Wa=bd(65536,Qc);if(!Wa)return 0;Ma.fill(0,Wa,Wa+Qc);return Wa}function V(Qc,Wa,Ya,Db){var vb=Db?"":"al "+Qc;Z(Qc,fc=>{fc||y('Loading data file "'+Qc+'" failed (no arrayBuffer).');Wa(new Uint8Array(fc));
vb&&E(vb)},fc=>{if(Ya)Ya();else throw'Loading data file "'+Qc+'" failed.';});vb&&m(vb)}function J(Qc){return Pa[Qc>>2]+4294967296*Ha[Qc+4>>2]}function R(Qc){var Wa=k(Qc)+1,Ya=ed(Wa);Ya&&b(Qc,Ja,Ya,Wa);return Ya}function P(){if(!P.strings){var Qc={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:ja||"./this.program"},Wa;for(Wa in lb)void 0===lb[Wa]?delete Qc[Wa]:
Qc[Wa]=lb[Wa];var Ya=[];for(Wa in Qc)Ya.push(Wa+"\x3d"+Qc[Wa]);P.strings=Ya}return P.strings}function T(Qc){function Wa(){if(!Oc&&(Oc=!0,u.calledRun=!0,!ua)){u.noFSInit||Ea.init.initialized||Ea.init();Ea.ignorePermissions=!1;Rb.init();e(ma);H(u);if(u.onRuntimeInitialized)u.onRuntimeInitialized();if(u.postRun)for("function"==typeof u.postRun&&(u.postRun=[u.postRun]);u.postRun.length;)xa.unshift(u.postRun.shift());e(xa)}}if(!(0<qa)){if(u.preRun)for("function"==typeof u.preRun&&(u.preRun=[u.preRun]);u.preRun.length;)na.unshift(u.preRun.shift());
e(na);0<qa||(u.setStatus?(u.setStatus("Running..."),setTimeout(function(){setTimeout(function(){u.setStatus("")},1);Wa()},1)):Wa())}}Q=Q||{};var u="undefined"!=typeof Q?Q:{},F=u.url,H,N;u.ready=new Promise(function(Qc,Wa){H=Qc;N=Wa});const O=globalThis.sqlite3InitModuleState||Object.assign(Object.create(null),{debugModule:()=>{}});delete globalThis.sqlite3InitModuleState;O.debugModule("globalThis.location \x3d",globalThis.location);u["emscripten-bug-17951"]=function Db(Wa,Ya){Wa.env.foo=function(){};
const vb=u.locateFile(Db.uri,"undefined"===typeof ba?"":ba);O.debugModule("instantiateWasm() uri \x3d",vb);(WebAssembly.instantiateStreaming?async()=>WebAssembly.instantiateStreaming(fetch(vb,{credentials:"same-origin"}),Wa).then(fc=>Ya(fc.instance,fc.module)):async()=>fetch(vb,{credentials:"same-origin"}).then(fc=>fc.arrayBuffer()).then(fc=>WebAssembly.instantiate(fc,Wa)).then(fc=>Ya(fc.instance,fc.module)))();return{}};u["emscripten-bug-17951"].uri="sqlite3.wasm";var L=Object.assign({},u),ja="./this.program",
W="object"==typeof window,aa="function"==typeof importScripts,ba="",Y;if(W||aa){aa?ba=self.location.href:"undefined"!=typeof document&&document.currentScript&&(ba=document.currentScript.src);F&&(ba=F);ba="string"===typeof ba&&0!==ba.indexOf("blob:")?ba.substr(0,ba.replace(/[?#].*/,"").lastIndexOf("/")+1):"";var ia=Wa=>{var Ya=new XMLHttpRequest;Ya.open("GET",Wa,!1);Ya.send(null);return Ya.responseText};aa&&(Y=Wa=>{var Ya=new XMLHttpRequest;Ya.open("GET",Wa,!1);Ya.responseType="arraybuffer";Ya.send(null);
return new Uint8Array(Ya.response)});var Z=(Wa,Ya,Db)=>{var vb=new XMLHttpRequest;vb.open("GET",Wa,!0);vb.responseType="arraybuffer";vb.onload=()=>{200==vb.status||0==vb.status&&vb.response?Ya(vb.response):Db()};vb.onerror=Db;vb.send(null)}}var ha=u.print||console.log.bind(console),sa=u.printErr||console.warn.bind(console);Object.assign(u,L);L=null;u.thisProgram&&(ja=u.thisProgram);var ya;u.wasmBinary&&(ya=u.wasmBinary);"object"!=typeof WebAssembly&&y("no native wasm support detected");var ua=!1,
Aa="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0,Ja,Ma,hb,Ha,Pa;L=u.INITIAL_MEMORY||16777216;var Da=u.wasmMemory?u.wasmMemory:new WebAssembly.Memory({initial:L/65536,maximum:32768});l();L=Da.buffer.byteLength;var na=[],ma=[],xa=[],qa=0,ra=null,Ra=null;if(u.locateFile){var Va="sqlite3.wasm";Va.startsWith("data:application/octet-stream;base64,")||(Va=g(Va))}else Va=(new URL("sqlite3.wasm",F)).href;var Xa,Qa,bb={isAbs:Wa=>"/"===Wa.charAt(0),splitPath:Wa=>/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/.exec(Wa).slice(1),
normalizeArray:(Wa,Ya)=>{for(var Db=0,vb=Wa.length-1;0<=vb;vb--){var fc=Wa[vb];"."===fc?Wa.splice(vb,1):".."===fc?(Wa.splice(vb,1),Db++):Db&&(Wa.splice(vb,1),Db--)}if(Ya)for(;Db;Db--)Wa.unshift("..");return Wa},normalize:Wa=>{var Ya=bb.isAbs(Wa),Db="/"===Wa.substr(-1);(Wa=bb.normalizeArray(Wa.split("/").filter(vb=>!!vb),!Ya).join("/"))||Ya||(Wa=".");Wa&&Db&&(Wa+="/");return(Ya?"/":"")+Wa},dirname:Wa=>{var Ya=bb.splitPath(Wa);Wa=Ya[0];Ya=Ya[1];if(!Wa&&!Ya)return".";Ya&&=Ya.substr(0,Ya.length-1);return Wa+
Ya},basename:Wa=>{if("/"===Wa)return"/";Wa=bb.normalize(Wa);Wa=Wa.replace(/\/$/,"");var Ya=Wa.lastIndexOf("/");return-1===Ya?Wa:Wa.substr(Ya+1)},join:function(){var Wa=Array.prototype.slice.call(arguments);return bb.normalize(Wa.join("/"))},join2:(Wa,Ya)=>bb.normalize(Wa+"/"+Ya)},nb={resolve:function(){for(var Wa="",Ya=!1,Db=arguments.length-1;-1<=Db&&!Ya;Db--){Ya=0<=Db?arguments[Db]:Ea.cwd();if("string"!=typeof Ya)throw new TypeError("Arguments to path.resolve must be strings");if(!Ya)return"";Wa=
Ya+"/"+Wa;Ya=bb.isAbs(Ya)}Wa=bb.normalizeArray(Wa.split("/").filter(vb=>!!vb),!Ya).join("/");return(Ya?"/":"")+Wa||"."},relative:(Wa,Ya)=>{function Db(Fb){for(var Tb=0;Tb<Fb.length&&""===Fb[Tb];Tb++);for(var Ib=Fb.length-1;0<=Ib&&""===Fb[Ib];Ib--);return Tb>Ib?[]:Fb.slice(Tb,Ib-Tb+1)}Wa=nb.resolve(Wa).substr(1);Ya=nb.resolve(Ya).substr(1);Wa=Db(Wa.split("/"));Ya=Db(Ya.split("/"));for(var vb=Math.min(Wa.length,Ya.length),fc=vb,kc=0;kc<vb;kc++)if(Wa[kc]!==Ya[kc]){fc=kc;break}vb=[];for(kc=fc;kc<Wa.length;kc++)vb.push("..");
vb=vb.concat(Ya.slice(fc));return vb.join("/")}},Rb={ttys:[],init:function(){},shutdown:function(){},register:function(Wa,Ya){Rb.ttys[Wa]={input:[],output:[],ops:Ya};Ea.registerDevice(Wa,Rb.stream_ops)},stream_ops:{open:function(Wa){var Ya=Rb.ttys[Wa.node.rdev];if(!Ya)throw new Ea.ErrnoError(43);Wa.tty=Ya;Wa.seekable=!1},close:function(Wa){Wa.tty.ops.fsync(Wa.tty)},fsync:function(Wa){Wa.tty.ops.fsync(Wa.tty)},read:function(Wa,Ya,Db,vb,fc){if(!Wa.tty||!Wa.tty.ops.get_char)throw new Ea.ErrnoError(60);
for(var kc=fc=0;kc<vb;kc++){try{var Fb=Wa.tty.ops.get_char(Wa.tty)}catch(Tb){throw new Ea.ErrnoError(29);}if(void 0===Fb&&0===fc)throw new Ea.ErrnoError(6);if(null===Fb||void 0===Fb)break;fc++;Ya[Db+kc]=Fb}fc&&(Wa.node.timestamp=Date.now());return fc},write:function(Wa,Ya,Db,vb,fc){if(!Wa.tty||!Wa.tty.ops.put_char)throw new Ea.ErrnoError(60);try{for(fc=0;fc<vb;fc++)Wa.tty.ops.put_char(Wa.tty,Ya[Db+fc])}catch(kc){throw new Ea.ErrnoError(29);}vb&&(Wa.node.timestamp=Date.now());return fc}},default_tty_ops:{get_char:function(Wa){if(!Wa.input.length){var Ya=
null;"undefined"!=typeof window&&"function"==typeof window.prompt?(Ya=window.prompt("Input: "),null!==Ya&&(Ya+="\n")):"function"==typeof readline&&(Ya=readline(),null!==Ya&&(Ya+="\n"));if(!Ya)return null;Wa.input=z(Ya,!0)}return Wa.input.shift()},put_char:function(Wa,Ya){null===Ya||10===Ya?(ha(h(Wa.output,0)),Wa.output=[]):0!=Ya&&Wa.output.push(Ya)},fsync:function(Wa){Wa.output&&0<Wa.output.length&&(ha(h(Wa.output,0)),Wa.output=[])}},default_tty1_ops:{put_char:function(Wa,Ya){null===Ya||10===Ya?(sa(h(Wa.output,
0)),Wa.output=[]):0!=Ya&&Wa.output.push(Ya)},fsync:function(Wa){Wa.output&&0<Wa.output.length&&(sa(h(Wa.output,0)),Wa.output=[])}}},Lb={ops_table:null,mount:function(Wa){return Lb.createNode(null,"/",16895,0)},createNode:function(Wa,Ya,Db,vb){if(Ea.isBlkdev(Db)||Ea.isFIFO(Db))throw new Ea.ErrnoError(63);Lb.ops_table||(Lb.ops_table={dir:{node:{getattr:Lb.node_ops.getattr,setattr:Lb.node_ops.setattr,lookup:Lb.node_ops.lookup,mknod:Lb.node_ops.mknod,rename:Lb.node_ops.rename,unlink:Lb.node_ops.unlink,
rmdir:Lb.node_ops.rmdir,readdir:Lb.node_ops.readdir,symlink:Lb.node_ops.symlink},stream:{llseek:Lb.stream_ops.llseek}},file:{node:{getattr:Lb.node_ops.getattr,setattr:Lb.node_ops.setattr},stream:{llseek:Lb.stream_ops.llseek,read:Lb.stream_ops.read,write:Lb.stream_ops.write,allocate:Lb.stream_ops.allocate,mmap:Lb.stream_ops.mmap,msync:Lb.stream_ops.msync}},link:{node:{getattr:Lb.node_ops.getattr,setattr:Lb.node_ops.setattr,readlink:Lb.node_ops.readlink},stream:{}},chrdev:{node:{getattr:Lb.node_ops.getattr,
setattr:Lb.node_ops.setattr},stream:Ea.chrdev_stream_ops}});Db=Ea.createNode(Wa,Ya,Db,vb);Ea.isDir(Db.mode)?(Db.node_ops=Lb.ops_table.dir.node,Db.stream_ops=Lb.ops_table.dir.stream,Db.contents={}):Ea.isFile(Db.mode)?(Db.node_ops=Lb.ops_table.file.node,Db.stream_ops=Lb.ops_table.file.stream,Db.usedBytes=0,Db.contents=null):Ea.isLink(Db.mode)?(Db.node_ops=Lb.ops_table.link.node,Db.stream_ops=Lb.ops_table.link.stream):Ea.isChrdev(Db.mode)&&(Db.node_ops=Lb.ops_table.chrdev.node,Db.stream_ops=Lb.ops_table.chrdev.stream);
Db.timestamp=Date.now();Wa&&(Wa.contents[Ya]=Db,Wa.timestamp=Db.timestamp);return Db},getFileDataAsTypedArray:function(Wa){return Wa.contents?Wa.contents.subarray?Wa.contents.subarray(0,Wa.usedBytes):new Uint8Array(Wa.contents):new Uint8Array(0)},expandFileStorage:function(Wa,Ya){var Db=Wa.contents?Wa.contents.length:0;Db>=Ya||(Ya=Math.max(Ya,Db*(1048576>Db?2:1.125)>>>0),0!=Db&&(Ya=Math.max(Ya,256)),Db=Wa.contents,Wa.contents=new Uint8Array(Ya),0<Wa.usedBytes&&Wa.contents.set(Db.subarray(0,Wa.usedBytes),
0))},resizeFileStorage:function(Wa,Ya){if(Wa.usedBytes!=Ya)if(0==Ya)Wa.contents=null,Wa.usedBytes=0;else{var Db=Wa.contents;Wa.contents=new Uint8Array(Ya);Db&&Wa.contents.set(Db.subarray(0,Math.min(Ya,Wa.usedBytes)));Wa.usedBytes=Ya}},node_ops:{getattr:function(Wa){var Ya={};Ya.dev=Ea.isChrdev(Wa.mode)?Wa.id:1;Ya.ino=Wa.id;Ya.mode=Wa.mode;Ya.nlink=1;Ya.uid=0;Ya.gid=0;Ya.rdev=Wa.rdev;Ea.isDir(Wa.mode)?Ya.size=4096:Ea.isFile(Wa.mode)?Ya.size=Wa.usedBytes:Ea.isLink(Wa.mode)?Ya.size=Wa.link.length:Ya.size=
0;Ya.atime=new Date(Wa.timestamp);Ya.mtime=new Date(Wa.timestamp);Ya.ctime=new Date(Wa.timestamp);Ya.blksize=4096;Ya.blocks=Math.ceil(Ya.size/Ya.blksize);return Ya},setattr:function(Wa,Ya){void 0!==Ya.mode&&(Wa.mode=Ya.mode);void 0!==Ya.timestamp&&(Wa.timestamp=Ya.timestamp);void 0!==Ya.size&&Lb.resizeFileStorage(Wa,Ya.size)},lookup:function(Wa,Ya){throw Ea.genericErrors[44];},mknod:function(Wa,Ya,Db,vb){return Lb.createNode(Wa,Ya,Db,vb)},rename:function(Wa,Ya,Db){if(Ea.isDir(Wa.mode)){try{var vb=
Ea.lookupNode(Ya,Db)}catch(kc){}if(vb)for(var fc in vb.contents)throw new Ea.ErrnoError(55);}delete Wa.parent.contents[Wa.name];Wa.parent.timestamp=Date.now();Wa.name=Db;Ya.contents[Db]=Wa;Ya.timestamp=Wa.parent.timestamp;Wa.parent=Ya},unlink:function(Wa,Ya){delete Wa.contents[Ya];Wa.timestamp=Date.now()},rmdir:function(Wa,Ya){var Db=Ea.lookupNode(Wa,Ya),vb;for(vb in Db.contents)throw new Ea.ErrnoError(55);delete Wa.contents[Ya];Wa.timestamp=Date.now()},readdir:function(Wa){var Ya=[".",".."],Db;for(Db in Wa.contents)Wa.contents.hasOwnProperty(Db)&&
Ya.push(Db);return Ya},symlink:function(Wa,Ya,Db){Wa=Lb.createNode(Wa,Ya,41471,0);Wa.link=Db;return Wa},readlink:function(Wa){if(!Ea.isLink(Wa.mode))throw new Ea.ErrnoError(28);return Wa.link}},stream_ops:{read:function(Wa,Ya,Db,vb,fc){var kc=Wa.node.contents;if(fc>=Wa.node.usedBytes)return 0;Wa=Math.min(Wa.node.usedBytes-fc,vb);if(8<Wa&&kc.subarray)Ya.set(kc.subarray(fc,fc+Wa),Db);else for(vb=0;vb<Wa;vb++)Ya[Db+vb]=kc[fc+vb];return Wa},write:function(Wa,Ya,Db,vb,fc,kc){Ya.buffer===Ja.buffer&&(kc=
!1);if(!vb)return 0;Wa=Wa.node;Wa.timestamp=Date.now();if(Ya.subarray&&(!Wa.contents||Wa.contents.subarray)){if(kc)return Wa.contents=Ya.subarray(Db,Db+vb),Wa.usedBytes=vb;if(0===Wa.usedBytes&&0===fc)return Wa.contents=Ya.slice(Db,Db+vb),Wa.usedBytes=vb;if(fc+vb<=Wa.usedBytes)return Wa.contents.set(Ya.subarray(Db,Db+vb),fc),vb}Lb.expandFileStorage(Wa,fc+vb);if(Wa.contents.subarray&&Ya.subarray)Wa.contents.set(Ya.subarray(Db,Db+vb),fc);else for(kc=0;kc<vb;kc++)Wa.contents[fc+kc]=Ya[Db+kc];Wa.usedBytes=
Math.max(Wa.usedBytes,fc+vb);return vb},llseek:function(Wa,Ya,Db){1===Db?Ya+=Wa.position:2===Db&&Ea.isFile(Wa.node.mode)&&(Ya+=Wa.node.usedBytes);if(0>Ya)throw new Ea.ErrnoError(28);return Ya},allocate:function(Wa,Ya,Db){Lb.expandFileStorage(Wa.node,Ya+Db);Wa.node.usedBytes=Math.max(Wa.node.usedBytes,Ya+Db)},mmap:function(Wa,Ya,Db,vb,fc){if(!Ea.isFile(Wa.node.mode))throw new Ea.ErrnoError(43);Wa=Wa.node.contents;if(fc&2||Wa.buffer!==Ja.buffer){if(0<Db||Db+Ya<Wa.length)Wa=Wa.subarray?Wa.subarray(Db,
Db+Ya):Array.prototype.slice.call(Wa,Db,Db+Ya);Db=!0;Ya=M(Ya);if(!Ya)throw new Ea.ErrnoError(48);Ja.set(Wa,Ya)}else Db=!1,Ya=Wa.byteOffset;return{ptr:Ya,allocated:Db}},msync:function(Wa,Ya,Db,vb,fc){Lb.stream_ops.write(Wa,Ya,0,vb,Db,!1);return 0}}},Ea={root:null,mounts:[],devices:{},streams:[],nextInode:1,nameTable:null,currentPath:"/",initialized:!1,ignorePermissions:!0,ErrnoError:null,genericErrors:{},filesystems:null,syncFSRequests:0,lookupPath:(Wa,Ya={})=>{Wa=nb.resolve(Wa);if(!Wa)return{path:"",
node:null};Ya=Object.assign({follow_mount:!0,recurse_count:0},Ya);if(8<Ya.recurse_count)throw new Ea.ErrnoError(32);Wa=Wa.split("/").filter(Fb=>!!Fb);for(var Db=Ea.root,vb="/",fc=0;fc<Wa.length;fc++){var kc=fc===Wa.length-1;if(kc&&Ya.parent)break;Db=Ea.lookupNode(Db,Wa[fc]);vb=bb.join2(vb,Wa[fc]);Ea.isMountpoint(Db)&&(!kc||kc&&Ya.follow_mount)&&(Db=Db.mounted.root);if(!kc||Ya.follow)for(kc=0;Ea.isLink(Db.mode);)if(Db=Ea.readlink(vb),vb=nb.resolve(bb.dirname(vb),Db),Db=Ea.lookupPath(vb,{recurse_count:Ya.recurse_count+
1}).node,40<kc++)throw new Ea.ErrnoError(32);}return{path:vb,node:Db}},getPath:Wa=>{for(var Ya;;){if(Ea.isRoot(Wa))return Wa=Wa.mount.mountpoint,Ya?"/"!==Wa[Wa.length-1]?Wa+"/"+Ya:Wa+Ya:Wa;Ya=Ya?Wa.name+"/"+Ya:Wa.name;Wa=Wa.parent}},hashName:(Wa,Ya)=>{for(var Db=0,vb=0;vb<Ya.length;vb++)Db=(Db<<5)-Db+Ya.charCodeAt(vb)|0;return(Wa+Db>>>0)%Ea.nameTable.length},hashAddNode:Wa=>{var Ya=Ea.hashName(Wa.parent.id,Wa.name);Wa.name_next=Ea.nameTable[Ya];Ea.nameTable[Ya]=Wa},hashRemoveNode:Wa=>{var Ya=Ea.hashName(Wa.parent.id,
Wa.name);if(Ea.nameTable[Ya]===Wa)Ea.nameTable[Ya]=Wa.name_next;else for(Ya=Ea.nameTable[Ya];Ya;){if(Ya.name_next===Wa){Ya.name_next=Wa.name_next;break}Ya=Ya.name_next}},lookupNode:(Wa,Ya)=>{var Db=Ea.mayLookup(Wa);if(Db)throw new Ea.ErrnoError(Db,Wa);Db=Ea.hashName(Wa.id,Ya);for(Db=Ea.nameTable[Db];Db;Db=Db.name_next){var vb=Db.name;if(Db.parent.id===Wa.id&&vb===Ya)return Db}return Ea.lookup(Wa,Ya)},createNode:(Wa,Ya,Db,vb)=>{Wa=new Ea.FSNode(Wa,Ya,Db,vb);Ea.hashAddNode(Wa);return Wa},destroyNode:Wa=>
{Ea.hashRemoveNode(Wa)},isRoot:Wa=>Wa===Wa.parent,isMountpoint:Wa=>!!Wa.mounted,isFile:Wa=>32768===(Wa&61440),isDir:Wa=>16384===(Wa&61440),isLink:Wa=>40960===(Wa&61440),isChrdev:Wa=>8192===(Wa&61440),isBlkdev:Wa=>24576===(Wa&61440),isFIFO:Wa=>4096===(Wa&61440),isSocket:Wa=>49152===(Wa&49152),flagModes:{r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090},modeStringToFlags:Wa=>{var Ya=Ea.flagModes[Wa];if("undefined"==typeof Ya)throw Error("Unknown file open mode: "+Wa);return Ya},flagsToPermissionString:Wa=>
{var Ya=["r","w","rw"][Wa&3];Wa&512&&(Ya+="w");return Ya},nodePermissions:(Wa,Ya)=>{if(Ea.ignorePermissions)return 0;if(!Ya.includes("r")||Wa.mode&292){if(Ya.includes("w")&&!(Wa.mode&146)||Ya.includes("x")&&!(Wa.mode&73))return 2}else return 2;return 0},mayLookup:Wa=>{var Ya=Ea.nodePermissions(Wa,"x");return Ya?Ya:Wa.node_ops.lookup?0:2},mayCreate:(Wa,Ya)=>{try{return Ea.lookupNode(Wa,Ya),20}catch(Db){}return Ea.nodePermissions(Wa,"wx")},mayDelete:(Wa,Ya,Db)=>{try{var vb=Ea.lookupNode(Wa,Ya)}catch(fc){return fc.errno}if(Wa=
Ea.nodePermissions(Wa,"wx"))return Wa;if(Db){if(!Ea.isDir(vb.mode))return 54;if(Ea.isRoot(vb)||Ea.getPath(vb)===Ea.cwd())return 10}else if(Ea.isDir(vb.mode))return 31;return 0},mayOpen:(Wa,Ya)=>Wa?Ea.isLink(Wa.mode)?32:Ea.isDir(Wa.mode)&&("r"!==Ea.flagsToPermissionString(Ya)||Ya&512)?31:Ea.nodePermissions(Wa,Ea.flagsToPermissionString(Ya)):44,MAX_OPEN_FDS:4096,nextfd:(Wa=0,Ya=Ea.MAX_OPEN_FDS)=>{for(;Wa<=Ya;Wa++)if(!Ea.streams[Wa])return Wa;throw new Ea.ErrnoError(33);},getStream:Wa=>Ea.streams[Wa],
createStream:(Wa,Ya,Db)=>{Ea.FSStream||(Ea.FSStream=function(){this.shared={}},Ea.FSStream.prototype={},Object.defineProperties(Ea.FSStream.prototype,{object:{get:function(){return this.node},set:function(vb){this.node=vb}},isRead:{get:function(){return 1!==(this.flags&2097155)}},isWrite:{get:function(){return 0!==(this.flags&2097155)}},isAppend:{get:function(){return this.flags&1024}},flags:{get:function(){return this.shared.flags},set:function(vb){this.shared.flags=vb}},position:{get:function(){return this.shared.position},
set:function(vb){this.shared.position=vb}}}));Wa=Object.assign(new Ea.FSStream,Wa);Ya=Ea.nextfd(Ya,Db);Wa.fd=Ya;return Ea.streams[Ya]=Wa},closeStream:Wa=>{Ea.streams[Wa]=null},chrdev_stream_ops:{open:Wa=>{var Ya=Ea.getDevice(Wa.node.rdev);Wa.stream_ops=Ya.stream_ops;Wa.stream_ops.open&&Wa.stream_ops.open(Wa)},llseek:()=>{throw new Ea.ErrnoError(70);}},major:Wa=>Wa>>8,minor:Wa=>Wa&255,makedev:(Wa,Ya)=>Wa<<8|Ya,registerDevice:(Wa,Ya)=>{Ea.devices[Wa]={stream_ops:Ya}},getDevice:Wa=>Ea.devices[Wa],getMounts:Wa=>
{var Ya=[];for(Wa=[Wa];Wa.length;){var Db=Wa.pop();Ya.push(Db);Wa.push.apply(Wa,Db.mounts)}return Ya},syncfs:(Wa,Ya)=>{function Db(Fb){Ea.syncFSRequests--;return Ya(Fb)}function vb(Fb){if(Fb){if(!vb.errored)return vb.errored=!0,Db(Fb)}else++kc>=fc.length&&Db(null)}"function"==typeof Wa&&(Ya=Wa,Wa=!1);Ea.syncFSRequests++;1<Ea.syncFSRequests&&sa("warning: "+Ea.syncFSRequests+" FS.syncfs operations in flight at once, probably just doing extra work");var fc=Ea.getMounts(Ea.root.mount),kc=0;fc.forEach(Fb=>
{if(!Fb.type.syncfs)return vb(null);Fb.type.syncfs(Fb,Wa,vb)})},mount:(Wa,Ya,Db)=>{var vb="/"===Db,fc=!Db;if(vb&&Ea.root)throw new Ea.ErrnoError(10);if(!vb&&!fc){var kc=Ea.lookupPath(Db,{follow_mount:!1});Db=kc.path;kc=kc.node;if(Ea.isMountpoint(kc))throw new Ea.ErrnoError(10);if(!Ea.isDir(kc.mode))throw new Ea.ErrnoError(54);}Ya={type:Wa,opts:Ya,mountpoint:Db,mounts:[]};Wa=Wa.mount(Ya);Wa.mount=Ya;Ya.root=Wa;vb?Ea.root=Wa:kc&&(kc.mounted=Ya,kc.mount&&kc.mount.mounts.push(Ya));return Wa},unmount:Wa=>
{Wa=Ea.lookupPath(Wa,{follow_mount:!1});if(!Ea.isMountpoint(Wa.node))throw new Ea.ErrnoError(28);Wa=Wa.node;var Ya=Wa.mounted,Db=Ea.getMounts(Ya);Object.keys(Ea.nameTable).forEach(vb=>{for(vb=Ea.nameTable[vb];vb;){var fc=vb.name_next;Db.includes(vb.mount)&&Ea.destroyNode(vb);vb=fc}});Wa.mounted=null;Ya=Wa.mount.mounts.indexOf(Ya);Wa.mount.mounts.splice(Ya,1)},lookup:(Wa,Ya)=>Wa.node_ops.lookup(Wa,Ya),mknod:(Wa,Ya,Db)=>{var vb=Ea.lookupPath(Wa,{parent:!0}).node;Wa=bb.basename(Wa);if(!Wa||"."===Wa||
".."===Wa)throw new Ea.ErrnoError(28);var fc=Ea.mayCreate(vb,Wa);if(fc)throw new Ea.ErrnoError(fc);if(!vb.node_ops.mknod)throw new Ea.ErrnoError(63);return vb.node_ops.mknod(vb,Wa,Ya,Db)},create:(Wa,Ya)=>Ea.mknod(Wa,(void 0!==Ya?Ya:438)&4095|32768,0),mkdir:(Wa,Ya)=>Ea.mknod(Wa,(void 0!==Ya?Ya:511)&1023|16384,0),mkdirTree:(Wa,Ya)=>{Wa=Wa.split("/");for(var Db="",vb=0;vb<Wa.length;++vb)if(Wa[vb]){Db+="/"+Wa[vb];try{Ea.mkdir(Db,Ya)}catch(fc){if(20!=fc.errno)throw fc;}}},mkdev:(Wa,Ya,Db)=>{"undefined"==
typeof Db&&(Db=Ya,Ya=438);return Ea.mknod(Wa,Ya|8192,Db)},symlink:(Wa,Ya)=>{if(!nb.resolve(Wa))throw new Ea.ErrnoError(44);var Db=Ea.lookupPath(Ya,{parent:!0}).node;if(!Db)throw new Ea.ErrnoError(44);Ya=bb.basename(Ya);var vb=Ea.mayCreate(Db,Ya);if(vb)throw new Ea.ErrnoError(vb);if(!Db.node_ops.symlink)throw new Ea.ErrnoError(63);return Db.node_ops.symlink(Db,Ya,Wa)},rename:(Wa,Ya)=>{var Db=bb.dirname(Wa),vb=bb.dirname(Ya),fc=bb.basename(Wa),kc=bb.basename(Ya);var Fb=Ea.lookupPath(Wa,{parent:!0});
var Tb=Fb.node;Fb=Ea.lookupPath(Ya,{parent:!0});Fb=Fb.node;if(!Tb||!Fb)throw new Ea.ErrnoError(44);if(Tb.mount!==Fb.mount)throw new Ea.ErrnoError(75);var Ib=Ea.lookupNode(Tb,fc);Wa=nb.relative(Wa,vb);if("."!==Wa.charAt(0))throw new Ea.ErrnoError(28);Wa=nb.relative(Ya,Db);if("."!==Wa.charAt(0))throw new Ea.ErrnoError(55);try{var mb=Ea.lookupNode(Fb,kc)}catch(zb){}if(Ib!==mb){Ya=Ea.isDir(Ib.mode);if(fc=Ea.mayDelete(Tb,fc,Ya))throw new Ea.ErrnoError(fc);if(fc=mb?Ea.mayDelete(Fb,kc,Ya):Ea.mayCreate(Fb,
kc))throw new Ea.ErrnoError(fc);if(!Tb.node_ops.rename)throw new Ea.ErrnoError(63);if(Ea.isMountpoint(Ib)||mb&&Ea.isMountpoint(mb))throw new Ea.ErrnoError(10);if(Fb!==Tb&&(fc=Ea.nodePermissions(Tb,"w")))throw new Ea.ErrnoError(fc);Ea.hashRemoveNode(Ib);try{Tb.node_ops.rename(Ib,Fb,kc)}catch(zb){throw zb;}finally{Ea.hashAddNode(Ib)}}},rmdir:Wa=>{var Ya=Ea.lookupPath(Wa,{parent:!0}).node;Wa=bb.basename(Wa);var Db=Ea.lookupNode(Ya,Wa),vb=Ea.mayDelete(Ya,Wa,!0);if(vb)throw new Ea.ErrnoError(vb);if(!Ya.node_ops.rmdir)throw new Ea.ErrnoError(63);
if(Ea.isMountpoint(Db))throw new Ea.ErrnoError(10);Ya.node_ops.rmdir(Ya,Wa);Ea.destroyNode(Db)},readdir:Wa=>{Wa=Ea.lookupPath(Wa,{follow:!0}).node;if(!Wa.node_ops.readdir)throw new Ea.ErrnoError(54);return Wa.node_ops.readdir(Wa)},unlink:Wa=>{var Ya=Ea.lookupPath(Wa,{parent:!0}).node;if(!Ya)throw new Ea.ErrnoError(44);Wa=bb.basename(Wa);var Db=Ea.lookupNode(Ya,Wa),vb=Ea.mayDelete(Ya,Wa,!1);if(vb)throw new Ea.ErrnoError(vb);if(!Ya.node_ops.unlink)throw new Ea.ErrnoError(63);if(Ea.isMountpoint(Db))throw new Ea.ErrnoError(10);
Ya.node_ops.unlink(Ya,Wa);Ea.destroyNode(Db)},readlink:Wa=>{Wa=Ea.lookupPath(Wa).node;if(!Wa)throw new Ea.ErrnoError(44);if(!Wa.node_ops.readlink)throw new Ea.ErrnoError(28);return nb.resolve(Ea.getPath(Wa.parent),Wa.node_ops.readlink(Wa))},stat:(Wa,Ya)=>{Wa=Ea.lookupPath(Wa,{follow:!Ya}).node;if(!Wa)throw new Ea.ErrnoError(44);if(!Wa.node_ops.getattr)throw new Ea.ErrnoError(63);return Wa.node_ops.getattr(Wa)},lstat:Wa=>Ea.stat(Wa,!0),chmod:(Wa,Ya,Db)=>{Wa="string"==typeof Wa?Ea.lookupPath(Wa,{follow:!Db}).node:
Wa;if(!Wa.node_ops.setattr)throw new Ea.ErrnoError(63);Wa.node_ops.setattr(Wa,{mode:Ya&4095|Wa.mode&-4096,timestamp:Date.now()})},lchmod:(Wa,Ya)=>{Ea.chmod(Wa,Ya,!0)},fchmod:(Wa,Ya)=>{Wa=Ea.getStream(Wa);if(!Wa)throw new Ea.ErrnoError(8);Ea.chmod(Wa.node,Ya)},chown:(Wa,Ya,Db,vb)=>{Wa="string"==typeof Wa?Ea.lookupPath(Wa,{follow:!vb}).node:Wa;if(!Wa.node_ops.setattr)throw new Ea.ErrnoError(63);Wa.node_ops.setattr(Wa,{timestamp:Date.now()})},lchown:(Wa,Ya,Db)=>{Ea.chown(Wa,Ya,Db,!0)},fchown:(Wa,Ya,
Db)=>{Wa=Ea.getStream(Wa);if(!Wa)throw new Ea.ErrnoError(8);Ea.chown(Wa.node,Ya,Db)},truncate:(Wa,Ya)=>{if(0>Ya)throw new Ea.ErrnoError(28);Wa="string"==typeof Wa?Ea.lookupPath(Wa,{follow:!0}).node:Wa;if(!Wa.node_ops.setattr)throw new Ea.ErrnoError(63);if(Ea.isDir(Wa.mode))throw new Ea.ErrnoError(31);if(!Ea.isFile(Wa.mode))throw new Ea.ErrnoError(28);var Db=Ea.nodePermissions(Wa,"w");if(Db)throw new Ea.ErrnoError(Db);Wa.node_ops.setattr(Wa,{size:Ya,timestamp:Date.now()})},ftruncate:(Wa,Ya)=>{Wa=Ea.getStream(Wa);
if(!Wa)throw new Ea.ErrnoError(8);if(0===(Wa.flags&2097155))throw new Ea.ErrnoError(28);Ea.truncate(Wa.node,Ya)},utime:(Wa,Ya,Db)=>{Wa=Ea.lookupPath(Wa,{follow:!0}).node;Wa.node_ops.setattr(Wa,{timestamp:Math.max(Ya,Db)})},open:(Wa,Ya,Db)=>{if(""===Wa)throw new Ea.ErrnoError(44);Ya="string"==typeof Ya?Ea.modeStringToFlags(Ya):Ya;Db=Ya&64?("undefined"==typeof Db?438:Db)&4095|32768:0;if("object"==typeof Wa)var vb=Wa;else{Wa=bb.normalize(Wa);try{vb=Ea.lookupPath(Wa,{follow:!(Ya&131072)}).node}catch(kc){}}var fc=
!1;if(Ya&64)if(vb){if(Ya&128)throw new Ea.ErrnoError(20);}else vb=Ea.mknod(Wa,Db,0),fc=!0;if(!vb)throw new Ea.ErrnoError(44);Ea.isChrdev(vb.mode)&&(Ya&=-513);if(Ya&65536&&!Ea.isDir(vb.mode))throw new Ea.ErrnoError(54);if(!fc&&(Db=Ea.mayOpen(vb,Ya)))throw new Ea.ErrnoError(Db);Ya&512&&!fc&&Ea.truncate(vb,0);Ya&=-131713;vb=Ea.createStream({node:vb,path:Ea.getPath(vb),flags:Ya,seekable:!0,position:0,stream_ops:vb.stream_ops,ungotten:[],error:!1});vb.stream_ops.open&&vb.stream_ops.open(vb);!u.logReadFiles||
Ya&1||(Ea.readFiles||(Ea.readFiles={}),Wa in Ea.readFiles||(Ea.readFiles[Wa]=1));return vb},close:Wa=>{if(Ea.isClosed(Wa))throw new Ea.ErrnoError(8);Wa.getdents&&(Wa.getdents=null);try{Wa.stream_ops.close&&Wa.stream_ops.close(Wa)}catch(Ya){throw Ya;}finally{Ea.closeStream(Wa.fd)}Wa.fd=null},isClosed:Wa=>null===Wa.fd,llseek:(Wa,Ya,Db)=>{if(Ea.isClosed(Wa))throw new Ea.ErrnoError(8);if(!Wa.seekable||!Wa.stream_ops.llseek)throw new Ea.ErrnoError(70);if(0!=Db&&1!=Db&&2!=Db)throw new Ea.ErrnoError(28);
Wa.position=Wa.stream_ops.llseek(Wa,Ya,Db);Wa.ungotten=[];return Wa.position},read:(Wa,Ya,Db,vb,fc)=>{if(0>vb||0>fc)throw new Ea.ErrnoError(28);if(Ea.isClosed(Wa))throw new Ea.ErrnoError(8);if(1===(Wa.flags&2097155))throw new Ea.ErrnoError(8);if(Ea.isDir(Wa.node.mode))throw new Ea.ErrnoError(31);if(!Wa.stream_ops.read)throw new Ea.ErrnoError(28);var kc="undefined"!=typeof fc;if(!kc)fc=Wa.position;else if(!Wa.seekable)throw new Ea.ErrnoError(70);Ya=Wa.stream_ops.read(Wa,Ya,Db,vb,fc);kc||(Wa.position+=
Ya);return Ya},write:(Wa,Ya,Db,vb,fc,kc)=>{if(0>vb||0>fc)throw new Ea.ErrnoError(28);if(Ea.isClosed(Wa))throw new Ea.ErrnoError(8);if(0===(Wa.flags&2097155))throw new Ea.ErrnoError(8);if(Ea.isDir(Wa.node.mode))throw new Ea.ErrnoError(31);if(!Wa.stream_ops.write)throw new Ea.ErrnoError(28);Wa.seekable&&Wa.flags&1024&&Ea.llseek(Wa,0,2);var Fb="undefined"!=typeof fc;if(!Fb)fc=Wa.position;else if(!Wa.seekable)throw new Ea.ErrnoError(70);Ya=Wa.stream_ops.write(Wa,Ya,Db,vb,fc,kc);Fb||(Wa.position+=Ya);
return Ya},allocate:(Wa,Ya,Db)=>{if(Ea.isClosed(Wa))throw new Ea.ErrnoError(8);if(0>Ya||0>=Db)throw new Ea.ErrnoError(28);if(0===(Wa.flags&2097155))throw new Ea.ErrnoError(8);if(!Ea.isFile(Wa.node.mode)&&!Ea.isDir(Wa.node.mode))throw new Ea.ErrnoError(43);if(!Wa.stream_ops.allocate)throw new Ea.ErrnoError(138);Wa.stream_ops.allocate(Wa,Ya,Db)},mmap:(Wa,Ya,Db,vb,fc)=>{if(0!==(vb&2)&&0===(fc&2)&&2!==(Wa.flags&2097155))throw new Ea.ErrnoError(2);if(1===(Wa.flags&2097155))throw new Ea.ErrnoError(2);if(!Wa.stream_ops.mmap)throw new Ea.ErrnoError(43);
return Wa.stream_ops.mmap(Wa,Ya,Db,vb,fc)},msync:(Wa,Ya,Db,vb,fc)=>Wa.stream_ops.msync?Wa.stream_ops.msync(Wa,Ya,Db,vb,fc):0,munmap:Wa=>0,ioctl:(Wa,Ya,Db)=>{if(!Wa.stream_ops.ioctl)throw new Ea.ErrnoError(59);return Wa.stream_ops.ioctl(Wa,Ya,Db)},readFile:(Wa,Ya={})=>{Ya.flags=Ya.flags||0;Ya.encoding=Ya.encoding||"binary";if("utf8"!==Ya.encoding&&"binary"!==Ya.encoding)throw Error('Invalid encoding type "'+Ya.encoding+'"');var Db,vb=Ea.open(Wa,Ya.flags);Wa=Ea.stat(Wa).size;var fc=new Uint8Array(Wa);
Ea.read(vb,fc,0,Wa,0);"utf8"===Ya.encoding?Db=h(fc,0):"binary"===Ya.encoding&&(Db=fc);Ea.close(vb);return Db},writeFile:(Wa,Ya,Db={})=>{Db.flags=Db.flags||577;Wa=Ea.open(Wa,Db.flags,Db.mode);if("string"==typeof Ya){var vb=new Uint8Array(k(Ya)+1);Ya=b(Ya,vb,0,vb.length);Ea.write(Wa,vb,0,Ya,void 0,Db.canOwn)}else if(ArrayBuffer.isView(Ya))Ea.write(Wa,Ya,0,Ya.byteLength,void 0,Db.canOwn);else throw Error("Unsupported data type");Ea.close(Wa)},cwd:()=>Ea.currentPath,chdir:Wa=>{Wa=Ea.lookupPath(Wa,{follow:!0});
if(null===Wa.node)throw new Ea.ErrnoError(44);if(!Ea.isDir(Wa.node.mode))throw new Ea.ErrnoError(54);var Ya=Ea.nodePermissions(Wa.node,"x");if(Ya)throw new Ea.ErrnoError(Ya);Ea.currentPath=Wa.path},createDefaultDirectories:()=>{Ea.mkdir("/tmp");Ea.mkdir("/home");Ea.mkdir("/home/web_user")},createDefaultDevices:()=>{Ea.mkdir("/dev");Ea.registerDevice(Ea.makedev(1,3),{read:()=>0,write:(Ya,Db,vb,fc,kc)=>fc});Ea.mkdev("/dev/null",Ea.makedev(1,3));Rb.register(Ea.makedev(5,0),Rb.default_tty_ops);Rb.register(Ea.makedev(6,
0),Rb.default_tty1_ops);Ea.mkdev("/dev/tty",Ea.makedev(5,0));Ea.mkdev("/dev/tty1",Ea.makedev(6,0));var Wa=I();Ea.createDevice("/dev","random",Wa);Ea.createDevice("/dev","urandom",Wa);Ea.mkdir("/dev/shm");Ea.mkdir("/dev/shm/tmp")},createSpecialDirectories:()=>{Ea.mkdir("/proc");var Wa=Ea.mkdir("/proc/self");Ea.mkdir("/proc/self/fd");Ea.mount({mount:()=>{var Ya=Ea.createNode(Wa,"fd",16895,73);Ya.node_ops={lookup:(Db,vb)=>{var fc=Ea.getStream(+vb);if(!fc)throw new Ea.ErrnoError(8);Db={parent:null,mount:{mountpoint:"fake"},
node_ops:{readlink:()=>fc.path}};return Db.parent=Db}};return Ya}},{},"/proc/self/fd")},createStandardStreams:()=>{u.stdin?Ea.createDevice("/dev","stdin",u.stdin):Ea.symlink("/dev/tty","/dev/stdin");u.stdout?Ea.createDevice("/dev","stdout",null,u.stdout):Ea.symlink("/dev/tty","/dev/stdout");u.stderr?Ea.createDevice("/dev","stderr",null,u.stderr):Ea.symlink("/dev/tty1","/dev/stderr");Ea.open("/dev/stdin",0);Ea.open("/dev/stdout",1);Ea.open("/dev/stderr",1)},ensureErrnoError:()=>{Ea.ErrnoError||(Ea.ErrnoError=
function(Wa,Ya){this.node=Ya;this.setErrno=function(Db){this.errno=Db};this.setErrno(Wa);this.message="FS error"},Ea.ErrnoError.prototype=Error(),Ea.ErrnoError.prototype.constructor=Ea.ErrnoError,[44].forEach(Wa=>{Ea.genericErrors[Wa]=new Ea.ErrnoError(Wa);Ea.genericErrors[Wa].stack="\x3cgeneric error, no stack\x3e"}))},staticInit:()=>{Ea.ensureErrnoError();Ea.nameTable=Array(4096);Ea.mount(Lb,{},"/");Ea.createDefaultDirectories();Ea.createDefaultDevices();Ea.createSpecialDirectories();Ea.filesystems=
{MEMFS:Lb}},init:(Wa,Ya,Db)=>{Ea.init.initialized=!0;Ea.ensureErrnoError();u.stdin=Wa||u.stdin;u.stdout=Ya||u.stdout;u.stderr=Db||u.stderr;Ea.createStandardStreams()},quit:()=>{Ea.init.initialized=!1;for(var Wa=0;Wa<Ea.streams.length;Wa++){var Ya=Ea.streams[Wa];Ya&&Ea.close(Ya)}},getMode:(Wa,Ya)=>{var Db=0;Wa&&(Db|=365);Ya&&(Db|=146);return Db},findObject:(Wa,Ya)=>{Wa=Ea.analyzePath(Wa,Ya);return Wa.exists?Wa.object:null},analyzePath:(Wa,Ya)=>{try{var Db=Ea.lookupPath(Wa,{follow:!Ya});Wa=Db.path}catch(fc){}var vb=
{isRoot:!1,exists:!1,error:0,name:null,path:null,object:null,parentExists:!1,parentPath:null,parentObject:null};try{Db=Ea.lookupPath(Wa,{parent:!0}),vb.parentExists=!0,vb.parentPath=Db.path,vb.parentObject=Db.node,vb.name=bb.basename(Wa),Db=Ea.lookupPath(Wa,{follow:!Ya}),vb.exists=!0,vb.path=Db.path,vb.object=Db.node,vb.name=Db.node.name,vb.isRoot="/"===Db.path}catch(fc){vb.error=fc.errno}return vb},createPath:(Wa,Ya,Db,vb)=>{Wa="string"==typeof Wa?Wa:Ea.getPath(Wa);for(Ya=Ya.split("/").reverse();Ya.length;)if(Db=
Ya.pop()){var fc=bb.join2(Wa,Db);try{Ea.mkdir(fc)}catch(kc){}Wa=fc}return fc},createFile:(Wa,Ya,Db,vb,fc)=>{Wa=bb.join2("string"==typeof Wa?Wa:Ea.getPath(Wa),Ya);vb=Ea.getMode(vb,fc);return Ea.create(Wa,vb)},createDataFile:(Wa,Ya,Db,vb,fc,kc)=>{var Fb=Ya;Wa&&(Wa="string"==typeof Wa?Wa:Ea.getPath(Wa),Fb=Ya?bb.join2(Wa,Ya):Wa);Wa=Ea.getMode(vb,fc);Fb=Ea.create(Fb,Wa);if(Db){if("string"==typeof Db){Ya=Array(Db.length);vb=0;for(fc=Db.length;vb<fc;++vb)Ya[vb]=Db.charCodeAt(vb);Db=Ya}Ea.chmod(Fb,Wa|146);
Ya=Ea.open(Fb,577);Ea.write(Ya,Db,0,Db.length,0,kc);Ea.close(Ya);Ea.chmod(Fb,Wa)}return Fb},createDevice:(Wa,Ya,Db,vb)=>{Wa=bb.join2("string"==typeof Wa?Wa:Ea.getPath(Wa),Ya);Ya=Ea.getMode(!!Db,!!vb);Ea.createDevice.major||(Ea.createDevice.major=64);var fc=Ea.makedev(Ea.createDevice.major++,0);Ea.registerDevice(fc,{open:kc=>{kc.seekable=!1},close:kc=>{vb&&vb.buffer&&vb.buffer.length&&vb(10)},read:(kc,Fb,Tb,Ib,mb)=>{for(var zb=mb=0;zb<Ib;zb++){try{var Cb=Db()}catch(jb){throw new Ea.ErrnoError(29);
}if(void 0===Cb&&0===mb)throw new Ea.ErrnoError(6);if(null===Cb||void 0===Cb)break;mb++;Fb[Tb+zb]=Cb}mb&&(kc.node.timestamp=Date.now());return mb},write:(kc,Fb,Tb,Ib,mb)=>{for(mb=0;mb<Ib;mb++)try{vb(Fb[Tb+mb])}catch(zb){throw new Ea.ErrnoError(29);}Ib&&(kc.node.timestamp=Date.now());return mb}});return Ea.mkdev(Wa,Ya,fc)},forceLoadFile:Wa=>{if(Wa.isDevice||Wa.isFolder||Wa.link||Wa.contents)return!0;if("undefined"!=typeof XMLHttpRequest)throw Error("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.");
if(ia)try{Wa.contents=z(ia(Wa.url),!0),Wa.usedBytes=Wa.contents.length}catch(Ya){throw new Ea.ErrnoError(29);}else throw Error("Cannot load without read() or XMLHttpRequest.");},createLazyFile:(Wa,Ya,Db,vb,fc)=>{function kc(){this.lengthKnown=!1;this.chunks=[]}function Fb(zb,Cb,jb,tb,Mb){zb=zb.node.contents;if(Mb>=zb.length)return 0;tb=Math.min(zb.length-Mb,tb);if(zb.slice)for(var nc=0;nc<tb;nc++)Cb[jb+nc]=zb[Mb+nc];else for(nc=0;nc<tb;nc++)Cb[jb+nc]=zb.get(Mb+nc);return tb}kc.prototype.get=function(zb){if(!(zb>
this.length-1||0>zb)){var Cb=zb%this.chunkSize;return this.getter(zb/this.chunkSize|0)[Cb]}};kc.prototype.setDataGetter=function(zb){this.getter=zb};kc.prototype.cacheLength=function(){var zb=new XMLHttpRequest;zb.open("HEAD",Db,!1);zb.send(null);if(!(200<=zb.status&&300>zb.status||304===zb.status))throw Error("Couldn't load "+Db+". Status: "+zb.status);var Cb=Number(zb.getResponseHeader("Content-length")),jb,tb=(jb=zb.getResponseHeader("Accept-Ranges"))&&"bytes"===jb;zb=(jb=zb.getResponseHeader("Content-Encoding"))&&
"gzip"===jb;var Mb=1048576;tb||(Mb=Cb);var nc=this;nc.setDataGetter(Gc=>{var Lc=Gc*Mb,rc=(Gc+1)*Mb-1;rc=Math.min(rc,Cb-1);if("undefined"==typeof nc.chunks[Gc]){var Yc=nc.chunks;if(Lc>rc)throw Error("invalid range ("+Lc+", "+rc+") or no bytes requested!");if(rc>Cb-1)throw Error("only "+Cb+" bytes available! programmer error!");var Wc=new XMLHttpRequest;Wc.open("GET",Db,!1);Cb!==Mb&&Wc.setRequestHeader("Range","bytes\x3d"+Lc+"-"+rc);Wc.responseType="arraybuffer";Wc.overrideMimeType&&Wc.overrideMimeType("text/plain; charset\x3dx-user-defined");
Wc.send(null);if(!(200<=Wc.status&&300>Wc.status||304===Wc.status))throw Error("Couldn't load "+Db+". Status: "+Wc.status);Lc=void 0!==Wc.response?new Uint8Array(Wc.response||[]):z(Wc.responseText||"",!0);Yc[Gc]=Lc}if("undefined"==typeof nc.chunks[Gc])throw Error("doXHR failed!");return nc.chunks[Gc]});if(zb||!Cb)Mb=Cb=1,Mb=Cb=this.getter(0).length,ha("LazyFiles on gzip forces download of the whole file when length is accessed");this._length=Cb;this._chunkSize=Mb;this.lengthKnown=!0};if("undefined"!=
typeof XMLHttpRequest){if(!aa)throw"Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc";var Tb=new kc;Object.defineProperties(Tb,{length:{get:function(){this.lengthKnown||this.cacheLength();return this._length}},chunkSize:{get:function(){this.lengthKnown||this.cacheLength();return this._chunkSize}}});Tb={isDevice:!1,contents:Tb}}else Tb={isDevice:!1,url:Db};var Ib=Ea.createFile(Wa,Ya,Tb,vb,fc);Tb.contents?Ib.contents=Tb.contents:Tb.url&&
(Ib.contents=null,Ib.url=Tb.url);Object.defineProperties(Ib,{usedBytes:{get:function(){return this.contents.length}}});var mb={};Object.keys(Ib.stream_ops).forEach(zb=>{var Cb=Ib.stream_ops[zb];mb[zb]=function(){Ea.forceLoadFile(Ib);return Cb.apply(null,arguments)}});mb.read=(zb,Cb,jb,tb,Mb)=>{Ea.forceLoadFile(Ib);return Fb(zb,Cb,jb,tb,Mb)};mb.mmap=(zb,Cb,jb,tb,Mb)=>{Ea.forceLoadFile(Ib);tb=M(Cb);if(!tb)throw new Ea.ErrnoError(48);Fb(zb,Ja,tb,Cb,jb);return{ptr:tb,allocated:!0}};Ib.stream_ops=mb;return Ib},
createPreloadedFile:(Wa,Ya,Db,vb,fc,kc,Fb,Tb,Ib,mb)=>{function zb(tb){function Mb(nc){mb&&mb();Tb||Ea.createDataFile(Wa,Ya,nc,vb,fc,Ib);kc&&kc();E(jb)}Browser.handledByPreloadPlugin(tb,Cb,Mb,()=>{Fb&&Fb();E(jb)})||Mb(tb)}var Cb=Ya?nb.resolve(bb.join2(Wa,Ya)):Wa,jb="cp "+Cb;m(jb);"string"==typeof Db?V(Db,tb=>zb(tb),Fb):zb(Db)},indexedDB:()=>window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB,DB_NAME:()=>"EM_FS_"+window.location.pathname,DB_VERSION:20,DB_STORE_NAME:"FILE_DATA",
saveFilesToDB:(Wa,Ya,Db)=>{Ya=Ya||(()=>{});Db=Db||(()=>{});var vb=Ea.indexedDB();try{var fc=vb.open(Ea.DB_NAME(),Ea.DB_VERSION)}catch(kc){return Db(kc)}fc.onupgradeneeded=()=>{ha("creating db");fc.result.createObjectStore(Ea.DB_STORE_NAME)};fc.onsuccess=()=>{var kc=fc.result.transaction([Ea.DB_STORE_NAME],"readwrite"),Fb=kc.objectStore(Ea.DB_STORE_NAME),Tb=0,Ib=0,mb=Wa.length;Wa.forEach(zb=>{zb=Fb.put(Ea.analyzePath(zb).object.contents,zb);zb.onsuccess=()=>{Tb++;Tb+Ib==mb&&(0==Ib?Ya():Db())};zb.onerror=
()=>{Ib++;Tb+Ib==mb&&(0==Ib?Ya():Db())}});kc.onerror=Db};fc.onerror=Db},loadFilesFromDB:(Wa,Ya,Db)=>{Ya=Ya||(()=>{});Db=Db||(()=>{});var vb=Ea.indexedDB();try{var fc=vb.open(Ea.DB_NAME(),Ea.DB_VERSION)}catch(kc){return Db(kc)}fc.onupgradeneeded=Db;fc.onsuccess=()=>{var kc=fc.result;try{var Fb=kc.transaction([Ea.DB_STORE_NAME],"readonly")}catch(Cb){Db(Cb);return}var Tb=Fb.objectStore(Ea.DB_STORE_NAME),Ib=0,mb=0,zb=Wa.length;Wa.forEach(Cb=>{var jb=Tb.get(Cb);jb.onsuccess=()=>{Ea.analyzePath(Cb).exists&&
Ea.unlink(Cb);Ea.createDataFile(bb.dirname(Cb),bb.basename(Cb),jb.result,!0,!0,!0);Ib++;Ib+mb==zb&&(0==mb?Ya():Db())};jb.onerror=()=>{mb++;Ib+mb==zb&&(0==mb?Ya():Db())}});Fb.onerror=Db};fc.onerror=Db}},sb={DEFAULT_POLLMASK:5,calculateAt:function(Wa,Ya,Db){if(bb.isAbs(Ya))return Ya;Wa=-100===Wa?Ea.cwd():sb.getStreamFromFD(Wa).path;if(0==Ya.length){if(!Db)throw new Ea.ErrnoError(44);return Wa}return bb.join2(Wa,Ya)},doStat:function(Wa,Ya,Db){try{var vb=Wa(Ya)}catch(kc){if(kc&&kc.node&&bb.normalize(Ya)!==
bb.normalize(Ea.getPath(kc.node)))return-54;throw kc;}Ha[Db>>2]=vb.dev;Ha[Db+8>>2]=vb.ino;Ha[Db+12>>2]=vb.mode;Pa[Db+16>>2]=vb.nlink;Ha[Db+20>>2]=vb.uid;Ha[Db+24>>2]=vb.gid;Ha[Db+28>>2]=vb.rdev;Qa=[vb.size>>>0,(Xa=vb.size,1<=+Math.abs(Xa)?0<Xa?(Math.min(+Math.floor(Xa/4294967296),4294967295)|0)>>>0:~~+Math.ceil((Xa-+(~~Xa>>>0))/4294967296)>>>0:0)];Ha[Db+40>>2]=Qa[0];Ha[Db+44>>2]=Qa[1];Ha[Db+48>>2]=4096;Ha[Db+52>>2]=vb.blocks;Wa=vb.atime.getTime();Ya=vb.mtime.getTime();var fc=vb.ctime.getTime();Qa=
[Math.floor(Wa/1E3)>>>0,(Xa=Math.floor(Wa/1E3),1<=+Math.abs(Xa)?0<Xa?(Math.min(+Math.floor(Xa/4294967296),4294967295)|0)>>>0:~~+Math.ceil((Xa-+(~~Xa>>>0))/4294967296)>>>0:0)];Ha[Db+56>>2]=Qa[0];Ha[Db+60>>2]=Qa[1];Pa[Db+64>>2]=Wa%1E3*1E3;Qa=[Math.floor(Ya/1E3)>>>0,(Xa=Math.floor(Ya/1E3),1<=+Math.abs(Xa)?0<Xa?(Math.min(+Math.floor(Xa/4294967296),4294967295)|0)>>>0:~~+Math.ceil((Xa-+(~~Xa>>>0))/4294967296)>>>0:0)];Ha[Db+72>>2]=Qa[0];Ha[Db+76>>2]=Qa[1];Pa[Db+80>>2]=Ya%1E3*1E3;Qa=[Math.floor(fc/1E3)>>>
0,(Xa=Math.floor(fc/1E3),1<=+Math.abs(Xa)?0<Xa?(Math.min(+Math.floor(Xa/4294967296),4294967295)|0)>>>0:~~+Math.ceil((Xa-+(~~Xa>>>0))/4294967296)>>>0:0)];Ha[Db+88>>2]=Qa[0];Ha[Db+92>>2]=Qa[1];Pa[Db+96>>2]=fc%1E3*1E3;Qa=[vb.ino>>>0,(Xa=vb.ino,1<=+Math.abs(Xa)?0<Xa?(Math.min(+Math.floor(Xa/4294967296),4294967295)|0)>>>0:~~+Math.ceil((Xa-+(~~Xa>>>0))/4294967296)>>>0:0)];Ha[Db+104>>2]=Qa[0];Ha[Db+108>>2]=Qa[1];return 0},doMsync:function(Wa,Ya,Db,vb,fc){if(!Ea.isFile(Ya.node.mode))throw new Ea.ErrnoError(43);
if(vb&2)return 0;Wa=Ma.slice(Wa,Wa+Db);Ea.msync(Ya,Wa,fc,Db,vb)},varargs:void 0,get:function(){sb.varargs+=4;return Ha[sb.varargs-4>>2]},getStr:function(Wa){return Wa?h(Ma,Wa,void 0):""},getStreamFromFD:function(Wa){Wa=Ea.getStream(Wa);if(!Wa)throw new Ea.ErrnoError(8);return Wa}},kb=[0,31,60,91,121,152,182,213,244,274,305,335],Za=[0,31,59,90,120,151,181,212,243,273,304,334],lb={};L=function(Wa,Ya,Db,vb){Wa||=this;this.parent=Wa;this.mount=Wa.mount;this.mounted=null;this.id=Ea.nextInode++;this.name=
Ya;this.mode=Db;this.node_ops={};this.stream_ops={};this.rdev=vb};Object.defineProperties(L.prototype,{read:{get:function(){return 365===(this.mode&365)},set:function(Wa){Wa?this.mode|=365:this.mode&=-366}},write:{get:function(){return 146===(this.mode&146)},set:function(Wa){Wa?this.mode|=146:this.mode&=-147}},isFolder:{get:function(){return Ea.isDir(this.mode)}},isDevice:{get:function(){return Ea.isChrdev(this.mode)}}});Ea.FSNode=L;Ea.staticInit();var $a={__syscall_chmod:function(Wa,Ya){try{return Wa=
sb.getStr(Wa),Ea.chmod(Wa,Ya),0}catch(Db){if("undefined"==typeof Ea||!(Db instanceof Ea.ErrnoError))throw Db;return-Db.errno}},__syscall_faccessat:function(Wa,Ya,Db,vb){try{Ya=sb.getStr(Ya);Ya=sb.calculateAt(Wa,Ya);if(Db&-8)return-28;var fc=Ea.lookupPath(Ya,{follow:!0}).node;if(!fc)return-44;Wa="";Db&4&&(Wa+="r");Db&2&&(Wa+="w");Db&1&&(Wa+="x");return Wa&&Ea.nodePermissions(fc,Wa)?-2:0}catch(kc){if("undefined"==typeof Ea||!(kc instanceof Ea.ErrnoError))throw kc;return-kc.errno}},__syscall_fchmod:function(Wa,
Ya){try{return Ea.fchmod(Wa,Ya),0}catch(Db){if("undefined"==typeof Ea||!(Db instanceof Ea.ErrnoError))throw Db;return-Db.errno}},__syscall_fchown32:function(Wa,Ya,Db){try{return Ea.fchown(Wa,Ya,Db),0}catch(vb){if("undefined"==typeof Ea||!(vb instanceof Ea.ErrnoError))throw vb;return-vb.errno}},__syscall_fcntl64:function(Wa,Ya,Db){sb.varargs=Db;try{var vb=sb.getStreamFromFD(Wa);switch(Ya){case 0:var fc=sb.get();return 0>fc?-28:Ea.createStream(vb,fc).fd;case 1:case 2:return 0;case 3:return vb.flags;
case 4:return fc=sb.get(),vb.flags|=fc,0;case 5:return fc=sb.get(),hb[fc+0>>1]=2,0;case 6:case 7:return 0;case 16:case 8:return-28;case 9:return Ha[ec()>>2]=28,-1;default:return-28}}catch(kc){if("undefined"==typeof Ea||!(kc instanceof Ea.ErrnoError))throw kc;return-kc.errno}},__syscall_fstat64:function(Wa,Ya){try{var Db=sb.getStreamFromFD(Wa);return sb.doStat(Ea.stat,Db.path,Ya)}catch(vb){if("undefined"==typeof Ea||!(vb instanceof Ea.ErrnoError))throw vb;return-vb.errno}},__syscall_ftruncate64:function(Wa,
Ya){try{Ya=-9007199254740992>Ya||9007199254740992<Ya?NaN:Number(Ya);if(isNaN(Ya))return-61;Ea.ftruncate(Wa,Ya);return 0}catch(Db){if("undefined"==typeof Ea||!(Db instanceof Ea.ErrnoError))throw Db;return-Db.errno}},__syscall_getcwd:function(Wa,Ya){try{if(0===Ya)return-28;var Db=Ea.cwd(),vb=k(Db)+1;if(Ya<vb)return-68;b(Db,Ma,Wa,Ya);return vb}catch(fc){if("undefined"==typeof Ea||!(fc instanceof Ea.ErrnoError))throw fc;return-fc.errno}},__syscall_ioctl:function(Wa,Ya,Db){sb.varargs=Db;try{var vb=sb.getStreamFromFD(Wa);
switch(Ya){case 21509:case 21505:return vb.tty?0:-59;case 21510:case 21511:case 21512:case 21506:case 21507:case 21508:return vb.tty?0:-59;case 21519:if(!vb.tty)return-59;var fc=sb.get();return Ha[fc>>2]=0;case 21520:return vb.tty?-28:-59;case 21531:return fc=sb.get(),Ea.ioctl(vb,Ya,fc);case 21523:return vb.tty?0:-59;case 21524:return vb.tty?0:-59;default:return-28}}catch(kc){if("undefined"==typeof Ea||!(kc instanceof Ea.ErrnoError))throw kc;return-kc.errno}},__syscall_lstat64:function(Wa,Ya){try{return Wa=
sb.getStr(Wa),sb.doStat(Ea.lstat,Wa,Ya)}catch(Db){if("undefined"==typeof Ea||!(Db instanceof Ea.ErrnoError))throw Db;return-Db.errno}},__syscall_mkdirat:function(Wa,Ya,Db){try{return Ya=sb.getStr(Ya),Ya=sb.calculateAt(Wa,Ya),Ya=bb.normalize(Ya),"/"===Ya[Ya.length-1]&&(Ya=Ya.substr(0,Ya.length-1)),Ea.mkdir(Ya,Db,0),0}catch(vb){if("undefined"==typeof Ea||!(vb instanceof Ea.ErrnoError))throw vb;return-vb.errno}},__syscall_newfstatat:function(Wa,Ya,Db,vb){try{Ya=sb.getStr(Ya);var fc=vb&256;Ya=sb.calculateAt(Wa,
Ya,vb&4096);return sb.doStat(fc?Ea.lstat:Ea.stat,Ya,Db)}catch(kc){if("undefined"==typeof Ea||!(kc instanceof Ea.ErrnoError))throw kc;return-kc.errno}},__syscall_openat:function(Wa,Ya,Db,vb){sb.varargs=vb;try{Ya=sb.getStr(Ya);Ya=sb.calculateAt(Wa,Ya);var fc=vb?sb.get():0;return Ea.open(Ya,Db,fc).fd}catch(kc){if("undefined"==typeof Ea||!(kc instanceof Ea.ErrnoError))throw kc;return-kc.errno}},__syscall_readlinkat:function(Wa,Ya,Db,vb){try{Ya=sb.getStr(Ya);Ya=sb.calculateAt(Wa,Ya);if(0>=vb)return-28;
var fc=Ea.readlink(Ya),kc=Math.min(vb,k(fc)),Fb=Ja[Db+kc];b(fc,Ma,Db,vb+1);Ja[Db+kc]=Fb;return kc}catch(Tb){if("undefined"==typeof Ea||!(Tb instanceof Ea.ErrnoError))throw Tb;return-Tb.errno}},__syscall_rmdir:function(Wa){try{return Wa=sb.getStr(Wa),Ea.rmdir(Wa),0}catch(Ya){if("undefined"==typeof Ea||!(Ya instanceof Ea.ErrnoError))throw Ya;return-Ya.errno}},__syscall_stat64:function(Wa,Ya){try{return Wa=sb.getStr(Wa),sb.doStat(Ea.stat,Wa,Ya)}catch(Db){if("undefined"==typeof Ea||!(Db instanceof Ea.ErrnoError))throw Db;
return-Db.errno}},__syscall_unlinkat:function(Wa,Ya,Db){try{return Ya=sb.getStr(Ya),Ya=sb.calculateAt(Wa,Ya),0===Db?Ea.unlink(Ya):512===Db?Ea.rmdir(Ya):y("Invalid flags passed to unlinkat"),0}catch(vb){if("undefined"==typeof Ea||!(vb instanceof Ea.ErrnoError))throw vb;return-vb.errno}},__syscall_utimensat:function(Wa,Ya,Db,vb){try{Ya=sb.getStr(Ya);Ya=sb.calculateAt(Wa,Ya,!0);if(Db){var fc=J(Db),kc=Ha[Db+8>>2];Fb=1E3*fc+kc/1E6;Db+=16;fc=J(Db);kc=Ha[Db+8>>2];Tb=1E3*fc+kc/1E6}else var Fb=Date.now(),
Tb=Fb;Ea.utime(Ya,Fb,Tb);return 0}catch(Ib){if("undefined"==typeof Ea||!(Ib instanceof Ea.ErrnoError))throw Ib;return-Ib.errno}},_emscripten_get_now_is_monotonic:function(){return!0},_localtime_js:function(Wa,Ya){Wa=new Date(1E3*J(Wa));Ha[Ya>>2]=Wa.getSeconds();Ha[Ya+4>>2]=Wa.getMinutes();Ha[Ya+8>>2]=Wa.getHours();Ha[Ya+12>>2]=Wa.getDate();Ha[Ya+16>>2]=Wa.getMonth();Ha[Ya+20>>2]=Wa.getFullYear()-1900;Ha[Ya+24>>2]=Wa.getDay();var Db=Wa.getFullYear();Db=(0!==Db%4||0===Db%100&&0!==Db%400?Za:kb)[Wa.getMonth()]+
Wa.getDate()-1;Ha[Ya+28>>2]=Db|0;Ha[Ya+36>>2]=-(60*Wa.getTimezoneOffset());var vb=new Date(Wa.getFullYear(),0,1);Db=(new Date(Wa.getFullYear(),6,1)).getTimezoneOffset();vb=vb.getTimezoneOffset();Wa=(Db!=vb&&Wa.getTimezoneOffset()==Math.min(vb,Db))|0;Ha[Ya+32>>2]=Wa},_mmap_js:function(Wa,Ya,Db,vb,fc,kc,Fb){try{var Tb=sb.getStreamFromFD(vb),Ib=Ea.mmap(Tb,Wa,fc,Ya,Db),mb=Ib.ptr;Ha[kc>>2]=Ib.allocated;Pa[Fb>>2]=mb;return 0}catch(zb){if("undefined"==typeof Ea||!(zb instanceof Ea.ErrnoError))throw zb;return-zb.errno}},
_munmap_js:function(Wa,Ya,Db,vb,fc,kc){try{var Fb=sb.getStreamFromFD(fc);Db&2&&sb.doMsync(Wa,Fb,Ya,vb,kc);Ea.munmap(Fb)}catch(Tb){if("undefined"==typeof Ea||!(Tb instanceof Ea.ErrnoError))throw Tb;return-Tb.errno}},_tzset_js:function(Wa,Ya,Db){function vb(Ib){return(Ib=Ib.toTimeString().match(/\(([A-Za-z ]+)\)$/))?Ib[1]:"GMT"}var fc=(new Date).getFullYear(),kc=new Date(fc,0,1),Fb=new Date(fc,6,1);fc=kc.getTimezoneOffset();var Tb=Fb.getTimezoneOffset();Pa[Wa>>2]=60*Math.max(fc,Tb);Ha[Ya>>2]=Number(fc!=
Tb);Wa=vb(kc);Ya=vb(Fb);Wa=R(Wa);Ya=R(Ya);Tb<fc?(Pa[Db>>2]=Wa,Pa[Db+4>>2]=Ya):(Pa[Db>>2]=Ya,Pa[Db+4>>2]=Wa)},emscripten_date_now:function(){return Date.now()},emscripten_get_now:()=>performance.now(),emscripten_resize_heap:function(Wa){var Ya=Ma.length;Wa>>>=0;if(2147483648<Wa)return!1;for(var Db=1;4>=Db;Db*=2){var vb=Ya*(1+.2/Db);vb=Math.min(vb,Wa+100663296);var fc=Math;vb=Math.max(Wa,vb);fc=fc.min.call(fc,2147483648,vb+(65536-vb%65536)%65536);a:{vb=Da.buffer;try{Da.grow(fc-vb.byteLength+65535>>>
16);l();var kc=1;break a}catch(Fb){}kc=void 0}if(kc)return!0}return!1},environ_get:function(Wa,Ya){var Db=0;P().forEach(function(vb,fc){var kc=Ya+Db;fc=Pa[Wa+4*fc>>2]=kc;for(kc=0;kc<vb.length;++kc)Ja[fc++>>0]=vb.charCodeAt(kc);Ja[fc>>0]=0;Db+=vb.length+1});return 0},environ_sizes_get:function(Wa,Ya){var Db=P();Pa[Wa>>2]=Db.length;var vb=0;Db.forEach(function(fc){vb+=fc.length+1});Pa[Ya>>2]=vb;return 0},fd_close:function(Wa){try{var Ya=sb.getStreamFromFD(Wa);Ea.close(Ya);return 0}catch(Db){if("undefined"==
typeof Ea||!(Db instanceof Ea.ErrnoError))throw Db;return Db.errno}},fd_fdstat_get:function(Wa,Ya){try{var Db=sb.getStreamFromFD(Wa),vb=Db.tty?2:Ea.isDir(Db.mode)?3:Ea.isLink(Db.mode)?7:4;Ja[Ya>>0]=vb;return 0}catch(fc){if("undefined"==typeof Ea||!(fc instanceof Ea.ErrnoError))throw fc;return fc.errno}},fd_read:function(Wa,Ya,Db,vb){try{a:{var fc=sb.getStreamFromFD(Wa);Wa=Ya;Ya=void 0;for(var kc=0,Fb=0;Fb<Db;Fb++){var Tb=Pa[Wa>>2],Ib=Pa[Wa+4>>2];Wa+=8;var mb=Ea.read(fc,Ja,Tb,Ib,Ya);if(0>mb){var zb=
-1;break a}kc+=mb;if(mb<Ib)break;"undefined"!==typeof Ya&&(Ya+=mb)}zb=kc}Pa[vb>>2]=zb;return 0}catch(Cb){if("undefined"==typeof Ea||!(Cb instanceof Ea.ErrnoError))throw Cb;return Cb.errno}},fd_seek:function(Wa,Ya,Db,vb){try{Ya=-9007199254740992>Ya||9007199254740992<Ya?NaN:Number(Ya);if(isNaN(Ya))return 61;var fc=sb.getStreamFromFD(Wa);Ea.llseek(fc,Ya,Db);Qa=[fc.position>>>0,(Xa=fc.position,1<=+Math.abs(Xa)?0<Xa?(Math.min(+Math.floor(Xa/4294967296),4294967295)|0)>>>0:~~+Math.ceil((Xa-+(~~Xa>>>0))/
4294967296)>>>0:0)];Ha[vb>>2]=Qa[0];Ha[vb+4>>2]=Qa[1];fc.getdents&&0===Ya&&0===Db&&(fc.getdents=null);return 0}catch(kc){if("undefined"==typeof Ea||!(kc instanceof Ea.ErrnoError))throw kc;return kc.errno}},fd_sync:function(Wa){try{var Ya=sb.getStreamFromFD(Wa);return Ya.stream_ops&&Ya.stream_ops.fsync?Ya.stream_ops.fsync(Ya):0}catch(Db){if("undefined"==typeof Ea||!(Db instanceof Ea.ErrnoError))throw Db;return Db.errno}},fd_write:function(Wa,Ya,Db,vb){try{a:{var fc=sb.getStreamFromFD(Wa);Wa=Ya;Ya=
void 0;for(var kc=0,Fb=0;Fb<Db;Fb++){var Tb=Pa[Wa>>2],Ib=Pa[Wa+4>>2];Wa+=8;var mb=Ea.write(fc,Ja,Tb,Ib,Ya);if(0>mb){var zb=-1;break a}kc+=mb;"undefined"!==typeof Ya&&(Ya+=mb)}zb=kc}Pa[vb>>2]=zb;return 0}catch(Cb){if("undefined"==typeof Ea||!(Cb instanceof Ea.ErrnoError))throw Cb;return Cb.errno}},memory:Da};(function(){function Wa(fc,kc){u.asm=fc.exports;ma.unshift(u.asm.__wasm_call_ctors);E("wasm-instantiate")}function Ya(fc){Wa(fc.instance)}function Db(fc){return p().then(function(kc){return WebAssembly.instantiate(kc,
vb)}).then(function(kc){return kc}).then(fc,function(kc){sa("failed to asynchronously prepare wasm: "+kc);y(kc)})}var vb={env:$a,wasi_snapshot_preview1:$a};m("wasm-instantiate");if(u.instantiateWasm)try{return u.instantiateWasm(vb,Wa)}catch(fc){sa("Module.instantiateWasm callback failed with error: "+fc),N(fc)}(function(){return ya||"function"!=typeof WebAssembly.instantiateStreaming||Va.startsWith("data:application/octet-stream;base64,")||"function"!=typeof fetch?Db(Ya):fetch(Va,{credentials:"same-origin"}).then(function(fc){return WebAssembly.instantiateStreaming(fc,
vb).then(Ya,function(kc){sa("wasm streaming compile failed: "+kc);sa("falling back to ArrayBuffer instantiation");return Db(Ya)})})})().catch(N);return{}})();u.___wasm_call_ctors=function(){return(u.___wasm_call_ctors=u.asm.__wasm_call_ctors).apply(null,arguments)};u._sqlite3_status64=function(){return(u._sqlite3_status64=u.asm.sqlite3_status64).apply(null,arguments)};u._sqlite3_status=function(){return(u._sqlite3_status=u.asm.sqlite3_status).apply(null,arguments)};u._sqlite3_db_status=function(){return(u._sqlite3_db_status=
u.asm.sqlite3_db_status).apply(null,arguments)};u._sqlite3_msize=function(){return(u._sqlite3_msize=u.asm.sqlite3_msize).apply(null,arguments)};u._sqlite3_vfs_find=function(){return(u._sqlite3_vfs_find=u.asm.sqlite3_vfs_find).apply(null,arguments)};u._sqlite3_initialize=function(){return(u._sqlite3_initialize=u.asm.sqlite3_initialize).apply(null,arguments)};u._sqlite3_malloc=function(){return(u._sqlite3_malloc=u.asm.sqlite3_malloc).apply(null,arguments)};u._sqlite3_free=function(){return(u._sqlite3_free=
u.asm.sqlite3_free).apply(null,arguments)};u._sqlite3_vfs_register=function(){return(u._sqlite3_vfs_register=u.asm.sqlite3_vfs_register).apply(null,arguments)};u._sqlite3_vfs_unregister=function(){return(u._sqlite3_vfs_unregister=u.asm.sqlite3_vfs_unregister).apply(null,arguments)};u._sqlite3_malloc64=function(){return(u._sqlite3_malloc64=u.asm.sqlite3_malloc64).apply(null,arguments)};u._sqlite3_realloc=function(){return(u._sqlite3_realloc=u.asm.sqlite3_realloc).apply(null,arguments)};u._sqlite3_realloc64=
function(){return(u._sqlite3_realloc64=u.asm.sqlite3_realloc64).apply(null,arguments)};u._sqlite3_value_text=function(){return(u._sqlite3_value_text=u.asm.sqlite3_value_text).apply(null,arguments)};u._sqlite3_randomness=function(){return(u._sqlite3_randomness=u.asm.sqlite3_randomness).apply(null,arguments)};u._sqlite3_stricmp=function(){return(u._sqlite3_stricmp=u.asm.sqlite3_stricmp).apply(null,arguments)};u._sqlite3_strnicmp=function(){return(u._sqlite3_strnicmp=u.asm.sqlite3_strnicmp).apply(null,
arguments)};u._sqlite3_uri_parameter=function(){return(u._sqlite3_uri_parameter=u.asm.sqlite3_uri_parameter).apply(null,arguments)};var ec=u.___errno_location=function(){return(ec=u.___errno_location=u.asm.__errno_location).apply(null,arguments)};u._sqlite3_uri_boolean=function(){return(u._sqlite3_uri_boolean=u.asm.sqlite3_uri_boolean).apply(null,arguments)};u._sqlite3_serialize=function(){return(u._sqlite3_serialize=u.asm.sqlite3_serialize).apply(null,arguments)};u._sqlite3_prepare_v2=function(){return(u._sqlite3_prepare_v2=
u.asm.sqlite3_prepare_v2).apply(null,arguments)};u._sqlite3_step=function(){return(u._sqlite3_step=u.asm.sqlite3_step).apply(null,arguments)};u._sqlite3_column_int64=function(){return(u._sqlite3_column_int64=u.asm.sqlite3_column_int64).apply(null,arguments)};u._sqlite3_column_int=function(){return(u._sqlite3_column_int=u.asm.sqlite3_column_int).apply(null,arguments)};u._sqlite3_finalize=function(){return(u._sqlite3_finalize=u.asm.sqlite3_finalize).apply(null,arguments)};u._sqlite3_file_control=function(){return(u._sqlite3_file_control=
u.asm.sqlite3_file_control).apply(null,arguments)};u._sqlite3_reset=function(){return(u._sqlite3_reset=u.asm.sqlite3_reset).apply(null,arguments)};u._sqlite3_deserialize=function(){return(u._sqlite3_deserialize=u.asm.sqlite3_deserialize).apply(null,arguments)};u._sqlite3_clear_bindings=function(){return(u._sqlite3_clear_bindings=u.asm.sqlite3_clear_bindings).apply(null,arguments)};u._sqlite3_value_blob=function(){return(u._sqlite3_value_blob=u.asm.sqlite3_value_blob).apply(null,arguments)};u._sqlite3_value_bytes=
function(){return(u._sqlite3_value_bytes=u.asm.sqlite3_value_bytes).apply(null,arguments)};u._sqlite3_value_double=function(){return(u._sqlite3_value_double=u.asm.sqlite3_value_double).apply(null,arguments)};u._sqlite3_value_int=function(){return(u._sqlite3_value_int=u.asm.sqlite3_value_int).apply(null,arguments)};u._sqlite3_value_int64=function(){return(u._sqlite3_value_int64=u.asm.sqlite3_value_int64).apply(null,arguments)};u._sqlite3_value_subtype=function(){return(u._sqlite3_value_subtype=u.asm.sqlite3_value_subtype).apply(null,
arguments)};u._sqlite3_value_pointer=function(){return(u._sqlite3_value_pointer=u.asm.sqlite3_value_pointer).apply(null,arguments)};u._sqlite3_value_type=function(){return(u._sqlite3_value_type=u.asm.sqlite3_value_type).apply(null,arguments)};u._sqlite3_value_nochange=function(){return(u._sqlite3_value_nochange=u.asm.sqlite3_value_nochange).apply(null,arguments)};u._sqlite3_value_frombind=function(){return(u._sqlite3_value_frombind=u.asm.sqlite3_value_frombind).apply(null,arguments)};u._sqlite3_value_dup=
function(){return(u._sqlite3_value_dup=u.asm.sqlite3_value_dup).apply(null,arguments)};u._sqlite3_value_free=function(){return(u._sqlite3_value_free=u.asm.sqlite3_value_free).apply(null,arguments)};u._sqlite3_result_blob=function(){return(u._sqlite3_result_blob=u.asm.sqlite3_result_blob).apply(null,arguments)};u._sqlite3_result_error_toobig=function(){return(u._sqlite3_result_error_toobig=u.asm.sqlite3_result_error_toobig).apply(null,arguments)};u._sqlite3_result_error_nomem=function(){return(u._sqlite3_result_error_nomem=
u.asm.sqlite3_result_error_nomem).apply(null,arguments)};u._sqlite3_result_double=function(){return(u._sqlite3_result_double=u.asm.sqlite3_result_double).apply(null,arguments)};u._sqlite3_result_error=function(){return(u._sqlite3_result_error=u.asm.sqlite3_result_error).apply(null,arguments)};u._sqlite3_result_int=function(){return(u._sqlite3_result_int=u.asm.sqlite3_result_int).apply(null,arguments)};u._sqlite3_result_int64=function(){return(u._sqlite3_result_int64=u.asm.sqlite3_result_int64).apply(null,
arguments)};u._sqlite3_result_null=function(){return(u._sqlite3_result_null=u.asm.sqlite3_result_null).apply(null,arguments)};u._sqlite3_result_pointer=function(){return(u._sqlite3_result_pointer=u.asm.sqlite3_result_pointer).apply(null,arguments)};u._sqlite3_result_subtype=function(){return(u._sqlite3_result_subtype=u.asm.sqlite3_result_subtype).apply(null,arguments)};u._sqlite3_result_text=function(){return(u._sqlite3_result_text=u.asm.sqlite3_result_text).apply(null,arguments)};u._sqlite3_result_zeroblob=
function(){return(u._sqlite3_result_zeroblob=u.asm.sqlite3_result_zeroblob).apply(null,arguments)};u._sqlite3_result_zeroblob64=function(){return(u._sqlite3_result_zeroblob64=u.asm.sqlite3_result_zeroblob64).apply(null,arguments)};u._sqlite3_result_error_code=function(){return(u._sqlite3_result_error_code=u.asm.sqlite3_result_error_code).apply(null,arguments)};u._sqlite3_user_data=function(){return(u._sqlite3_user_data=u.asm.sqlite3_user_data).apply(null,arguments)};u._sqlite3_context_db_handle=function(){return(u._sqlite3_context_db_handle=
u.asm.sqlite3_context_db_handle).apply(null,arguments)};u._sqlite3_vtab_nochange=function(){return(u._sqlite3_vtab_nochange=u.asm.sqlite3_vtab_nochange).apply(null,arguments)};u._sqlite3_vtab_in_first=function(){return(u._sqlite3_vtab_in_first=u.asm.sqlite3_vtab_in_first).apply(null,arguments)};u._sqlite3_vtab_in_next=function(){return(u._sqlite3_vtab_in_next=u.asm.sqlite3_vtab_in_next).apply(null,arguments)};u._sqlite3_aggregate_context=function(){return(u._sqlite3_aggregate_context=u.asm.sqlite3_aggregate_context).apply(null,
arguments)};u._sqlite3_get_auxdata=function(){return(u._sqlite3_get_auxdata=u.asm.sqlite3_get_auxdata).apply(null,arguments)};u._sqlite3_set_auxdata=function(){return(u._sqlite3_set_auxdata=u.asm.sqlite3_set_auxdata).apply(null,arguments)};u._sqlite3_column_count=function(){return(u._sqlite3_column_count=u.asm.sqlite3_column_count).apply(null,arguments)};u._sqlite3_data_count=function(){return(u._sqlite3_data_count=u.asm.sqlite3_data_count).apply(null,arguments)};u._sqlite3_column_blob=function(){return(u._sqlite3_column_blob=
u.asm.sqlite3_column_blob).apply(null,arguments)};u._sqlite3_column_bytes=function(){return(u._sqlite3_column_bytes=u.asm.sqlite3_column_bytes).apply(null,arguments)};u._sqlite3_column_double=function(){return(u._sqlite3_column_double=u.asm.sqlite3_column_double).apply(null,arguments)};u._sqlite3_column_text=function(){return(u._sqlite3_column_text=u.asm.sqlite3_column_text).apply(null,arguments)};u._sqlite3_column_value=function(){return(u._sqlite3_column_value=u.asm.sqlite3_column_value).apply(null,
arguments)};u._sqlite3_column_type=function(){return(u._sqlite3_column_type=u.asm.sqlite3_column_type).apply(null,arguments)};u._sqlite3_column_name=function(){return(u._sqlite3_column_name=u.asm.sqlite3_column_name).apply(null,arguments)};u._sqlite3_bind_blob=function(){return(u._sqlite3_bind_blob=u.asm.sqlite3_bind_blob).apply(null,arguments)};u._sqlite3_bind_double=function(){return(u._sqlite3_bind_double=u.asm.sqlite3_bind_double).apply(null,arguments)};u._sqlite3_bind_int=function(){return(u._sqlite3_bind_int=
u.asm.sqlite3_bind_int).apply(null,arguments)};u._sqlite3_bind_int64=function(){return(u._sqlite3_bind_int64=u.asm.sqlite3_bind_int64).apply(null,arguments)};u._sqlite3_bind_null=function(){return(u._sqlite3_bind_null=u.asm.sqlite3_bind_null).apply(null,arguments)};u._sqlite3_bind_pointer=function(){return(u._sqlite3_bind_pointer=u.asm.sqlite3_bind_pointer).apply(null,arguments)};u._sqlite3_bind_text=function(){return(u._sqlite3_bind_text=u.asm.sqlite3_bind_text).apply(null,arguments)};u._sqlite3_bind_parameter_count=
function(){return(u._sqlite3_bind_parameter_count=u.asm.sqlite3_bind_parameter_count).apply(null,arguments)};u._sqlite3_bind_parameter_index=function(){return(u._sqlite3_bind_parameter_index=u.asm.sqlite3_bind_parameter_index).apply(null,arguments)};u._sqlite3_db_handle=function(){return(u._sqlite3_db_handle=u.asm.sqlite3_db_handle).apply(null,arguments)};u._sqlite3_stmt_readonly=function(){return(u._sqlite3_stmt_readonly=u.asm.sqlite3_stmt_readonly).apply(null,arguments)};u._sqlite3_stmt_isexplain=
function(){return(u._sqlite3_stmt_isexplain=u.asm.sqlite3_stmt_isexplain).apply(null,arguments)};u._sqlite3_stmt_status=function(){return(u._sqlite3_stmt_status=u.asm.sqlite3_stmt_status).apply(null,arguments)};u._sqlite3_sql=function(){return(u._sqlite3_sql=u.asm.sqlite3_sql).apply(null,arguments)};u._sqlite3_expanded_sql=function(){return(u._sqlite3_expanded_sql=u.asm.sqlite3_expanded_sql).apply(null,arguments)};u._sqlite3_preupdate_old=function(){return(u._sqlite3_preupdate_old=u.asm.sqlite3_preupdate_old).apply(null,
arguments)};u._sqlite3_preupdate_count=function(){return(u._sqlite3_preupdate_count=u.asm.sqlite3_preupdate_count).apply(null,arguments)};u._sqlite3_preupdate_depth=function(){return(u._sqlite3_preupdate_depth=u.asm.sqlite3_preupdate_depth).apply(null,arguments)};u._sqlite3_preupdate_blobwrite=function(){return(u._sqlite3_preupdate_blobwrite=u.asm.sqlite3_preupdate_blobwrite).apply(null,arguments)};u._sqlite3_preupdate_new=function(){return(u._sqlite3_preupdate_new=u.asm.sqlite3_preupdate_new).apply(null,
arguments)};u._sqlite3_value_numeric_type=function(){return(u._sqlite3_value_numeric_type=u.asm.sqlite3_value_numeric_type).apply(null,arguments)};u._sqlite3_errmsg=function(){return(u._sqlite3_errmsg=u.asm.sqlite3_errmsg).apply(null,arguments)};u._sqlite3_set_authorizer=function(){return(u._sqlite3_set_authorizer=u.asm.sqlite3_set_authorizer).apply(null,arguments)};u._sqlite3_strglob=function(){return(u._sqlite3_strglob=u.asm.sqlite3_strglob).apply(null,arguments)};u._sqlite3_strlike=function(){return(u._sqlite3_strlike=
u.asm.sqlite3_strlike).apply(null,arguments)};u._sqlite3_exec=function(){return(u._sqlite3_exec=u.asm.sqlite3_exec).apply(null,arguments)};u._sqlite3_auto_extension=function(){return(u._sqlite3_auto_extension=u.asm.sqlite3_auto_extension).apply(null,arguments)};u._sqlite3_cancel_auto_extension=function(){return(u._sqlite3_cancel_auto_extension=u.asm.sqlite3_cancel_auto_extension).apply(null,arguments)};u._sqlite3_reset_auto_extension=function(){return(u._sqlite3_reset_auto_extension=u.asm.sqlite3_reset_auto_extension).apply(null,
arguments)};u._sqlite3_prepare_v3=function(){return(u._sqlite3_prepare_v3=u.asm.sqlite3_prepare_v3).apply(null,arguments)};u._sqlite3_create_module=function(){return(u._sqlite3_create_module=u.asm.sqlite3_create_module).apply(null,arguments)};u._sqlite3_create_module_v2=function(){return(u._sqlite3_create_module_v2=u.asm.sqlite3_create_module_v2).apply(null,arguments)};u._sqlite3_drop_modules=function(){return(u._sqlite3_drop_modules=u.asm.sqlite3_drop_modules).apply(null,arguments)};u._sqlite3_declare_vtab=
function(){return(u._sqlite3_declare_vtab=u.asm.sqlite3_declare_vtab).apply(null,arguments)};u._sqlite3_vtab_on_conflict=function(){return(u._sqlite3_vtab_on_conflict=u.asm.sqlite3_vtab_on_conflict).apply(null,arguments)};u._sqlite3_vtab_collation=function(){return(u._sqlite3_vtab_collation=u.asm.sqlite3_vtab_collation).apply(null,arguments)};u._sqlite3_vtab_in=function(){return(u._sqlite3_vtab_in=u.asm.sqlite3_vtab_in).apply(null,arguments)};u._sqlite3_vtab_rhs_value=function(){return(u._sqlite3_vtab_rhs_value=
u.asm.sqlite3_vtab_rhs_value).apply(null,arguments)};u._sqlite3_vtab_distinct=function(){return(u._sqlite3_vtab_distinct=u.asm.sqlite3_vtab_distinct).apply(null,arguments)};u._sqlite3_keyword_name=function(){return(u._sqlite3_keyword_name=u.asm.sqlite3_keyword_name).apply(null,arguments)};u._sqlite3_keyword_count=function(){return(u._sqlite3_keyword_count=u.asm.sqlite3_keyword_count).apply(null,arguments)};u._sqlite3_keyword_check=function(){return(u._sqlite3_keyword_check=u.asm.sqlite3_keyword_check).apply(null,
arguments)};u._sqlite3_complete=function(){return(u._sqlite3_complete=u.asm.sqlite3_complete).apply(null,arguments)};u._sqlite3_libversion=function(){return(u._sqlite3_libversion=u.asm.sqlite3_libversion).apply(null,arguments)};u._sqlite3_libversion_number=function(){return(u._sqlite3_libversion_number=u.asm.sqlite3_libversion_number).apply(null,arguments)};u._sqlite3_shutdown=function(){return(u._sqlite3_shutdown=u.asm.sqlite3_shutdown).apply(null,arguments)};u._sqlite3_last_insert_rowid=function(){return(u._sqlite3_last_insert_rowid=
u.asm.sqlite3_last_insert_rowid).apply(null,arguments)};u._sqlite3_set_last_insert_rowid=function(){return(u._sqlite3_set_last_insert_rowid=u.asm.sqlite3_set_last_insert_rowid).apply(null,arguments)};u._sqlite3_changes64=function(){return(u._sqlite3_changes64=u.asm.sqlite3_changes64).apply(null,arguments)};u._sqlite3_changes=function(){return(u._sqlite3_changes=u.asm.sqlite3_changes).apply(null,arguments)};u._sqlite3_total_changes64=function(){return(u._sqlite3_total_changes64=u.asm.sqlite3_total_changes64).apply(null,
arguments)};u._sqlite3_total_changes=function(){return(u._sqlite3_total_changes=u.asm.sqlite3_total_changes).apply(null,arguments)};u._sqlite3_txn_state=function(){return(u._sqlite3_txn_state=u.asm.sqlite3_txn_state).apply(null,arguments)};u._sqlite3_close_v2=function(){return(u._sqlite3_close_v2=u.asm.sqlite3_close_v2).apply(null,arguments)};u._sqlite3_busy_handler=function(){return(u._sqlite3_busy_handler=u.asm.sqlite3_busy_handler).apply(null,arguments)};u._sqlite3_progress_handler=function(){return(u._sqlite3_progress_handler=
u.asm.sqlite3_progress_handler).apply(null,arguments)};u._sqlite3_busy_timeout=function(){return(u._sqlite3_busy_timeout=u.asm.sqlite3_busy_timeout).apply(null,arguments)};u._sqlite3_create_function=function(){return(u._sqlite3_create_function=u.asm.sqlite3_create_function).apply(null,arguments)};u._sqlite3_create_function_v2=function(){return(u._sqlite3_create_function_v2=u.asm.sqlite3_create_function_v2).apply(null,arguments)};u._sqlite3_create_window_function=function(){return(u._sqlite3_create_window_function=
u.asm.sqlite3_create_window_function).apply(null,arguments)};u._sqlite3_overload_function=function(){return(u._sqlite3_overload_function=u.asm.sqlite3_overload_function).apply(null,arguments)};u._sqlite3_trace_v2=function(){return(u._sqlite3_trace_v2=u.asm.sqlite3_trace_v2).apply(null,arguments)};u._sqlite3_commit_hook=function(){return(u._sqlite3_commit_hook=u.asm.sqlite3_commit_hook).apply(null,arguments)};u._sqlite3_update_hook=function(){return(u._sqlite3_update_hook=u.asm.sqlite3_update_hook).apply(null,
arguments)};u._sqlite3_rollback_hook=function(){return(u._sqlite3_rollback_hook=u.asm.sqlite3_rollback_hook).apply(null,arguments)};u._sqlite3_preupdate_hook=function(){return(u._sqlite3_preupdate_hook=u.asm.sqlite3_preupdate_hook).apply(null,arguments)};u._sqlite3_error_offset=function(){return(u._sqlite3_error_offset=u.asm.sqlite3_error_offset).apply(null,arguments)};u._sqlite3_errcode=function(){return(u._sqlite3_errcode=u.asm.sqlite3_errcode).apply(null,arguments)};u._sqlite3_extended_errcode=
function(){return(u._sqlite3_extended_errcode=u.asm.sqlite3_extended_errcode).apply(null,arguments)};u._sqlite3_errstr=function(){return(u._sqlite3_errstr=u.asm.sqlite3_errstr).apply(null,arguments)};u._sqlite3_limit=function(){return(u._sqlite3_limit=u.asm.sqlite3_limit).apply(null,arguments)};u._sqlite3_open=function(){return(u._sqlite3_open=u.asm.sqlite3_open).apply(null,arguments)};u._sqlite3_open_v2=function(){return(u._sqlite3_open_v2=u.asm.sqlite3_open_v2).apply(null,arguments)};u._sqlite3_create_collation=
function(){return(u._sqlite3_create_collation=u.asm.sqlite3_create_collation).apply(null,arguments)};u._sqlite3_create_collation_v2=function(){return(u._sqlite3_create_collation_v2=u.asm.sqlite3_create_collation_v2).apply(null,arguments)};u._sqlite3_collation_needed=function(){return(u._sqlite3_collation_needed=u.asm.sqlite3_collation_needed).apply(null,arguments)};u._sqlite3_table_column_metadata=function(){return(u._sqlite3_table_column_metadata=u.asm.sqlite3_table_column_metadata).apply(null,arguments)};
u._sqlite3_extended_result_codes=function(){return(u._sqlite3_extended_result_codes=u.asm.sqlite3_extended_result_codes).apply(null,arguments)};u._sqlite3_uri_key=function(){return(u._sqlite3_uri_key=u.asm.sqlite3_uri_key).apply(null,arguments)};u._sqlite3_uri_int64=function(){return(u._sqlite3_uri_int64=u.asm.sqlite3_uri_int64).apply(null,arguments)};u._sqlite3_db_name=function(){return(u._sqlite3_db_name=u.asm.sqlite3_db_name).apply(null,arguments)};u._sqlite3_db_filename=function(){return(u._sqlite3_db_filename=
u.asm.sqlite3_db_filename).apply(null,arguments)};u._sqlite3_compileoption_used=function(){return(u._sqlite3_compileoption_used=u.asm.sqlite3_compileoption_used).apply(null,arguments)};u._sqlite3_compileoption_get=function(){return(u._sqlite3_compileoption_get=u.asm.sqlite3_compileoption_get).apply(null,arguments)};u._sqlite3session_diff=function(){return(u._sqlite3session_diff=u.asm.sqlite3session_diff).apply(null,arguments)};u._sqlite3session_attach=function(){return(u._sqlite3session_attach=u.asm.sqlite3session_attach).apply(null,
arguments)};u._sqlite3session_create=function(){return(u._sqlite3session_create=u.asm.sqlite3session_create).apply(null,arguments)};u._sqlite3session_delete=function(){return(u._sqlite3session_delete=u.asm.sqlite3session_delete).apply(null,arguments)};u._sqlite3session_table_filter=function(){return(u._sqlite3session_table_filter=u.asm.sqlite3session_table_filter).apply(null,arguments)};u._sqlite3session_changeset=function(){return(u._sqlite3session_changeset=u.asm.sqlite3session_changeset).apply(null,
arguments)};u._sqlite3session_changeset_strm=function(){return(u._sqlite3session_changeset_strm=u.asm.sqlite3session_changeset_strm).apply(null,arguments)};u._sqlite3session_patchset_strm=function(){return(u._sqlite3session_patchset_strm=u.asm.sqlite3session_patchset_strm).apply(null,arguments)};u._sqlite3session_patchset=function(){return(u._sqlite3session_patchset=u.asm.sqlite3session_patchset).apply(null,arguments)};u._sqlite3session_enable=function(){return(u._sqlite3session_enable=u.asm.sqlite3session_enable).apply(null,
arguments)};u._sqlite3session_indirect=function(){return(u._sqlite3session_indirect=u.asm.sqlite3session_indirect).apply(null,arguments)};u._sqlite3session_isempty=function(){return(u._sqlite3session_isempty=u.asm.sqlite3session_isempty).apply(null,arguments)};u._sqlite3session_memory_used=function(){return(u._sqlite3session_memory_used=u.asm.sqlite3session_memory_used).apply(null,arguments)};u._sqlite3session_object_config=function(){return(u._sqlite3session_object_config=u.asm.sqlite3session_object_config).apply(null,
arguments)};u._sqlite3session_changeset_size=function(){return(u._sqlite3session_changeset_size=u.asm.sqlite3session_changeset_size).apply(null,arguments)};u._sqlite3changeset_start=function(){return(u._sqlite3changeset_start=u.asm.sqlite3changeset_start).apply(null,arguments)};u._sqlite3changeset_start_v2=function(){return(u._sqlite3changeset_start_v2=u.asm.sqlite3changeset_start_v2).apply(null,arguments)};u._sqlite3changeset_start_strm=function(){return(u._sqlite3changeset_start_strm=u.asm.sqlite3changeset_start_strm).apply(null,
arguments)};u._sqlite3changeset_start_v2_strm=function(){return(u._sqlite3changeset_start_v2_strm=u.asm.sqlite3changeset_start_v2_strm).apply(null,arguments)};u._sqlite3changeset_next=function(){return(u._sqlite3changeset_next=u.asm.sqlite3changeset_next).apply(null,arguments)};u._sqlite3changeset_op=function(){return(u._sqlite3changeset_op=u.asm.sqlite3changeset_op).apply(null,arguments)};u._sqlite3changeset_pk=function(){return(u._sqlite3changeset_pk=u.asm.sqlite3changeset_pk).apply(null,arguments)};
u._sqlite3changeset_old=function(){return(u._sqlite3changeset_old=u.asm.sqlite3changeset_old).apply(null,arguments)};u._sqlite3changeset_new=function(){return(u._sqlite3changeset_new=u.asm.sqlite3changeset_new).apply(null,arguments)};u._sqlite3changeset_conflict=function(){return(u._sqlite3changeset_conflict=u.asm.sqlite3changeset_conflict).apply(null,arguments)};u._sqlite3changeset_fk_conflicts=function(){return(u._sqlite3changeset_fk_conflicts=u.asm.sqlite3changeset_fk_conflicts).apply(null,arguments)};
u._sqlite3changeset_finalize=function(){return(u._sqlite3changeset_finalize=u.asm.sqlite3changeset_finalize).apply(null,arguments)};u._sqlite3changeset_invert=function(){return(u._sqlite3changeset_invert=u.asm.sqlite3changeset_invert).apply(null,arguments)};u._sqlite3changeset_invert_strm=function(){return(u._sqlite3changeset_invert_strm=u.asm.sqlite3changeset_invert_strm).apply(null,arguments)};u._sqlite3changeset_apply_v2=function(){return(u._sqlite3changeset_apply_v2=u.asm.sqlite3changeset_apply_v2).apply(null,
arguments)};u._sqlite3changeset_apply=function(){return(u._sqlite3changeset_apply=u.asm.sqlite3changeset_apply).apply(null,arguments)};u._sqlite3changeset_apply_v2_strm=function(){return(u._sqlite3changeset_apply_v2_strm=u.asm.sqlite3changeset_apply_v2_strm).apply(null,arguments)};u._sqlite3changeset_apply_strm=function(){return(u._sqlite3changeset_apply_strm=u.asm.sqlite3changeset_apply_strm).apply(null,arguments)};u._sqlite3changegroup_new=function(){return(u._sqlite3changegroup_new=u.asm.sqlite3changegroup_new).apply(null,
arguments)};u._sqlite3changegroup_add=function(){return(u._sqlite3changegroup_add=u.asm.sqlite3changegroup_add).apply(null,arguments)};u._sqlite3changegroup_output=function(){return(u._sqlite3changegroup_output=u.asm.sqlite3changegroup_output).apply(null,arguments)};u._sqlite3changegroup_add_strm=function(){return(u._sqlite3changegroup_add_strm=u.asm.sqlite3changegroup_add_strm).apply(null,arguments)};u._sqlite3changegroup_output_strm=function(){return(u._sqlite3changegroup_output_strm=u.asm.sqlite3changegroup_output_strm).apply(null,
arguments)};u._sqlite3changegroup_delete=function(){return(u._sqlite3changegroup_delete=u.asm.sqlite3changegroup_delete).apply(null,arguments)};u._sqlite3changeset_concat=function(){return(u._sqlite3changeset_concat=u.asm.sqlite3changeset_concat).apply(null,arguments)};u._sqlite3changeset_concat_strm=function(){return(u._sqlite3changeset_concat_strm=u.asm.sqlite3changeset_concat_strm).apply(null,arguments)};u._sqlite3session_config=function(){return(u._sqlite3session_config=u.asm.sqlite3session_config).apply(null,
arguments)};u._sqlite3_sourceid=function(){return(u._sqlite3_sourceid=u.asm.sqlite3_sourceid).apply(null,arguments)};u._sqlite3_wasm_pstack_ptr=function(){return(u._sqlite3_wasm_pstack_ptr=u.asm.sqlite3_wasm_pstack_ptr).apply(null,arguments)};u._sqlite3_wasm_pstack_restore=function(){return(u._sqlite3_wasm_pstack_restore=u.asm.sqlite3_wasm_pstack_restore).apply(null,arguments)};u._sqlite3_wasm_pstack_alloc=function(){return(u._sqlite3_wasm_pstack_alloc=u.asm.sqlite3_wasm_pstack_alloc).apply(null,
arguments)};u._sqlite3_wasm_pstack_remaining=function(){return(u._sqlite3_wasm_pstack_remaining=u.asm.sqlite3_wasm_pstack_remaining).apply(null,arguments)};u._sqlite3_wasm_pstack_quota=function(){return(u._sqlite3_wasm_pstack_quota=u.asm.sqlite3_wasm_pstack_quota).apply(null,arguments)};u._sqlite3_wasm_db_error=function(){return(u._sqlite3_wasm_db_error=u.asm.sqlite3_wasm_db_error).apply(null,arguments)};u._sqlite3_wasm_test_struct=function(){return(u._sqlite3_wasm_test_struct=u.asm.sqlite3_wasm_test_struct).apply(null,
arguments)};u._sqlite3_wasm_enum_json=function(){return(u._sqlite3_wasm_enum_json=u.asm.sqlite3_wasm_enum_json).apply(null,arguments)};u._sqlite3_wasm_vfs_unlink=function(){return(u._sqlite3_wasm_vfs_unlink=u.asm.sqlite3_wasm_vfs_unlink).apply(null,arguments)};u._sqlite3_wasm_db_vfs=function(){return(u._sqlite3_wasm_db_vfs=u.asm.sqlite3_wasm_db_vfs).apply(null,arguments)};u._sqlite3_wasm_db_reset=function(){return(u._sqlite3_wasm_db_reset=u.asm.sqlite3_wasm_db_reset).apply(null,arguments)};u._sqlite3_wasm_db_export_chunked=
function(){return(u._sqlite3_wasm_db_export_chunked=u.asm.sqlite3_wasm_db_export_chunked).apply(null,arguments)};u._sqlite3_wasm_db_serialize=function(){return(u._sqlite3_wasm_db_serialize=u.asm.sqlite3_wasm_db_serialize).apply(null,arguments)};u._sqlite3_wasm_vfs_create_file=function(){return(u._sqlite3_wasm_vfs_create_file=u.asm.sqlite3_wasm_vfs_create_file).apply(null,arguments)};u._sqlite3_wasm_posix_create_file=function(){return(u._sqlite3_wasm_posix_create_file=u.asm.sqlite3_wasm_posix_create_file).apply(null,
arguments)};u._sqlite3_wasm_kvvfsMakeKeyOnPstack=function(){return(u._sqlite3_wasm_kvvfsMakeKeyOnPstack=u.asm.sqlite3_wasm_kvvfsMakeKeyOnPstack).apply(null,arguments)};u._sqlite3_wasm_kvvfs_methods=function(){return(u._sqlite3_wasm_kvvfs_methods=u.asm.sqlite3_wasm_kvvfs_methods).apply(null,arguments)};u._sqlite3_wasm_vtab_config=function(){return(u._sqlite3_wasm_vtab_config=u.asm.sqlite3_wasm_vtab_config).apply(null,arguments)};u._sqlite3_wasm_db_config_ip=function(){return(u._sqlite3_wasm_db_config_ip=
u.asm.sqlite3_wasm_db_config_ip).apply(null,arguments)};u._sqlite3_wasm_db_config_pii=function(){return(u._sqlite3_wasm_db_config_pii=u.asm.sqlite3_wasm_db_config_pii).apply(null,arguments)};u._sqlite3_wasm_db_config_s=function(){return(u._sqlite3_wasm_db_config_s=u.asm.sqlite3_wasm_db_config_s).apply(null,arguments)};u._sqlite3_wasm_config_i=function(){return(u._sqlite3_wasm_config_i=u.asm.sqlite3_wasm_config_i).apply(null,arguments)};u._sqlite3_wasm_config_ii=function(){return(u._sqlite3_wasm_config_ii=
u.asm.sqlite3_wasm_config_ii).apply(null,arguments)};u._sqlite3_wasm_config_j=function(){return(u._sqlite3_wasm_config_j=u.asm.sqlite3_wasm_config_j).apply(null,arguments)};u._sqlite3_wasm_init_wasmfs=function(){return(u._sqlite3_wasm_init_wasmfs=u.asm.sqlite3_wasm_init_wasmfs).apply(null,arguments)};u._sqlite3_wasm_test_intptr=function(){return(u._sqlite3_wasm_test_intptr=u.asm.sqlite3_wasm_test_intptr).apply(null,arguments)};u._sqlite3_wasm_test_voidptr=function(){return(u._sqlite3_wasm_test_voidptr=
u.asm.sqlite3_wasm_test_voidptr).apply(null,arguments)};u._sqlite3_wasm_test_int64_max=function(){return(u._sqlite3_wasm_test_int64_max=u.asm.sqlite3_wasm_test_int64_max).apply(null,arguments)};u._sqlite3_wasm_test_int64_min=function(){return(u._sqlite3_wasm_test_int64_min=u.asm.sqlite3_wasm_test_int64_min).apply(null,arguments)};u._sqlite3_wasm_test_int64_times2=function(){return(u._sqlite3_wasm_test_int64_times2=u.asm.sqlite3_wasm_test_int64_times2).apply(null,arguments)};u._sqlite3_wasm_test_int64_minmax=
function(){return(u._sqlite3_wasm_test_int64_minmax=u.asm.sqlite3_wasm_test_int64_minmax).apply(null,arguments)};u._sqlite3_wasm_test_int64ptr=function(){return(u._sqlite3_wasm_test_int64ptr=u.asm.sqlite3_wasm_test_int64ptr).apply(null,arguments)};u._sqlite3_wasm_test_stack_overflow=function(){return(u._sqlite3_wasm_test_stack_overflow=u.asm.sqlite3_wasm_test_stack_overflow).apply(null,arguments)};u._sqlite3_wasm_test_str_hello=function(){return(u._sqlite3_wasm_test_str_hello=u.asm.sqlite3_wasm_test_str_hello).apply(null,
arguments)};u._sqlite3_wasm_SQLTester_strglob=function(){return(u._sqlite3_wasm_SQLTester_strglob=u.asm.sqlite3_wasm_SQLTester_strglob).apply(null,arguments)};var ed=u._malloc=function(){return(ed=u._malloc=u.asm.malloc).apply(null,arguments)};u._free=function(){return(u._free=u.asm.free).apply(null,arguments)};u._realloc=function(){return(u._realloc=u.asm.realloc).apply(null,arguments)};var bd=u._emscripten_builtin_memalign=function(){return(bd=u._emscripten_builtin_memalign=u.asm.emscripten_builtin_memalign).apply(null,
arguments)};u.stackSave=function(){return(u.stackSave=u.asm.stackSave).apply(null,arguments)};u.stackRestore=function(){return(u.stackRestore=u.asm.stackRestore).apply(null,arguments)};u.stackAlloc=function(){return(u.stackAlloc=u.asm.stackAlloc).apply(null,arguments)};u.wasmMemory=Da;var Oc;Ra=function Ya(){Oc||T();Oc||(Ra=Ya)};if(u.preInit)for("function"==typeof u.preInit&&(u.preInit=[u.preInit]);0<u.preInit.length;)u.preInit.pop()();T();u.postRun||(u.postRun=[]);u.postRun.push(function(Ya){globalThis.sqlite3ApiBootstrap=
function fc(vb=globalThis.sqlite3ApiConfig||fc.defaultConfig){if(fc.sqlite3)return console.warn("sqlite3ApiBootstrap() called multiple times.","Config and external initializers are ignored on calls after the first."),fc.sqlite3;var kc=Object,Fb=kc.assign,Tb=Object.create(null);var Ib="undefined"!==typeof Ya?!!Ya.HEAPU64:!!globalThis.BigInt64Array;const mb=Fb.call(kc,Tb,{exports:void 0,memory:void 0,bigIntEnabled:Ib,debug:console.debug.bind(console),warn:console.warn.bind(console),error:console.error.bind(console),
log:console.log.bind(console),wasmfsOpfsDir:"/opfs",useStdAlloc:!1},vb||{});Object.assign(mb,{allocExportName:mb.useStdAlloc?"malloc":"sqlite3_malloc",deallocExportName:mb.useStdAlloc?"free":"sqlite3_free",reallocExportName:mb.useStdAlloc?"realloc":"sqlite3_realloc"},mb);["exports","memory","wasmfsOpfsDir"].forEach(mc=>{"function"===typeof mb[mc]&&(mb[mc]=mb[mc]())});const zb=Object.create(null),Cb=Object.create(null),jb=mc=>zb.sqlite3_js_rc_str&&zb.sqlite3_js_rc_str(mc)||"Unknown result code #"+
mc;class tb extends Error{constructor(...mc){let pc;if(mc.length){var uc=mc[0];"number"===typeof uc&&uc===(uc|0)?(pc=mc[0],1===mc.length?super(jb(mc[0])):(uc=jb(pc),"object"===typeof mc[1]?super(uc,mc[1]):(mc[0]=uc+":",super(mc.join(" "))))):2===mc.length&&"object"===typeof mc[1]?super(...mc):super(mc.join(" "))}this.resultCode=pc||zb.SQLITE_ERROR;this.name="SQLite3Error"}}tb.toss=(...mc)=>{throw new tb(...mc);};const Mb=tb.toss;mb.wasmfsOpfsDir&&!/^\/[^/]+$/.test(mb.wasmfsOpfsDir)&&Mb("config.wasmfsOpfsDir must be falsy or in the form '/dir-name'.");
const nc=mc=>"bigint"!==typeof mc&&!!(mc===(mc|0)&&2147483647>=mc&&-2147483648<=mc),Gc="undefined"===typeof SharedArrayBuffer?function(){}:SharedArrayBuffer,Lc=mc=>mc.buffer instanceof Gc,rc=(mc,pc,uc)=>Lc(mc)?mc.slice(pc,uc):mc.subarray(pc,uc),Yc=mc=>mc&&(mc instanceof Uint8Array||mc instanceof Int8Array||mc instanceof ArrayBuffer),Wc=mc=>mc&&(mc instanceof Uint8Array||mc instanceof Int8Array||mc instanceof ArrayBuffer),zd=mc=>Yc(mc)||Mb("Value is not of a supported TypedArray type."),Bd=new TextDecoder("utf-8"),
Zc=function(mc,pc,uc){return Bd.decode(rc(mc,pc,uc))},ub=function(mc){if(Wc(mc))return Zc(mc instanceof ArrayBuffer?new Uint8Array(mc):mc);if(Array.isArray(mc))return mc.join("");Cb.isPtr(mc)&&(mc=Cb.cstrToJs(mc));return mc};class Ac extends Error{constructor(...mc){2===mc.length&&"object"===typeof mc[1]?super(...mc):mc.length?super(mc.join(" ")):super("Allocation failed.");this.resultCode=zb.SQLITE_NOMEM;this.name="WasmAllocError"}}Ac.toss=(...mc)=>{throw new Ac(...mc);};Object.assign(zb,{sqlite3_bind_blob:void 0,
sqlite3_bind_text:void 0,sqlite3_create_function_v2:(mc,pc,uc,Kb,Cc,$b,ob,wb,Sa)=>{},sqlite3_create_function:(mc,pc,uc,Kb,Cc,$b,ob,wb)=>{},sqlite3_create_window_function:(mc,pc,uc,Kb,Cc,$b,ob,wb,Sa,Hb)=>{},sqlite3_prepare_v3:(mc,pc,uc,Kb,Cc,$b)=>{},sqlite3_prepare_v2:(mc,pc,uc,Kb,Cc)=>{},sqlite3_exec:(mc,pc,uc,Kb,Cc)=>{},sqlite3_randomness:(mc,pc)=>{}});const bc={affirmBindableTypedArray:zd,flexibleString:ub,bigIntFits32:mc=>-2147483648n<=mc&&2147483647n>=mc,bigIntFits64:function uc(pc){uc._max||
(uc._max=BigInt("0x7fffffffffffffff"),uc._min=~uc._max);return pc>=uc._min&&pc<=uc._max},bigIntFitsDouble:function Kb(uc){Kb._min||(Kb._min=Number.MIN_SAFE_INTEGER,Kb._max=Number.MAX_SAFE_INTEGER);return uc>=Kb._min&&uc<=Kb._max},isBindableTypedArray:Yc,isInt32:nc,isSQLableTypedArray:Wc,isTypedArray:uc=>uc&&uc.constructor&&nc(uc.constructor.BYTES_PER_ELEMENT)?uc:!1,typedArrayToString:Zc,isUIThread:()=>globalThis.window===globalThis&&!!globalThis.document,isSharedTypedArray:Lc,toss:function(...uc){throw Error(uc.join(" "));
},toss3:Mb,typedArrayPart:rc,affirmDbHeader:function(uc){uc instanceof ArrayBuffer&&(uc=new Uint8Array(uc));15>uc.byteLength&&Mb("Input does not contain an SQLite3 database header.");for(let Kb=0;15>Kb;++Kb)"SQLite format 3".charCodeAt(Kb)!==uc[Kb]&&Mb("Input does not contain an SQLite3 database header.")},affirmIsDb:function(uc){uc instanceof ArrayBuffer&&(uc=new Uint8Array(uc));const Kb=uc.byteLength;(512>Kb||0!==Kb%512)&&Mb("Byte array size",Kb,"is invalid for an SQLite3 db.");bc.affirmDbHeader(uc)}};
Object.assign(Cb,{ptrSizeof:mb.wasmPtrSizeof||4,ptrIR:mb.wasmPtrIR||"i32",bigIntEnabled:!!mb.bigIntEnabled,exports:mb.exports||Mb("Missing API config.exports (WASM module exports)."),memory:mb.memory||mb.exports.memory||Mb("API config object requires a WebAssembly.Memory object","in either config.exports.memory (exported)","or config.memory (imported)."),alloc:void 0,realloc:void 0,dealloc:void 0});Cb.allocFromTypedArray=function(uc){uc instanceof ArrayBuffer&&(uc=new Uint8Array(uc));zd(uc);const Kb=
Cb.alloc(uc.byteLength||1);Cb.heapForSize(uc.constructor).set(uc.byteLength?uc:[0],Kb);return Kb};vb=mb.allocExportName;kc=mb.deallocExportName;Fb=mb.reallocExportName;for(const uc of[vb,kc,Fb])Cb.exports[uc]instanceof Function||Mb("Missing required exports[",uc,"] function.");Cb.alloc=function Cc(Kb){return Cc.impl(Kb)||Ac.toss("Failed to allocate",Kb," bytes.")};Cb.alloc.impl=Cb.exports[vb];Cb.realloc=function ob(Cc,$b){Cc=ob.impl(Cc,$b);return $b?Cc||Ac.toss("Failed to reallocate",$b," bytes."):
0};Cb.realloc.impl=Cb.exports[Fb];Cb.dealloc=Cb.exports[kc];Cb.compileOptionUsed=function ob($b){if(arguments.length){if(Array.isArray($b)){const wb={};$b.forEach(Sa=>{wb[Sa]=zb.sqlite3_compileoption_used(Sa)});return wb}if("object"===typeof $b)return Object.keys($b).forEach(wb=>{$b[wb]=zb.sqlite3_compileoption_used(wb)}),$b}else{if(ob._result)return ob._result;ob._opt||(ob._rx=/^([^=]+)=(.+)/,ob._rxInt=/^-?\d+$/,ob._opt=function(Yb,Ic){const db=ob._rx.exec(Yb);Ic[0]=db?db[1]:Yb;Ic[1]=db?ob._rxInt.test(db[2])?
+db[2]:db[2]:!0});const wb={},Sa=[0,0];let Hb=0,Jb;for(;Jb=zb.sqlite3_compileoption_get(Hb++);)ob._opt(Jb,Sa),wb[Sa[0]]=Sa[1];return ob._result=wb}return"string"===typeof $b?!!zb.sqlite3_compileoption_used($b):!1};Cb.pstack=Object.assign(Object.create(null),{restore:Cb.exports.sqlite3_wasm_pstack_restore,alloc:function($b){"string"!==typeof $b||($b=Cb.sizeofIR($b))||Ac.toss("Invalid value for pstack.alloc(",$b,")");return Cb.exports.sqlite3_wasm_pstack_alloc($b)||Ac.toss("Could not allocate",$b,"bytes from the pstack.")},
allocChunks:function($b,ob){"string"!==typeof ob||(ob=Cb.sizeofIR(ob))||Ac.toss("Invalid size value for allocChunks(",ob,")");const wb=Cb.pstack.alloc($b*ob),Sa=[];let Hb=0,Jb=0;for(;Hb<$b;++Hb,Jb+=ob)Sa.push(wb+Jb);return Sa},allocPtr:($b=1,ob=!0)=>1===$b?Cb.pstack.alloc(ob?8:Cb.ptrSizeof):Cb.pstack.allocChunks($b,ob?8:Cb.ptrSizeof),call:function($b){const ob=Cb.pstack.pointer;try{return $b(Ec)}finally{Cb.pstack.restore(ob)}}});Object.defineProperties(Cb.pstack,{pointer:{configurable:!1,iterable:!0,
writeable:!1,get:Cb.exports.sqlite3_wasm_pstack_ptr},quota:{configurable:!1,iterable:!0,writeable:!1,get:Cb.exports.sqlite3_wasm_pstack_quota},remaining:{configurable:!1,iterable:!0,writeable:!1,get:Cb.exports.sqlite3_wasm_pstack_remaining}});zb.sqlite3_randomness=(...$b)=>{if(1===$b.length&&bc.isTypedArray($b[0])&&1===$b[0].BYTES_PER_ELEMENT){$b=$b[0];if(0===$b.byteLength)return Cb.exports.sqlite3_randomness(0,0),$b;const ob=Cb.pstack.pointer;try{let wb=$b.byteLength,Sa=0;const Hb=Cb.exports.sqlite3_randomness,
Jb=Cb.heap8u(),Yb=512>wb?wb:512,Ic=Cb.pstack.alloc(Yb);do{const db=wb>Yb?Yb:wb;Hb(db,Ic);$b.set(rc(Jb,Ic,Ic+db),Sa);wb-=db;Sa+=db}while(0<wb)}catch(wb){console.error("Highly unexpected (and ignored!) exception in sqlite3_randomness():",wb)}finally{Cb.pstack.restore(ob)}return $b}Cb.exports.sqlite3_randomness(...$b)};let Kc=void 0;zb.sqlite3_wasmfs_opfs_dir=function(){if(void 0!==Kc)return Kc;const $b=mb.wasmfsOpfsDir;if(!($b&&globalThis.FileSystemHandle&&globalThis.FileSystemDirectoryHandle&&globalThis.FileSystemFileHandle))return Kc=
"";try{return $b&&0===Cb.xCallWrapped("sqlite3_wasm_init_wasmfs","i32",["string"],$b)?Kc=$b:Kc=""}catch(ob){return Kc=""}};zb.sqlite3_wasmfs_filename_is_persistent=function($b){const ob=zb.sqlite3_wasmfs_opfs_dir();return ob&&$b?$b.startsWith(ob+"/"):!1};zb.sqlite3_js_db_uses_vfs=function($b,ob,wb=0){try{const Sa=zb.sqlite3_vfs_find(ob);return Sa?$b?Sa===zb.sqlite3_js_db_vfs($b,wb)?Sa:!1:Sa===zb.sqlite3_vfs_find(0)?Sa:!1:!1}catch(Sa){return!1}};zb.sqlite3_js_vfs_list=function(){const $b=[];let ob=
zb.sqlite3_vfs_find(0);for(;ob;){const wb=new zb.sqlite3_vfs(ob);$b.push(Cb.cstrToJs(wb.$zName));ob=wb.$pNext;wb.dispose()}return $b};zb.sqlite3_js_db_export=function($b,ob=0){($b=Cb.xWrap.testConvertArg("sqlite3*",$b))||Mb("Invalid sqlite3* argument.");Cb.bigIntEnabled||Mb("BigInt64 support is not enabled.");const wb=Cb.scopedAllocPush();let Sa;try{const Hb=Cb.scopedAlloc(8+Cb.ptrSizeof),Jb=Hb+8,Yb=ob?Cb.isPtr(ob)?ob:Cb.scopedAllocCString(""+ob):0;let Ic=Cb.exports.sqlite3_wasm_db_serialize($b,Yb,
Jb,Hb,0);Ic&&Mb("Database serialization failed with code",Ec.capi.sqlite3_js_rc_str(Ic));Sa=Cb.peekPtr(Jb);const db=Cb.peek(Hb,"i64");return Ic=db?Cb.heap8u().slice(Sa,Sa+Number(db)):new Uint8Array}finally{Sa&&Cb.exports.sqlite3_free(Sa),Cb.scopedAllocPop(wb)}};zb.sqlite3_js_db_vfs=($b,ob=0)=>Cb.sqlite3_wasm_db_vfs($b,ob);zb.sqlite3_js_aggregate_context=($b,ob)=>zb.sqlite3_aggregate_context($b,ob)||(ob?Ac.toss("Cannot allocate",ob,"bytes for sqlite3_aggregate_context()"):0);zb.sqlite3_js_posix_create_file=
function($b,ob,wb){let Sa;if(ob&&Cb.isPtr(ob))Sa=ob;else if(ob instanceof ArrayBuffer||ob instanceof Uint8Array){if(Sa=Cb.allocFromTypedArray(ob),3>arguments.length||!bc.isInt32(wb)||0>wb)wb=ob.byteLength}else tb.toss("Invalid 2nd argument for sqlite3_js_posix_create_file().");try{(!bc.isInt32(wb)||0>wb)&&tb.toss("Invalid 3rd argument for sqlite3_js_posix_create_file().");const Hb=Cb.sqlite3_wasm_posix_create_file($b,Sa,wb);Hb&&tb.toss("Creation of file failed with sqlite3 result code",zb.sqlite3_js_rc_str(Hb))}finally{Cb.dealloc(Sa)}};
zb.sqlite3_js_vfs_create_file=function($b,ob,wb,Sa){mb.warn("sqlite3_js_vfs_create_file() is deprecated and","should be avoided because it can lead to C-level crashes.","See its documentation for alternative options.");let Hb;if(wb)if(Cb.isPtr(wb)?Hb=wb:wb instanceof ArrayBuffer&&(wb=new Uint8Array(wb)),wb instanceof Uint8Array){if(Hb=Cb.allocFromTypedArray(wb),4>arguments.length||!bc.isInt32(Sa)||0>Sa)Sa=wb.byteLength}else tb.toss("Invalid 3rd argument type for sqlite3_js_vfs_create_file().");else Hb=
0;if(!bc.isInt32(Sa)||0>Sa)Cb.dealloc(Hb),tb.toss("Invalid 4th argument for sqlite3_js_vfs_create_file().");try{const Jb=Cb.sqlite3_wasm_vfs_create_file($b,ob,Hb,Sa);Jb&&tb.toss("Creation of file failed with sqlite3 result code",zb.sqlite3_js_rc_str(Jb))}finally{Cb.dealloc(Hb)}};zb.sqlite3_js_sql_to_string=$b=>{if("string"===typeof $b)return $b;$b=ub(v);return $b===v?void 0:$b};if(bc.isUIThread()){const $b=function(ob){const wb=Object.create(null);wb.prefix="kvvfs-"+ob;wb.stores=[];"session"!==ob&&
""!==ob||wb.stores.push(globalThis.sessionStorage);"local"!==ob&&""!==ob||wb.stores.push(globalThis.localStorage);return wb};zb.sqlite3_js_kvvfs_clear=function(ob=""){let wb=0;const Sa=$b(ob);Sa.stores.forEach(Hb=>{const Jb=[];let Yb;for(Yb=0;Yb<Hb.length;++Yb){const Ic=Hb.key(Yb);Ic.startsWith(Sa.prefix)&&Jb.push(Ic)}Jb.forEach(Ic=>Hb.removeItem(Ic));wb+=Jb.length});return wb};zb.sqlite3_js_kvvfs_size=function(ob=""){let wb=0;const Sa=$b(ob);Sa.stores.forEach(Hb=>{let Jb;for(Jb=0;Jb<Hb.length;++Jb){const Yb=
Hb.key(Jb);Yb.startsWith(Sa.prefix)&&(wb+=Yb.length,wb+=Hb.getItem(Yb).length)}});return 2*wb}}zb.sqlite3_db_config=function($b,ob,...wb){this.s||(this.s=Cb.xWrap("sqlite3_wasm_db_config_s","int",["sqlite3*","int","string:static"]),this.pii=Cb.xWrap("sqlite3_wasm_db_config_pii","int",["sqlite3*","int","*","int","int"]),this.ip=Cb.xWrap("sqlite3_wasm_db_config_ip","int",["sqlite3*","int","int","*"]));switch(ob){case zb.SQLITE_DBCONFIG_ENABLE_FKEY:case zb.SQLITE_DBCONFIG_ENABLE_TRIGGER:case zb.SQLITE_DBCONFIG_ENABLE_FTS3_TOKENIZER:case zb.SQLITE_DBCONFIG_ENABLE_LOAD_EXTENSION:case zb.SQLITE_DBCONFIG_NO_CKPT_ON_CLOSE:case zb.SQLITE_DBCONFIG_ENABLE_QPSG:case zb.SQLITE_DBCONFIG_TRIGGER_EQP:case zb.SQLITE_DBCONFIG_RESET_DATABASE:case zb.SQLITE_DBCONFIG_DEFENSIVE:case zb.SQLITE_DBCONFIG_WRITABLE_SCHEMA:case zb.SQLITE_DBCONFIG_LEGACY_ALTER_TABLE:case zb.SQLITE_DBCONFIG_DQS_DML:case zb.SQLITE_DBCONFIG_DQS_DDL:case zb.SQLITE_DBCONFIG_ENABLE_VIEW:case zb.SQLITE_DBCONFIG_LEGACY_FILE_FORMAT:case zb.SQLITE_DBCONFIG_TRUSTED_SCHEMA:case zb.SQLITE_DBCONFIG_STMT_SCANSTATUS:case zb.SQLITE_DBCONFIG_REVERSE_SCANORDER:return this.ip($b,
ob,wb[0],wb[1]||0);case zb.SQLITE_DBCONFIG_LOOKASIDE:return this.pii($b,ob,wb[0],wb[1],wb[2]);case zb.SQLITE_DBCONFIG_MAINDBNAME:return this.s($b,ob,wb[0]);default:return zb.SQLITE_MISUSE}}.bind(Object.create(null));zb.sqlite3_value_to_js=function($b,ob=!0){const wb=zb.sqlite3_value_type($b);switch(wb){case zb.SQLITE_INTEGER:Cb.bigIntEnabled?($b=zb.sqlite3_value_int64($b),bc.bigIntFitsDouble($b)&&($b=Number($b))):$b=zb.sqlite3_value_double($b);break;case zb.SQLITE_FLOAT:$b=zb.sqlite3_value_double($b);
break;case zb.SQLITE_TEXT:$b=zb.sqlite3_value_text($b);break;case zb.SQLITE_BLOB:ob=zb.sqlite3_value_bytes($b);$b=zb.sqlite3_value_blob($b);ob&&!$b&&Ec.WasmAllocError.toss("Cannot allocate memory for blob argument of",ob,"byte(s)");$b=ob?Cb.heap8u().slice($b,$b+Number(ob)):null;break;case zb.SQLITE_NULL:$b=null;break;default:ob&&Mb(zb.SQLITE_MISMATCH,"Unhandled sqlite3_value_type():",wb),$b=void 0}return $b};zb.sqlite3_values_to_js=function($b,ob,wb=!0){let Sa;const Hb=[];for(Sa=0;Sa<$b;++Sa)Hb.push(zb.sqlite3_value_to_js(Cb.peekPtr(ob+
Cb.ptrSizeof*Sa),wb));return Hb};zb.sqlite3_result_error_js=function($b,ob){ob instanceof Ac?zb.sqlite3_result_error_nomem($b):zb.sqlite3_result_error($b,""+ob,-1)};zb.sqlite3_result_js=function($b,ob){if(ob instanceof Error)zb.sqlite3_result_error_js($b,ob);else try{switch(typeof ob){case "undefined":break;case "boolean":zb.sqlite3_result_int($b,ob?1:0);break;case "bigint":bc.bigIntFits32(ob)?zb.sqlite3_result_int($b,Number(ob)):bc.bigIntFitsDouble(ob)?zb.sqlite3_result_double($b,Number(ob)):Cb.bigIntEnabled?
bc.bigIntFits64(ob)?zb.sqlite3_result_int64($b,ob):Mb("BigInt value",ob.toString(),"is too BigInt for int64."):Mb("BigInt value",ob.toString(),"is too BigInt.");break;case "number":(bc.isInt32(ob)?zb.sqlite3_result_int:Cb.bigIntEnabled&&Number.isInteger(ob)&&bc.bigIntFits64(BigInt(ob))?zb.sqlite3_result_int64:zb.sqlite3_result_double)($b,ob);break;case "string":const [wb,Sa]=Cb.allocCString(ob,!0);zb.sqlite3_result_text($b,wb,Sa,zb.SQLITE_WASM_DEALLOC);break;case "object":if(null===ob){zb.sqlite3_result_null($b);
break}else if(bc.isBindableTypedArray(ob)){const Hb=Cb.allocFromTypedArray(ob);zb.sqlite3_result_blob($b,Hb,ob.byteLength,zb.SQLITE_WASM_DEALLOC);break}default:Mb("Don't not how to handle this UDF result value:",typeof ob,ob)}}catch(wb){zb.sqlite3_result_error_js($b,wb)}};zb.sqlite3_column_js=function($b,ob,wb=!0){$b=zb.sqlite3_column_value($b,ob);return 0===$b?void 0:zb.sqlite3_value_to_js($b,wb)};const Sc=function($b,ob,wb){wb=zb[wb];this.ptr?Cb.pokePtr(this.ptr,0):this.ptr=Cb.allocPtr();return($b=
wb($b,ob,this.ptr))?tb.toss($b,wb+"() failed with code "+$b):(wb=Cb.peekPtr(this.ptr))?zb.sqlite3_value_to_js(wb,!0):void 0}.bind(Object.create(null));zb.sqlite3_preupdate_new_js=($b,ob)=>Sc($b,ob,"sqlite3_preupdate_new");zb.sqlite3_preupdate_old_js=($b,ob)=>Sc($b,ob,"sqlite3_preupdate_old");zb.sqlite3changeset_new_js=($b,ob)=>Sc($b,ob,"sqlite3changeset_new");zb.sqlite3changeset_old_js=($b,ob)=>Sc($b,ob,"sqlite3changeset_old");const Ec={WasmAllocError:Ac,SQLite3Error:tb,capi:zb,util:bc,wasm:Cb,config:mb,
version:Object.create(null),client:void 0,asyncPostInit:async function ob(){if(ob.isReady instanceof Promise)return ob.isReady;let wb=fc.initializersAsync;delete fc.initializersAsync;var Sa=async()=>{Ec.__isUnderTest||(delete Ec.util,delete Ec.StructBinder);return Ec};const Hb=Jb=>{mb.error("an async sqlite3 initializer failed:",Jb);throw Jb;};if(!wb||!wb.length)return ob.isReady=Sa().catch(Hb);wb=wb.map(Jb=>Jb instanceof Function?async Yb=>Jb(Ec):Jb);wb.push(Sa);for(Sa=Promise.resolve(Ec);wb.length;)Sa=
Sa.then(wb.shift());return ob.isReady=Sa.catch(Hb)},scriptInfo:void 0};try{fc.initializers.forEach(ob=>{ob(Ec)})}catch(ob){throw console.error("sqlite3 bootstrap initializer threw:",ob),ob;}delete fc.initializers;return fc.sqlite3=Ec};globalThis.sqlite3ApiBootstrap.initializers=[];globalThis.sqlite3ApiBootstrap.initializersAsync=[];globalThis.sqlite3ApiBootstrap.defaultConfig=Object.create(null);globalThis.sqlite3ApiBootstrap.sqlite3=void 0;globalThis.WhWasmUtilInstaller=function(vb){void 0===vb.bigIntEnabled&&
(vb.bigIntEnabled=!!globalThis.BigInt64Array);const fc=(...Ac)=>{throw Error(Ac.join(" "));};vb.exports||Object.defineProperty(vb,"exports",{enumerable:!0,configurable:!0,get:()=>vb.instance&&vb.instance.exports});const kc=vb.pointerIR||"i32",Fb=vb.ptrSizeof="i32"===kc?4:"i64"===kc?8:fc("Unhandled ptrSizeof:",kc),Tb=Object.create(null);Tb.heapSize=0;Tb.memory=null;Tb.freeFuncIndexes=[];Tb.scopedAlloc=[];Tb.utf8Decoder=new TextDecoder;Tb.utf8Encoder=new TextEncoder("utf-8");vb.sizeofIR=Ac=>{switch(Ac){case "i8":return 1;
case "i16":return 2;case "i32":case "f32":case "float":return 4;case "i64":case "f64":case "double":return 8;case "*":return Fb;default:return(""+Ac).endsWith("*")?Fb:void 0}};const Ib=function(){if(!Tb.memory)Tb.memory=vb.memory instanceof WebAssembly.Memory?vb.memory:vb.exports.memory;else if(Tb.heapSize===Tb.memory.buffer.byteLength)return Tb;const Ac=Tb.memory.buffer;Tb.HEAP8=new Int8Array(Ac);Tb.HEAP8U=new Uint8Array(Ac);Tb.HEAP16=new Int16Array(Ac);Tb.HEAP16U=new Uint16Array(Ac);Tb.HEAP32=new Int32Array(Ac);
Tb.HEAP32U=new Uint32Array(Ac);vb.bigIntEnabled&&(Tb.HEAP64=new BigInt64Array(Ac),Tb.HEAP64U=new BigUint64Array(Ac));Tb.HEAP32F=new Float32Array(Ac);Tb.HEAP64F=new Float64Array(Ac);Tb.heapSize=Ac.byteLength;return Tb};vb.heap8=()=>Ib().HEAP8;vb.heap8u=()=>Ib().HEAP8U;vb.heap16=()=>Ib().HEAP16;vb.heap16u=()=>Ib().HEAP16U;vb.heap32=()=>Ib().HEAP32;vb.heap32u=()=>Ib().HEAP32U;vb.heapForSize=function(Ac,bc=!0){const Kc=Tb.memory&&Tb.heapSize===Tb.memory.buffer.byteLength?Tb:Ib();switch(Ac){case Int8Array:return Kc.HEAP8;
case Uint8Array:return Kc.HEAP8U;case Int16Array:return Kc.HEAP16;case Uint16Array:return Kc.HEAP16U;case Int32Array:return Kc.HEAP32;case Uint32Array:return Kc.HEAP32U;case 8:return bc?Kc.HEAP8U:Kc.HEAP8;case 16:return bc?Kc.HEAP16U:Kc.HEAP16;case 32:return bc?Kc.HEAP32U:Kc.HEAP32;case 64:if(Kc.HEAP64)return bc?Kc.HEAP64U:Kc.HEAP64;break;default:if(vb.bigIntEnabled){if(Ac===globalThis.BigUint64Array)return Kc.HEAP64U;if(Ac===globalThis.BigInt64Array)return Kc.HEAP64}}fc("Invalid heapForSize() size: expecting 8, 16, 32,",
"or (if BigInt is enabled) 64.")};vb.functionTable=function(){return vb.exports.__indirect_function_table};vb.functionEntry=function(Ac){const bc=vb.functionTable();return Ac<bc.length?bc.get(Ac):void 0};vb.jsFuncToWasm=function Sc(bc,Kc){Sc._||(Sc._={sigTypes:Object.assign(Object.create(null),{i:"i32",p:"i32",P:"i32",s:"i32",j:"i64",f:"f32",d:"f64"}),typeCodes:Object.assign(Object.create(null),{f64:124,f32:125,i64:126,i32:127}),uleb128Encode:function(pc,uc,Kb){if(128>Kb)pc[uc](Kb);else pc[uc](Kb%
128|128,Kb>>7)},rxJSig:/^(\w)\((\w*)\)$/,sigParams:function(pc){const uc=Sc._.rxJSig.exec(pc);return uc?uc[2]:pc.substr(1)},letterType:pc=>Sc._.sigTypes[pc]||fc("Invalid signature letter:",pc),pushSigType:(pc,uc)=>pc.push(Sc._.typeCodes[Sc._.letterType(uc)])});if("string"===typeof bc){var Ec=Kc;Kc=bc;bc=Ec}Ec=Sc._.sigParams(Kc);const mc=[1,96];Sc._.uleb128Encode(mc,"push",Ec.length);for(const pc of Ec)Sc._.pushSigType(mc,pc);"v"===Kc[0]?mc.push(0):(mc.push(1),Sc._.pushSigType(mc,Kc[0]));Sc._.uleb128Encode(mc,
"unshift",mc.length);mc.unshift(0,97,115,109,1,0,0,0,1);mc.push(2,7,1,1,101,1,102,0,0,7,5,1,1,102,0,0);return(new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array(mc)),{e:{f:bc}})).exports.f};const mb=function(bc,Kc,Sc){Sc&&!Tb.scopedAlloc.length&&fc("No scopedAllocPush() scope is active.");if("string"===typeof bc){var Ec=Kc;Kc=bc;bc=Ec}"string"===typeof Kc&&bc instanceof Function||fc("Invalid arguments: expecting (function,signature) or (signature,function).");Ec=vb.functionTable();const mc=
Ec.length;let pc;for(;Tb.freeFuncIndexes.length;)if(pc=Tb.freeFuncIndexes.pop(),Ec.get(pc))pc=null;else break;pc||(pc=mc,Ec.grow(1));try{return Ec.set(pc,bc),Sc&&Tb.scopedAlloc[Tb.scopedAlloc.length-1].push(pc),pc}catch(uc){if(!(uc instanceof TypeError))throw pc===mc&&Tb.freeFuncIndexes.push(mc),uc;}try{const uc=vb.jsFuncToWasm(bc,Kc);Ec.set(pc,uc);Sc&&Tb.scopedAlloc[Tb.scopedAlloc.length-1].push(pc)}catch(uc){throw pc===mc&&Tb.freeFuncIndexes.push(mc),uc;}return pc};vb.installFunction=(bc,Kc)=>mb(bc,
Kc,!1);vb.scopedInstallFunction=(bc,Kc)=>mb(bc,Kc,!0);vb.uninstallFunction=function(bc){if(bc||0===bc){var Kc=Tb.freeFuncIndexes,Sc=vb.functionTable();Kc.push(bc);Kc=Sc.get(bc);Sc.set(bc,null);return Kc}};vb.peek=function(bc,Kc="i8"){Kc.endsWith("*")&&(Kc=kc);const Sc=Tb.memory&&Tb.heapSize===Tb.memory.buffer.byteLength?Tb:Ib(),Ec=Array.isArray(bc)?[]:void 0;let mc;do{Ec&&(bc=bc.shift());switch(Kc){case "i1":case "i8":mc=Sc.HEAP8[bc>>0];break;case "i16":mc=Sc.HEAP16[bc>>1];break;case "i32":mc=Sc.HEAP32[bc>>
2];break;case "float":case "f32":mc=Sc.HEAP32F[bc>>2];break;case "double":case "f64":mc=Number(Sc.HEAP64F[bc>>3]);break;case "i64":if(vb.bigIntEnabled){mc=BigInt(Sc.HEAP64[bc>>3]);break}default:fc("Invalid type for peek():",Kc)}Ec&&Ec.push(mc)}while(Ec&&bc.length);return Ec||mc};vb.poke=function(bc,Kc,Sc="i8"){Sc.endsWith("*")&&(Sc=kc);const Ec=Tb.memory&&Tb.heapSize===Tb.memory.buffer.byteLength?Tb:Ib();for(const mc of Array.isArray(bc)?bc:[bc])switch(Sc){case "i1":case "i8":Ec.HEAP8[mc>>0]=Kc;continue;
case "i16":Ec.HEAP16[mc>>1]=Kc;continue;case "i32":Ec.HEAP32[mc>>2]=Kc;continue;case "float":case "f32":Ec.HEAP32F[mc>>2]=Kc;continue;case "double":case "f64":Ec.HEAP64F[mc>>3]=Kc;continue;case "i64":if(Ec.HEAP64){Ec.HEAP64[mc>>3]=BigInt(Kc);continue}default:fc("Invalid type for poke(): "+Sc)}return this};vb.peekPtr=(...bc)=>vb.peek(1===bc.length?bc[0]:bc,kc);vb.pokePtr=(bc,Kc=0)=>vb.poke(bc,Kc,kc);vb.peek8=(...bc)=>vb.peek(1===bc.length?bc[0]:bc,"i8");vb.poke8=(bc,Kc)=>vb.poke(bc,Kc,"i8");vb.peek16=
(...bc)=>vb.peek(1===bc.length?bc[0]:bc,"i16");vb.poke16=(bc,Kc)=>vb.poke(bc,Kc,"i16");vb.peek32=(...bc)=>vb.peek(1===bc.length?bc[0]:bc,"i32");vb.poke32=(bc,Kc)=>vb.poke(bc,Kc,"i32");vb.peek64=(...bc)=>vb.peek(1===bc.length?bc[0]:bc,"i64");vb.poke64=(bc,Kc)=>vb.poke(bc,Kc,"i64");vb.peek32f=(...bc)=>vb.peek(1===bc.length?bc[0]:bc,"f32");vb.poke32f=(bc,Kc)=>vb.poke(bc,Kc,"f32");vb.peek64f=(...bc)=>vb.peek(1===bc.length?bc[0]:bc,"f64");vb.poke64f=(bc,Kc)=>vb.poke(bc,Kc,"f64");vb.getMemValue=vb.peek;
vb.getPtrValue=vb.peekPtr;vb.setMemValue=vb.poke;vb.setPtrValue=vb.pokePtr;vb.isPtr32=bc=>"number"===typeof bc&&bc===(bc|0)&&0<=bc;vb.isPtr=vb.isPtr32;vb.cstrlen=function(bc){if(!bc||!vb.isPtr(bc))return null;const Kc=Ib().HEAP8U;let Sc=bc;for(;0!==Kc[Sc];++Sc);return Sc-bc};const zb="undefined"===typeof SharedArrayBuffer?function(){}:SharedArrayBuffer;vb.cstrToJs=function(bc){var Kc=vb.cstrlen(bc);if(Kc){var Sc=Ib().HEAP8U;Kc=bc+Kc;bc=Tb.utf8Decoder.decode(Sc.buffer instanceof zb?Sc.slice(bc,Kc):
Sc.subarray(bc,Kc))}else bc=null===Kc?Kc:"";return bc};vb.jstrlen=function(bc){if("string"!==typeof bc)return null;const Kc=bc.length;let Sc=0;for(let Ec=0;Ec<Kc;++Ec){let mc=bc.charCodeAt(Ec);55296<=mc&&57343>=mc&&(mc=65536+((mc&1023)<<10)|bc.charCodeAt(++Ec)&1023);127>=mc?++Sc:Sc=2047>=mc?Sc+2:65535>=mc?Sc+3:Sc+4}return Sc};vb.jstrcpy=function(bc,Kc,Sc=0,Ec=-1,mc=!0){Kc&&(Kc instanceof Int8Array||Kc instanceof Uint8Array)||fc("jstrcpy() target must be an Int8Array or Uint8Array.");0>Ec&&(Ec=Kc.length-
Sc);if(!(0<Ec&&0<=Sc))return 0;let pc=0,uc=bc.length;const Kb=Sc;for(Ec=Sc+Ec-(mc?1:0);pc<uc&&Sc<Ec;++pc){let Cc=bc.charCodeAt(pc);55296<=Cc&&57343>=Cc&&(Cc=65536+((Cc&1023)<<10)|bc.charCodeAt(++pc)&1023);if(127>=Cc){if(Sc>=Ec)break;Kc[Sc++]=Cc}else{if(2047>=Cc){if(Sc+1>=Ec)break;Kc[Sc++]=192|Cc>>6}else{if(65535>=Cc){if(Sc+2>=Ec)break;Kc[Sc++]=224|Cc>>12}else{if(Sc+3>=Ec)break;Kc[Sc++]=240|Cc>>18;Kc[Sc++]=128|Cc>>12&63}Kc[Sc++]=128|Cc>>6&63}Kc[Sc++]=128|Cc&63}}mc&&(Kc[Sc++]=0);return Sc-Kb};vb.cstrncpy=
function(bc,Kc,Sc){bc&&Kc||fc("cstrncpy() does not accept NULL strings.");if(0>Sc)Sc=vb.cstrlen(strPtr)+1;else if(!(0<Sc))return 0;const Ec=vb.heap8u();let mc=0,pc;for(;mc<Sc&&(pc=Ec[Kc+mc]);++mc)Ec[bc+mc]=pc;mc<Sc&&(Ec[bc+mc++]=0);return mc};vb.jstrToUintArray=(bc,Kc=!1)=>Tb.utf8Encoder.encode(Kc?bc+"\x00":bc);const Cb=(bc,Kc)=>{bc.alloc instanceof Function&&bc.dealloc instanceof Function||fc("Object is missing alloc() and/or dealloc() function(s)","required by",Kc+"().")},jb=function(bc,Kc,Sc,Ec){Cb(vb,
Ec);if("string"!==typeof bc)return null;bc=Tb.utf8Encoder.encode(bc);Sc=Sc(bc.length+1);Ec=Ib().HEAP8U;Ec.set(bc,Sc);Ec[Sc+bc.length]=0;return Kc?[Sc,bc.length]:Sc};vb.allocCString=(bc,Kc=!1)=>jb(bc,Kc,vb.alloc,"allocCString()");vb.scopedAllocPush=function(){Cb(vb,"scopedAllocPush");const bc=[];Tb.scopedAlloc.push(bc);return bc};vb.scopedAllocPop=function(bc){Cb(vb,"scopedAllocPop");var Kc=arguments.length?Tb.scopedAlloc.indexOf(bc):Tb.scopedAlloc.length-1;0>Kc&&fc("Invalid state object for scopedAllocPop().");
0===arguments.length&&(bc=Tb.scopedAlloc[Kc]);for(Tb.scopedAlloc.splice(Kc,1);Kc=bc.pop();)vb.functionEntry(Kc)?vb.uninstallFunction(Kc):vb.dealloc(Kc)};vb.scopedAlloc=function(bc){Tb.scopedAlloc.length||fc("No scopedAllocPush() scope is active.");bc=vb.alloc(bc);Tb.scopedAlloc[Tb.scopedAlloc.length-1].push(bc);return bc};Object.defineProperty(vb.scopedAlloc,"level",{configurable:!1,enumerable:!1,get:()=>Tb.scopedAlloc.length,set:()=>fc("The 'active' property is read-only.")});vb.scopedAllocCString=
(bc,Kc=!1)=>jb(bc,Kc,vb.scopedAlloc,"scopedAllocCString()");const tb=function(bc,Kc){const Sc=vb[bc?"scopedAlloc":"alloc"]((Kc.length+1)*vb.ptrSizeof);let Ec=0;Kc.forEach(mc=>{vb.pokePtr(Sc+vb.ptrSizeof*Ec++,vb[bc?"scopedAllocCString":"allocCString"](""+mc))});vb.pokePtr(Sc+vb.ptrSizeof*Ec,0);return Sc};vb.scopedAllocMainArgv=bc=>tb(!0,bc);vb.allocMainArgv=bc=>tb(!1,bc);vb.cArgvToJs=(bc,Kc)=>{const Sc=[];for(let Ec=0;Ec<bc;++Ec){const mc=vb.peekPtr(Kc+vb.ptrSizeof*Ec);Sc.push(mc?vb.cstrToJs(mc):null)}return Sc};
vb.scopedAllocCall=function(bc){vb.scopedAllocPush();try{return bc()}finally{vb.scopedAllocPop()}};const Mb=function(bc,Kc,Sc){Cb(vb,Sc);const Ec=Kc?"i64":kc;Sc=vb[Sc](bc*(Kc?8:Fb));vb.poke(Sc,0,Ec);if(1===bc)return Sc;const mc=[Sc];for(let pc=1;pc<bc;++pc)Sc+=Kc?8:Fb,mc[pc]=Sc,vb.poke(Sc,0,Ec);return mc};vb.allocPtr=(bc=1,Kc=!0)=>Mb(bc,Kc,"alloc");vb.scopedAllocPtr=(bc=1,Kc=!0)=>Mb(bc,Kc,"scopedAlloc");vb.xGet=function(bc){return vb.exports[bc]||fc("Cannot find exported symbol:",bc)};const nc=(bc,
Kc)=>fc(bc+"() requires",Kc,"argument(s).");vb.xCall=function(bc,...Kc){const Sc=vb.xGet(bc);Sc instanceof Function||fc("Exported symbol",bc,"is not a function.");Sc.length!==Kc.length&&nc(bc,Sc.length);return 2===arguments.length&&Array.isArray(arguments[1])?Sc.apply(null,arguments[1]):Sc.apply(null,Kc)};Tb.xWrap=Object.create(null);Tb.xWrap.convert=Object.create(null);Tb.xWrap.convert.arg=new Map;Tb.xWrap.convert.result=new Map;const Gc=Tb.xWrap.convert.arg,Lc=Tb.xWrap.convert.result;vb.bigIntEnabled&&
Gc.set("i64",bc=>BigInt(bc));const rc="i32"===kc?bc=>bc|0:bc=>BigInt(bc)|BigInt(0);Gc.set("i32",rc).set("i16",bc=>(bc|0)&65535).set("i8",bc=>(bc|0)&255).set("f32",bc=>Number(bc).valueOf()).set("float",Gc.get("f32")).set("f64",Gc.get("f32")).set("double",Gc.get("f64")).set("int",Gc.get("i32")).set("null",bc=>bc).set(null,Gc.get("null")).set("**",rc).set("*",rc);Lc.set("*",rc).set("pointer",rc).set("number",bc=>Number(bc)).set("void",bc=>{}).set("null",bc=>bc).set(null,Lc.get("null"));var Yc="i8 i16 i32 int f32 float f64 double".split(" ");
vb.bigIntEnabled&&Yc.push("i64");const Wc=Gc.get(kc);for(const bc of Yc)Gc.set(bc+"*",Wc),Lc.set(bc+"*",Wc),Lc.set(bc,Gc.get(bc)||fc("Missing arg converter:",bc));Yc=function(bc){return"string"===typeof bc?vb.scopedAllocCString(bc):bc?rc(bc):null};Gc.set("string",Yc).set("utf8",Yc).set("pointer",Yc);Lc.set("string",bc=>vb.cstrToJs(bc)).set("utf8",Lc.get("string")).set("string:dealloc",bc=>{try{return bc?vb.cstrToJs(bc):null}finally{vb.dealloc(bc)}}).set("utf8:dealloc",Lc.get("string:dealloc")).set("json",
bc=>JSON.parse(vb.cstrToJs(bc))).set("json:dealloc",bc=>{try{return bc?JSON.parse(vb.cstrToJs(bc)):null}finally{vb.dealloc(bc)}});const zd=class{constructor(bc){this.name=bc.name||"unnamed adapter"}convertArg(bc,Kc,Sc){fc("AbstractArgAdapter must be subclassed.")}};Gc.FuncPtrAdapter=class bc extends zd{constructor(Kc){super(Kc);Gc.FuncPtrAdapter.warnOnUse&&console.warn("xArg.FuncPtrAdapter is an internal-only API","and is not intended to be invoked from","client-level code. Invoked with:",Kc);this.name=
Kc.name||"unnamed";this.signature=Kc.signature;Kc.contextKey instanceof Function&&(this.contextKey=Kc.contextKey,Kc.bindScope||(Kc.bindScope="context"));this.bindScope=Kc.bindScope||fc("FuncPtrAdapter options requires a bindScope (explicit or implied).");0>bc.bindScopes.indexOf(Kc.bindScope)&&fc("Invalid options.bindScope ("+Kc.bindMod+") for FuncPtrAdapter. Expecting one of: ("+bc.bindScopes.join(", ")+")");this.isTransient="transient"===this.bindScope;this.isContext="context"===this.bindScope;this.isPermanent=
"permanent"===this.bindScope;this.singleton="singleton"===this.bindScope?[]:void 0;this.callProxy=Kc.callProxy instanceof Function?Kc.callProxy:void 0}contextKey(Kc,Sc){return this}contextMap(Kc){const Sc=this.__cmap||(this.__cmap=new Map);let Ec=Sc.get(Kc);void 0===Ec&&Sc.set(Kc,Ec=[]);return Ec}convertArg(Kc,Sc,Ec){let mc=this.singleton;!mc&&this.isContext&&(mc=this.contextMap(this.contextKey(Sc,Ec)));if(mc&&mc[0]===Kc)return mc[1];if(Kc instanceof Function){this.callProxy&&(Kc=this.callProxy(Kc));
const pc=mb(Kc,this.signature,this.isTransient);bc.debugFuncInstall&&bc.debugOut("FuncPtrAdapter installed",this,this.contextKey(Sc,Ec),"@"+pc,Kc);if(mc){if(mc[1]){bc.debugFuncInstall&&bc.debugOut("FuncPtrAdapter uninstalling",this,this.contextKey(Sc,Ec),"@"+mc[1],Kc);try{Tb.scopedAlloc[Tb.scopedAlloc.length-1].push(mc[1])}catch(uc){}}mc[0]=Kc;mc[1]=pc}return pc}if(vb.isPtr(Kc)||null===Kc||void 0===Kc){if(mc&&mc[1]&&mc[1]!==Kc){bc.debugFuncInstall&&bc.debugOut("FuncPtrAdapter uninstalling",this,this.contextKey(Sc,
Ec),"@"+mc[1],Kc);try{Tb.scopedAlloc[Tb.scopedAlloc.length-1].push(mc[1])}catch(pc){}mc[0]=mc[1]=Kc|0}return Kc||0}throw new TypeError("Invalid FuncPtrAdapter argument type. Expecting a function pointer or a "+(this.name?this.name+" ":"")+"function matching signature "+this.signature+".");}};Gc.FuncPtrAdapter.warnOnUse=!1;Gc.FuncPtrAdapter.debugFuncInstall=!1;Gc.FuncPtrAdapter.debugOut=console.debug.bind(console);Gc.FuncPtrAdapter.bindScopes=["transient","context","singleton","permanent"];const Bd=
bc=>Gc.get(bc)||fc("Argument adapter not found:",bc),Zc=bc=>Lc.get(bc)||fc("Result adapter not found:",bc);Tb.xWrap.convertArg=(bc,...Kc)=>Bd(bc)(...Kc);Tb.xWrap.convertArgNoCheck=(bc,...Kc)=>Gc.get(bc)(...Kc);Tb.xWrap.convertResult=(bc,Kc)=>null===bc?Kc:bc?Zc(bc)(Kc):void 0;Tb.xWrap.convertResultNoCheck=(bc,Kc)=>null===bc?Kc:bc?Lc.get(bc)(Kc):void 0;vb.xWrap=function(bc,Kc,...Sc){3===arguments.length&&Array.isArray(arguments[2])&&(Sc=arguments[2]);vb.isPtr(bc)&&(bc=vb.functionEntry(bc)||fc("Function pointer not found in WASM function table."));
const Ec=bc instanceof Function,mc=Ec?bc:vb.xGet(bc);Ec&&(bc=mc.name||"unnamed function");Sc.length!==mc.length&&nc(bc,mc.length);if(null===Kc&&0===mc.length)return mc;void 0!==Kc&&null!==Kc&&Zc(Kc);for(const uc of Sc)uc instanceof zd?Gc.set(uc,(...Kb)=>uc.convertArg(...Kb)):Bd(uc);const pc=Tb.xWrap;return 0===mc.length?(...uc)=>uc.length?nc(bc,mc.length):pc.convertResult(Kc,mc.call(null)):function(...uc){uc.length!==mc.length&&nc(bc,mc.length);const Kb=vb.scopedAllocPush();try{for(const Cc in uc)uc[Cc]=
pc.convertArgNoCheck(Sc[Cc],uc[Cc],uc,Cc);return pc.convertResultNoCheck(Kc,mc.apply(null,uc))}finally{vb.scopedAllocPop(Kb)}}};const ub=function(bc,Kc,Sc,Ec,mc,pc){if("string"===typeof Sc){if(1===Kc)return pc.get(Sc);if(2===Kc){if(Ec)Ec instanceof Function||fc(mc,"requires a function argument.");else return delete pc[Sc],bc;pc.set(Sc,Ec);return bc}}fc("Invalid arguments to",mc)};vb.xWrap.resultAdapter=function Ec(Kc,Sc){return ub(Ec,arguments.length,Kc,Sc,"resultAdapter()",Lc)};vb.xWrap.argAdapter=
function mc(Sc,Ec){return ub(mc,arguments.length,Sc,Ec,"argAdapter()",Gc)};vb.xWrap.FuncPtrAdapter=Gc.FuncPtrAdapter;vb.xCallWrapped=function(Sc,Ec,mc,...pc){Array.isArray(arguments[3])&&(pc=arguments[3]);return vb.xWrap(Sc,Ec,mc||[]).apply(null,pc||[])};vb.xWrap.testConvertArg=Tb.xWrap.convertArg;vb.xWrap.testConvertResult=Tb.xWrap.convertResult;return vb};globalThis.WhWasmUtilInstaller.yawl=function(vb){const fc=this,kc=function(Fb){if(vb.wasmUtilTarget){const Tb=(...mb)=>{throw Error(mb.join(" "));
},Ib=vb.wasmUtilTarget;Ib.module=Fb.module;Ib.instance=Fb.instance;Ib.instance.exports.memory||(Ib.memory=vb.imports&&vb.imports.env&&vb.imports.env.memory||Tb("Missing 'memory' object!"));if(!Ib.alloc&&Fb.instance.exports.malloc){const mb=Fb.instance.exports;Ib.alloc=function(zb){return mb.malloc(zb)||Tb("Allocation of",zb,"bytes failed.")};Ib.dealloc=function(zb){mb.free(zb)}}fc(Ib)}if(vb.onload)vb.onload(Fb,vb);return Fb};return WebAssembly.instantiateStreaming?function(){return WebAssembly.instantiateStreaming(fetch(vb.uri,
{credentials:"same-origin"}),vb.imports||{}).then(kc)}:function(){return fetch(vb.uri,{credentials:"same-origin"}).then(Fb=>Fb.arrayBuffer()).then(Fb=>WebAssembly.instantiate(Fb,vb.imports||{})).then(kc)}}.bind(globalThis.WhWasmUtilInstaller);"use strict";globalThis.Jaccwabyt=function kc(fc){const Fb=(...fb)=>{throw Error(fb.join(" "));};fc.heap instanceof WebAssembly.Memory||fc.heap instanceof Function||Fb("config.heap must be WebAssembly.Memory instance or a function.");["alloc","dealloc"].forEach(function(fb){fc[fb]instanceof
Function||Fb("Config option '"+fb+"' must be a function.")});const Tb=fc.heap instanceof Function?fc.heap:()=>new Uint8Array(fc.heap.buffer),Ib=fc.alloc,mb=fc.dealloc,zb=fc.log||console.log.bind(console),Cb=fc.memberPrefix||"",jb=fc.memberSuffix||"",tb=void 0===fc.bigIntEnabled?!!globalThis.BigInt64Array:!!fc.bigIntEnabled,Mb=globalThis.BigInt;var nc=globalThis.BigInt64Array;const Gc=fc.ptrSizeof||4,Lc=fc.ptrIR||"i32";kc.debugFlags||(kc.__makeDebugFlags=function(fb=null){fb&&fb.__flags&&(fb=fb.__flags);
const Ua=function Tc(Gb){if(0===arguments.length)return Tc.__flags;0>Gb?(delete Tc.__flags.getter,delete Tc.__flags.setter,delete Tc.__flags.alloc,delete Tc.__flags.dealloc):(Tc.__flags.getter=0!==(1&Gb),Tc.__flags.setter=0!==(2&Gb),Tc.__flags.alloc=0!==(4&Gb),Tc.__flags.dealloc=0!==(8&Gb));return Tc._flags};Object.defineProperty(Ua,"__flags",{iterable:!1,writable:!1,value:Object.create(fb)});fb||Ua(0);return Ua},kc.debugFlags=kc.__makeDebugFlags());const rc=function(){const fb=new ArrayBuffer(2);
(new DataView(fb)).setInt16(0,256,!0);return 256===(new Int16Array(fb))[0]}(),Yc=fb=>"("===fb[1]?"p":fb[0],Wc=function(fb){switch(Yc(fb)){case "c":case "C":return"i8";case "i":return"i32";case "p":case "P":case "s":return Lc;case "j":return"i64";case "f":return"float";case "d":return"double"}Fb("Unhandled signature IR:",fb)},zd=nc?()=>!0:()=>Fb("BigInt64Array is not available."),Bd=function(fb){switch(Yc(fb)){case "p":case "P":case "s":switch(Gc){case 4:return"getInt32";case 8:return zd()&&"getBigInt64"}break;
case "i":return"getInt32";case "c":return"getInt8";case "C":return"getUint8";case "j":return zd()&&"getBigInt64";case "f":return"getFloat32";case "d":return"getFloat64"}Fb("Unhandled DataView getter for signature:",fb)},Zc=function(fb){switch(Yc(fb)){case "p":case "P":case "s":switch(Gc){case 4:return"setInt32";case 8:return zd()&&"setBigInt64"}break;case "i":return"setInt32";case "c":return"setInt8";case "C":return"setUint8";case "j":return zd()&&"setBigInt64";case "f":return"setFloat32";case "d":return"setFloat64"}Fb("Unhandled DataView setter for signature:",
fb)},ub=function(fb){switch(Yc(fb)){case "i":case "f":case "c":case "C":case "d":return Number;case "j":return zd()&&Mb;case "p":case "P":case "s":switch(Gc){case 4:return Number;case 8:return zd()&&Mb}}Fb("Unhandled DataView set wrapper for signature:",fb)},Ac=function(fb,Ua){return()=>Fb(fb+"::"+Ua,"is read-only.")},bc=new WeakMap,Kc=function(fb,Ua,pb){pb||=bc.get(Ua);if(pb){bc.delete(Ua);if(Array.isArray(Ua.ondispose)){let Gb;for(;Gb=Ua.ondispose.shift();)try{Gb instanceof Function?Gb.call(Ua):
Gb instanceof Yb?Gb.dispose():"number"===typeof Gb&&mb(Gb)}catch(Tc){console.warn("ondispose() for",fb.structName,"@",pb,"threw. NOT propagating it.",Tc)}}else if(Ua.ondispose instanceof Function)try{Ua.ondispose()}catch(Gb){console.warn("ondispose() for",fb.structName,"@",pb,"threw. NOT propagating it.",Gb)}delete Ua.ondispose;fb.debugFlags.__flags.dealloc&&zb("debug.dealloc:",Ua["(pointer-is-external)"]?"EXTERNAL":"",fb.structName,"instance:",fb.structInfo.sizeof,"bytes @"+pb);Ua["(pointer-is-external)"]||
mb(pb)}},Sc=fb=>({configurable:!1,writable:!1,iterable:!1,value:fb}),Ec=function(fb,Ua,pb){let Gb=!pb;pb?Object.defineProperty(Ua,"(pointer-is-external)",Sc(pb)):(pb=Ib(fb.structInfo.sizeof))||Fb("Allocation of",fb.structName,"structure failed.");try{fb.debugFlags.__flags.alloc&&zb("debug.alloc:",Gb?"":"EXTERNAL",fb.structName,"instance:",fb.structInfo.sizeof,"bytes @"+pb),Gb&&Tb().fill(0,pb,pb+fb.structInfo.sizeof),bc.set(Ua,pb)}catch(Tc){throw Kc(fb,Ua,pb),Tc;}},mc=Sc(fb=>Cb+fb+jb),pc=function(fb,
Ua,pb=!0){let Gb=fb.members[Ua];if(!Gb&&(Cb||jb)){for(const Tc of Object.values(fb.members))if(Tc.key===Ua){Gb=Tc;break}!Gb&&pb&&Fb(fb.name+"::"+Ua,"is not a mapped struct member.")}return Gb},uc=function Tc(Ua,pb,Gb=!1){Tc._||(Tc._=nd=>nd.replace(/[^vipPsjrdcC]/g,"").replace(/[pPscC]/g,"i"));Ua=pc(Ua.structInfo,pb,!0);return Gb?Tc._(Ua.signature):Ua.signature},Kb=Sc(function(){const Ua=[];for(const pb of Object.keys(this.structInfo.members))Ua.push(this.memberKey(pb));return Ua}),Cc=new TextDecoder("utf-8"),
$b=new TextEncoder,ob="undefined"===typeof SharedArrayBuffer?function(){}:SharedArrayBuffer,wb=function(Ua,pb,Gb=!1){return(Ua=pc(Ua.structInfo,pb,Gb))&&1===Ua.signature.length&&"s"===Ua.signature[0]?Ua:!1},Sa=function(Ua){"s"!==Ua.signature&&Fb("Invalid member type signature for C-string value:",JSON.stringify(Ua))},Hb=function(Ua,...pb){Ua.ondispose?Array.isArray(Ua.ondispose)||(Ua.ondispose=[Ua.ondispose]):Ua.ondispose=[];Ua.ondispose.push(...pb)},Jb=function(Ua){const pb=$b.encode(Ua),Gb=Ib(pb.length+
1);Gb||Fb("Allocation error while duplicating string:",Ua);Ua=Tb();Ua.set(pb,Gb);Ua[Gb+pb.length]=0;return Gb},Yb=function(Ua,pb,Gb){Gb!==Sc&&Fb("Do not call the StructType constructor","from client-level code.");Object.defineProperties(this,{structName:Sc(Ua),structInfo:Sc(pb)})};Yb.prototype=Object.create(null,{dispose:Sc(function(){Kc(this.constructor,this)}),lookupMember:Sc(function(Ua,pb=!0){return pc(this.structInfo,Ua,pb)}),memberToJsString:Sc(function(Ua){Ua=pc(this.structInfo,Ua,!0);Sa(Ua);
var pb=this[Ua.key];if(pb){var Gb=pb;for(Ua=Tb();0!==Ua[Gb];++Gb);Ua=pb===Gb?"":Cc.decode(Ua.buffer instanceof ob?Ua.slice(pb,Gb):Ua.subarray(pb,Gb))}else Ua=null;return Ua}),memberIsString:Sc(function(Ua,pb=!0){return wb(this,Ua,pb)}),memberKey:mc,memberKeys:Kb,memberSignature:Sc(function(Ua,pb=!1){return uc(this,Ua,pb)}),memoryDump:Sc(function(){const Ua=this.pointer;return Ua?new Uint8Array(Tb().slice(Ua,Ua+this.structInfo.sizeof)):null}),pointer:{configurable:!1,enumerable:!1,get:function(){return bc.get(this)},
set:()=>Fb("Cannot assign the 'pointer' property of a struct.")},setMemberCString:Sc(function(Ua,pb){Ua=pc(this.structInfo,Ua,!0);Sa(Ua);pb=Jb(pb);this[Ua.key]=pb;Hb(this,pb);return this})});Object.assign(Yb.prototype,{addOnDispose:function(...Ua){Hb(this,...Ua);return this}});Object.defineProperties(Yb,{allocCString:Sc(Jb),isA:Sc(Ua=>Ua instanceof Yb),hasExternalPointer:Sc(Ua=>Ua instanceof Yb&&!!Ua["(pointer-is-external)"]),memberKey:mc});const Ic=Ua=>Number.isFinite(Ua)||Ua instanceof(Mb||Number),
db=function nd(pb,Gb,Tc){if(!nd._){nd._={getters:{},setters:{},sw:{}};var wd="i c C p P s f d v()".split(" ");tb&&wd.push("j");wd.forEach(function(wc){nd._.getters[wc]=Bd(wc);nd._.setters[wc]=Zc(wc);nd._.sw[wc]=ub(wc)});const Ed=/^[ipPsjfdcC]$/,Ub=/^[vipPsjfdcC]\([ipPsjfdcC]*\)$/;nd.sigCheck=function(wc,Vc,gb,wa){Object.prototype.hasOwnProperty.call(wc,gb)&&Fb(wc.structName,"already has a property named",gb+".");Ed.test(wa)||Ub.test(wa)||Fb("Malformed signature for",wc.structName+"::"+Vc+":",wa)}}wd=
pb.memberKey(Gb);nd.sigCheck(pb.prototype,Gb,wd,Tc.signature);Tc.key=wd;Tc.name=Gb;const Rd=Yc(Tc.signature),de=pb.prototype.structName+"::"+wd,be=pb.prototype.debugFlags.__flags;Gb=Object.create(null);Gb.configurable=!1;Gb.enumerable=!1;Gb.get=function(){be.getter&&zb("debug.getter:",nd._.getters[Rd],"for",Wc(Rd),de,"@",this.pointer,"+",Tc.offset,"sz",Tc.sizeof);let Ed=(new DataView(Tb().buffer,this.pointer+Tc.offset,Tc.sizeof))[nd._.getters[Rd]](0,rc);be.getter&&zb("debug.getter:",de,"result \x3d",
Ed);return Ed};Gb.set=Tc.readOnly?Ac(pb.prototype.structName,wd):function(Ed){be.setter&&zb("debug.setter:",nd._.setters[Rd],"for",Wc(Rd),de,"@",this.pointer,"+",Tc.offset,"sz",Tc.sizeof,Ed);this.pointer||Fb("Cannot set struct property on disposed instance.");if(null===Ed)Ed=0;else for(;!Ic(Ed);){if("P"===Tc.signature&&Ed instanceof Yb){Ed=Ed.pointer||0;be.setter&&zb("debug.setter:",de,"resolved to",Ed);break}Fb("Invalid value for pointer-type",de+".")}(new DataView(Tb().buffer,this.pointer+Tc.offset,
Tc.sizeof))[nd._.setters[Rd]](0,nd._.sw[Rd](Ed),rc)};Object.defineProperty(pb.prototype,wd,Gb)};nc=function nd(Gb,Tc){1===arguments.length?(Tc=Gb,Gb=Tc.name):Tc.name||(Tc.name=Gb);Gb||Fb("Struct name is required.");let wd=!1;Object.keys(Tc.members).forEach(be=>{const Ed=Tc.members[be];Ed.sizeof?1===Ed.sizeof?"c"===Ed.signature||"C"===Ed.signature||Fb("Unexpected sizeof\x3d\x3d1 member",Tc.name+"::"+be,"with signature",Ed.signature):(0!==Ed.sizeof%4&&(console.warn("Invalid struct member description \x3d",
Ed,"from",Tc),Fb(Gb,"member",be,"sizeof is not aligned. sizeof\x3d"+Ed.sizeof)),0!==Ed.offset%4&&(console.warn("Invalid struct member description \x3d",Ed,"from",Tc),Fb(Gb,"member",be,"offset is not aligned. offset\x3d"+Ed.offset))):Fb(Gb,"member",be,"is missing sizeof.");if(!wd||wd.offset<Ed.offset)wd=Ed});wd?Tc.sizeof<wd.offset+wd.sizeof&&Fb("Invalid struct config:",Gb,"max member offset ("+wd.offset+") ","extends past end of struct (sizeof\x3d"+Tc.sizeof+")."):Fb("No member property descriptions found.");
const Rd=Sc(kc.__makeDebugFlags(nd.debugFlags)),de=function Ub(Ed){this instanceof Ub?arguments.length?((Ed!==(Ed|0)||0>=Ed)&&Fb("Invalid pointer value for",Gb,"constructor."),Ec(Ub,this,Ed)):Ec(Ub,this):Fb("The",Gb,"constructor may only be called via 'new'.")};Object.defineProperties(de,{debugFlags:Rd,isA:Sc(Ed=>Ed instanceof de),memberKey:mc,memberKeys:Kb,methodInfoForKey:Sc(function(Ed){}),structInfo:Sc(Tc),structName:Sc(Gb)});de.prototype=new Yb(Gb,Tc,Sc);Object.defineProperties(de.prototype,
{debugFlags:Rd,constructor:Sc(de)});Object.keys(Tc.members).forEach(Ed=>db(de,Ed,Tc.members[Ed]));return de};nc.StructType=Yb;nc.config=fc;nc.allocCString=Jb;nc.debugFlags||(nc.debugFlags=kc.__makeDebugFlags(kc.debugFlags));return nc};globalThis.sqlite3ApiBootstrap.initializers.push(function(fc){const kc=(...uc)=>{throw Error(uc.join(" "));},Fb=fc.capi,Tb=fc.wasm,Ib=fc.util;globalThis.WhWasmUtilInstaller(Tb);delete globalThis.WhWasmUtilInstaller;Tb.bindingSignatures=[["sqlite3_aggregate_context",
"void*","sqlite3_context*","int"],["sqlite3_bind_double","int","sqlite3_stmt*","int","f64"],["sqlite3_bind_int","int","sqlite3_stmt*","int","int"],["sqlite3_bind_null",void 0,"sqlite3_stmt*","int"],["sqlite3_bind_parameter_count","int","sqlite3_stmt*"],["sqlite3_bind_parameter_index","int","sqlite3_stmt*","string"],"sqlite3_bind_pointer int sqlite3_stmt* int * string:static *".split(" "),["sqlite3_busy_handler","int",["sqlite3*",new Tb.xWrap.FuncPtrAdapter({signature:"i(pi)",contextKey:(uc,Kb)=>uc[0]}),
"*"]],["sqlite3_busy_timeout","int","sqlite3*","int"],["sqlite3_changes","int","sqlite3*"],["sqlite3_clear_bindings","int","sqlite3_stmt*"],["sqlite3_collation_needed","int","sqlite3*","*","*"],["sqlite3_column_blob","*","sqlite3_stmt*","int"],["sqlite3_column_bytes","int","sqlite3_stmt*","int"],["sqlite3_column_count","int","sqlite3_stmt*"],["sqlite3_column_double","f64","sqlite3_stmt*","int"],["sqlite3_column_int","int","sqlite3_stmt*","int"],["sqlite3_column_name","string","sqlite3_stmt*","int"],
["sqlite3_column_text","string","sqlite3_stmt*","int"],["sqlite3_column_type","int","sqlite3_stmt*","int"],["sqlite3_column_value","sqlite3_value*","sqlite3_stmt*","int"],["sqlite3_commit_hook","void*",["sqlite3*",new Tb.xWrap.FuncPtrAdapter({name:"sqlite3_commit_hook",signature:"i(p)",contextKey:uc=>uc[0]}),"*"]],["sqlite3_compileoption_get","string","int"],["sqlite3_compileoption_used","int","string"],["sqlite3_complete","int","string:flexible"],["sqlite3_context_db_handle","sqlite3*","sqlite3_context*"],
["sqlite3_data_count","int","sqlite3_stmt*"],["sqlite3_db_filename","string","sqlite3*","string"],["sqlite3_db_handle","sqlite3*","sqlite3_stmt*"],["sqlite3_db_name","string","sqlite3*","int"],"sqlite3_db_status int sqlite3* int * * int".split(" "),["sqlite3_errcode","int","sqlite3*"],["sqlite3_errmsg","string","sqlite3*"],["sqlite3_error_offset","int","sqlite3*"],["sqlite3_errstr","string","int"],["sqlite3_exec","int",["sqlite3*","string:flexible",new Tb.xWrap.FuncPtrAdapter({signature:"i(pipp)",
bindScope:"transient",callProxy:uc=>{let Kb;return(Cc,$b,ob,wb)=>{try{const Sa=Tb.cArgvToJs($b,ob);Kb||=Tb.cArgvToJs($b,wb);return uc(Sa,Kb)|0}catch(Sa){return Sa.resultCode||Fb.SQLITE_ERROR}}}}),"*","**"]],["sqlite3_expanded_sql","string","sqlite3_stmt*"],["sqlite3_extended_errcode","int","sqlite3*"],["sqlite3_extended_result_codes","int","sqlite3*","int"],"sqlite3_file_control int sqlite3* string int *".split(" "),["sqlite3_finalize","int","sqlite3_stmt*"],["sqlite3_free",void 0,"*"],["sqlite3_get_auxdata",
"*","sqlite3_context*","int"],["sqlite3_initialize",void 0],["sqlite3_keyword_count","int"],["sqlite3_keyword_name","int",["int","**","*"]],["sqlite3_keyword_check","int",["string","int"]],["sqlite3_libversion","string"],["sqlite3_libversion_number","int"],["sqlite3_limit","int",["sqlite3*","int","int"]],["sqlite3_malloc","*","int"],["sqlite3_open","int","string","*"],"sqlite3_open_v2 int string * int string".split(" "),["sqlite3_progress_handler",void 0,["sqlite3*","int",new Tb.xWrap.FuncPtrAdapter({name:"xProgressHandler",
signature:"i(p)",bindScope:"context",contextKey:(uc,Kb)=>uc[0]}),"*"]],["sqlite3_realloc","*","*","int"],["sqlite3_reset","int","sqlite3_stmt*"],["sqlite3_result_blob",void 0,"sqlite3_context*","*","int","*"],["sqlite3_result_double",void 0,"sqlite3_context*","f64"],["sqlite3_result_error",void 0,"sqlite3_context*","string","int"],["sqlite3_result_error_code",void 0,"sqlite3_context*","int"],["sqlite3_result_error_nomem",void 0,"sqlite3_context*"],["sqlite3_result_error_toobig",void 0,"sqlite3_context*"],
["sqlite3_result_int",void 0,"sqlite3_context*","int"],["sqlite3_result_null",void 0,"sqlite3_context*"],["sqlite3_result_pointer",void 0,"sqlite3_context*","*","string:static","*"],["sqlite3_result_subtype",void 0,"sqlite3_value*","int"],["sqlite3_result_text",void 0,"sqlite3_context*","string","int","*"],["sqlite3_result_zeroblob",void 0,"sqlite3_context*","int"],["sqlite3_rollback_hook","void*",["sqlite3*",new Tb.xWrap.FuncPtrAdapter({name:"sqlite3_rollback_hook",signature:"v(p)",contextKey:uc=>
uc[0]}),"*"]],["sqlite3_set_authorizer","int",["sqlite3*",new Tb.xWrap.FuncPtrAdapter({name:"sqlite3_set_authorizer::xAuth",signature:"i(pissss)",contextKey:(uc,Kb)=>uc[0],callProxy:uc=>(Kb,Cc,$b,ob,wb,Sa)=>{try{return $b=$b&&Tb.cstrToJs($b),ob=ob&&Tb.cstrToJs(ob),wb=wb&&Tb.cstrToJs(wb),Sa=Sa&&Tb.cstrToJs(Sa),uc(Kb,Cc,$b,ob,wb,Sa)||0}catch(Hb){return Hb.resultCode||Fb.SQLITE_ERROR}}}),"*"]],["sqlite3_set_auxdata",void 0,["sqlite3_context*","int","*",new Tb.xWrap.FuncPtrAdapter({name:"xDestroyAuxData",
signature:"v(*)",contextKey:(uc,Kb)=>uc[0]})]],["sqlite3_shutdown",void 0],["sqlite3_sourceid","string"],["sqlite3_sql","string","sqlite3_stmt*"],"sqlite3_status int int * * int".split(" "),["sqlite3_step","int","sqlite3_stmt*"],["sqlite3_stmt_isexplain","int",["sqlite3_stmt*"]],["sqlite3_stmt_readonly","int",["sqlite3_stmt*"]],["sqlite3_stmt_status","int","sqlite3_stmt*","int","int"],["sqlite3_strglob","int","string","string"],["sqlite3_stricmp","int","string","string"],["sqlite3_strlike","int",
"string","string","int"],["sqlite3_strnicmp","int","string","string","int"],"sqlite3_table_column_metadata int sqlite3* string string string ** ** * * *".split(" "),["sqlite3_total_changes","int","sqlite3*"],["sqlite3_trace_v2","int",["sqlite3*","int",new Tb.xWrap.FuncPtrAdapter({name:"sqlite3_trace_v2::callback",signature:"i(ippp)",contextKey:(uc,Kb)=>uc[0]}),"*"]],["sqlite3_txn_state","int",["sqlite3*","string"]],["sqlite3_uri_boolean","int","sqlite3_filename","string","int"],["sqlite3_uri_key",
"string","sqlite3_filename","int"],["sqlite3_uri_parameter","string","sqlite3_filename","string"],["sqlite3_user_data","void*","sqlite3_context*"],["sqlite3_value_blob","*","sqlite3_value*"],["sqlite3_value_bytes","int","sqlite3_value*"],["sqlite3_value_double","f64","sqlite3_value*"],["sqlite3_value_dup","sqlite3_value*","sqlite3_value*"],["sqlite3_value_free",void 0,"sqlite3_value*"],["sqlite3_value_frombind","int","sqlite3_value*"],["sqlite3_value_int","int","sqlite3_value*"],["sqlite3_value_nochange",
"int","sqlite3_value*"],["sqlite3_value_numeric_type","int","sqlite3_value*"],["sqlite3_value_pointer","*","sqlite3_value*","string:static"],["sqlite3_value_subtype","int","sqlite3_value*"],["sqlite3_value_text","string","sqlite3_value*"],["sqlite3_value_type","int","sqlite3_value*"],["sqlite3_vfs_find","*","string"],["sqlite3_vfs_register","int","sqlite3_vfs*","int"],["sqlite3_vfs_unregister","int","sqlite3_vfs*"]];Tb.exports.sqlite3_activate_see instanceof Function&&Tb.bindingSignatures.push(["sqlite3_key",
"int","sqlite3*","string","int"],"sqlite3_key_v2 int sqlite3* string * int".split(" "),["sqlite3_rekey","int","sqlite3*","string","int"],"sqlite3_rekey_v2 int sqlite3* string * int".split(" "),["sqlite3_activate_see",void 0,"string"]);Tb.bindingSignatures.int64=[["sqlite3_bind_int64","int",["sqlite3_stmt*","int","i64"]],["sqlite3_changes64","i64",["sqlite3*"]],["sqlite3_column_int64","i64",["sqlite3_stmt*","int"]],["sqlite3_create_module","int",["sqlite3*","string","sqlite3_module*","*"]],["sqlite3_create_module_v2",
"int",["sqlite3*","string","sqlite3_module*","*","*"]],["sqlite3_declare_vtab","int",["sqlite3*","string:flexible"]],"sqlite3_deserialize int sqlite3* string * i64 i64 int".split(" "),["sqlite3_drop_modules","int",["sqlite3*","**"]],["sqlite3_last_insert_rowid","i64",["sqlite3*"]],["sqlite3_malloc64","*","i64"],["sqlite3_msize","i64","*"],["sqlite3_overload_function","int",["sqlite3*","string","int"]],["sqlite3_preupdate_blobwrite","int","sqlite3*"],["sqlite3_preupdate_count","int","sqlite3*"],["sqlite3_preupdate_depth",
"int","sqlite3*"],["sqlite3_preupdate_hook","*",["sqlite3*",new Tb.xWrap.FuncPtrAdapter({name:"sqlite3_preupdate_hook",signature:"v(ppippjj)",contextKey:uc=>uc[0],callProxy:uc=>(Kb,Cc,$b,ob,wb,Sa,Hb)=>{uc(Kb,Cc,$b,Tb.cstrToJs(ob),Tb.cstrToJs(wb),Sa,Hb)}}),"*"]],["sqlite3_preupdate_new","int",["sqlite3*","int","**"]],["sqlite3_preupdate_old","int",["sqlite3*","int","**"]],["sqlite3_realloc64","*","*","i64"],["sqlite3_result_int64",void 0,"*","i64"],["sqlite3_result_zeroblob64","int","*","i64"],"sqlite3_serialize * sqlite3* string * int".split(" "),
["sqlite3_set_last_insert_rowid",void 0,["sqlite3*","i64"]],"sqlite3_status64 int int * * int".split(" "),["sqlite3_total_changes64","i64",["sqlite3*"]],["sqlite3_update_hook","*",["sqlite3*",new Tb.xWrap.FuncPtrAdapter({name:"sqlite3_update_hook",signature:"v(iippj)",contextKey:uc=>uc[0],callProxy:uc=>(Kb,Cc,$b,ob,wb)=>{uc(Kb,Cc,Tb.cstrToJs($b),Tb.cstrToJs(ob),wb)}}),"*"]],["sqlite3_uri_int64","i64",["sqlite3_filename","string","i64"]],["sqlite3_value_int64","i64","sqlite3_value*"],["sqlite3_vtab_collation",
"string","sqlite3_index_info*","int"],["sqlite3_vtab_distinct","int","sqlite3_index_info*"],["sqlite3_vtab_in","int","sqlite3_index_info*","int","int"],["sqlite3_vtab_in_first","int","sqlite3_value*","**"],["sqlite3_vtab_in_next","int","sqlite3_value*","**"],["sqlite3_vtab_nochange","int","sqlite3_context*"],["sqlite3_vtab_on_conflict","int","sqlite3*"],["sqlite3_vtab_rhs_value","int","sqlite3_index_info*","int","**"]];if(Tb.bigIntEnabled&&Tb.exports.sqlite3changegroup_add){var mb={signature:"i(ps)",
callProxy:uc=>(Kb,Cc)=>{try{return uc(Kb,Tb.cstrToJs(Cc))|0}catch($b){return $b.resultCode||Fb.SQLITE_ERROR}}};Tb.bindingSignatures.int64.push(...[["sqlite3changegroup_add","int",["sqlite3_changegroup*","int","void*"]],["sqlite3changegroup_add_strm","int",["sqlite3_changegroup*",new Tb.xWrap.FuncPtrAdapter({name:"xInput",signature:"i(ppp)",bindScope:"transient"}),"void*"]],["sqlite3changegroup_delete",void 0,["sqlite3_changegroup*"]],["sqlite3changegroup_new","int",["**"]],["sqlite3changegroup_output",
"int",["sqlite3_changegroup*","int*","**"]],["sqlite3changegroup_output_strm","int",["sqlite3_changegroup*",new Tb.xWrap.FuncPtrAdapter({name:"xOutput",signature:"i(ppi)",bindScope:"transient"}),"void*"]],["sqlite3changeset_apply","int",["sqlite3*","int","void*",new Tb.xWrap.FuncPtrAdapter({name:"xFilter",bindScope:"transient",...mb}),new Tb.xWrap.FuncPtrAdapter({name:"xConflict",signature:"i(pip)",bindScope:"transient"}),"void*"]],["sqlite3changeset_apply_strm","int",["sqlite3*",new Tb.xWrap.FuncPtrAdapter({name:"xInput",
signature:"i(ppp)",bindScope:"transient"}),"void*",new Tb.xWrap.FuncPtrAdapter({name:"xFilter",bindScope:"transient",...mb}),new Tb.xWrap.FuncPtrAdapter({name:"xConflict",signature:"i(pip)",bindScope:"transient"}),"void*"]],["sqlite3changeset_apply_v2","int",["sqlite3*","int","void*",new Tb.xWrap.FuncPtrAdapter({name:"xFilter",bindScope:"transient",...mb}),new Tb.xWrap.FuncPtrAdapter({name:"xConflict",signature:"i(pip)",bindScope:"transient"}),"void*","**","int*","int"]],["sqlite3changeset_apply_v2_strm",
"int",["sqlite3*",new Tb.xWrap.FuncPtrAdapter({name:"xInput",signature:"i(ppp)",bindScope:"transient"}),"void*",new Tb.xWrap.FuncPtrAdapter({name:"xFilter",bindScope:"transient",...mb}),new Tb.xWrap.FuncPtrAdapter({name:"xConflict",signature:"i(pip)",bindScope:"transient"}),"void*","**","int*","int"]],["sqlite3changeset_concat","int","int void* int void* int* **".split(" ")],["sqlite3changeset_concat_strm","int",[new Tb.xWrap.FuncPtrAdapter({name:"xInputA",signature:"i(ppp)",bindScope:"transient"}),
"void*",new Tb.xWrap.FuncPtrAdapter({name:"xInputB",signature:"i(ppp)",bindScope:"transient"}),"void*",new Tb.xWrap.FuncPtrAdapter({name:"xOutput",signature:"i(ppi)",bindScope:"transient"}),"void*"]],["sqlite3changeset_conflict","int",["sqlite3_changeset_iter*","int","**"]],["sqlite3changeset_finalize","int",["sqlite3_changeset_iter*"]],["sqlite3changeset_fk_conflicts","int",["sqlite3_changeset_iter*","int*"]],["sqlite3changeset_invert","int",["int","void*","int*","**"]],["sqlite3changeset_invert_strm",
"int",[new Tb.xWrap.FuncPtrAdapter({name:"xInput",signature:"i(ppp)",bindScope:"transient"}),"void*",new Tb.xWrap.FuncPtrAdapter({name:"xOutput",signature:"i(ppi)",bindScope:"transient"}),"void*"]],["sqlite3changeset_new","int",["sqlite3_changeset_iter*","int","**"]],["sqlite3changeset_next","int",["sqlite3_changeset_iter*"]],["sqlite3changeset_old","int",["sqlite3_changeset_iter*","int","**"]],["sqlite3changeset_op","int",["sqlite3_changeset_iter*","**","int*","int*","int*"]],["sqlite3changeset_pk",
"int",["sqlite3_changeset_iter*","**","int*"]],["sqlite3changeset_start","int",["**","int","*"]],["sqlite3changeset_start_strm","int",["**",new Tb.xWrap.FuncPtrAdapter({name:"xInput",signature:"i(ppp)",bindScope:"transient"}),"void*"]],["sqlite3changeset_start_v2","int",["**","int","*","int"]],["sqlite3changeset_start_v2_strm","int",["**",new Tb.xWrap.FuncPtrAdapter({name:"xInput",signature:"i(ppp)",bindScope:"transient"}),"void*","int"]],["sqlite3session_attach","int",["sqlite3_session*","string"]],
["sqlite3session_changeset","int",["sqlite3_session*","int*","**"]],["sqlite3session_changeset_size","i64",["sqlite3_session*"]],["sqlite3session_changeset_strm","int",["sqlite3_session*",new Tb.xWrap.FuncPtrAdapter({name:"xOutput",signature:"i(ppp)",bindScope:"transient"}),"void*"]],["sqlite3session_config","int",["int","void*"]],["sqlite3session_create","int",["sqlite3*","string","**"]],["sqlite3session_diff","int",["sqlite3_session*","string","string","**"]],["sqlite3session_enable","int",["sqlite3_session*",
"int"]],["sqlite3session_indirect","int",["sqlite3_session*","int"]],["sqlite3session_isempty","int",["sqlite3_session*"]],["sqlite3session_memory_used","i64",["sqlite3_session*"]],["sqlite3session_object_config","int",["sqlite3_session*","int","void*"]],["sqlite3session_patchset","int",["sqlite3_session*","*","**"]],["sqlite3session_patchset_strm","int",["sqlite3_session*",new Tb.xWrap.FuncPtrAdapter({name:"xOutput",signature:"i(ppp)",bindScope:"transient"}),"void*"]],["sqlite3session_table_filter",
void 0,["sqlite3_session*",new Tb.xWrap.FuncPtrAdapter({name:"xFilter",...mb,contextKey:(uc,Kb)=>uc[0]}),"*"]]])}Tb.bindingSignatures.wasm=[["sqlite3_wasm_db_reset","int","sqlite3*"],["sqlite3_wasm_db_vfs","sqlite3_vfs*","sqlite3*","string"],"sqlite3_wasm_vfs_create_file int sqlite3_vfs* string * int".split(" "),["sqlite3_wasm_posix_create_file","int","string","*","int"],["sqlite3_wasm_vfs_unlink","int","sqlite3_vfs*","string"]];fc.StructBinder=globalThis.Jaccwabyt({heap:Tb.heap8u,alloc:Tb.alloc,
dealloc:Tb.dealloc,bigIntEnabled:Tb.bigIntEnabled,memberPrefix:"$"});delete globalThis.Jaccwabyt;const zb=Tb.xWrap.argAdapter("string");Tb.xWrap.argAdapter("string:flexible",uc=>zb(Ib.flexibleString(uc)));Tb.xWrap.argAdapter("string:static",function(uc){if(Tb.isPtr(uc))return uc;uc=""+uc;return this[uc]||(this[uc]=Tb.allocCString(uc))}.bind(Object.create(null)));const Cb=Tb.xWrap.argAdapter("*"),jb=function(){};Tb.xWrap.argAdapter("sqlite3_filename",Cb)("sqlite3_context*",Cb)("sqlite3_value*",Cb)("void*",
Cb)("sqlite3_changegroup*",Cb)("sqlite3_changeset_iter*",Cb)("sqlite3_session*",Cb)("sqlite3_stmt*",uc=>{var Kb;return Cb(uc instanceof((null===fc||void 0===fc?void 0:null===(Kb=fc.oo1)||void 0===Kb?void 0:Kb.Stmt)||jb)?uc.pointer:uc)})("sqlite3*",uc=>{var Kb;return Cb(uc instanceof((null===fc||void 0===fc?void 0:null===(Kb=fc.oo1)||void 0===Kb?void 0:Kb.DB)||jb)?uc.pointer:uc)})("sqlite3_index_info*",uc=>Cb(uc instanceof(Fb.sqlite3_index_info||jb)?uc.pointer:uc))("sqlite3_module*",uc=>Cb(uc instanceof
(Fb.sqlite3_module||jb)?uc.pointer:uc))("sqlite3_vfs*",uc=>"string"===typeof uc?Fb.sqlite3_vfs_find(uc)||fc.SQLite3Error.toss(Fb.SQLITE_NOTFOUND,"Unknown sqlite3_vfs name:",uc):Cb(uc instanceof(Fb.sqlite3_vfs||jb)?uc.pointer:uc));mb=Tb.xWrap.resultAdapter("*");Tb.xWrap.resultAdapter("sqlite3*",mb)("sqlite3_context*",mb)("sqlite3_stmt*",mb)("sqlite3_value*",mb)("sqlite3_vfs*",mb)("void*",mb);0===Tb.exports.sqlite3_step.length&&(Tb.xWrap.doArgcCheck=!1,fc.config.warn("Disabling sqlite3.wasm.xWrap.doArgcCheck due to environmental quirks."));
for(var tb of Tb.bindingSignatures)Fb[tb[0]]=Tb.xWrap.apply(null,tb);for(const uc of Tb.bindingSignatures.wasm)Tb[uc[0]]=Tb.xWrap.apply(null,uc);tb=function(uc){return()=>kc(uc+"() is unavailable due to lack","of BigInt support in this build.")};for(var Mb of Tb.bindingSignatures.int64)Fb[Mb[0]]=Tb.bigIntEnabled?Tb.xWrap.apply(null,Mb):tb(Mb[0]);delete Tb.bindingSignatures;if(Tb.exports.sqlite3_wasm_db_error){const uc=Tb.xWrap("sqlite3_wasm_db_error","int","sqlite3*","int","string");Ib.sqlite3_wasm_db_error=
function(Kb,Cc,$b){Cc instanceof fc.WasmAllocError?(Cc=Fb.SQLITE_NOMEM,$b=0):Cc instanceof Error&&($b=$b||""+Cc,Cc=Cc.resultCode||Fb.SQLITE_ERROR);return Kb?uc(Kb,Cc,$b):Cc}}else Ib.sqlite3_wasm_db_error=function(uc,Kb,Cc){console.warn("sqlite3_wasm_db_error() is not exported.",arguments);return Kb};(Mb=Tb.xCall("sqlite3_wasm_enum_json"))||kc("Maintenance required: increase sqlite3_wasm_enum_json()'s","static buffer size!");Tb.ctype=JSON.parse(Tb.cstrToJs(Mb));Mb="access authorizer blobFinalizers changeset config dataTypes dbConfig dbStatus encodings fcntl flock ioCap limits openFlags prepareFlags resultCodes sqlite3Status stmtStatus syncFlags trace txnState udfFlags version".split(" ");
Tb.bigIntEnabled&&Mb.push("serialize","session","vtab");for(var nc of Mb)for(const uc of Object.entries(Tb.ctype[nc]))Fb[uc[0]]=uc[1];Tb.functionEntry(Fb.SQLITE_WASM_DEALLOC)||kc("Internal error: cannot resolve exported function","entry SQLITE_WASM_DEALLOC (\x3d\x3d"+Fb.SQLITE_WASM_DEALLOC+").");const Gc=Object.create(null);for(const uc of["resultCodes"])for(const Kb of Object.entries(Tb.ctype[uc]))Gc[Kb[1]]=Kb[0];Fb.sqlite3_js_rc_str=uc=>Gc[uc];nc=Object.assign(Object.create(null),{WasmTestStruct:!0,
sqlite3_kvvfs_methods:!Ib.isUIThread(),sqlite3_index_info:!Tb.bigIntEnabled,sqlite3_index_constraint:!Tb.bigIntEnabled,sqlite3_index_orderby:!Tb.bigIntEnabled,sqlite3_index_constraint_usage:!Tb.bigIntEnabled});for(var Lc of Tb.ctype.structs)nc[Lc.name]||(Fb[Lc.name]=fc.StructBinder(Lc));if(Fb.sqlite3_index_info){for(var rc of["sqlite3_index_constraint","sqlite3_index_orderby","sqlite3_index_constraint_usage"])Fb.sqlite3_index_info[rc]=Fb[rc],delete Fb[rc];Fb.sqlite3_vtab_config=Tb.xWrap("sqlite3_wasm_vtab_config",
"int",["sqlite3*","int","int"])}const Yc=(uc,Kb,Cc)=>Ib.sqlite3_wasm_db_error(uc,Fb.SQLITE_MISUSE,Kb+"() requires "+Cc+" argument"+(1===Cc?"":"s")+"."),Wc=uc=>Ib.sqlite3_wasm_db_error(uc,Fb.SQLITE_FORMAT,"SQLITE_UTF8 is the only supported encoding."),zd=uc=>Tb.xWrap.argAdapter("sqlite3*")(uc),Bd=uc=>Tb.isPtr(uc)?Tb.cstrToJs(uc):uc,Zc=function(uc,Kb){uc=zd(uc);let Cc=this.dbMap.get(uc);Kb?!Cc&&0<Kb&&this.dbMap.set(uc,Cc=Object.create(null)):this.dbMap.delete(uc);return Cc}.bind(Object.assign(Object.create(null),
{dbMap:new Map}));Zc.addCollation=function(uc,Kb){uc=Zc(uc,1);uc.collation||(uc.collation=new Set);uc.collation.add(Bd(Kb).toLowerCase())};Zc._addUDF=function(uc,Kb,Cc,$b){Kb=Bd(Kb).toLowerCase();(uc=$b.get(Kb))||$b.set(Kb,uc=new Set);uc.add(0>Cc?-1:Cc)};Zc.addFunction=function(uc,Kb,Cc){const $b=Zc(uc,1);$b.udf||($b.udf=new Map);this._addUDF(uc,Kb,Cc,$b.udf)};Zc.addWindowFunc=function(uc,Kb,Cc){const $b=Zc(uc,1);$b.wudf||($b.wudf=new Map);this._addUDF(uc,Kb,Cc,$b.wudf)};Zc.cleanup=function(uc){uc=
zd(uc);var Kb=[uc];for(var Cc of"sqlite3_busy_handler sqlite3_commit_hook sqlite3_preupdate_hook sqlite3_progress_handler sqlite3_rollback_hook sqlite3_set_authorizer sqlite3_trace_v2 sqlite3_update_hook".split(" ")){Kb.length=Tb.exports[Cc].length;try{Fb[Cc](...Kb)}catch(ob){console.warn("close-time call of",Cc+"(",Kb,") threw:",ob)}}if(Kb=Zc(uc,0)){if(Kb.collation){for(var $b of Kb.collation)try{Fb.sqlite3_create_collation_v2(uc,$b,Fb.SQLITE_UTF8,0,0,0)}catch(ob){}delete Kb.collation}for($b=0;2>
$b;++$b){Cc=$b?Kb.wudf:Kb.udf;if(!Cc)continue;const ob=$b?Fb.sqlite3_create_window_function:Fb.sqlite3_create_function_v2;for(const wb of Cc){const Sa=wb[1],Hb=[uc,wb[0],0,Fb.SQLITE_UTF8,0,0,0,0,0];$b&&Hb.push(0);for(const Jb of Sa)try{Hb[2]=Jb,ob.apply(null,Hb)}catch(Yb){}Sa.clear()}Cc.clear()}delete Kb.udf;delete Kb.wudf}};const ub=Tb.xWrap("sqlite3_close_v2","int","sqlite3*");Fb.sqlite3_close_v2=function(uc){if(1!==arguments.length)return Yc(uc,"sqlite3_close_v2",1);if(uc)try{Zc.cleanup(uc)}catch(Kb){}return ub(uc)};
if(Fb.sqlite3session_table_filter){const uc=Tb.xWrap("sqlite3session_delete",void 0,["sqlite3_session*"]);Fb.sqlite3session_delete=function(Kb){if(1!==arguments.length)return Yc(pDb,"sqlite3session_delete",1);Kb&&Fb.sqlite3session_table_filter(Kb,0,0);uc(Kb)}}Lc=(uc,Kb)=>"argv["+Kb+"]:"+uc[0]+":"+Tb.cstrToJs(uc[1]).toLowerCase();const Ac=Tb.xWrap("sqlite3_create_collation_v2","int",["sqlite3*","string","int","*",new Tb.xWrap.FuncPtrAdapter({name:"xCompare",signature:"i(pipip)",contextKey:Lc}),new Tb.xWrap.FuncPtrAdapter({name:"xDestroy",
signature:"v(p)",contextKey:Lc})]);Fb.sqlite3_create_collation_v2=function(uc,Kb,Cc,$b,ob,wb){if(6!==arguments.length)return Yc(uc,"sqlite3_create_collation_v2",6);if(0===(Cc&15))Cc|=Fb.SQLITE_UTF8;else if(Fb.SQLITE_UTF8!==(Cc&15))return Wc(uc);try{const Sa=Ac(uc,Kb,Cc,$b,ob,wb);0===Sa&&ob instanceof Function&&Zc.addCollation(uc,Kb);return Sa}catch(Sa){return Ib.sqlite3_wasm_db_error(uc,Sa)}};Fb.sqlite3_create_collation=(uc,Kb,Cc,$b,ob)=>5===arguments.length?Fb.sqlite3_create_collation_v2(uc,Kb,Cc,
$b,ob,0):Yc(uc,"sqlite3_create_collation",5);Lc=function(uc,Kb){return uc[0]+":"+(0>uc[2]?-1:uc[2])+":"+Kb+":"+Tb.cstrToJs(uc[1]).toLowerCase()};Lc=Object.assign(Object.create(null),{xInverseAndStep:{signature:"v(pip)",contextKey:Lc,callProxy:uc=>(Kb,Cc,$b)=>{try{uc(Kb,...Fb.sqlite3_values_to_js(Cc,$b))}catch(ob){Fb.sqlite3_result_error_js(Kb,ob)}}},xFinalAndValue:{signature:"v(p)",contextKey:Lc,callProxy:uc=>Kb=>{try{Fb.sqlite3_result_js(Kb,uc(Kb))}catch(Cc){Fb.sqlite3_result_error_js(Kb,Cc)}}},
xFunc:{signature:"v(pip)",contextKey:Lc,callProxy:uc=>(Kb,Cc,$b)=>{try{Fb.sqlite3_result_js(Kb,uc(Kb,...Fb.sqlite3_values_to_js(Cc,$b)))}catch(ob){Fb.sqlite3_result_error_js(Kb,ob)}}},xDestroy:{signature:"v(p)",contextKey:Lc,callProxy:uc=>Kb=>{try{uc(Kb)}catch(Cc){console.error("UDF xDestroy method threw:",Cc)}}}});const bc=Tb.xWrap("sqlite3_create_function_v2","int",["sqlite3*","string","int","int","*",new Tb.xWrap.FuncPtrAdapter({name:"xFunc",...Lc.xFunc}),new Tb.xWrap.FuncPtrAdapter({name:"xStep",
...Lc.xInverseAndStep}),new Tb.xWrap.FuncPtrAdapter({name:"xFinal",...Lc.xFinalAndValue}),new Tb.xWrap.FuncPtrAdapter({name:"xDestroy",...Lc.xDestroy})]),Kc=Tb.xWrap("sqlite3_create_window_function","int",["sqlite3*","string","int","int","*",new Tb.xWrap.FuncPtrAdapter({name:"xStep",...Lc.xInverseAndStep}),new Tb.xWrap.FuncPtrAdapter({name:"xFinal",...Lc.xFinalAndValue}),new Tb.xWrap.FuncPtrAdapter({name:"xValue",...Lc.xFinalAndValue}),new Tb.xWrap.FuncPtrAdapter({name:"xInverse",...Lc.xInverseAndStep}),
new Tb.xWrap.FuncPtrAdapter({name:"xDestroy",...Lc.xDestroy})]);Fb.sqlite3_create_function_v2=function Ic(Kb,Cc,$b,ob,wb,Sa,Hb,Jb,Yb){if(Ic.length!==arguments.length)return Yc(Kb,"sqlite3_create_function_v2",Ic.length);if(0===(ob&15))ob|=Fb.SQLITE_UTF8;else if(Fb.SQLITE_UTF8!==(ob&15))return Wc(Kb);try{const db=bc(Kb,Cc,$b,ob,wb,Sa,Hb,Jb,Yb);0===db&&(Sa instanceof Function||Hb instanceof Function||Jb instanceof Function||Yb instanceof Function)&&Zc.addFunction(Kb,Cc,$b);return db}catch(db){return console.error("sqlite3_create_function_v2() setup threw:",
db),Ib.sqlite3_wasm_db_error(Kb,db,"Creation of UDF threw: "+db)}};Fb.sqlite3_create_function=function Ic(Cc,$b,ob,wb,Sa,Hb,Jb,Yb){return Ic.length===arguments.length?Fb.sqlite3_create_function_v2(Cc,$b,ob,wb,Sa,Hb,Jb,Yb,0):Yc(Cc,"sqlite3_create_function",Ic.length)};Fb.sqlite3_create_window_function=function Ua($b,ob,wb,Sa,Hb,Jb,Yb,Ic,db,fb){if(Ua.length!==arguments.length)return Yc($b,"sqlite3_create_window_function",Ua.length);if(0===(Sa&15))Sa|=Fb.SQLITE_UTF8;else if(Fb.SQLITE_UTF8!==(Sa&15))return Wc($b);
try{const pb=Kc($b,ob,wb,Sa,Hb,Jb,Yb,Ic,db,fb);0===pb&&(Jb instanceof Function||Yb instanceof Function||Ic instanceof Function||db instanceof Function||fb instanceof Function)&&Zc.addWindowFunc($b,ob,wb);return pb}catch(pb){return console.error("sqlite3_create_window_function() setup threw:",pb),Ib.sqlite3_wasm_db_error($b,pb,"Creation of UDF threw: "+pb)}};Fb.sqlite3_create_function_v2.udfSetResult=Fb.sqlite3_create_function.udfSetResult=Fb.sqlite3_create_window_function.udfSetResult=Fb.sqlite3_result_js;
Fb.sqlite3_create_function_v2.udfConvertArgs=Fb.sqlite3_create_function.udfConvertArgs=Fb.sqlite3_create_window_function.udfConvertArgs=Fb.sqlite3_values_to_js;Fb.sqlite3_create_function_v2.udfSetError=Fb.sqlite3_create_function.udfSetError=Fb.sqlite3_create_window_function.udfSetError=Fb.sqlite3_result_error_js;const Sc={basic:Tb.xWrap("sqlite3_prepare_v3","int","sqlite3* string int int ** **".split(" ")),full:Tb.xWrap("sqlite3_prepare_v3","int","sqlite3* * int int ** **".split(" "))};Fb.sqlite3_prepare_v3=
function Ic(ob,wb,Sa,Hb,Jb,Yb){if(Ic.length!==arguments.length)return Yc(ob,"sqlite3_prepare_v3",Ic.length);var db=wb,fb=Sa;"string"===typeof db?fb=-1:Ib.isSQLableTypedArray(db)?(fb=db.byteLength,db=Ib.typedArrayToString(db instanceof ArrayBuffer?new Uint8Array(db):db)):Array.isArray(db)&&(db=db.join(""),fb=-1);const [Ua,pb]=[db,fb];switch(typeof Ua){case "string":return Sc.basic(ob,Ua,pb,Hb,Jb,null);case "number":return Sc.full(ob,Ua,pb,Hb,Jb,Yb);default:return Ib.sqlite3_wasm_db_error(ob,Fb.SQLITE_MISUSE,
"Invalid SQL argument type for sqlite3_prepare_v2/v3().")}};Fb.sqlite3_prepare_v2=function Ic(wb,Sa,Hb,Jb,Yb){return Ic.length===arguments.length?Fb.sqlite3_prepare_v3(wb,Sa,Hb,0,Jb,Yb):Yc(wb,"sqlite3_prepare_v2",Ic.length)};const Ec=Tb.xWrap("sqlite3_bind_text","int",["sqlite3_stmt*","int","string","int","*"]),mc=Tb.xWrap("sqlite3_bind_blob","int",["sqlite3_stmt*","int","*","int","*"]);Fb.sqlite3_bind_text=function db(Sa,Hb,Jb,Yb,Ic){if(db.length!==arguments.length)return Yc(Fb.sqlite3_db_handle(Sa),
"sqlite3_bind_text",db.length);if(Tb.isPtr(Jb)||null===Jb)return Ec(Sa,Hb,Jb,Yb,Ic);Jb instanceof ArrayBuffer?Jb=new Uint8Array(Jb):Array.isArray(pMem)&&(Jb=pMem.join(""));let fb,Ua;try{if(Ib.isSQLableTypedArray(Jb))fb=Tb.allocFromTypedArray(Jb),Ua=Jb.byteLength;else if("string"===typeof Jb)[fb,Ua]=Tb.allocCString(Jb);else return Ib.sqlite3_wasm_db_error(Fb.sqlite3_db_handle(Sa),Fb.SQLITE_MISUSE,"Invalid 3rd argument type for sqlite3_bind_text().");return Ec(Sa,Hb,fb,Ua,Fb.SQLITE_WASM_DEALLOC)}catch(pb){return Tb.dealloc(fb),
Ib.sqlite3_wasm_db_error(Fb.sqlite3_db_handle(Sa),pb)}};Fb.sqlite3_bind_blob=function fb(Hb,Jb,Yb,Ic,db){if(fb.length!==arguments.length)return Yc(Fb.sqlite3_db_handle(Hb),"sqlite3_bind_blob",fb.length);if(Tb.isPtr(Yb)||null===Yb)return mc(Hb,Jb,Yb,Ic,db);Yb instanceof ArrayBuffer?Yb=new Uint8Array(Yb):Array.isArray(Yb)&&(Yb=Yb.join(""));let Ua,pb;try{if(Ib.isBindableTypedArray(Yb))Ua=Tb.allocFromTypedArray(Yb),pb=0<=Ic?Ic:Yb.byteLength;else if("string"===typeof Yb)[Ua,pb]=Tb.allocCString(Yb);else return Ib.sqlite3_wasm_db_error(Fb.sqlite3_db_handle(Hb),
Fb.SQLITE_MISUSE,"Invalid 3rd argument type for sqlite3_bind_blob().");return mc(Hb,Jb,Ua,pb,Fb.SQLITE_WASM_DEALLOC)}catch(Gb){return Tb.dealloc(Ua),Ib.sqlite3_wasm_db_error(Fb.sqlite3_db_handle(Hb),Gb)}};Fb.sqlite3_config=function(Hb,...Jb){if(2>arguments.length)return Fb.SQLITE_MISUSE;switch(Hb){case Fb.SQLITE_CONFIG_COVERING_INDEX_SCAN:case Fb.SQLITE_CONFIG_MEMSTATUS:case Fb.SQLITE_CONFIG_SMALL_MALLOC:case Fb.SQLITE_CONFIG_SORTERREF_SIZE:case Fb.SQLITE_CONFIG_STMTJRNL_SPILL:case Fb.SQLITE_CONFIG_URI:return Tb.exports.sqlite3_wasm_config_i(Hb,
Jb[0]);case Fb.SQLITE_CONFIG_LOOKASIDE:return Tb.exports.sqlite3_wasm_config_ii(Hb,Jb[0],Jb[1]);case Fb.SQLITE_CONFIG_MEMDB_MAXSIZE:return Tb.exports.sqlite3_wasm_config_j(Hb,Jb[0]);default:return Fb.SQLITE_NOTFOUND}};const pc=new Set;Fb.sqlite3_auto_extension=function(Hb){if(Hb instanceof Function)Hb=Tb.installFunction("i(ppp)",Hb);else if(1!==arguments.length||!Tb.isPtr(Hb))return Fb.SQLITE_MISUSE;const Jb=Tb.exports.sqlite3_auto_extension(Hb);Hb!==arguments[0]&&(0===Jb?pc.add(Hb):Tb.uninstallFunction(Hb));
return Jb};Fb.sqlite3_cancel_auto_extension=function(Hb){return Hb&&1===arguments.length&&Tb.isPtr(Hb)?Tb.exports.sqlite3_cancel_auto_extension(Hb):0};Fb.sqlite3_reset_auto_extension=function(){Tb.exports.sqlite3_reset_auto_extension();for(const Hb of pc)Tb.uninstallFunction(Hb);pc.clear()};if(Lc=Fb.sqlite3_vfs_find("kvvfs"))if(Ib.isUIThread()){Lc=new Fb.sqlite3_kvvfs_methods(Tb.exports.sqlite3_wasm_kvvfs_methods());delete Fb.sqlite3_kvvfs_methods;const Hb=Tb.exports.sqlite3_wasm_kvvfsMakeKeyOnPstack,
Jb=Tb.pstack;rc={xRead:(Yb,Ic,db,fb)=>{const Ua=Jb.pointer,pb=Tb.scopedAllocPush();try{const Gb=Hb(Yb,Ic);if(!Gb)return-3;const Tc=Tb.cstrToJs(Gb),nd=(115===Tb.peek(Yb)?sessionStorage:localStorage).getItem(Tc);if(!nd)return-1;const wd=nd.length;if(0>=fb)return wd;if(1===fb)return Tb.poke(db,0),wd;const Rd=Tb.scopedAllocCString(nd);fb>wd+1&&(fb=wd+1);Tb.heap8u().copyWithin(db,Rd,Rd+fb-1);Tb.poke(db+fb-1,0);return fb-1}catch(Gb){return console.error("kvstorageRead()",Gb),-2}finally{Jb.restore(Ua),Tb.scopedAllocPop(pb)}},
xWrite:(Yb,Ic,db)=>{const fb=Jb.pointer;try{const Ua=Hb(Yb,Ic);if(!Ua)return 1;const pb=Tb.cstrToJs(Ua);(115===Tb.peek(Yb)?sessionStorage:localStorage).setItem(pb,Tb.cstrToJs(db));return 0}catch(Ua){return console.error("kvstorageWrite()",Ua),Fb.SQLITE_IOERR}finally{Jb.restore(fb)}},xDelete:(Yb,Ic)=>{const db=Jb.pointer;try{const fb=Hb(Yb,Ic);if(!fb)return 1;(115===Tb.peek(Yb)?sessionStorage:localStorage).removeItem(Tb.cstrToJs(fb));return 0}catch(fb){return console.error("kvstorageDelete()",fb),
Fb.SQLITE_IOERR}finally{Jb.restore(db)}}};for(const Yb of Object.keys(rc))Lc[Lc.memberKey(Yb)]=Tb.installFunction(Lc.memberSignature(Yb),rc[Yb])}else Fb.sqlite3_vfs_unregister(Lc);Tb.xWrap.FuncPtrAdapter.warnOnUse=!0});globalThis.sqlite3ApiBootstrap.initializers.push(function(fc){fc.version={libVersion:"3.44.2",libVersionNumber:3044002,sourceId:"2023-11-24 11:41:44 ebead0e7230cd33bcec9f95d2183069565b9e709bf745c9b5db65cc0cbf92c0f",downloadVersion:3440200}});globalThis.sqlite3ApiBootstrap.initializers.push(function(fc){const kc=
(...Ec)=>{throw new fc.SQLite3Error(...Ec);},Fb=fc.capi,Tb=fc.wasm,Ib=fc.util,mb=new WeakMap,zb=new WeakMap,Cb=(Ec,mc,pc)=>(Ec=Object.getOwnPropertyDescriptor(Ec,mc))?Ec.value:pc,jb=function(Ec,mc){mc&&(Ec instanceof Gc&&(Ec=Ec.pointer),kc(mc,"sqlite3 result code",mc+":",Ec?Fb.sqlite3_errmsg(Ec):Fb.sqlite3_errstr(mc)));return Ec},tb=Tb.installFunction("i(ippp)",function(Ec,mc,pc,uc){Fb.SQLITE_TRACE_STMT===Ec&&console.log("SQL TRACE #"+ ++this.counter+" via sqlite3@"+mc+":",Tb.cstrToJs(uc))}.bind({counter:0})),
Mb=Object.create(null),nc=function pc(...mc){if(!pc._name2vfs){pc._name2vfs=Object.create(null);var uc="function"===typeof importScripts?Sa=>kc("The VFS for",Sa,"is only available in the main window thread."):!1;pc._name2vfs[":localStorage:"]={vfs:"kvvfs",filename:uc||(()=>"local")};pc._name2vfs[":sessionStorage:"]={vfs:"kvvfs",filename:uc||(()=>"session")}}var Kb=pc.normalizeArgs(...mc);mc=Kb.filename;uc=Kb.vfs;let Cc=Kb.flags;if("string"!==typeof mc&&"number"!==typeof mc||"string"!==typeof Cc||
uc&&"string"!==typeof uc&&"number"!==typeof uc)fc.config.error("Invalid DB ctor args",Kb,arguments),kc("Invalid arguments for DB constructor.");Kb="number"===typeof mc?Tb.cstrToJs(mc):mc;var $b=pc._name2vfs[Kb];$b&&(uc=$b.vfs,mc=Kb=$b.filename(Kb));let ob;$b=0;0<=Cc.indexOf("c")&&($b|=Fb.SQLITE_OPEN_CREATE|Fb.SQLITE_OPEN_READWRITE);0<=Cc.indexOf("w")&&($b|=Fb.SQLITE_OPEN_READWRITE);0===$b&&($b|=Fb.SQLITE_OPEN_READONLY);$b|=Fb.SQLITE_OPEN_EXRESCODE;const wb=Tb.pstack.pointer;try{const Sa=Tb.pstack.allocPtr();
let Hb=Fb.sqlite3_open_v2(mc,Sa,$b,uc||0);ob=Tb.peekPtr(Sa);jb(ob,Hb);Fb.sqlite3_extended_result_codes(ob,1);0<=Cc.indexOf("t")&&Fb.sqlite3_trace_v2(ob,Fb.SQLITE_TRACE_STMT,tb,ob)}catch(Sa){throw ob&&Fb.sqlite3_close_v2(ob),Sa;}finally{Tb.pstack.restore(wb)}this.filename=Kb;mb.set(this,ob);zb.set(this,Object.create(null));try{const Sa=Fb.sqlite3_js_db_vfs(ob);Sa||kc("Internal error: cannot get VFS for new db handle.");const Hb=Mb[Sa];Hb instanceof Function?Hb(this,fc):Hb&&jb(ob,Fb.sqlite3_exec(ob,
Hb,0,0,0))}catch(Sa){throw this.close(),Sa;}};nc.setVfsPostOpenSql=function(mc,pc){Mb[mc]=pc};nc.normalizeArgs=function(mc=":memory:",pc="c",uc=null){const Kb={};1===arguments.length&&arguments[0]&&"object"===typeof arguments[0]?(Object.assign(Kb,arguments[0]),void 0===Kb.flags&&(Kb.flags="c"),void 0===Kb.vfs&&(Kb.vfs=null),void 0===Kb.filename&&(Kb.filename=":memory:")):(Kb.filename=mc,Kb.flags=pc,Kb.vfs=uc);return Kb};const Gc=function(...mc){nc.apply(this,mc)};Gc.dbCtorHelper=nc;const Lc={null:1,
number:2,string:3,boolean:4,blob:5};Lc.undefined==Lc.null;Tb.bigIntEnabled&&(Lc.bigint=Lc.number);const rc=function(mc,pc,uc){Lc!==uc&&kc(Fb.SQLITE_MISUSE,"Do not call the Stmt constructor directly. Use DB.prepare().");this.db=mc;mb.set(this,pc);this.parameterCount=Fb.sqlite3_bind_parameter_count(this.pointer)},Yc=function(mc){mc.pointer||kc("DB has been closed.");return mc},Wc=function(mc,pc){(pc!==(pc|0)||0>pc||pc>=mc.columnCount)&&kc("Column index",pc,"is out of range.");return mc},zd=function(mc,
pc){const uc=Object.create(null);uc.opt=Object.create(null);switch(pc.length){case 1:"string"===typeof pc[0]||Ib.isSQLableTypedArray(pc[0])?uc.sql=pc[0]:Array.isArray(pc[0])?uc.sql=pc[0]:pc[0]&&"object"===typeof pc[0]&&(uc.opt=pc[0],uc.sql=uc.opt.sql);break;case 2:uc.sql=pc[0];uc.opt=pc[1];break;default:kc("Invalid argument count for exec().")}uc.sql=Ib.flexibleString(uc.sql);"string"!==typeof uc.sql&&kc("Missing SQL argument or unsupported SQL value type.");const Kb=uc.opt;switch(Kb.returnValue){case "resultRows":Kb.resultRows||
(Kb.resultRows=[]);uc.returnVal=()=>Kb.resultRows;break;case "saveSql":Kb.saveSql||(Kb.saveSql=[]);uc.returnVal=()=>Kb.saveSql;break;case void 0:case "this":uc.returnVal=()=>mc;break;default:kc("Invalid returnValue value:",Kb.returnValue)}Kb.callback||Kb.returnValue||void 0===Kb.rowMode||(Kb.resultRows||(Kb.resultRows=[]),uc.returnVal=()=>Kb.resultRows);if(Kb.callback||Kb.resultRows)switch(void 0===Kb.rowMode?"array":Kb.rowMode){case "object":uc.cbArg=Cc=>Cc.get(Object.create(null));break;case "array":uc.cbArg=
Cc=>Cc.get([]);break;case "stmt":Array.isArray(Kb.resultRows)&&kc("exec(): invalid rowMode for a resultRows array: must","be one of 'array', 'object',","a result column number, or column name reference.");uc.cbArg=Cc=>Cc;break;default:if(Ib.isInt32(Kb.rowMode))uc.cbArg=Cc=>Cc.get(Kb.rowMode);else if("string"===typeof Kb.rowMode&&1<Kb.rowMode.length&&"$"===Kb.rowMode[0]){const Cc=Kb.rowMode.substr(1);uc.cbArg=$b=>{$b=$b.get(Object.create(null))[Cc];return void 0===$b?kc(Fb.SQLITE_NOTFOUND,"exec(): unknown result column:",
Cc):$b}}else kc("Invalid rowMode:",Kb.rowMode)}return uc},Bd=(mc,pc,uc,...Kb)=>{mc=mc.prepare(pc);try{const Cc=mc.bind(uc).step()?mc.get(...Kb):void 0;mc.reset();return Cc}finally{mc.finalize()}};Gc.checkRc=(mc,pc)=>jb(mc,pc);Gc.prototype={isOpen:function(){return!!this.pointer},affirmOpen:function(){return Yc(this)},close:function(){if(this.pointer){if(this.onclose&&this.onclose.before instanceof Function)try{this.onclose.before(this)}catch(pc){}const mc=this.pointer;Object.keys(zb.get(this)).forEach((pc,
uc)=>{if(uc&&uc.pointer)try{uc.finalize()}catch(Kb){}});mb.delete(this);zb.delete(this);Fb.sqlite3_close_v2(mc);if(this.onclose&&this.onclose.after instanceof Function)try{this.onclose.after(this)}catch(pc){}delete this.filename}},changes:function(mc=!1,pc=!1){const uc=Yc(this).pointer;return mc?pc?Fb.sqlite3_total_changes64(uc):Fb.sqlite3_total_changes(uc):pc?Fb.sqlite3_changes64(uc):Fb.sqlite3_changes(uc)},dbFilename:function(mc="main"){return Fb.sqlite3_db_filename(Yc(this).pointer,mc)},dbName:function(mc=
0){return Fb.sqlite3_db_name(Yc(this).pointer,mc)},dbVfsName:function(mc=0){let pc;if(mc=Fb.sqlite3_js_db_vfs(Yc(this).pointer,mc)){mc=new Fb.sqlite3_vfs(mc);try{pc=Tb.cstrToJs(mc.$zName)}finally{mc.dispose()}}return pc},prepare:function(mc){Yc(this);const pc=Tb.pstack.pointer;let uc,Kb;try{uc=Tb.pstack.alloc(8),Gc.checkRc(this,Fb.sqlite3_prepare_v2(this.pointer,mc,-1,uc,null)),Kb=Tb.peekPtr(uc)}finally{Tb.pstack.restore(pc)}Kb||kc("Cannot prepare empty SQL.");mc=new rc(this,Kb,Lc);return zb.get(this)[Kb]=
mc},exec:function(){Yc(this);const mc=zd(this,arguments);if(!mc.sql)return kc("exec() requires an SQL string.");const pc=mc.opt,uc=pc.callback,Kb=Array.isArray(pc.resultRows)?pc.resultRows:void 0;let Cc,$b=pc.bind,ob=!!(mc.cbArg||pc.columnNames||Kb);const wb=Tb.scopedAllocPush(),Sa=Array.isArray(pc.saveSql)?pc.saveSql:void 0;try{const Hb=Ib.isSQLableTypedArray(mc.sql);let Jb=Hb?mc.sql.byteLength:Tb.jstrlen(mc.sql);const Yb=Tb.scopedAlloc(2*Tb.ptrSizeof+(Jb+1)),Ic=Yb+Tb.ptrSizeof;let db=Ic+Tb.ptrSizeof;
const fb=db+Jb;Hb?Tb.heap8().set(mc.sql,db):Tb.jstrcpy(mc.sql,Tb.heap8(),db,Jb,!1);for(Tb.poke(db+Jb,0);db&&Tb.peek(db,"i8");){Tb.pokePtr([Yb,Ic],0);Gc.checkRc(this,Fb.sqlite3_prepare_v3(this.pointer,db,Jb,0,Yb,Ic));const Ua=Tb.peekPtr(Yb);db=Tb.peekPtr(Ic);Jb=fb-db;if(Ua){Sa&&Sa.push(Fb.sqlite3_sql(Ua).trim());Cc=new rc(this,Ua,Lc);$b&&Cc.parameterCount&&(Cc.bind($b),$b=null);if(ob&&Cc.columnCount){let pb=Array.isArray(pc.columnNames)?0:1;ob=!1;if(mc.cbArg||Kb){for(;Cc.step();Cc._lockedByExec=!1){0===
pb++&&Cc.getColumnNames(pc.columnNames);Cc._lockedByExec=!0;const Gb=mc.cbArg(Cc);Kb&&Kb.push(Gb);if(uc&&!1===uc.call(pc,Gb,Cc))break}Cc._lockedByExec=!1}0===pb&&Cc.getColumnNames(pc.columnNames)}else Cc.step();Cc.reset().finalize();Cc=null}}}finally{Tb.scopedAllocPop(wb),Cc&&(delete Cc._lockedByExec,Cc.finalize())}return mc.returnVal()},createFunction:function(mc,pc,uc){switch(arguments.length){case 1:uc=mc;mc=uc.name;pc=uc.xFunc||0;break;case 2:pc instanceof Function||(uc=pc,pc=uc.xFunc||0)}uc||=
{};"string"!==typeof mc&&kc("Invalid arguments: missing function name.");var Kb=uc.xStep||0;let Cc=uc.xFinal||0;const $b=uc.xValue||0,ob=uc.xInverse||0;let wb=void 0;pc instanceof Function?(wb=!1,(Kb instanceof Function||Cc instanceof Function)&&kc("Ambiguous arguments: scalar or aggregate?"),Kb=Cc=null):Kb instanceof Function?(Cc instanceof Function||kc("Missing xFinal() callback for aggregate or window UDF."),pc=null):Cc instanceof Function?kc("Missing xStep() callback for aggregate or window UDF."):
kc("Missing function-type properties.");!1===wb?($b instanceof Function||ob instanceof Function)&&kc("xValue and xInverse are not permitted for non-window UDFs."):$b instanceof Function?(ob instanceof Function||kc("xInverse must be provided if xValue is."),wb=!0):ob instanceof Function&&kc("xValue must be provided if xInverse is.");const Sa=uc.pApp;void 0===Sa||null===Sa||"number"===typeof Sa&&Ib.isInt32(Sa)||kc("Invalid value for pApp property. Must be a legal WASM pointer value.");const Hb=uc.xDestroy||
0;!Hb||Hb instanceof Function||kc("xDestroy property must be a function.");let Jb=0;Cb(uc,"deterministic")&&(Jb|=Fb.SQLITE_DETERMINISTIC);Cb(uc,"directOnly")&&(Jb|=Fb.SQLITE_DIRECTONLY);Cb(uc,"innocuous")&&(Jb|=Fb.SQLITE_INNOCUOUS);mc=mc.toLowerCase();var Yb=pc||Kb;const Ic=Cb(uc,"arity");Yb="number"===typeof Ic?Ic:Yb.length?Yb.length-1:0;Kb=wb?Fb.sqlite3_create_window_function(this.pointer,mc,Yb,Fb.SQLITE_UTF8|Jb,Sa||0,Kb,Cc,$b,ob,Hb):Fb.sqlite3_create_function_v2(this.pointer,mc,Yb,Fb.SQLITE_UTF8|
Jb,Sa||0,pc,Kb,Cc,Hb);Gc.checkRc(this,Kb);return this},selectValue:function(mc,pc,uc){return Bd(this,mc,pc,0,uc)},selectValues:function(mc,pc,uc){mc=this.prepare(mc);const Kb=[];try{for(mc.bind(pc);mc.step();)Kb.push(mc.get(0,uc));mc.reset()}finally{mc.finalize()}return Kb},selectArray:function(mc,pc){return Bd(this,mc,pc,[])},selectObject:function(mc,pc){return Bd(this,mc,pc,{})},selectArrays:function(mc,pc){return this.exec({sql:mc,bind:pc,rowMode:"array",returnValue:"resultRows"})},selectObjects:function(mc,
pc){return this.exec({sql:mc,bind:pc,rowMode:"object",returnValue:"resultRows"})},openStatementCount:function(){return this.pointer?Object.keys(zb.get(this)).length:0},transaction:function(mc){let pc="BEGIN";1<arguments.length&&(/[^a-zA-Z]/.test(arguments[0])&&kc(Fb.SQLITE_MISUSE,"Invalid argument for BEGIN qualifier."),pc+=" "+arguments[0],mc=arguments[1]);Yc(this).exec(pc);try{const uc=mc(this);this.exec("COMMIT");return uc}catch(uc){throw this.exec("ROLLBACK"),uc;}},savepoint:function(mc){Yc(this).exec("SAVEPOINT oo1");
try{const pc=mc(this);this.exec("RELEASE oo1");return pc}catch(pc){throw this.exec("ROLLBACK to SAVEPOINT oo1; RELEASE SAVEPOINT oo1"),pc;}},checkRc:function(mc){return jb(this,mc)}};const Zc=function(mc){mc.pointer||kc("Stmt has been closed.");return mc},ub=function(mc){a:{var pc=Lc[null===mc||void 0===mc?"null":typeof mc];switch(pc){case Lc.boolean:case Lc.null:case Lc.number:case Lc.string:break a;case Lc.bigint:if(Tb.bigIntEnabled)break a;default:pc=Ib.isBindableTypedArray(mc)?Lc.blob:void 0}}return pc||
kc("Unsupported bind() argument type:",typeof mc)},Ac=function(mc,pc){const uc="number"===typeof pc?pc:Fb.sqlite3_bind_parameter_index(mc.pointer,pc);0!==uc&&Ib.isInt32(uc)?(1>uc||uc>mc.parameterCount)&&kc("Bind index",pc,"is out of range."):kc("Invalid bind() parameter name: "+pc);return uc},bc=function(mc,pc){mc._lockedByExec&&kc("Operation is illegal when statement is locked:",pc);return mc},Kc=function $b(pc,uc,Kb,Cc){bc(Zc(pc),"bind()");$b._||($b._tooBigInt=wb=>kc("BigInt value is too big to store without precision loss:",
wb),$b._={string:function(wb,Sa,Hb,Jb){const [Yb,Ic]=Tb.allocCString(Hb,!0);return(Jb?Fb.sqlite3_bind_blob:Fb.sqlite3_bind_text)(wb.pointer,Sa,Yb,Ic,Fb.SQLITE_WASM_DEALLOC)}});ub(Cc);uc=Ac(pc,uc);let ob=0;switch(null===Cc||void 0===Cc?Lc.null:Kb){case Lc.null:ob=Fb.sqlite3_bind_null(pc.pointer,uc);break;case Lc.string:ob=$b._.string(pc,uc,Cc,!1);break;case Lc.number:let wb;Ib.isInt32(Cc)?wb=Fb.sqlite3_bind_int:"bigint"===typeof Cc?Ib.bigIntFits64(Cc)?Tb.bigIntEnabled?wb=Fb.sqlite3_bind_int64:Ib.bigIntFitsDouble(Cc)?
(Cc=Number(Cc),wb=Fb.sqlite3_bind_double):$b._tooBigInt(Cc):$b._tooBigInt(Cc):(Cc=Number(Cc),wb=Tb.bigIntEnabled&&Number.isInteger(Cc)?Fb.sqlite3_bind_int64:Fb.sqlite3_bind_double);ob=wb(pc.pointer,uc,Cc);break;case Lc.boolean:ob=Fb.sqlite3_bind_int(pc.pointer,uc,Cc?1:0);break;case Lc.blob:if("string"===typeof Cc){ob=$b._.string(pc,uc,Cc,!0);break}else Cc instanceof ArrayBuffer?Cc=new Uint8Array(Cc):Ib.isBindableTypedArray(Cc)||kc("Binding a value as a blob requires","that it be a string, Uint8Array, Int8Array, or ArrayBuffer.");
Kb=Tb.alloc(Cc.byteLength||1);Tb.heap8().set(Cc.byteLength?Cc:[0],Kb);ob=Fb.sqlite3_bind_blob(pc.pointer,uc,Kb,Cc.byteLength,Fb.SQLITE_WASM_DEALLOC);break;default:fc.config.warn("Unsupported bind() argument type:",Cc),kc("Unsupported bind() argument type: "+typeof Cc)}ob&&Gc.checkRc(pc.db.pointer,ob);pc._mayGet=!1;return pc};rc.prototype={finalize:function(){if(this.pointer){bc(this,"finalize()");const pc=Fb.sqlite3_finalize(this.pointer);delete zb.get(this.db)[this.pointer];mb.delete(this);delete this._mayGet;
delete this.parameterCount;delete this._lockedByExec;delete this.db;return pc}},clearBindings:function(){bc(Zc(this),"clearBindings()");Fb.sqlite3_clear_bindings(this.pointer);this._mayGet=!1;return this},reset:function(pc){bc(this,"reset()");pc&&this.clearBindings();pc=Fb.sqlite3_reset(Zc(this).pointer);this._mayGet=!1;jb(this.db,pc);return this},bind:function(){Zc(this);let pc,uc;switch(arguments.length){case 1:pc=1;uc=arguments[0];break;case 2:pc=arguments[0];uc=arguments[1];break;default:kc("Invalid bind() arguments.")}if(void 0===
uc)return this;this.parameterCount||kc("This statement has no bindable parameters.");this._mayGet=!1;if(null===uc)return Kc(this,pc,Lc.null,uc);if(Array.isArray(uc))return 1!==arguments.length&&kc("When binding an array, an index argument is not permitted."),uc.forEach((Kb,Cc)=>Kc(this,Cc+1,ub(Kb),Kb)),this;uc instanceof ArrayBuffer&&(uc=new Uint8Array(uc));if("object"!==typeof uc||Ib.isBindableTypedArray(uc))return Kc(this,pc,ub(uc),uc);1!==arguments.length&&kc("When binding an object, an index argument is not permitted.");
Object.keys(uc).forEach(Kb=>Kc(this,Kb,ub(uc[Kb]),uc[Kb]));return this},bindAsBlob:function(pc,uc){Zc(this);1===arguments.length&&(uc=pc,pc=1);const Kb=ub(uc);Lc.string!==Kb&&Lc.blob!==Kb&&Lc.null!==Kb&&kc("Invalid value type for bindAsBlob()");return Kc(this,pc,Lc.blob,uc)},step:function(){bc(this,"step()");const pc=Fb.sqlite3_step(Zc(this).pointer);switch(pc){case Fb.SQLITE_DONE:return this._mayGet=!1;case Fb.SQLITE_ROW:return this._mayGet=!0;default:this._mayGet=!1,fc.config.warn("sqlite3_step() rc\x3d",
pc,Fb.sqlite3_js_rc_str(pc),"SQL \x3d",Fb.sqlite3_sql(this.pointer)),Gc.checkRc(this.db.pointer,pc)}},stepReset:function(){this.step();return this.reset()},stepFinalize:function(){try{const pc=this.step();this.reset();return pc}finally{try{this.finalize()}catch(pc){}}},get:function(pc,uc){Zc(this)._mayGet||kc("Stmt.step() has not (recently) returned true.");if(Array.isArray(pc)){uc=0;for(var Kb=this.columnCount;uc<Kb;)pc[uc]=this.get(uc++);return pc}if(pc&&"object"===typeof pc){uc=0;for(Kb=this.columnCount;uc<
Kb;)pc[Fb.sqlite3_column_name(this.pointer,uc)]=this.get(uc++);return pc}Wc(this,pc);switch(void 0===uc?Fb.sqlite3_column_type(this.pointer,pc):uc){case Fb.SQLITE_NULL:return null;case Fb.SQLITE_INTEGER:if(Tb.bigIntEnabled)return pc=Fb.sqlite3_column_int64(this.pointer,pc),pc>=Number.MIN_SAFE_INTEGER&&pc<=Number.MAX_SAFE_INTEGER?Number(pc).valueOf():pc;pc=Fb.sqlite3_column_double(this.pointer,pc);(pc>Number.MAX_SAFE_INTEGER||pc<Number.MIN_SAFE_INTEGER)&&kc("Integer is out of range for JS integer range: "+
pc);return Ib.isInt32(pc)?pc|0:pc;case Fb.SQLITE_FLOAT:return Fb.sqlite3_column_double(this.pointer,pc);case Fb.SQLITE_TEXT:return Fb.sqlite3_column_text(this.pointer,pc);case Fb.SQLITE_BLOB:return uc=Fb.sqlite3_column_bytes(this.pointer,pc),pc=Fb.sqlite3_column_blob(this.pointer,pc),Kb=new Uint8Array(uc),uc&&Kb.set(Tb.heap8u().slice(pc,pc+uc),0),uc&&this.db._blobXfer instanceof Array&&this.db._blobXfer.push(Kb.buffer),Kb;default:kc("Don't know how to translate","type of result column #"+pc+".")}kc("Not reached.")},
getInt:function(pc){return this.get(pc,Fb.SQLITE_INTEGER)},getFloat:function(pc){return this.get(pc,Fb.SQLITE_FLOAT)},getString:function(pc){return this.get(pc,Fb.SQLITE_TEXT)},getBlob:function(pc){return this.get(pc,Fb.SQLITE_BLOB)},getJSON:function(pc){pc=this.get(pc,Fb.SQLITE_STRING);return null===pc?pc:JSON.parse(pc)},getColumnName:function(pc){return Fb.sqlite3_column_name(Wc(Zc(this),pc).pointer,pc)},getColumnNames:function(pc=[]){Wc(Zc(this),0);const uc=this.columnCount;for(let Kb=0;Kb<uc;++Kb)pc.push(Fb.sqlite3_column_name(this.pointer,
Kb));return pc},getParamIndex:function(pc){return Zc(this).parameterCount?Fb.sqlite3_bind_parameter_index(this.pointer,pc):void 0}};const Sc={enumerable:!0,get:function(){return mb.get(this)},set:()=>kc("The pointer property is read-only.")};Object.defineProperty(rc.prototype,"pointer",Sc);Object.defineProperty(Gc.prototype,"pointer",Sc);Object.defineProperty(rc.prototype,"columnCount",{enumerable:!1,get:function(){return Fb.sqlite3_column_count(this.pointer)},set:()=>kc("The columnCount property is read-only.")});
fc.oo1={DB:Gc,Stmt:rc};if(Ib.isUIThread()){fc.oo1.JsStorageDb=function(uc="session"){"session"!==uc&&"local"!==uc&&kc("JsStorageDb db name must be one of 'session' or 'local'.");nc.call(this,{filename:uc,flags:"c",vfs:"kvvfs"})};const pc=fc.oo1.JsStorageDb;pc.prototype=Object.create(Gc.prototype);pc.clearStorage=Fb.sqlite3_js_kvvfs_clear;pc.prototype.clearStorage=function(){return pc.clearStorage(Yc(this).filename)};pc.storageSize=Fb.sqlite3_js_kvvfs_size;pc.prototype.storageSize=function(){return pc.storageSize(Yc(this).filename)}}});
globalThis.sqlite3ApiBootstrap.initializers.push(function(fc){fc.initWorker1API=function(){const kc=(...tb)=>{throw Error(tb.join(" "));};globalThis.WorkerGlobalScope instanceof Function||kc("initWorker1API() must be run from a Worker thread.");const Fb=this.sqlite3||kc("Missing this.sqlite3 object."),Tb=Fb.oo1.DB,Ib=function(tb){let Mb=mb.idMap.get(tb);if(Mb)return Mb;Mb="db#"+ ++mb.idSeq+"@"+tb.pointer;mb.idMap.set(tb,Mb);return Mb},mb={dbList:[],idSeq:0,idMap:new WeakMap,xfer:[],open:function(tb){tb=
new Tb(tb);this.dbs[Ib(tb)]=tb;0>this.dbList.indexOf(tb)&&this.dbList.push(tb);return tb},close:function(tb,Mb){if(tb){delete this.dbs[Ib(tb)];const nc=tb.filename,Gc=Fb.wasm.sqlite3_wasm_db_vfs(tb.pointer,0);tb.close();tb=this.dbList.indexOf(tb);0<=tb&&this.dbList.splice(tb,1);Mb&&nc&&Gc&&Fb.wasm.sqlite3_wasm_vfs_unlink(Gc,nc)}},post:function(tb,Mb){Mb&&Mb.length?(globalThis.postMessage(tb,Array.from(Mb)),Mb.length=0):globalThis.postMessage(tb)},dbs:Object.create(null),getDb:function(tb,Mb=!0){return this.dbs[tb]||
(Mb?kc("Unknown (or closed) DB ID:",tb):void 0)}},zb=function(tb=mb.dbList[0]){return tb&&tb.pointer?tb:kc("DB is not opened.")},Cb=function(tb,Mb=!0){tb=mb.getDb(tb.dbId,!1)||mb.dbList[0];return Mb?zb(tb):tb},jb={open:function(tb){var Mb=Object.create(null);const nc=tb.args||Object.create(null);nc.simulateError&&kc("Throwing because of simulateError flag.");tb=Object.create(null);let Gc;Mb.vfs=nc.vfs;var Lc=nc.filename;if(""===Lc||":"===Lc[0])Mb.filename=nc.filename||"";else if(Mb.filename=nc.filename,
Gc=nc.byteArray){var rc=/^file:.+(vfs=(\w+))/.exec(nc.filename);rc=Fb.capi.sqlite3_vfs_find(rc?rc[2]:0)}if(rc){let Yc;try{Yc=Fb.wasm.allocFromTypedArray(Gc);const Wc=Fb.wasm.sqlite3_wasm_vfs_create_file(rc,Mb.filename,Yc,Gc.byteLength);Wc&&Fb.SQLite3Error.toss(Wc)}catch(Wc){throw new Fb.SQLite3Error(Wc.name+" creating "+nc.filename+": "+Wc.message,{cause:Wc});}finally{Yc&&Fb.wasm.dealloc(Yc)}}Mb=mb.open(Mb);tb.filename=Mb.filename;tb.persistent=!!Fb.capi.sqlite3_js_db_uses_vfs(Mb.pointer,"opfs");
tb.dbId=Ib(Mb);tb.vfs=Mb.dbVfsName();return tb},close:function(tb){const Mb=Cb(tb,!1),nc={filename:Mb&&Mb.filename};Mb&&mb.close(Mb,tb.args&&"object"===typeof tb.args?!!tb.args.unlink:!1);return nc},exec:function(tb){const Mb="string"===typeof tb.args?{sql:tb.args}:tb.args||Object.create(null);"stmt"===Mb.rowMode?kc("Invalid rowMode for 'exec': stmt mode","does not work in the Worker API."):Mb.sql||kc("'exec' requires input SQL.");tb=Cb(tb);if(Mb.callback||Array.isArray(Mb.resultRows))tb._blobXfer=
mb.xfer;const nc=Mb.callback;let Gc=0;const Lc=!!Mb.columnNames;"string"===typeof nc&&(Lc||(Mb.columnNames=[]),Mb.callback=function(rc,Yc){mb.post({type:nc,columnNames:Mb.columnNames,rowNumber:++Gc,row:rc},mb.xfer)});try{const rc=Mb.countChanges?tb.changes(!0,64===Mb.countChanges):void 0;tb.exec(Mb);void 0!==rc&&(Mb.changeCount=tb.changes(!0,64===Mb.countChanges)-rc);Mb.callback instanceof Function&&(Mb.callback=nc,mb.post({type:nc,columnNames:Mb.columnNames,rowNumber:null,row:void 0}))}finally{delete tb._blobXfer,
Mb.callback&&(Mb.callback=nc)}return Mb},"config-get":function(){const tb=Object.create(null),Mb=Fb.config;["bigIntEnabled"].forEach(function(nc){Object.getOwnPropertyDescriptor(Mb,nc)&&(tb[nc]=Mb[nc])});tb.version=Fb.version;tb.vfsList=Fb.capi.sqlite3_js_vfs_list();tb.opfsEnabled=!!Fb.opfs;return tb},export:function(tb){tb=Cb(tb);tb={byteArray:Fb.capi.sqlite3_js_db_export(tb.pointer),filename:tb.filename,mimetype:"application/x-sqlite3"};mb.xfer.push(tb.byteArray.buffer);return tb},toss:function(tb){kc("Testing worker exception")},
"opfs-tree":async function(tb){Fb.opfs||kc("OPFS support is unavailable.");return await Fb.opfs.treeList()}};globalThis.onmessage=async function(tb){tb=tb.data;let Mb,nc=tb.dbId,Gc=tb.type;const Lc=performance.now();try{jb.hasOwnProperty(Gc)&&jb[Gc]instanceof Function?Mb=await jb[Gc](tb):kc("Unknown db worker message type:",tb.type)}catch(rc){Gc="error",Mb={operation:tb.type,message:rc.message,errorClass:rc.name,input:tb},rc.stack&&(Mb.stack="string"===typeof rc.stack?rc.stack.split(/\n\s*/):rc.stack)}nc||=
Mb.dbId||mb.dbList[0]&&Ib(mb.dbList[0]);mb.post({type:Gc,dbId:nc,messageId:tb.messageId,workerReceivedTime:Lc,workerRespondTime:performance.now(),departureTime:tb.departureTime,result:Mb},mb.xfer)};globalThis.postMessage({type:"sqlite3-api",result:"worker1-ready"})}.bind({sqlite3:fc})});"use strict";globalThis.sqlite3ApiBootstrap.initializers.push(function(fc){const kc=fc.wasm,Fb=fc.capi,Tb=fc.util.toss3;var Ib=Object.create(null);const mb=Object.create(null),zb=fc.StructBinder;fc.vfs=Ib;fc.vtab=
mb;const Cb=Fb.sqlite3_index_info;Cb.prototype.nthConstraint=function(nc,Gc=!1){if(0>nc||nc>=this.$nConstraint)return!1;nc=this.$aConstraint+Cb.sqlite3_index_constraint.structInfo.sizeof*nc;return Gc?nc:new Cb.sqlite3_index_constraint(nc)};Cb.prototype.nthConstraintUsage=function(nc,Gc=!1){if(0>nc||nc>=this.$nConstraint)return!1;nc=this.$aConstraintUsage+Cb.sqlite3_index_constraint_usage.structInfo.sizeof*nc;return Gc?nc:new Cb.sqlite3_index_constraint_usage(nc)};Cb.prototype.nthOrderBy=function(nc,
Gc=!1){if(0>nc||nc>=this.$nOrderBy)return!1;nc=this.$aOrderBy+Cb.sqlite3_index_orderby.structInfo.sizeof*nc;return Gc?nc:new Cb.sqlite3_index_orderby(nc)};const jb=function Wc(Gc,Lc,rc,Yc=Wc.installMethodArgcCheck){Gc instanceof zb.StructType?rc instanceof Function||kc.isPtr(rc)||Tb("Usage errror: expecting a Function or WASM pointer to one."):Tb("Usage error: target object is-not-a StructType.");if(1===arguments.length)return(Zc,ub)=>Wc(Gc,Zc,ub,Yc);Wc.argcProxy||(Wc.argcProxy=function(Zc,ub,Ac,
bc){return function(...Kc){Ac.length!==arguments.length&&Tb("Argument mismatch for",Zc.structInfo.name+"::"+ub+": Native signature is:",bc);return Ac.apply(this,Kc)}},Wc.removeFuncList=function(){this.ondispose.__removeFuncList&&(this.ondispose.__removeFuncList.forEach((Zc,ub)=>{if("number"===typeof Zc)try{kc.uninstallFunction(Zc)}catch(Ac){}}),delete this.ondispose.__removeFuncList)});var zd=Gc.memberSignature(Lc);2>zd.length&&Tb("Member",Lc,"does not have a function pointer signature:",zd);const Bd=
Gc.memberKey(Lc);zd=Yc&&!kc.isPtr(rc)?Wc.argcProxy(Gc,Bd,rc,zd):rc;kc.isPtr(zd)?(zd&&!kc.functionEntry(zd)&&Tb("Pointer",zd,"is not a WASM function table entry."),Gc[Bd]=zd):(zd=kc.installFunction(zd,Gc.memberSignature(Lc,!0)),Gc[Bd]=zd,Gc.ondispose&&Gc.ondispose.__removeFuncList||(Gc.addOnDispose("ondispose.__removeFuncList handler",Wc.removeFuncList),Gc.ondispose.__removeFuncList=[]),Gc.ondispose.__removeFuncList.push(Bd,zd));return(Zc,ub)=>Wc(Gc,Zc,ub,Yc)};jb.installMethodArgcCheck=!1;const tb=
function(Gc,Lc,rc=jb.installMethodArgcCheck){const Yc=new Map;for(const zd of Object.keys(Lc)){var Wc=Lc[zd];const Bd=Yc.get(Wc);Bd?(Wc=Gc.memberKey(zd),Gc[Wc]=Gc[Gc.memberKey(Bd)]):(jb(Gc,zd,Wc,rc),Yc.set(Wc,zd))}return Gc};zb.StructType.prototype.installMethod=function(Gc,Lc,rc=jb.installMethodArgcCheck){return 3>arguments.length&&Gc&&"object"===typeof Gc?tb(this,...arguments):jb(this,...arguments)};zb.StructType.prototype.installMethods=function(Gc,Lc=jb.installMethodArgcCheck){return tb(this,
Gc,Lc)};Fb.sqlite3_vfs.prototype.registerVfs=function(Gc=!1){this instanceof fc.capi.sqlite3_vfs||Tb("Expecting a sqlite3_vfs-type argument.");(Gc=Fb.sqlite3_vfs_register(this,Gc?1:0))&&Tb("sqlite3_vfs_register(",this,") failed with rc",Gc);this.pointer!==Fb.sqlite3_vfs_find(this.$zName)&&Tb("BUG: sqlite3_vfs_find(vfs.$zName) failed for just-installed VFS",this);return this};Ib.installVfs=function(Gc){let Lc=0;const rc=["io","vfs"];for(const Yc of rc){const Wc=Gc[Yc];Wc&&(++Lc,tb(Wc.struct,Wc.methods,
!!Wc.applyArgcCheck),"vfs"===Yc&&(Wc.struct.$zName||"string"!==typeof Wc.name||Wc.struct.addOnDispose(Wc.struct.$zName=kc.allocCString(Wc.name)),Wc.struct.registerVfs(!!Wc.asDefault)))}Lc||Tb("Misuse: installVfs() options object requires at least","one of:",rc);return this};const Mb=function(Gc,Lc){return function(rc,Yc=!1){0===arguments.length&&(rc=new Lc);if(rc instanceof Lc)return this.set(rc.pointer,rc),rc;kc.isPtr(rc)||fc.SQLite3Error.toss("Invalid argument to",Gc+"()");let Wc=this.get(rc);Yc&&
this.delete(rc);return Wc}.bind(new Map)};Ib=function(Gc,Lc){const rc=Mb(Gc,Lc);return Object.assign(Object.create(null),{StructType:Lc,create:Yc=>{const Wc=rc();kc.pokePtr(Yc,Wc.pointer);return Wc},get:Yc=>rc(Yc),unget:Yc=>rc(Yc,!0),dispose:Yc=>{(Yc=rc(Yc,!0))&&Yc.dispose()}})};mb.xVtab=Ib("xVtab",Fb.sqlite3_vtab);mb.xCursor=Ib("xCursor",Fb.sqlite3_vtab_cursor);mb.xIndexInfo=Gc=>new Fb.sqlite3_index_info(Gc);mb.xError=function Wc(Lc,rc,Yc){if(Wc.errorReporter instanceof Function)try{Wc.errorReporter("sqlite3_module::"+
Lc+"(): "+rc.message)}catch(Bd){}let zd;rc instanceof fc.WasmAllocError?zd=Fb.SQLITE_NOMEM:2<arguments.length?zd=Yc:rc instanceof fc.SQLite3Error&&(zd=rc.resultCode);return zd||Fb.SQLITE_ERROR};mb.xError.errorReporter=console.error.bind(console);mb.xRowid=(Lc,rc)=>kc.poke(Lc,rc,"i64");mb.setupModule=function(Lc){let rc=!1;const Yc=this instanceof Fb.sqlite3_module?this:Lc.struct||(rc=new Fb.sqlite3_module);try{const Bd=Lc.methods||Tb("Missing 'methods' object.");for(var Wc of Object.entries({xConnect:"xCreate",
xDisconnect:"xDestroy"})){var zd=Wc[0];const Zc=Wc[1];!0===Bd[zd]?Bd[zd]=Bd[Zc]:!0===Bd[Zc]&&(Bd[Zc]=Bd[zd])}if(Lc.catchExceptions){Wc=function(ub,Ac){return 0<=["xConnect","xCreate"].indexOf(ub)?function(bc,Kc,Sc,Ec,mc,pc){try{return Ac(...arguments)||0}catch(uc){return uc instanceof fc.WasmAllocError||(kc.dealloc(kc.peekPtr(pc)),kc.pokePtr(pc,kc.allocCString(uc.message))),mb.xError(ub,uc)}}:function(...bc){try{return Ac(...bc)||0}catch(Kc){return mb.xError(ub,Kc)}}};zd="xCreate xConnect xBestIndex xDisconnect xDestroy xOpen xClose xFilter xNext xEof xColumn xRowid xUpdate xBegin xSync xCommit xRollback xFindFunction xRename xSavepoint xRelease xRollbackTo xShadowName".split(" ");
const Zc=Object.create(null);for(const ub of zd){const Ac=Bd[ub];Ac instanceof Function&&(Zc[ub]="xConnect"===ub&&Bd.xCreate===Ac?Bd.xCreate:"xCreate"===ub&&Bd.xConnect===Ac?Bd.xConnect:Wc(ub,Ac))}tb(Yc,Zc,!1)}else tb(Yc,Bd,!!Lc.applyArgcCheck);0===Yc.$iVersion&&(Yc.$iVersion="number"===typeof Lc.iVersion?Lc.iVersion:Yc.$xShadowName?3:Yc.$xSavePoint||Yc.$xRelease||Yc.$xRollbackTo?2:1)}catch(Bd){throw rc&&rc.dispose(),Bd;}return Yc};Fb.sqlite3_module.prototype.setupModule=function(Lc){return mb.setupModule.call(this,
Lc)}});"use strict";globalThis.sqlite3ApiBootstrap.initializers.push(function(fc){const kc=function Ib(Tb){var mb,zb;if(globalThis.SharedArrayBuffer&&globalThis.Atomics){if("undefined"===typeof WorkerGlobalScope)return Promise.reject(Error("The OPFS sqlite3_vfs cannot run in the main thread because it requires Atomics.wait()."));if(!(globalThis.FileSystemHandle&&globalThis.FileSystemDirectoryHandle&&globalThis.FileSystemFileHandle&&globalThis.FileSystemFileHandle.prototype.createSyncAccessHandle&&
null!==(mb=navigator)&&void 0!==mb&&null!==(zb=mb.storage)&&void 0!==zb&&zb.getDirectory))return Promise.reject(Error("Missing required OPFS APIs."))}else return Promise.reject(Error("Cannot install OPFS: Missing SharedArrayBuffer and/or Atomics. The server must emit the COOP/COEP response headers to enable those. See https://sqlite.org/wasm/doc/trunk/persistence.md#coop-coep"));Tb&&"object"===typeof Tb||(Tb=Object.create(null));mb=(new URL(globalThis.location.href)).searchParams;if(mb.has("opfs-disable"))return Promise.resolve(fc);
void 0===Tb.verbose&&(Tb.verbose=mb.has("opfs-verbose")?+mb.get("opfs-verbose")||2:1);void 0===Tb.sanityChecks&&(Tb.sanityChecks=mb.has("opfs-sanity-check"));void 0===Tb.proxyUri&&(Tb.proxyUri=Ib.defaultProxyUri);"function"===typeof Tb.proxyUri&&(Tb.proxyUri=Tb.proxyUri());return new Promise(function(Cb,jb){const tb=[fc.config.error,fc.config.warn,fc.config.log],Mb=(fb,...Ua)=>{if(Tb.verbose>fb)tb[fb]("OPFS syncer:",...Ua)},nc=(...fb)=>Mb(0,...fb),Gc=fc.util.toss,Lc=fc.capi,rc=fc.util,Yc=fc.wasm;
var Wc=Lc.sqlite3_vfs;const zd=Lc.sqlite3_file;var Bd=Lc.sqlite3_io_methods;const Zc=Object.create(null),ub=()=>{var fb,Ua;return globalThis.FileSystemHandle&&globalThis.FileSystemDirectoryHandle&&globalThis.FileSystemFileHandle&&globalThis.FileSystemFileHandle.prototype.createSyncAccessHandle&&(null===(fb=navigator)||void 0===fb?void 0:null===(Ua=fb.storage)||void 0===Ua?void 0:Ua.getDirectory)};Zc.metrics={dump:function(){let fb,Ua=0,pb=0,Gb=0;for(fb in pc.opIds){const Tc=uc[fb];Ua+=Tc.count;pb+=
Tc.time;Gb+=Tc.wait;Tc.avgTime=Tc.count&&Tc.time?Tc.time/Tc.count:0;Tc.avgWait=Tc.count&&Tc.wait?Tc.wait/Tc.count:0}fc.config.log(globalThis.location.href,"metrics for",globalThis.location.href,":",uc,"\nTotal of",Ua,"op(s) for",pb,"ms (incl. "+Gb+" ms of waiting on the async side)");fc.config.log("Serialization metrics:",uc.s11n);Ec.postMessage({type:"opfs-async-metrics"})},reset:function(){for(var fb in pc.opIds){var Ua=uc[fb]=Object.create(null);Ua.count=Ua.time=Ua.wait=0}fb=uc.s11n=Object.create(null);
fb=fb.serialize=Object.create(null);fb.count=fb.time=0;fb=uc.s11n.deserialize=Object.create(null);fb.count=fb.time=0}};const Ac=new Bd,bc=(new Wc).addOnDispose(()=>Ac.dispose());let Kc=void 0;const Sc=fb=>{Kc=!0;bc.dispose();return jb(fb)},Ec=new Worker(new URL("sqlite3-opfs-async-proxy.js",F));setTimeout(()=>{void 0===Kc&&Sc(Error("Timeout while waiting for OPFS async proxy worker."))},4E3);Ec._originalOnError=Ec.onerror;Ec.onerror=function(fb){Mb(0,...["Error initializing OPFS asyncer:",fb]);Sc(Error("Loading OPFS async Worker failed for unknown reasons."))};
const mc=(Bd=Lc.sqlite3_vfs_find(null))?new Wc(Bd):null;Ac.$iVersion=1;bc.$iVersion=2;bc.$szOsFile=Lc.sqlite3_file.structInfo.sizeof;bc.$mxPathname=1024;bc.$zName=Yc.allocCString("opfs");bc.$xDlOpen=bc.$xDlError=bc.$xDlSym=bc.$xDlClose=null;bc.addOnDispose("$zName",bc.$zName,"cleanup default VFS wrapper",()=>mc?mc.dispose():null);const pc=Object.create(null);pc.verbose=Tb.verbose;pc.littleEndian=(()=>{const fb=new ArrayBuffer(2);(new DataView(fb)).setInt16(0,256,!0);return 256===(new Int16Array(fb))[0]})();
pc.asyncIdleWaitTime=150;pc.asyncS11nExceptions=1;pc.fileBufferSize=65536;pc.sabS11nOffset=pc.fileBufferSize;pc.sabS11nSize=2*bc.$mxPathname;pc.sabIO=new SharedArrayBuffer(pc.fileBufferSize+pc.sabS11nSize);pc.opIds=Object.create(null);const uc=Object.create(null);Wc=0;pc.opIds.whichOp=Wc++;pc.opIds.rc=Wc++;pc.opIds.xAccess=Wc++;pc.opIds.xClose=Wc++;pc.opIds.xDelete=Wc++;pc.opIds.xDeleteNoWait=Wc++;pc.opIds.xFileSize=Wc++;pc.opIds.xLock=Wc++;pc.opIds.xOpen=Wc++;pc.opIds.xRead=Wc++;pc.opIds.xSleep=
Wc++;pc.opIds.xSync=Wc++;pc.opIds.xTruncate=Wc++;pc.opIds.xUnlock=Wc++;pc.opIds.xWrite=Wc++;pc.opIds.mkdir=Wc++;pc.opIds["opfs-async-metrics"]=Wc++;pc.opIds["opfs-async-shutdown"]=Wc++;pc.opIds.retry=Wc++;pc.sabOP=new SharedArrayBuffer(4*Wc);Zc.metrics.reset();pc.sq3Codes=Object.create(null);"SQLITE_ACCESS_EXISTS SQLITE_ACCESS_READWRITE SQLITE_BUSY SQLITE_ERROR SQLITE_IOERR SQLITE_IOERR_ACCESS SQLITE_IOERR_CLOSE SQLITE_IOERR_DELETE SQLITE_IOERR_FSYNC SQLITE_IOERR_LOCK SQLITE_IOERR_READ SQLITE_IOERR_SHORT_READ SQLITE_IOERR_TRUNCATE SQLITE_IOERR_UNLOCK SQLITE_IOERR_WRITE SQLITE_LOCK_EXCLUSIVE SQLITE_LOCK_NONE SQLITE_LOCK_PENDING SQLITE_LOCK_RESERVED SQLITE_LOCK_SHARED SQLITE_LOCKED SQLITE_MISUSE SQLITE_NOTFOUND SQLITE_OPEN_CREATE SQLITE_OPEN_DELETEONCLOSE SQLITE_OPEN_MAIN_DB SQLITE_OPEN_READONLY".split(" ").forEach(fb=>
{void 0===(pc.sq3Codes[fb]=Lc[fb])&&Gc("Maintenance required: not found:",fb)});pc.opfsFlags=Object.assign(Object.create(null),{OPFS_UNLOCK_ASAP:1,defaultUnlockAsap:!1});const Kb=(fb,...Ua)=>{var pb=pc.opIds[fb]||Gc("Invalid op ID:",fb);pc.s11n.serialize(...Ua);Atomics.store(pc.sabOPView,pc.opIds.rc,-1);Atomics.store(pc.sabOPView,pc.opIds.whichOp,pb);Atomics.notify(pc.sabOPView,pc.opIds.whichOp);pb=performance.now();Atomics.wait(pc.sabOPView,pc.opIds.rc,-1);Ua=Atomics.load(pc.sabOPView,pc.opIds.rc);
uc[fb].wait+=performance.now()-pb;Ua&&pc.asyncS11nExceptions&&(pb=pc.s11n.deserialize())&&nc(fb+"() async error:",...pb);return Ua};Zc.debug={asyncShutdown:()=>{Mb(1,...["Shutting down OPFS async listener. The OPFS VFS will no longer work."]);Kb("opfs-async-shutdown")},asyncRestart:()=>{Mb(1,...["Attempting to restart OPFS VFS async listener. Might work, might not."]);Ec.postMessage({type:"opfs-async-restart"})}};const Cc=()=>{if(pc.s11n)return pc.s11n;const fb=new TextDecoder,Ua=new TextEncoder("utf-8"),
pb=new Uint8Array(pc.sabIO,pc.sabS11nOffset,pc.sabS11nSize),Gb=new DataView(pc.sabIO,pc.sabS11nOffset,pc.sabS11nSize);pc.s11n=Object.create(null);const Tc=Object.create(null);Tc.number={id:1,size:8,getter:"getFloat64",setter:"setFloat64"};Tc.bigint={id:2,size:8,getter:"getBigInt64",setter:"setBigInt64"};Tc.boolean={id:3,size:4,getter:"getInt32",setter:"setInt32"};Tc.string={id:4};const nd=wd=>{switch(wd){case Tc.number.id:return Tc.number;case Tc.bigint.id:return Tc.bigint;case Tc.boolean.id:return Tc.boolean;
case Tc.string.id:return Tc.string;default:Gc("Invalid type ID:",wd)}};pc.s11n.deserialize=function(wd=!1){++uc.s11n.deserialize.count;const Rd=performance.now(),de=pb[0],be=de?[]:null;if(de){const Ub=[];let wc=1,Vc;let gb;for(Vc=0;Vc<de;++Vc,++wc)Ub.push(nd(pb[wc]));for(Vc=0;Vc<de;++Vc){var Ed=Ub[Vc];Ed.getter?(gb=Gb[Ed.getter](wc,pc.littleEndian),wc+=Ed.size):(Ed=Gb.getInt32(wc,pc.littleEndian),wc+=4,gb=fb.decode(pb.slice(wc,wc+Ed)),wc+=Ed);be.push(gb)}}wd&&(pb[0]=0);uc.s11n.deserialize.time+=performance.now()-
Rd;return be};pc.s11n.serialize=function(...wd){const Rd=performance.now();++uc.s11n.serialize.count;if(wd.length){const Ub=[];let wc=0,Vc=1;for(pb[0]=wd.length&255;wc<wd.length;++wc,++Vc){var de=Ub,be=de.push;var Ed=wd[wc];Ed=Tc[typeof Ed]||Gc("Maintenance required: this value type cannot be serialized.",Ed);be.call(de,Ed);pb[Vc]=Ub[wc].id}for(wc=0;wc<wd.length;++wc)de=Ub[wc],de.setter?(Gb[de.setter](Vc,wd[wc],pc.littleEndian),Vc+=de.size):(de=Ua.encode(wd[wc]),Gb.setInt32(Vc,de.byteLength,pc.littleEndian),
Vc+=4,pb.set(de,Vc),Vc+=de.byteLength)}else pb[0]=0;uc.s11n.serialize.time+=performance.now()-Rd};return pc.s11n},$b=function pb(Ua=16){pb._chars||(pb._chars="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ012346789",pb._n=pb._chars.length);const Gb=[];let Tc=0;for(;Tc<Ua;++Tc)Gb[Tc]=pb._chars[64*Math.random()*pb._n%pb._n|0];return Gb.join("")},ob=Object.create(null),wb=Object.create(null);wb.op=void 0;wb.start=void 0;const Sa=Ua=>{wb.start=performance.now();wb.op=Ua;++uc[Ua].count},Hb=()=>uc[wb.op].time+=
performance.now()-wb.start,Jb={xCheckReservedLock:function(Ua,pb){Yc.poke(pb,ob[Ua].lockType?1:0,"i32");return 0},xClose:function(Ua){Sa("xClose");let pb=0;const Gb=ob[Ua];Gb&&(delete ob[Ua],pb=Kb("xClose",Ua),Gb.sq3File&&Gb.sq3File.dispose());Hb();return pb},xDeviceCharacteristics:function(Ua){return Lc.SQLITE_IOCAP_UNDELETABLE_WHEN_OPEN},xFileControl:function(Ua,pb,Gb){return Lc.SQLITE_NOTFOUND},xFileSize:function(Ua,pb){Sa("xFileSize");Ua=Kb("xFileSize",Ua);if(0==Ua)try{const Gb=pc.s11n.deserialize()[0];
Yc.poke(pb,Gb,"i64")}catch(Gb){Mb(0,...["Unexpected error reading xFileSize() result:",Gb]),Ua=pc.sq3Codes.SQLITE_IOERR}Hb();return Ua},xLock:function(Ua,pb){Sa("xLock");const Gb=ob[Ua];let Tc=0;Gb.lockType?Gb.lockType=pb:(Tc=Kb("xLock",Ua,pb),0===Tc&&(Gb.lockType=pb));Hb();return Tc},xRead:function(Ua,pb,Gb,Tc){Sa("xRead");const nd=ob[Ua];let wd;try{wd=Kb("xRead",Ua,Gb,Number(Tc)),0!==wd&&Lc.SQLITE_IOERR_SHORT_READ!==wd||Yc.heap8u().set(nd.sabView.subarray(0,Gb),pb)}catch(Rd){Mb(0,...["xRead(",arguments,
") failed:",Rd,nd]),wd=Lc.SQLITE_IOERR_READ}Hb();return wd},xSync:function(Ua,pb){Sa("xSync");++uc.xSync.count;Ua=Kb("xSync",Ua,pb);Hb();return Ua},xTruncate:function(Ua,pb){Sa("xTruncate");Ua=Kb("xTruncate",Ua,Number(pb));Hb();return Ua},xUnlock:function(Ua,pb){Sa("xUnlock");const Gb=ob[Ua];let Tc=0;Lc.SQLITE_LOCK_NONE===pb&&Gb.lockType&&(Tc=Kb("xUnlock",Ua,pb));0===Tc&&(Gb.lockType=pb);Hb();return Tc},xWrite:function(Ua,pb,Gb,Tc){Sa("xWrite");const nd=ob[Ua];let wd;try{nd.sabView.set(Yc.heap8u().subarray(pb,
pb+Gb)),wd=Kb("xWrite",Ua,Gb,Number(Tc))}catch(Rd){Mb(0,...["xWrite(",arguments,") failed:",Rd,nd]),wd=Lc.SQLITE_IOERR_WRITE}Hb();return wd}},Yb={xAccess:function(Ua,pb,Gb,Tc){Sa("xAccess");Ua=Kb("xAccess",Yc.cstrToJs(pb));Yc.poke(Tc,Ua?0:1,"i32");Hb();return 0},xCurrentTime:function(Ua,pb){Yc.poke(pb,2440587.5+(new Date).getTime()/864E5,"double");return 0},xCurrentTimeInt64:function(Ua,pb){Yc.poke(pb,21086676E7+(new Date).getTime(),"i64");return 0},xDelete:function(Ua,pb,Gb){Sa("xDelete");Ua=Kb("xDelete",
Yc.cstrToJs(pb),Gb,!1);Hb();return Ua},xFullPathname:function(Ua,pb,Gb,Tc){return Yc.cstrncpy(Tc,pb,Gb)<Gb?0:Lc.SQLITE_CANTOPEN},xGetLastError:function(Ua,pb,Gb){Mb(1,...["OPFS xGetLastError() has nothing sensible to return."]);return 0},xOpen:function(Ua,pb,Gb,Tc,nd){Sa("xOpen");let wd=0;0===pb?pb=$b():"number"===typeof pb&&(Lc.sqlite3_uri_boolean(pb,"opfs-unlock-asap",0)&&(wd|=pc.opfsFlags.OPFS_UNLOCK_ASAP),pb=Yc.cstrToJs(pb));Ua=Object.create(null);Ua.fid=Gb;Ua.filename=pb;Ua.sab=new SharedArrayBuffer(pc.fileBufferSize);
Ua.flags=Tc;pb=Kb("xOpen",Gb,pb,Tc,wd);pb||(Ua.readOnly&&Yc.poke(nd,Lc.SQLITE_OPEN_READONLY,"i32"),ob[Gb]=Ua,Ua.sabView=pc.sabFileBufView,Ua.sq3File=new zd(Gb),Ua.sq3File.$pMethods=Ac.pointer,Ua.lockType=Lc.SQLITE_LOCK_NONE);Hb();return pb}};mc&&(bc.$xRandomness=mc.$xRandomness,bc.$xSleep=mc.$xSleep);bc.$xRandomness||(Yb.xRandomness=function(Ua,pb,Gb){Ua=Yc.heap8u();let Tc=0;for(;Tc<pb;++Tc)Ua[Gb+Tc]=255E3*Math.random()&255;return Tc});bc.$xSleep||(Yb.xSleep=function(Ua,pb){Atomics.wait(pc.sabOPView,
pc.opIds.xSleep,0,pb);return 0});Zc.getResolvedPath=function(Ua,pb){Ua=(new URL(Ua,"file://irrelevant")).pathname;return pb?Ua.split("/").filter(Gb=>!!Gb):Ua};Zc.getDirForFilename=async function(Ua,pb=!1){Ua=Zc.getResolvedPath(Ua,!0);const Gb=Ua.pop();let Tc=Zc.rootDirectory;for(const nd of Ua)nd&&(Tc=await Tc.getDirectoryHandle(nd,{create:!!pb}));return[Tc,Gb]};Zc.mkdir=async function(Ua){try{return await Zc.getDirForFilename(Ua+"/filepart",!0),!0}catch(pb){return!1}};Zc.entryExists=async function(Ua){try{const [pb,
Gb]=await Zc.getDirForFilename(Ua);await pb.getFileHandle(Gb);return!0}catch(pb){return!1}};Zc.randomFilename=$b;Zc.registerVfs=(Ua=!1)=>Yc.exports.sqlite3_vfs_register(bc.pointer,Ua?1:0);Zc.treeList=async function(){const Ua=Object.create(null);await async function nd(Gb,Tc){Tc.name=Gb.name;Tc.dirs=[];Tc.files=[];for await(const wd of Gb.values())"directory"===wd.kind?(Gb=Object.create(null),Tc.dirs.push(Gb),await nd(wd,Gb)):Tc.files.push(wd.name)}(Zc.rootDirectory,Ua);return Ua};Zc.rmfr=async function(){const Ua=
Zc.rootDirectory,pb={recurse:!0};for await(const Gb of Ua.values())Ua.removeEntry(Gb.name,pb)};Zc.unlink=async function(Ua,pb=!1,Gb=!1){try{const [Tc,nd]=await Zc.getDirForFilename(Ua,!1);await Tc.removeEntry(nd,{recursive:pb});return!0}catch(Tc){if(Gb)throw Error("unlink(",Ua,") failed: "+Tc.message,{cause:Tc});return!1}};Zc.traverse=async function(Ua){const pb={recursive:!0,directory:Zc.rootDirectory};"function"===typeof Ua&&(Ua={callback:Ua});Ua=Object.assign(pb,Ua||{});(async function wd(Tc,nd){for await(const Rd of Tc.values()){if(!1===
Ua.callback(Rd,Tc,nd))return!1;if(Ua.recursive&&"directory"===Rd.kind&&!1===await wd(Rd,nd+1))break}})(Ua.directory,0)};const Ic=async function(Ua,pb){const [Gb,Tc]=await Zc.getDirForFilename(Ua,!0);Ua=await (await Gb.getFileHandle(Tc,{create:!0})).createSyncAccessHandle();let nd=0,wd,Rd=!1;try{for(Ua.truncate(0);void 0!==(wd=await pb());)wd instanceof ArrayBuffer&&(wd=new Uint8Array(wd)),0===nd&&15<=wd.byteLength&&(rc.affirmDbHeader(wd),Rd=!0),Ua.write(wd,{at:nd}),nd+=wd.byteLength;(512>nd||0!==
nd%512)&&Gc("Input size",nd,"is not correct for an SQLite database.");if(!Rd){const de=new Uint8Array(20);Ua.read(de,{at:0});rc.affirmDbHeader(de)}Ua.write(new Uint8Array([1,1]),{at:18});return nd}catch(de){throw await Ua.close(),Ua=void 0,await Gb.removeEntry(Tc).catch(()=>{}),de;}finally{Ua&&await Ua.close()}};Zc.importDb=async function(Ua,pb){if(pb instanceof Function)return Ic(Ua,pb);pb instanceof ArrayBuffer&&(pb=new Uint8Array(pb));rc.affirmIsDb(pb);const Gb=pb.byteLength,[Tc,nd]=await Zc.getDirForFilename(Ua,
!0);let wd;Ua=0;try{return wd=await (await Tc.getFileHandle(nd,{create:!0})).createSyncAccessHandle(),wd.truncate(0),Ua=wd.write(pb,{at:0}),Ua!=Gb&&Gc("Expected to write "+Gb+" bytes but wrote "+Ua+"."),wd.write(new Uint8Array([1,1]),{at:18}),Ua}catch(Rd){throw wd&&(await wd.close(),wd=void 0),await Tc.removeEntry(nd).catch(()=>{}),Rd;}finally{wd&&await wd.close()}};fc.oo1&&(Wc=function(...Ua){Ua=fc.oo1.DB.dbCtorHelper.normalizeArgs(...Ua);Ua.vfs=bc.$zName;fc.oo1.DB.dbCtorHelper.call(this,Ua)},Wc.prototype=
Object.create(fc.oo1.DB.prototype),fc.oo1.OpfsDb=Wc,Wc.importDb=Zc.importDb,fc.oo1.DB.dbCtorHelper.setVfsPostOpenSql(bc.pointer,function(Ua,pb){pb.capi.sqlite3_busy_timeout(Ua,1E4);pb.capi.sqlite3_exec(Ua,["pragma journal_mode\x3dDELETE;","pragma cache_size\x3d-16384;"],0,0,0)}));const db=function(){const Ua=Yc.scopedAllocPush(),pb=new zd;try{const nd=pb.pointer,wd=Lc.SQLITE_OPEN_CREATE|Lc.SQLITE_OPEN_READWRITE|Lc.SQLITE_OPEN_MAIN_DB,Rd=Yc.scopedAlloc(8),de="/sanity/check/file"+$b(8),be=Yc.scopedAllocCString(de);
let Ed;pc.s11n.serialize("This is  string.");Ed=pc.s11n.deserialize();Mb(2,...["deserialize() says:",Ed]);"This is  string."!==Ed[0]&&Gc("String d13n error.");Yb.xAccess(bc.pointer,be,0,Rd);Ed=Yc.peek(Rd,"i32");Mb(2,...["xAccess(",de,") exists ?\x3d",Ed]);Ed=Yb.xOpen(bc.pointer,be,nd,wd,Rd);Mb(2,...["open rc \x3d",Ed,"state.sabOPView[xOpen] \x3d",pc.sabOPView[pc.opIds.xOpen]]);if(0!==Ed)Mb(0,...["open failed with code",Ed]);else{Yb.xAccess(bc.pointer,be,0,Rd);(Ed=Yc.peek(Rd,"i32"))||Gc("xAccess() failed to detect file.");
(Ed=Jb.xSync(pb.pointer,0))&&Gc("sync failed w/ rc",Ed);(Ed=Jb.xTruncate(pb.pointer,1024))&&Gc("truncate failed w/ rc",Ed);Yc.poke(Rd,0,"i64");(Ed=Jb.xFileSize(pb.pointer,Rd))&&Gc("xFileSize failed w/ rc",Ed);Mb(2,...["xFileSize says:",Yc.peek(Rd,"i64")]);(Ed=Jb.xWrite(pb.pointer,be,10,1))&&Gc("xWrite() failed!");var Gb=Yc.scopedAlloc(16);Ed=Jb.xRead(pb.pointer,Gb,6,2);Yc.poke(Gb+6,0);var Tc=Yc.cstrToJs(Gb);Mb(2,...["xRead() got:",Tc]);"sanity"!==Tc&&Gc("Unexpected xRead() value.");Yb.xSleep&&(Mb(2,
...["xSleep()ing before close()ing..."]),Yb.xSleep(bc.pointer,2E3),Mb(2,...["waking up from xSleep()"]));Ed=Jb.xClose(nd);Mb(2,...["xClose rc \x3d",Ed,"sabOPView \x3d",pc.sabOPView]);Mb(2,...["Deleting file:",de]);Yb.xDelete(bc.pointer,be,4660);Yb.xAccess(bc.pointer,be,0,Rd);(Ed=Yc.peek(Rd,"i32"))&&Gc("Expecting 0 from xAccess(",de,") after xDelete().");Mb(1,...["End of OPFS sanity checks."])}}finally{pb.dispose(),Yc.scopedAllocPop(Ua)}};Ec.onmessage=function({data:Ua}){switch(Ua.type){case "opfs-unavailable":Sc(Error(Ua.payload.join(" ")));
break;case "opfs-async-loaded":Ec.postMessage({type:"opfs-async-init",args:pc});break;case "opfs-async-inited":if(!0===Kc)break;try{fc.vfs.installVfs({io:{struct:Ac,methods:Jb},vfs:{struct:bc,methods:Yb}}),pc.sabOPView=new Int32Array(pc.sabOP),pc.sabFileBufView=new Uint8Array(pc.sabIO,0,pc.fileBufferSize),pc.sabS11nView=new Uint8Array(pc.sabIO,pc.sabS11nOffset,pc.sabS11nSize),Cc(),Tb.sanityChecks&&(Mb(1,...["Running sanity checks because of opfs-sanity-check URL arg..."]),db()),ub()?navigator.storage.getDirectory().then(pb=>
{Ec.onerror=Ec._originalOnError;delete Ec._originalOnError;fc.opfs=Zc;Zc.rootDirectory=pb;Mb(2,...["End of OPFS sqlite3_vfs setup.",bc]);Kc=!1;Cb(fc)}).catch(Sc):(Kc=!1,Cb(fc))}catch(pb){Mb(0,...[pb]),Sc(pb)}break;default:Ua="Unexpected message from the OPFS async worker: "+JSON.stringify(Ua),Mb(0,...[Ua]),Sc(Error(Ua))}}})};kc.defaultProxyUri="sqlite3-opfs-async-proxy.js";globalThis.sqlite3ApiBootstrap.initializersAsync.push(async Tb=>{try{let Ib=kc.defaultProxyUri;Tb.scriptInfo.sqlite3Dir&&(kc.defaultProxyUri=
Tb.scriptInfo.sqlite3Dir+Ib);return kc().catch(mb=>{Tb.config.warn("Ignoring inability to install OPFS sqlite3_vfs:",mb.message)})}catch(Ib){return Tb.config.error("installOpfsVfs() exception:",Ib),Promise.reject(Ib)}})});globalThis.sqlite3ApiBootstrap.initializers.push(function(fc){function kc(Jb,...Yb){if(w(this,Cc)>Jb)Gc[Jb](this.vfsName+":",...Yb)}const Fb=fc.util.toss,Tb=fc.util.toss3,Ib=Object.create(null),mb=fc.capi,zb=fc.util,Cb=fc.wasm,jb=mb.SQLITE_OPEN_MAIN_DB|mb.SQLITE_OPEN_MAIN_JOURNAL|
mb.SQLITE_OPEN_SUPER_JOURNAL|mb.SQLITE_OPEN_WAL,tb=new TextDecoder,Mb=new TextEncoder,nc=Object.assign(Object.create(null),{name:"opfs-sahpool",directory:void 0,initialCapacity:6,clearOnInit:!1,verbosity:2}),Gc=[fc.config.error,fc.config.warn,fc.config.log],Lc=fc.config.warn,rc=new Map,Yc=(Jb,Yb)=>{Yb?rc.set(Jb,Yb):rc.delete(Jb)},Wc=new Map,zd=new mb.sqlite3_io_methods;zd.$iVersion=1;fc.vfs.installVfs({io:{struct:zd,methods:{xCheckReservedLock:function(Jb,Yb){Jb=Wc.get(Jb);Jb.log("xCheckReservedLock");
Jb.storeErr();Cb.poke32(Yb,1);return 0},xClose:function(Jb){const Yb=Wc.get(Jb);Yb.storeErr();const Ic=Yb.getOFileForS3File(Jb);if(Ic)try{Yb.log(`xClose ${Ic.path}`),Yb.mapS3FileToOFile(Jb,!1),Ic.sah.flush(),Ic.flags&mb.SQLITE_OPEN_DELETEONCLOSE&&Yb.deletePath(Ic.path)}catch(db){return Yb.storeErr(db,mb.SQLITE_IOERR)}return 0},xDeviceCharacteristics:function(Jb){return mb.SQLITE_IOCAP_UNDELETABLE_WHEN_OPEN},xFileControl:function(Jb,Yb,Ic){return mb.SQLITE_NOTFOUND},xFileSize:function(Jb,Yb){const Ic=
Wc.get(Jb);Ic.log("xFileSize");Jb=Ic.getOFileForS3File(Jb).sah.getSize()-4096;Cb.poke64(Yb,BigInt(Jb));return 0},xLock:function(Jb,Yb){const Ic=Wc.get(Jb);Ic.log(`xLock ${Yb}`);Ic.storeErr();Ic.getOFileForS3File(Jb).lockType=Yb;return 0},xRead:function(Jb,Yb,Ic,db){const fb=Wc.get(Jb);fb.storeErr();Jb=fb.getOFileForS3File(Jb);fb.log(`xRead ${Jb.path} ${Ic} @ ${db}`);try{const Ua=Jb.sah.read(Cb.heap8u().subarray(Yb,Yb+Ic),{at:4096+Number(db)});return Ua<Ic?(Cb.heap8u().fill(0,Yb+Ua,Yb+Ic),mb.SQLITE_IOERR_SHORT_READ):
0}catch(Ua){return fb.storeErr(Ua,mb.SQLITE_IOERR)}},xSectorSize:function(Jb){return 4096},xSync:function(Jb,Yb){const Ic=Wc.get(Jb);Ic.log(`xSync ${Yb}`);Ic.storeErr();Jb=Ic.getOFileForS3File(Jb);try{return Jb.sah.flush(),0}catch(db){return Ic.storeErr(db,mb.SQLITE_IOERR)}},xTruncate:function(Jb,Yb){const Ic=Wc.get(Jb);Ic.log(`xTruncate ${Yb}`);Ic.storeErr();Jb=Ic.getOFileForS3File(Jb);try{return Jb.sah.truncate(4096+Number(Yb)),0}catch(db){return Ic.storeErr(db,mb.SQLITE_IOERR)}},xUnlock:function(Jb,
Yb){const Ic=Wc.get(Jb);Ic.log("xUnlock");Ic.getOFileForS3File(Jb).lockType=Yb;return 0},xWrite:function(Jb,Yb,Ic,db){const fb=Wc.get(Jb);fb.storeErr();Jb=fb.getOFileForS3File(Jb);fb.log(`xWrite ${Jb.path} ${Ic} ${db}`);try{const Ua=Jb.sah.write(Cb.heap8u().subarray(Yb,Yb+Ic),{at:4096+Number(db)});return Ic===Ua?0:Fb("Unknown write() failure.")}catch(Ua){return fb.storeErr(Ua,mb.SQLITE_IOERR)}}}}});const Bd={xAccess:function(Jb,Yb,Ic,db){Jb=rc.get(Jb);Jb.storeErr();try{const fb=Jb.getPath(Yb);Cb.poke32(db,
Jb.hasFilename(fb)?1:0)}catch(fb){Cb.poke32(db,0)}return 0},xCurrentTime:function(Jb,Yb){Cb.poke(Yb,2440587.5+(new Date).getTime()/864E5,"double");return 0},xCurrentTimeInt64:function(Jb,Yb){Cb.poke(Yb,21086676E7+(new Date).getTime(),"i64");return 0},xDelete:function(Jb,Yb,Ic){Jb=rc.get(Jb);Jb.log(`xDelete ${Cb.cstrToJs(Yb)}`);Jb.storeErr();try{return Jb.deletePath(Jb.getPath(Yb)),0}catch(db){return Jb.storeErr(db),mb.SQLITE_IOERR_DELETE}},xFullPathname:function(Jb,Yb,Ic,db){return Cb.cstrncpy(db,
Yb,Ic)<Ic?0:mb.SQLITE_CANTOPEN},xGetLastError:function(Jb,Yb,Ic){var db=rc.get(Jb);Jb=db.popErr();db.log(`xGetLastError ${Yb} e =`,Jb);if(Jb){db=Cb.scopedAllocPush();try{const [fb,Ua]=Cb.scopedAllocCString(Jb.message,!0);Cb.cstrncpy(Ic,fb,Yb);Ua>Yb&&Cb.poke8(Ic+Yb-1,0)}catch(fb){return mb.SQLITE_NOMEM}finally{Cb.scopedAllocPop(db)}}return Jb?Jb.sqlite3Rc||mb.SQLITE_IOERR:0},xOpen:function(Jb,Yb,Ic,db,fb){Jb=rc.get(Jb);try{Jb.log(`xOpen ${Cb.cstrToJs(Yb)} ${db}`);const Ua=Yb&&Cb.peek8(Yb)?Jb.getPath(Yb):
Math.random().toString(36).slice(2);let pb=Jb.getSAHForPath(Ua);!pb&&db&mb.SQLITE_OPEN_CREATE&&(Jb.getFileCount()<Jb.getCapacity()?(pb=Jb.nextAvailableSAH(),Jb.setAssociatedPath(pb,Ua,db)):Fb("SAH pool is full. Cannot create file",Ua));pb||Fb("file not found:",Ua);Yb={path:Ua,flags:db,sah:pb};Jb.mapS3FileToOFile(Ic,Yb);Yb.lockType=mb.SQLITE_LOCK_NONE;const Gb=new mb.sqlite3_file(Ic);Gb.$pMethods=zd.pointer;Gb.dispose();Cb.poke32(fb,db);return 0}catch(Ua){return Jb.storeErr(Ua),mb.SQLITE_CANTOPEN}}},
Zc=function(Jb){fc.capi.sqlite3_vfs_find(Jb)&&Tb("VFS name is already registered:",Jb);const Yb=new mb.sqlite3_vfs;var Ic=mb.sqlite3_vfs_find(null);Ic=Ic?new mb.sqlite3_vfs(Ic):null;Yb.$iVersion=2;Yb.$szOsFile=mb.sqlite3_file.structInfo.sizeof;Yb.$mxPathname=512;Yb.addOnDispose(Yb.$zName=Cb.allocCString(Jb),()=>Yc(Yb.pointer,0));Ic&&(Yb.$xRandomness=Ic.$xRandomness,Yb.$xSleep=Ic.$xSleep,Ic.dispose());Yb.$xRandomness||Bd.xRandomness||(Bd.xRandomness=function(db,fb,Ua){db=Cb.heap8u();let pb=0;for(;pb<
fb;++pb)db[Ua+pb]=255E3*Math.random()&255;return pb});Yb.$xSleep||Bd.xSleep||(Bd.xSleep=(db,fb)=>0);fc.vfs.installVfs({vfs:{struct:Yb,methods:Bd}});return Yb};var ub=new WeakMap,Ac=new WeakMap,bc=new WeakMap,Kc=new WeakMap,Sc=new WeakMap,Ec=new WeakMap,mc=new WeakMap,pc=new WeakMap,uc=new WeakMap,Kb=new WeakMap,Cc=new WeakMap,$b=new WeakSet;class ob{constructor(Jb=Object.create(null)){x(this,$b);r(this,"vfsDir",void 0);X(this,ub,{writable:!0,value:void 0});X(this,Ac,{writable:!0,value:void 0});X(this,
bc,{writable:!0,value:void 0});X(this,Kc,{writable:!0,value:new Map});X(this,Sc,{writable:!0,value:new Map});X(this,Ec,{writable:!0,value:new Set});X(this,mc,{writable:!0,value:new Map});X(this,pc,{writable:!0,value:new Uint8Array(516)});X(this,uc,{writable:!0,value:void 0});X(this,Kb,{writable:!0,value:void 0});X(this,Cc,{writable:!0,value:void 0});A(this,Cc,Jb.verbosity??nc.verbosity);this.vfsName=Jb.name||nc.name;A(this,Kb,Zc(this.vfsName));Yc(w(this,Kb).pointer,this);this.vfsDir=Jb.directory||
"."+this.vfsName;A(this,uc,new DataView(w(this,pc).buffer,w(this,pc).byteOffset));this.isReady=this.reset(!!(Jb.clearOnInit??nc.clearOnInit)).then(()=>{if(this.$error)throw this.$error;return this.getCapacity()?Promise.resolve(void 0):this.addCapacity(Jb.initialCapacity||nc.initialCapacity)})}log(...Jb){c(this,$b,kc).call(this,2,...Jb)}warn(...Jb){c(this,$b,kc).call(this,1,...Jb)}error(...Jb){c(this,$b,kc).call(this,0,...Jb)}getVfs(){return w(this,Kb)}getCapacity(){return w(this,Kc).size}getFileCount(){return w(this,
Sc).size}getFileNames(){const Jb=[],Yb=w(this,Sc).keys();for(const Ic of Yb)Jb.push(Ic);return Jb}async addCapacity(Jb){for(let Yb=0;Yb<Jb;++Yb){const Ic=Math.random().toString(36).slice(2),db=await (await w(this,Ac).getFileHandle(Ic,{create:!0})).createSyncAccessHandle();w(this,Kc).set(db,Ic);this.setAssociatedPath(db,"",0)}return this.getCapacity()}async reduceCapacity(Jb){let Yb=0;for(const Ic of Array.from(w(this,Ec))){if(Yb===Jb||this.getFileCount()===this.getCapacity())break;const db=w(this,
Kc).get(Ic);Ic.close();await w(this,Ac).removeEntry(db);w(this,Kc).delete(Ic);w(this,Ec).delete(Ic);++Yb}return Yb}releaseAccessHandles(){for(const Jb of w(this,Kc).keys())Jb.close();w(this,Kc).clear();w(this,Sc).clear();w(this,Ec).clear()}async acquireAccessHandles(Jb){const Yb=[];for await(const [Ic,db]of w(this,Ac))"file"===db.kind&&Yb.push([Ic,db]);return Promise.all(Yb.map(async([Ic,db])=>{try{const fb=await db.createSyncAccessHandle();w(this,Kc).set(fb,Ic);if(Jb)fb.truncate(4096),this.setAssociatedPath(fb,
"",0);else{const Ua=this.getAssociatedPath(fb);Ua?w(this,Sc).set(Ua,fb):w(this,Ec).add(fb)}}catch(fb){throw this.storeErr(fb),this.releaseAccessHandles(),fb;}}))}getAssociatedPath(Jb){Jb.read(w(this,pc),{at:0});var Yb=w(this,uc).getUint32(512);if(w(this,pc)[0]&&(Yb&mb.SQLITE_OPEN_DELETEONCLOSE||0===(Yb&jb)))return Lc(`Removing file with unexpected flags ${Yb.toString(16)}`,w(this,pc)),this.setAssociatedPath(Jb,"",0),"";Yb=new Uint32Array(2);Jb.read(Yb,{at:516});const Ic=this.computeDigest(w(this,
pc));if(Yb.every((db,fb)=>db===Ic[fb]))return Yb=w(this,pc).findIndex(db=>0===db),0===Yb&&Jb.truncate(4096),Yb?tb.decode(w(this,pc).subarray(0,Yb)):"";Lc("Disassociating file with bad digest.");this.setAssociatedPath(Jb,"",0);return""}setAssociatedPath(Jb,Yb,Ic){const db=Mb.encodeInto(Yb,w(this,pc));512<=db.written+1&&Fb("Path too long:",Yb);w(this,pc).fill(0,db.written,512);w(this,uc).setUint32(512,Ic);Ic=this.computeDigest(w(this,pc));Jb.write(w(this,pc),{at:0});Jb.write(Ic,{at:516});Jb.flush();
Yb?(w(this,Sc).set(Yb,Jb),w(this,Ec).delete(Jb)):(Jb.truncate(4096),w(this,Ec).add(Jb))}computeDigest(Jb){let Yb=3735928559,Ic=1103547991;for(const db of Jb)Yb=31*Yb+307*db,Ic=31*Ic+307*db;return new Uint32Array([Yb>>>0,Ic>>>0])}async reset(Jb){await this.isReady;let Yb=await navigator.storage.getDirectory(),Ic;for(const db of this.vfsDir.split("/"))db&&(Ic=Yb,Yb=await Yb.getDirectoryHandle(db,{create:!0}));A(this,ub,Yb);A(this,bc,Ic);A(this,Ac,await w(this,ub).getDirectoryHandle(".opaque",{create:!0}));
this.releaseAccessHandles();return this.acquireAccessHandles(Jb)}getPath(Jb){Cb.isPtr(Jb)&&(Jb=Cb.cstrToJs(Jb));return(Jb instanceof URL?Jb:new URL(Jb,"file://localhost/")).pathname}deletePath(Jb){const Yb=w(this,Sc).get(Jb);Yb&&(w(this,Sc).delete(Jb),this.setAssociatedPath(Yb,"",0));return!!Yb}storeErr(Jb,Yb){Jb&&(Jb.sqlite3Rc=Yb||mb.SQLITE_IOERR,this.error(Jb));this.$error=Jb;return Yb}popErr(){const Jb=this.$error;this.$error=void 0;return Jb}nextAvailableSAH(){const [Jb]=w(this,Ec).keys();return Jb}getOFileForS3File(Jb){return w(this,
mc).get(Jb)}mapS3FileToOFile(Jb,Yb){Yb?(w(this,mc).set(Jb,Yb),this?Wc.set(Jb,this):Wc.delete(Jb)):(w(this,mc).delete(Jb),Wc.delete(Jb))}hasFilename(Jb){return w(this,Sc).has(Jb)}getSAHForPath(Jb){return w(this,Sc).get(Jb)}async removeVfs(){if(!w(this,Kb).pointer||!w(this,Ac))return!1;mb.sqlite3_vfs_unregister(w(this,Kb).pointer);w(this,Kb).dispose();try{this.releaseAccessHandles(),await w(this,ub).removeEntry(".opaque",{recursive:!0}),A(this,Ac,void 0),await w(this,bc).removeEntry(w(this,ub).name,
{recursive:!0}),A(this,ub,A(this,bc,void 0)),delete Ib[this.vfsName]}catch(Jb){fc.config.error(this.vfsName,"removeVfs() failed:",Jb)}return!0}exportFile(Jb){var Yb=w(this,Sc).get(Jb)||Fb("File not found:",Jb);Jb=Yb.getSize()-4096;const Ic=new Uint8Array(0<Jb?Jb:0);0<Jb&&(Yb=Yb.read(Ic,{at:4096}),Yb!=Jb&&Fb("Expected to read "+Jb+" bytes but read "+Yb+"."));return Ic}async importDbChunked(Jb,Yb){const Ic=w(this,Sc).get(Jb)||this.nextAvailableSAH()||Fb("No available handles to import to.");Ic.truncate(0);
let db=0,fb,Ua=!1;try{for(;void 0!==(fb=await Yb());)fb instanceof ArrayBuffer&&(fb=new Uint8Array(fb)),0===db&&15<=fb.byteLength&&(zb.affirmDbHeader(fb),Ua=!0),Ic.write(fb,{at:4096+db}),db+=fb.byteLength;(512>db||0!==db%512)&&Fb("Input size",db,"is not correct for an SQLite database.");if(!Ua){const pb=new Uint8Array(20);Ic.read(pb,{at:0});zb.affirmDbHeader(pb)}Ic.write(new Uint8Array([1,1]),{at:4114})}catch(pb){throw this.setAssociatedPath(Ic,"",0),pb;}this.setAssociatedPath(Ic,Jb,mb.SQLITE_OPEN_MAIN_DB);
return db}importDb(Jb,Yb){if(Yb instanceof ArrayBuffer)Yb=new Uint8Array(Yb);else if(Yb instanceof Function)return this.importDbChunked(Jb,Yb);const Ic=w(this,Sc).get(Jb)||this.nextAvailableSAH()||Fb("No available handles to import to."),db=Yb.byteLength;(512>db||0!=db%512)&&Fb("Byte array size is invalid for an SQLite db.");for(let fb=0;15>fb;++fb)"SQLite format 3".charCodeAt(fb)!==Yb[fb]&&Fb("Input does not contain an SQLite database header.");Yb=Ic.write(Yb,{at:4096});Yb!=db?(this.setAssociatedPath(Ic,
"",0),Fb("Expected to write "+db+" bytes but wrote "+Yb+".")):(Ic.write(new Uint8Array([1,1]),{at:4114}),this.setAssociatedPath(Ic,Jb,mb.SQLITE_OPEN_MAIN_DB));return Yb}}var wb=new WeakMap;class Sa{constructor(Jb){X(this,wb,{writable:!0,value:void 0});A(this,wb,Jb);this.vfsName=Jb.vfsName}async addCapacity(Jb){return w(this,wb).addCapacity(Jb)}async reduceCapacity(Jb){return w(this,wb).reduceCapacity(Jb)}getCapacity(){return w(this,wb).getCapacity(w(this,wb))}getFileCount(){return w(this,wb).getFileCount()}getFileNames(){return w(this,
wb).getFileNames()}async reserveMinimumCapacity(Jb){const Yb=w(this,wb).getCapacity();return Yb<Jb?w(this,wb).addCapacity(Jb-Yb):Yb}exportFile(Jb){return w(this,wb).exportFile(Jb)}importDb(Jb,Yb){return w(this,wb).importDb(Jb,Yb)}async wipeFiles(){return w(this,wb).reset(!0)}unlink(Jb){return w(this,wb).deletePath(Jb)}releaseAccessHandles(){return w(this,wb).releaseAccessHandles()}async acquireAccessHandles(){return w(this,wb).acquireAccessHandles(!1)}async removeVfs(){return w(this,wb).removeVfs()}}
const Hb=async()=>{const Jb=await navigator.storage.getDirectory(),Yb=".opfs-sahpool-sync-check-"+Math.random().toString(36).slice(2),Ic=(await (await Jb.getFileHandle(Yb,{create:!0})).createSyncAccessHandle()).close();await Ic;await Jb.removeEntry(Yb);null!==Ic&&void 0!==Ic&&Ic.then&&Fb("The local OPFS API is too old for opfs-sahpool:","it has an async FileSystemSyncAccessHandle.close() method.");return!0};fc.installOpfsSAHPoolVfs=async function(Jb=Object.create(null)){var Yb,Ic;const db=Jb.name||
nc.name;return Ib[db]?Ib[db]:globalThis.FileSystemHandle&&globalThis.FileSystemDirectoryHandle&&globalThis.FileSystemFileHandle&&globalThis.FileSystemFileHandle.prototype.createSyncAccessHandle&&null!==(Yb=navigator)&&void 0!==Yb&&null!==(Ic=Yb.storage)&&void 0!==Ic&&Ic.getDirectory?Ib[db]=Hb().then(async function(){if(Jb.$testThrowInInit)throw Jb.$testThrowInInit;const fb=new ob(Jb);return fb.isReady.then(async()=>{const Ua=new Sa(fb);if(fc.oo1){const pb=fc.oo1,Gb=fb.getVfs(),Tc=function(...nd){nd=
pb.DB.dbCtorHelper.normalizeArgs(...nd);nd.vfs=Gb.$zName;pb.DB.dbCtorHelper.call(this,nd)};Tc.prototype=Object.create(pb.DB.prototype);Ua.OpfsSAHPoolDb=Tc;pb.DB.dbCtorHelper.setVfsPostOpenSql(Gb.pointer,function(nd,wd){wd.capi.sqlite3_exec(nd,["pragma journal_mode\x3dDELETE;","pragma cache_size\x3d-16384;"],0,0,0)})}fb.log("VFS initialized.");return Ua}).catch(async Ua=>{await fb.removeVfs().catch(()=>{});return Ua})}).catch(fb=>Ib[db]=Promise.reject(fb)):Ib[db]=Promise.reject(Error("Missing required OPFS APIs."))}});
"use strict";if("undefined"!==typeof Ya){const fc=Object.assign(Object.create(null),{exports:"undefined"===typeof wasmExports?Ya.asm:wasmExports,memory:Ya.wasmMemory},globalThis.sqlite3ApiConfig||{});globalThis.sqlite3ApiConfig=fc;let kc;try{kc=globalThis.sqlite3ApiBootstrap()}catch(Fb){throw console.error("sqlite3ApiBootstrap() error:",Fb),Fb;}finally{delete globalThis.sqlite3ApiBootstrap,delete globalThis.sqlite3ApiConfig}Ya.sqlite3=kc}else console.warn("This is not running in an Emscripten module context, so",
"globalThis.sqlite3ApiBootstrap() is _not_ being called due to lack","of config info for the WASM environment.","It must be called manually.")});return Q.ready})();G=function(){var Q,g;const h=G;if(!h)throw Error("Expecting globalThis.sqlite3InitModule to be defined by the Emscripten build.");const b=globalThis.sqlite3InitModuleState=Object.assign(Object.create(null),{moduleScript:null===globalThis||void 0===globalThis?void 0:null===(Q=globalThis.document)||void 0===Q?void 0:Q.currentScript,isWorker:"undefined"!==
typeof WorkerGlobalScope,location:globalThis.location,urlParams:null!==globalThis&&void 0!==globalThis&&null!==(g=globalThis.location)&&void 0!==g&&g.href?(new URL(globalThis.location.href)).searchParams:new URLSearchParams});b.debugModule=b.urlParams.has("sqlite3.debugModule")?(...k)=>console.warn("sqlite3.debugModule:",...k):()=>{};b.urlParams.has("sqlite3.dir")?b.sqlite3Dir=b.urlParams.get("sqlite3.dir")+"/":b.moduleScript&&(Q=b.moduleScript.src.split("/"),Q.pop(),b.sqlite3Dir=Q.join("/")+"/");
globalThis.sqlite3InitModule=function m(...l){return h(...l).then(E=>{E=E.sqlite3;E.scriptInfo=b;m.__isUnderTest&&(E.__isUnderTest=!0);const y=E.asyncPostInit;delete E.asyncPostInit;return y()}).catch(E=>{console.error("Exception loading sqlite3 module:",E);throw E;})};globalThis.sqlite3InitModule.ready=h.ready;globalThis.sqlite3InitModuleState.moduleScript&&(Q=globalThis.sqlite3InitModuleState,g=Q.moduleScript.src.split("/"),g.pop(),Q.scriptDir=g.join("/")+"/");b.debugModule("sqlite3InitModuleState \x3d",
b);return globalThis.sqlite3InitModule}();K.default=G};
shadow$provide[618]=function(za,ca,ab,K){globalThis.sqlite3Worker1Promiser=function B(X=B.defaultConfig){if(1===arguments.length&&"function"===typeof arguments[0]){var r=X;X=Object.assign(Object.create(null),B.defaultConfig);X.onready=r}else X=Object.assign(Object.create(null),B.defaultConfig,X);const c=Object.create(null);r=function(){};const w=X.onerror||r,A=X.debug||r,C=X.generateMessageId?void 0:Object.create(null),G=X.generateMessageId||function(h){return h.type+"#"+(C[h.type]=(C[h.type]||0)+
1)},Q=(...h)=>{throw Error(h.join(" "));};X.worker||(X.worker=B.defaultConfig.worker);"function"===typeof X.worker&&(X.worker=X.worker());let g;X.worker.onmessage=function(h){h=h.data;A("worker1.onmessage",h);let b=c[h.messageId];if(b){delete c[h.messageId];switch(h.type){case "error":b.reject(h);return;case "open":g||(g=h.dbId);break;case "close":h.dbId===g&&(g=void 0)}try{b.resolve(h)}catch(k){b.reject(k)}}else if(h&&"sqlite3-api"===h.type&&"worker1-ready"===h.result){if(X.onready)X.onready()}else if((b=
c[h.type])&&b.onrow)b.onrow(h);else if(X.onunhandled)X.onunhandled(h);else w("sqlite3Worker1Promiser() unhandled worker message:",h)};return function(){let h;1===arguments.length?h=arguments[0]:2===arguments.length?(h=Object.create(null),h.type=arguments[0],h.args=arguments[1]):Q("Invalid arugments for sqlite3Worker1Promiser()-created factory.");h.dbId||(h.dbId=g);h.messageId=G(h);h.departureTime=performance.now();const b=Object.create(null);b.message=h;let k;"exec"===h.type&&h.args&&("function"===
typeof h.args.callback?(k=h.messageId+":row",b.onrow=h.args.callback,h.args.callback=k,c[k]=b):"string"===typeof h.args.callback&&Q("exec callback may not be a string when using the Promise interface."));let l=new Promise(function(m,E){b.resolve=m;b.reject=E;c[h.messageId]=b;A("Posting",h.type,"message to Worker dbId\x3d"+(g||"default")+":",h);X.worker.postMessage(h)});k&&(l=l.finally(()=>delete c[k]));return l}};globalThis.sqlite3Worker1Promiser.defaultConfig={worker:function(){return new Worker(new URL("sqlite3-worker1-bundler-friendly.mjs",
Module.url),{type:"module"})},onerror:(...X)=>console.error("worker1 promiser error",...X)}};
shadow$provide[619]=function(za,ca,ab,K){Object.defineProperty(K,"__esModule",{value:!0});K.sqlite3Worker1Promiser=K.default=void 0;za=(za=ca(617))&&za.__esModule?za:{default:za};ca(618);K.sqlite3Worker1Promiser=self.sqlite3Worker1Promiser;K.default=za.default};
shadow$provide[620]=function(za,ca,ab,K){function x(qa){"@babel/helpers - typeof";x="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(ra){return typeof ra}:function(ra){return ra&&"function"===typeof Symbol&&ra.constructor===Symbol&&ra!==Symbol.prototype?"symbol":typeof ra};return x(qa)}function X(qa,ra){if(!(qa instanceof ra))throw new TypeError("Cannot call a class as a function");}function B(qa,ra){for(var Ra=0;Ra<ra.length;Ra++){var Va=ra[Ra];Va.enumerable=Va.enumerable||
!1;Va.configurable=!0;"value"in Va&&(Va.writable=!0);Object.defineProperty(qa,Va.key,Va)}}function r(qa,ra,Ra){ra&&B(qa.prototype,ra);Ra&&B(qa,Ra);return qa}function c(qa,ra,Ra){ra in qa?Object.defineProperty(qa,ra,{value:Ra,enumerable:!0,configurable:!0,writable:!0}):qa[ra]=Ra;return qa}function w(qa,ra){var Ra=Object.keys(qa);if(Object.getOwnPropertySymbols){var Va=Object.getOwnPropertySymbols(qa);ra&&(Va=Va.filter(function(Xa){return Object.getOwnPropertyDescriptor(qa,Xa).enumerable}));Ra.push.apply(Ra,
Va)}return Ra}function A(qa){for(var ra=1;ra<arguments.length;ra++){var Ra=null!=arguments[ra]?arguments[ra]:{};ra%2?w(Object(Ra),!0).forEach(function(Va){c(qa,Va,Ra[Va])}):Object.getOwnPropertyDescriptors?Object.defineProperties(qa,Object.getOwnPropertyDescriptors(Ra)):w(Object(Ra)).forEach(function(Va){Object.defineProperty(qa,Va,Object.getOwnPropertyDescriptor(Ra,Va))})}return qa}function C(qa,ra){if("function"!==typeof ra&&null!==ra)throw new TypeError("Super expression must either be null or a function");
qa.prototype=Object.create(ra&&ra.prototype,{constructor:{value:qa,writable:!0,configurable:!0}});ra&&Q(qa,ra)}function G(qa){G=Object.setPrototypeOf?Object.getPrototypeOf:function(ra){return ra.__proto__||Object.getPrototypeOf(ra)};return G(qa)}function Q(qa,ra){Q=Object.setPrototypeOf||function(Ra,Va){Ra.__proto__=Va;return Ra};return Q(qa,ra)}function g(){if("undefined"===typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,
[],function(){})),!0}catch(qa){return!1}}function h(qa){var ra=g();return function(){var Ra=G(qa);if(ra){var Va=G(this).constructor;Ra=Reflect.construct(Ra,arguments,Va)}else Ra=Ra.apply(this,arguments);if(!Ra||"object"!==typeof Ra&&"function"!==typeof Ra){if(void 0===this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");Ra=this}return Ra}}function b(qa){var ra=Array.isArray(qa)?k(qa):void 0;ra||(ra="undefined"!==typeof Symbol&&Symbol.iterator in Object(qa)?Array.from(qa):
void 0);if(!ra)a:{if(qa){if("string"===typeof qa){ra=k(qa,void 0);break a}ra=Object.prototype.toString.call(qa).slice(8,-1);"Object"===ra&&qa.constructor&&(ra=qa.constructor.name);if("Map"===ra||"Set"===ra){ra=Array.from(qa);break a}if("Arguments"===ra||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ra)){ra=k(qa,void 0);break a}}ra=void 0}if(!(qa=ra))throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
return qa}function k(qa,ra){if(null==ra||ra>qa.length)ra=qa.length;for(var Ra=0,Va=Array(ra);Ra<ra;Ra++)Va[Ra]=qa[Ra];return Va}function l(qa){return Array.isArray?Array.isArray(qa):"[object Array]"===y(qa)}function m(qa){return"string"===typeof qa}function E(qa){return void 0!==qa&&null!==qa}function y(qa){return null==qa?void 0===qa?"[object Undefined]":"[object Null]":Object.prototype.toString.call(qa)}function t(qa){var ra=1;if(m(qa)||l(qa)){var Ra=qa;var Va=p(qa);qa=e(qa)}else{if(!ja.call(qa,
"name"))throw Error("Missing ".concat("name"," property in key"));var Xa=qa.name;Ra=Xa;if(ja.call(qa,"weight")&&(ra=qa.weight,0>=ra))throw Error("Property 'weight' in key '".concat(Xa,"' must be a positive integer"));Va=p(Xa);qa=e(Xa)}return{path:Va,id:qa,weight:ra,src:Ra}}function p(qa){return l(qa)?qa:qa.split(".")}function e(qa){return l(qa)?qa.join("."):qa}function I(){var qa=0<arguments.length&&void 0!==arguments[0]?arguments[0]:3,ra=new Map,Ra=Math.pow(10,qa);return{get:function(Va){Va=Va.match(ba).length;
if(ra.has(Va))return ra.get(Va);var Xa=parseFloat(Math.round(1/Math.sqrt(Va)*Ra)/Ra);ra.set(Va,Xa);return Xa},clear:function(){ra.clear()}}}function z(qa,ra){var Ra=(2<arguments.length&&void 0!==arguments[2]?arguments[2]:{}).getFn;Ra=new Y({getFn:void 0===Ra?aa.getFn:Ra});Ra.setKeys(qa.map(t));Ra.setSources(ra);Ra.create();return Ra}function M(qa){var ra=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},Ra=ra.errors,Va=ra.currentLocation,Xa=ra.expectedLocation,Qa=ra.distance;Qa=void 0===Qa?
aa.distance:Qa;ra=ra.ignoreLocation;Ra=(void 0===Ra?0:Ra)/qa.length;if(void 0===ra?aa.ignoreLocation:ra)return Ra;Va=Math.abs((void 0===Xa?0:Xa)-(void 0===Va?0:Va));return Qa?Ra+Va/Qa:Va?1:Ra}function V(){for(var qa=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],ra=1<arguments.length&&void 0!==arguments[1]?arguments[1]:aa.minMatchCharLength,Ra=[],Va=-1,Xa,Qa=0,bb=qa.length;Qa<bb;Qa+=1)(Xa=qa[Qa])&&-1===Va?Va=Qa:Xa||-1===Va||(Xa=Qa-1,Xa-Va+1>=ra&&Ra.push([Va,Xa]),Va=-1);qa[Qa-1]&&Qa-Va>=
ra&&Ra.push([Va,Qa-1]);return Ra}function J(qa,ra,Ra){var Va=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{},Xa=Va.location,Qa=void 0===Xa?aa.location:Xa;Xa=Va.distance;Xa=void 0===Xa?aa.distance:Xa;var bb=Va.threshold,nb=void 0===bb?aa.threshold:bb;bb=Va.findAllMatches;bb=void 0===bb?aa.findAllMatches:bb;var Rb=Va.minMatchCharLength;Rb=void 0===Rb?aa.minMatchCharLength:Rb;var Lb=Va.includeMatches;Lb=void 0===Lb?aa.includeMatches:Lb;Va=Va.ignoreLocation;Va=void 0===Va?aa.ignoreLocation:
Va;if(32<ra.length)throw Error("Pattern length exceeds max of ".concat(32,"."));var Ea=ra.length,sb=qa.length;Qa=Math.max(0,Math.min(Qa,sb));for(var kb=nb,Za=Qa,lb=(nb=1<Rb||Lb)?Array(sb):[],$a;-1<($a=qa.indexOf(ra,Za));)if(Za=M(ra,{currentLocation:$a,expectedLocation:Qa,distance:Xa,ignoreLocation:Va}),kb=Math.min(Za,kb),Za=$a+Ea,nb)for(var ec=0;ec<Ea;)lb[$a+ec]=1,ec+=1;Za=-1;$a=[];ec=1;for(var ed=Ea+sb,bd=1<<Ea-1,Oc=0;Oc<Ea;Oc+=1){for(var Qc=0,Wa=ed;Qc<Wa;)M(ra,{errors:Oc,currentLocation:Qa+Wa,expectedLocation:Qa,
distance:Xa,ignoreLocation:Va})<=kb?Qc=Wa:ed=Wa,Wa=Math.floor((ed-Qc)/2+Qc);ed=Wa;Qc=Math.max(1,Qa-Wa+1);var Ya=bb?sb:Math.min(Qa+Wa,sb)+Ea;Wa=Array(Ya+2);for(Wa[Ya+1]=(1<<Oc)-1;Ya>=Qc;--Ya){var Db=Ya-1,vb=Ra[qa.charAt(Db)];nb&&(lb[Db]=+!!vb);Wa[Ya]=(Wa[Ya+1]<<1|1)&vb;Oc&&(Wa[Ya]=Wa[Ya]|($a[Ya+1]|$a[Ya])<<1|1|$a[Ya+1]);if(Wa[Ya]&bd&&(ec=M(ra,{errors:Oc,currentLocation:Db,expectedLocation:Qa,distance:Xa,ignoreLocation:Va}),ec<=kb)){kb=ec;Za=Db;if(Za<=Qa)break;Qc=Math.max(1,2*Qa-Za)}}if(M(ra,{errors:Oc+
1,currentLocation:Qa,expectedLocation:Qa,distance:Xa,ignoreLocation:Va})>kb)break;$a=Wa}Xa={isMatch:0<=Za,score:Math.max(.001,ec)};nb&&((bb=V(lb,Rb),bb.length)?Lb&&(Xa.indices=bb):Xa.isMatch=!1);return Xa}function R(qa,ra){return(qa=qa.match(ra))?qa[1]:null}function P(qa){var ra=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return qa.split("|").map(function(Ra){Ra=Ra.trim().split(Ma).filter(function(sb){return sb&&!!sb.trim()});for(var Va=[],Xa=0,Qa=Ra.length;Xa<Qa;Xa+=1){for(var bb=Ra[Xa],
nb=!1,Rb=-1;!nb&&++Rb<Ja;){var Lb=Aa[Rb],Ea=Lb.isMultiMatch(bb);Ea&&(Va.push(new Lb(Ea,ra)),nb=!0)}if(!nb)for(Rb=-1;++Rb<Ja;)if(nb=Aa[Rb],Lb=nb.isSingleMatch(bb)){Va.push(new nb(Lb,ra));break}}return Va})}function T(qa,ra){for(var Ra=0,Va=Ha.length;Ra<Va;Ra+=1){var Xa=Ha[Ra];if(Xa.condition(qa,ra))return new Xa(qa,ra)}return new ia(qa,ra)}function u(qa,ra){var Ra=(2<arguments.length&&void 0!==arguments[2]?arguments[2]:{}).auto,Va=void 0===Ra?!0:Ra;qa[Pa]||qa[Da]||(qa=xa(qa));return function bb(Qa){var nb=
Object.keys(Qa),Rb=!!Qa[na.PATH];if(!Rb&&1<nb.length&&!Qa[Pa]&&!Qa[Da])return bb(xa(Qa));if(ma(Qa)){nb=Rb?Qa[na.PATH]:nb[0];Rb=Rb?Qa[na.PATTERN]:Qa[nb];if(!m(Rb))throw Error("Invalid value for key ".concat(nb));nb={keyId:e(nb),pattern:Rb};Va&&(nb.searcher=T(Rb,ra));return nb}var Lb={children:[],operator:nb[0]};nb.forEach(function(Ea){Ea=Qa[Ea];l(Ea)&&Ea.forEach(function(sb){Lb.children.push(bb(sb))})});return Lb}(qa)}function F(qa,ra){ra=ra.ignoreFieldNorm;var Ra=void 0===ra?aa.ignoreFieldNorm:ra;
qa.forEach(function(Va){var Xa=1;Va.matches.forEach(function(Qa){var bb=Qa.key,nb=Qa.norm;Qa=Qa.score;bb=bb?bb.weight:null;Xa*=Math.pow(0===Qa&&bb?Number.EPSILON:Qa,(bb||1)*(Ra?1:nb))});Va.score=Xa})}function H(qa,ra){qa=qa.matches;ra.matches=[];E(qa)&&qa.forEach(function(Ra){if(E(Ra.indices)&&Ra.indices.length){var Va={indices:Ra.indices,value:Ra.value};Ra.key&&(Va.key=Ra.key.src);-1<Ra.idx&&(Va.refIndex=Ra.idx);ra.matches.push(Va)}})}function N(qa,ra){ra.score=qa.score}function O(qa,ra){var Ra=
2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},Va=Ra.includeMatches;Ra=Ra.includeScore;Ra=void 0===Ra?aa.includeScore:Ra;var Xa=[];(void 0===Va?aa.includeMatches:Va)&&Xa.push(H);Ra&&Xa.push(N);return qa.map(function(Qa){var bb=Qa.idx,nb={item:ra[bb],refIndex:bb};Xa.length&&Xa.forEach(function(Rb){Rb(Qa,nb)});return nb})}var L=1/0,ja=Object.prototype.hasOwnProperty,W=function(){function qa(ra){var Ra=this;X(this,qa);this._keys=[];this._keyMap={};var Va=0;ra.forEach(function(Xa){Xa=t(Xa);
Va+=Xa.weight;Ra._keys.push(Xa);Ra._keyMap[Xa.id]=Xa;Va+=Xa.weight});this._keys.forEach(function(Xa){Xa.weight/=Va})}r(qa,[{key:"get",value:function(ra){return this._keyMap[ra]}},{key:"keys",value:function(){return this._keys}},{key:"toJSON",value:function(){return JSON.stringify(this._keys)}}]);return qa}(),aa=A({},{isCaseSensitive:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:function(qa,ra){return qa.score===ra.score?qa.idx<ra.idx?-1:1:qa.score<ra.score?-1:1}},{},{includeMatches:!1,findAllMatches:!1,
minMatchCharLength:1},{},{location:0,threshold:.6,distance:100},{},{useExtendedSearch:!1,getFn:function(qa,ra){var Ra=[],Va=!1;(function Rb(Qa,bb,nb){if(E(Qa))if(bb[nb]){if(Qa=Qa[bb[nb]],E(Qa)){var Lb;if(Lb=nb===bb.length-1)(Lb=m(Qa)||"number"===typeof Qa)||(Lb=!0===Qa||!1===Qa)||(Lb="object"===x(Qa)&&null!==Qa&&"[object Boolean]"==y(Qa));if(Lb)bb=Ra.push,null==Qa?Qa="":"string"!=typeof Qa&&(nb=Qa+"",Qa="0"==nb&&1/Qa==-L?"-0":nb),bb.call(Ra,Qa);else if(l(Qa)){Va=!0;Lb=0;for(var Ea=Qa.length;Lb<Ea;Lb+=
1)Rb(Qa[Lb],bb,nb+1)}else bb.length&&Rb(Qa,bb,nb+1)}}else Ra.push(Qa)})(qa,m(ra)?ra.split("."):ra,0);return Va?Ra:Ra[0]},ignoreLocation:!1,ignoreFieldNorm:!1}),ba=/[^ ]+/g,Y=function(){function qa(){var ra=(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}).getFn;ra=void 0===ra?aa.getFn:ra;X(this,qa);this.norm=I(3);this.getFn=ra;this.isCreated=!1;this.setIndexRecords()}r(qa,[{key:"setSources",value:function(){this.docs=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[]}},{key:"setIndexRecords",
value:function(){this.records=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[]}},{key:"setKeys",value:function(){var ra=this,Ra=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[];this.keys=Ra;this._keysMap={};Ra.forEach(function(Va,Xa){ra._keysMap[Va.id]=Xa})}},{key:"create",value:function(){var ra=this;!this.isCreated&&this.docs.length&&(this.isCreated=!0,m(this.docs[0])?this.docs.forEach(function(Ra,Va){ra._addString(Ra,Va)}):this.docs.forEach(function(Ra,Va){ra._addObject(Ra,Va)}),
this.norm.clear())}},{key:"add",value:function(ra){var Ra=this.size();m(ra)?this._addString(ra,Ra):this._addObject(ra,Ra)}},{key:"removeAt",value:function(ra){this.records.splice(ra,1);for(var Ra=this.size();ra<Ra;ra+=1)--this.records[ra].i}},{key:"getValueForItemAtKeyId",value:function(ra,Ra){return ra[this._keysMap[Ra]]}},{key:"size",value:function(){return this.records.length}},{key:"_addString",value:function(ra,Ra){E(ra)&&ra.trim().length&&(ra={v:ra,i:Ra,n:this.norm.get(ra)},this.records.push(ra))}},
{key:"_addObject",value:function(ra,Ra){var Va=this,Xa={i:Ra,$:{}};this.keys.forEach(function(Qa,bb){var nb=Va.getFn(ra,Qa.path);E(nb)&&(l(nb)?function(){for(var Rb=[],Lb=[{nestedArrIndex:-1,value:nb}];Lb.length;){var Ea=Lb.pop(),sb=Ea.nestedArrIndex;Ea=Ea.value;E(Ea)&&(m(Ea)&&Ea.trim().length?(sb={v:Ea,i:sb,n:Va.norm.get(Ea)},Rb.push(sb)):l(Ea)&&Ea.forEach(function(kb,Za){Lb.push({nestedArrIndex:Za,value:kb})}))}Xa.$[bb]=Rb}():nb.trim().length&&(Qa={v:nb,n:Va.norm.get(nb)},Xa.$[bb]=Qa))});this.records.push(Xa)}},
{key:"toJSON",value:function(){return{keys:this.keys,records:this.records}}}]);return qa}(),ia=function(){function qa(ra){var Ra=this,Va=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},Xa=Va.location;Xa=void 0===Xa?aa.location:Xa;var Qa=Va.threshold;Qa=void 0===Qa?aa.threshold:Qa;var bb=Va.distance;bb=void 0===bb?aa.distance:bb;var nb=Va.includeMatches;nb=void 0===nb?aa.includeMatches:nb;var Rb=Va.findAllMatches;Rb=void 0===Rb?aa.findAllMatches:Rb;var Lb=Va.minMatchCharLength;Lb=void 0===
Lb?aa.minMatchCharLength:Lb;var Ea=Va.isCaseSensitive;Ea=void 0===Ea?aa.isCaseSensitive:Ea;Va=Va.ignoreLocation;Va=void 0===Va?aa.ignoreLocation:Va;X(this,qa);this.options={location:Xa,threshold:Qa,distance:bb,includeMatches:nb,findAllMatches:Rb,minMatchCharLength:Lb,isCaseSensitive:Ea,ignoreLocation:Va};this.pattern=Ea?ra:ra.toLowerCase();this.chunks=[];if(this.pattern.length)if(Xa=function(sb,kb){for(var Za=Ra.chunks,lb=Za.push,$a={},ec=0,ed=sb.length;ec<ed;ec+=1){var bd=sb.charAt(ec);$a[bd]=($a[bd]||
0)|1<<ed-ec-1}lb.call(Za,{pattern:sb,alphabet:$a,startIndex:kb})},Va=this.pattern.length,32<Va){Qa=0;bb=Va%32;for(nb=Va-bb;Qa<nb;)Xa(this.pattern.substr(Qa,32),Qa),Qa+=32;bb&&(Va-=32,Xa(this.pattern.substr(Va),Va))}else Xa(this.pattern,0)}r(qa,[{key:"searchIn",value:function(ra){var Ra=this.options,Va=Ra.includeMatches;Ra.isCaseSensitive||(ra=ra.toLowerCase());if(this.pattern===ra)return Ra={isMatch:!0,score:0},Va&&(Ra.indices=[[0,ra.length-1]]),Ra;Ra=this.options;var Xa=Ra.location,Qa=Ra.distance,
bb=Ra.threshold,nb=Ra.findAllMatches,Rb=Ra.minMatchCharLength,Lb=Ra.ignoreLocation,Ea=[],sb=0,kb=!1;this.chunks.forEach(function(Za){var lb=J(ra,Za.pattern,Za.alphabet,{location:Xa+Za.startIndex,distance:Qa,threshold:bb,findAllMatches:nb,minMatchCharLength:Rb,includeMatches:Va,ignoreLocation:Lb});Za=lb.isMatch;var $a=lb.score;lb=lb.indices;Za&&(kb=!0);sb+=$a;Za&&lb&&(Ea=[].concat(b(Ea),b(lb)))});Ra={isMatch:kb,score:kb?sb/this.chunks.length:1};kb&&Va&&(Ra.indices=Ea);return Ra}}]);return qa}(),Z=
function(){function qa(ra){X(this,qa);this.pattern=ra}r(qa,[{key:"search",value:function(){}}],[{key:"isMultiMatch",value:function(ra){return R(ra,this.multiRegex)}},{key:"isSingleMatch",value:function(ra){return R(ra,this.singleRegex)}}]);return qa}();za=function(qa){function ra(Va){X(this,ra);return Ra.call(this,Va)}C(ra,qa);var Ra=h(ra);r(ra,[{key:"search",value:function(Va){Va=Va===this.pattern;return{isMatch:Va,score:Va?0:1,indices:[0,this.pattern.length-1]}}}],[{key:"type",get:function(){return"exact"}},
{key:"multiRegex",get:function(){return/^="(.*)"$/}},{key:"singleRegex",get:function(){return/^=(.*)$/}}]);return ra}(Z);ca=function(qa){function ra(Va){X(this,ra);return Ra.call(this,Va)}C(ra,qa);var Ra=h(ra);r(ra,[{key:"search",value:function(Va){var Xa=-1===Va.indexOf(this.pattern);return{isMatch:Xa,score:Xa?0:1,indices:[0,Va.length-1]}}}],[{key:"type",get:function(){return"inverse-exact"}},{key:"multiRegex",get:function(){return/^!"(.*)"$/}},{key:"singleRegex",get:function(){return/^!(.*)$/}}]);
return ra}(Z);K=function(qa){function ra(Va){X(this,ra);return Ra.call(this,Va)}C(ra,qa);var Ra=h(ra);r(ra,[{key:"search",value:function(Va){Va=Va.startsWith(this.pattern);return{isMatch:Va,score:Va?0:1,indices:[0,this.pattern.length-1]}}}],[{key:"type",get:function(){return"prefix-exact"}},{key:"multiRegex",get:function(){return/^\^"(.*)"$/}},{key:"singleRegex",get:function(){return/^\^(.*)$/}}]);return ra}(Z);var ha=function(qa){function ra(Va){X(this,ra);return Ra.call(this,Va)}C(ra,qa);var Ra=
h(ra);r(ra,[{key:"search",value:function(Va){var Xa=!Va.startsWith(this.pattern);return{isMatch:Xa,score:Xa?0:1,indices:[0,Va.length-1]}}}],[{key:"type",get:function(){return"inverse-prefix-exact"}},{key:"multiRegex",get:function(){return/^!\^"(.*)"$/}},{key:"singleRegex",get:function(){return/^!\^(.*)$/}}]);return ra}(Z),sa=function(qa){function ra(Va){X(this,ra);return Ra.call(this,Va)}C(ra,qa);var Ra=h(ra);r(ra,[{key:"search",value:function(Va){var Xa=Va.endsWith(this.pattern);return{isMatch:Xa,
score:Xa?0:1,indices:[Va.length-this.pattern.length,Va.length-1]}}}],[{key:"type",get:function(){return"suffix-exact"}},{key:"multiRegex",get:function(){return/^"(.*)"\$$/}},{key:"singleRegex",get:function(){return/^(.*)\$$/}}]);return ra}(Z),ya=function(qa){function ra(Va){X(this,ra);return Ra.call(this,Va)}C(ra,qa);var Ra=h(ra);r(ra,[{key:"search",value:function(Va){var Xa=!Va.endsWith(this.pattern);return{isMatch:Xa,score:Xa?0:1,indices:[0,Va.length-1]}}}],[{key:"type",get:function(){return"inverse-suffix-exact"}},
{key:"multiRegex",get:function(){return/^!"(.*)"\$$/}},{key:"singleRegex",get:function(){return/^!(.*)\$$/}}]);return ra}(Z),ua=function(qa){function ra(Va){var Xa=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};var Qa=Xa.location;Qa=void 0===Qa?aa.location:Qa;var bb=Xa.threshold;bb=void 0===bb?aa.threshold:bb;var nb=Xa.distance;nb=void 0===nb?aa.distance:nb;var Rb=Xa.includeMatches;Rb=void 0===Rb?aa.includeMatches:Rb;var Lb=Xa.findAllMatches;Lb=void 0===Lb?aa.findAllMatches:Lb;var Ea=Xa.minMatchCharLength;
Ea=void 0===Ea?aa.minMatchCharLength:Ea;var sb=Xa.isCaseSensitive;sb=void 0===sb?aa.isCaseSensitive:sb;Xa=Xa.ignoreLocation;var kb=void 0===Xa?aa.ignoreLocation:Xa;X(this,ra);Xa=Ra.call(this,Va);Xa._bitapSearch=new ia(Va,{location:Qa,threshold:bb,distance:nb,includeMatches:Rb,findAllMatches:Lb,minMatchCharLength:Ea,isCaseSensitive:sb,ignoreLocation:kb});return Xa}C(ra,qa);var Ra=h(ra);r(ra,[{key:"search",value:function(Va){return this._bitapSearch.searchIn(Va)}}],[{key:"type",get:function(){return"fuzzy"}},
{key:"multiRegex",get:function(){return/^"(.*)"$/}},{key:"singleRegex",get:function(){return/^(.*)$/}}]);return ra}(Z);Z=function(qa){function ra(Va){X(this,ra);return Ra.call(this,Va)}C(ra,qa);var Ra=h(ra);r(ra,[{key:"search",value:function(Va){for(var Xa=0,Qa,bb=[],nb=this.pattern.length;-1<(Qa=Va.indexOf(this.pattern,Xa));)Xa=Qa+nb,bb.push([Qa,Xa-1]);Va=!!bb.length;return{isMatch:Va,score:Va?0:1,indices:bb}}}],[{key:"type",get:function(){return"include"}},{key:"multiRegex",get:function(){return/^'"(.*)"$/}},
{key:"singleRegex",get:function(){return/^'(.*)$/}}]);return ra}(Z);var Aa=[za,Z,K,ha,ya,sa,ca,ua],Ja=Aa.length,Ma=/ +(?=([^"]*"[^"]*")*[^"]*$)/,hb=new Set([ua.type,Z.type]);za=function(){function qa(ra){var Ra=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},Va=Ra.isCaseSensitive;Va=void 0===Va?aa.isCaseSensitive:Va;var Xa=Ra.includeMatches;Xa=void 0===Xa?aa.includeMatches:Xa;var Qa=Ra.minMatchCharLength;Qa=void 0===Qa?aa.minMatchCharLength:Qa;var bb=Ra.ignoreLocation;bb=void 0===bb?aa.ignoreLocation:
bb;var nb=Ra.findAllMatches;nb=void 0===nb?aa.findAllMatches:nb;var Rb=Ra.location;Rb=void 0===Rb?aa.location:Rb;var Lb=Ra.threshold;Lb=void 0===Lb?aa.threshold:Lb;Ra=Ra.distance;Ra=void 0===Ra?aa.distance:Ra;X(this,qa);this.query=null;this.options={isCaseSensitive:Va,includeMatches:Xa,minMatchCharLength:Qa,findAllMatches:nb,ignoreLocation:bb,location:Rb,threshold:Lb,distance:Ra};this.pattern=Va?ra:ra.toLowerCase();this.query=P(this.pattern,this.options)}r(qa,[{key:"searchIn",value:function(ra){var Ra=
this.query;if(!Ra)return{isMatch:!1,score:1};var Va=this.options,Xa=Va.includeMatches;ra=Va.isCaseSensitive?ra:ra.toLowerCase();var Qa;Va=[];for(var bb=0,nb=0,Rb=Ra.length;nb<Rb;nb+=1){for(var Lb=Ra[nb],Ea=Qa=Va.length=0,sb=Lb.length;Ea<sb;Ea+=1){var kb=Lb[Ea],Za=kb.search(ra),lb=Za.indices,$a=Za.score;if(Za.isMatch)Qa+=1,bb+=$a,Xa&&(hb.has(kb.constructor.type)?Va=[].concat(b(Va),b(lb)):Va.push(lb));else{Qa=bb=0;Va.length=0;break}}if(Qa)return ra={isMatch:!0,score:bb/Qa},Xa&&(ra.indices=Va),ra}return{isMatch:!1,
score:1}}}],[{key:"condition",value:function(ra,Ra){return Ra.useExtendedSearch}}]);return qa}();var Ha=[],Pa="$and",Da="$or",na={PATH:"$path",PATTERN:"$val"},ma=function(qa){return!l(qa)&&"object"===x(qa)&&!(qa[Pa]||qa[Da])},xa=function(qa){return c({},Pa,Object.keys(qa).map(function(ra){return c({},ra,qa[ra])}))};ca=function(){function qa(ra){var Ra=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},Va=2<arguments.length?arguments[2]:void 0;X(this,qa);this.options=A({},aa,{},Ra);this._keyStore=
new W(this.options.keys);this.setCollection(ra,Va)}r(qa,[{key:"setCollection",value:function(ra,Ra){this._docs=ra;if(Ra&&!(Ra instanceof Y))throw Error("Incorrect 'index' type");this._myIndex=Ra||z(this.options.keys,this._docs,{getFn:this.options.getFn})}},{key:"add",value:function(ra){E(ra)&&(this._docs.push(ra),this._myIndex.add(ra))}},{key:"remove",value:function(){for(var ra=0<arguments.length&&void 0!==arguments[0]?arguments[0]:function(){return!1},Ra=[],Va=0,Xa=this._docs.length;Va<Xa;Va+=1){var Qa=
this._docs[Va];ra(Qa,Va)&&(this.removeAt(Va),--Va,--Xa,Ra.push(Qa))}return Ra}},{key:"removeAt",value:function(ra){this._docs.splice(ra,1);this._myIndex.removeAt(ra)}},{key:"getIndex",value:function(){return this._myIndex}},{key:"search",value:function(ra){var Ra=(1<arguments.length&&void 0!==arguments[1]?arguments[1]:{}).limit;Ra=void 0===Ra?-1:Ra;var Va=this.options,Xa=Va.includeMatches,Qa=Va.includeScore,bb=Va.shouldSort,nb=Va.sortFn;Va=Va.ignoreFieldNorm;var Rb=m(ra)?m(this._docs[0])?this._searchStringList(ra):
this._searchObjectList(ra):this._searchLogical(ra);F(Rb,{ignoreFieldNorm:Va});bb&&Rb.sort(nb);"number"===typeof Ra&&-1<Ra&&(Rb=Rb.slice(0,Ra));return O(Rb,this._docs,{includeMatches:Xa,includeScore:Qa})}},{key:"_searchStringList",value:function(ra){var Ra=T(ra,this.options),Va=[];this._myIndex.records.forEach(function(Xa){var Qa=Xa.v,bb=Xa.i;Xa=Xa.n;if(E(Qa)){var nb=Ra.searchIn(Qa),Rb=nb.score,Lb=nb.indices;nb.isMatch&&Va.push({item:Qa,idx:bb,matches:[{score:Rb,value:Qa,norm:Xa,indices:Lb}]})}});
return Va}},{key:"_searchLogical",value:function(ra){var Ra=this,Va=u(ra,this.options),Xa=function sb(Rb,Lb,Ea){if(!Rb.children){var kb=Rb.keyId;Rb=Rb.searcher;return(Rb=Ra._findMatches({key:Ra._keyStore.get(kb),value:Ra._myIndex.getValueForItemAtKeyId(Lb,kb),searcher:Rb}))&&Rb.length?[{idx:Ea,item:Lb,matches:Rb}]:[]}switch(Rb.operator){case Pa:kb=[];for(var Za=0,lb=Rb.children.length;Za<lb;Za+=1){var $a=sb(Rb.children[Za],Lb,Ea);if($a.length)kb.push.apply(kb,b($a));else return[]}return kb;case Da:kb=
[];Za=0;for(lb=Rb.children.length;Za<lb;Za+=1)if($a=sb(Rb.children[Za],Lb,Ea),$a.length){kb.push.apply(kb,b($a));break}return kb}},Qa={},bb=[];this._myIndex.records.forEach(function(Rb){var Lb=Rb.$,Ea=Rb.i;E(Lb)&&(Rb=Xa(Va,Lb,Ea),Rb.length&&(Qa[Ea]||(Qa[Ea]={idx:Ea,item:Lb,matches:[]},bb.push(Qa[Ea])),Rb.forEach(function(sb){var kb;sb=sb.matches;(kb=Qa[Ea].matches).push.apply(kb,b(sb))})))});return bb}},{key:"_searchObjectList",value:function(ra){var Ra=this,Va=T(ra,this.options);ra=this._myIndex;
var Xa=ra.keys,Qa=[];ra.records.forEach(function(bb){var nb=bb.$;bb=bb.i;if(E(nb)){var Rb=[];Xa.forEach(function(Lb,Ea){Rb.push.apply(Rb,b(Ra._findMatches({key:Lb,value:nb[Ea],searcher:Va})))});Rb.length&&Qa.push({idx:bb,item:nb,matches:Rb})}});return Qa}},{key:"_findMatches",value:function(ra){var Ra=ra.key,Va=ra.value,Xa=ra.searcher;if(!E(Va))return[];var Qa=[];if(l(Va))Va.forEach(function(Lb){var Ea=Lb.v,sb=Lb.i;Lb=Lb.n;if(E(Ea)){var kb=Xa.searchIn(Ea),Za=kb.score,lb=kb.indices;kb.isMatch&&Qa.push({score:Za,
key:Ra,value:Ea,idx:sb,norm:Lb,indices:lb})}});else{ra=Va.v;Va=Va.n;var bb=Xa.searchIn(ra),nb=bb.score,Rb=bb.indices;bb.isMatch&&Qa.push({score:nb,key:Ra,value:ra,norm:Va,indices:Rb})}return Qa}}]);return qa}();ca.version="6.4.6";ca.createIndex=z;ca.parseIndex=function(qa){var ra=(1<arguments.length&&void 0!==arguments[1]?arguments[1]:{}).getFn,Ra=qa.keys,Va=qa.records;ra=new Y({getFn:void 0===ra?aa.getFn:ra});ra.setKeys(Ra);ra.setIndexRecords(Va);return ra};ca.config=aa;ca.parseQuery=u;(function(){Ha.push.apply(Ha,
arguments)})(za);ab.exports=ca};
'use strict';var QKd=function(a){if(null!=a&&null!=a.Zq)a=a.Zq(a);else{var b=QKd[$APP.ca(null==a?null:a)];if(null!=b)a=b.C?b.C(a):b.call(null,a);else if(b=QKd._,null!=b)a=b.C?b.C(a):b.call(null,a);else throw $APP.wb("Transformer.-transformer-chain",a);}return a},RKd=function(a,b){if(null!=a&&null!=a.it)a=a.it(a,b);else{var c=RKd[$APP.ca(null==a?null:a)];if(null!=c)a=c.A?c.A(a,b):c.call(null,a,b);else if(c=RKd._,null!=c)a=c.A?c.A(a,b):c.call(null,a,b);else throw $APP.wb("IStorage.-restore",a);}return a},
SKd=function(a){return"string"===typeof a&&$APP.sa(a,"logseq_local_")},TKd=function(){if("undefined"===typeof $APP.lp||"undefined"===typeof $APP.Up||"undefined"===typeof t$)t$=function(a){this.Iy=a;this.V=393216;this.aa=0},t$.prototype.ga=function(a,b){return new t$(b)},t$.prototype.fa=function(){return this.Iy},t$.prototype.Cu=$APP.Yb,t$.prototype.Zq=function(){return null},t$.prototype.$q=function(){return null},t$.Ca=!0,t$.Aa="malli.core/t_malli$core35324",t$.Ea=function(a){return $APP.Kb(a,"malli.core/t_malli$core35324")};
return new t$($APP.lf)},UKd=function(a,b,c,d,e){return $APP.jh(d,function(f,g,h){var k=$APP.Fb(f);c.F?c.F(k,g,h):c.call(null,k,g,h);$APP.Kb(g," ");f=$APP.Gb(f);return c.F?c.F(f,g,h):c.call(null,f,g,h)},[$APP.t.C(a),"\n{"].join(""),"\n","}",e,$APP.y(b))},VKd=function(a){if(a instanceof $APP.N){var b=$APP.Pe(a);return $APP.n(b)?[b,"/",$APP.Tg(a)].join(""):$APP.Tg(a)}return a},u$=function(a){return $APP.Ch.F($APP.Q4a,$APP.Zi,a)},WKd=function(a){var b=$APP.Ch.A($APP.R4a,$APP.pc);$APP.Ch.K($APP.Q4a,$APP.S,
b,a);return b},XKd=function(a,b,c){$APP.Ch.K($APP.Gv.C($APP.Uc(a)),$APP.S,b,c);return b},YKd=function(a){return $APP.sa(a,"logseq_local_")?$APP.uj($APP.uj(a,":","+3A+"),"/","++"):$APP.uj($APP.uj($APP.uj($APP.uj(a,"logseq_db_",""),"/","_"),"\\","_"),":","_")},ZKd=function(a,b,c){return $APP.vj(a,$APP.hh(["(?i)",$APP.t.C($APP.yua(b))].join("")),c)},v$=function(a,b){return"undefined"!==typeof self?self.postMessage($APP.yi(new $APP.O(null,2,5,$APP.Q,[a,b],null))):null},$Kd=function(a,b){if($APP.Fj(b))return null;
var c=$APP.Ro((0,$APP.wa)(b));b=$APP.mh.A($APP.Cn,$APP.Rf.A(function(e){e=$APP.mt.C(e);return $APP.va(e,c)},$APP.Ds(a,$APP.Ls,$APP.Jw,null,null,null)));if($APP.y(b)){var d=new $APP.O(null,3,5,$APP.Q,[$APP.rt,$APP.Jw,$APP.Lw],null);return $APP.ku?$APP.ku(a,d,b):$APP.lu.call(null,a,d,b)}return null},aLd=function(a,b,c,d){this.storage=a;this.J=b;this.H=c;this.O=d;this.V=2230716170;this.aa=139264},bLd=function(a){return new aLd(a,null,null,null)},cLd=function(a,b,c,d){d=$APP.nf(d);d=$APP.H.A(d,$APP.f1a);
return new $APP.rs(c,null,$APP.wEa.C(d),$APP.sk.C(d),a,null,null,b)},dLd=function(a){var b=$APP.lf,c=RKd(a,0);if(null==c)return null;var d=RKd(a,1),e=$APP.nf(c),f=$APP.H.A(e,$APP.tEa),g=$APP.H.A(e,$APP.uEa),h=$APP.H.A(e,$APP.Zo),k=$APP.H.A(e,$APP.Ns),p=$APP.H.A(e,$APP.Ls),q=$APP.H.A(e,$APP.rEa),r=$APP.H.A(e,$APP.Es),u=$APP.H.A(e,$APP.Ms),x=$APP.H.A(e,$APP.Ks);e=$APP.H.A(e,$APP.sEa);$APP.vEa.xb(null,function(){var z=$APP.vEa.Ya(null);return z>q?z:q}());b=$APP.On.G($APP.G([c,b]));a=bLd(a,b);f=$APP.V2a(new $APP.m(null,
6,[$APP.Zo,h,$APP.Ks,cLd($APP.gCa,x,a,$APP.S.F(b,$APP.f1a,g)),$APP.Ls,cLd($APP.hCa,p,a,$APP.S.F(b,$APP.f1a,e)),$APP.Es,cLd($APP.iCa,r,a,$APP.S.F(b,$APP.f1a,f)),$APP.Ms,u,$APP.Ns,k],null));$APP.Ch.F($APP.qEa,$APP.Fe,f);return new $APP.O(null,2,5,$APP.Q,[f,$APP.hj.A(function(z){return $APP.hj.A(function(D){var F=$APP.C.F(D,0,null),J=$APP.C.F(D,1,null),I=$APP.C.F(D,2,null);D=$APP.C.F(D,3,null);return $APP.As.K(F,J,I,D)},z)},d)],null)},eLd=function(a,b){return $APP.$d.F(function(c,d){return $APP.$d.F($APP.$Ca,
c,d)},a,b)},fLd=function(a,b){var c=dLd(a);if(null==c)var d=null;else d=$APP.C.F(c,0,null),c=$APP.C.F(c,1,null),d=$APP.Bh.G(eLd(d,c),$APP.G([$APP.cb,new $APP.m(null,3,[$APP.Gv,$APP.Bh.C($APP.lf),$APP.mHa,$APP.Bh.C(c),$APP.nHa,$APP.Bh.C(d)],null)]));$APP.n(d)?b=d:(a=new $APP.m(null,1,[$APP.ys,a],null),a=null==$APP.ys.C(a)?a:$APP.Zr.K(a,$APP.ys,bLd,a),b=$APP.JCa(b,a),b=$APP.oHa(b));return b},gLd=function(a,b){b=$APP.C.F(b,0,null);return(0,$APP.xQa)($APP.On.G($APP.G([b,new $APP.m(null,2,[$APP.yQa,$APP.QWa,
$APP.lw,a],null)])))},hLd=function(a){for(var b=[],c=arguments.length,d=0;;)if(d<c)b.push(arguments[d]),d+=1;else break;b=1<b.length?new $APP.dc(b.slice(1),0,null):null;return $APP.zQa(arguments[0],b)},iLd=function(a,b,c,d,e,f,g){var h=function(){var q=new $APP.O(null,1,5,$APP.Q,[$APP.Zt],null),r=$APP.rt.C(c);return $APP.iu?$APP.iu(b,q,r):$APP.ju.call(null,b,q,r)}(),k=$APP.rt.C($APP.Ww.C(h)),p=$APP.Xw.C($APP.zt.A?$APP.zt.A(b,k):$APP.zt.call(null,b,k));k=$APP.n(function(){var q="string"===typeof p;
return q?$APP.of(p):q}())?function(){if($APP.Qd($APP.Rg($APP.Vw.C(h)),"whiteboard")){a:{var q=new $APP.m(null,2,[$APP.qy,d,$APP.dx,new $APP.K(null,$APP.Zi.G(h,$APP.rt,$APP.G([$APP.Ww])),null,1,null)],null),r=$APP.Iia;$APP.Iia=UKd;try{var u=$APP.zh.G($APP.G([q]));break a}finally{$APP.Iia=r}u=void 0}u=$APP.Ba(u)}else u=$APP.Nj.A("\n",$APP.S4a(a,b,d,new $APP.m(null,1,[$APP.aVa,1],null),f));if($APP.Fj(u)&&$APP.nb(e))return null;u=new $APP.O(null,1,5,$APP.Q,[new $APP.O(null,2,5,$APP.Q,[p,u],null)],null);
return $APP.y(u)?(q=$APP.rt.C(h),v$($APP.hZa,$APP.zh.G($APP.G([new $APP.m(null,4,[$APP.iLa,g,$APP.PTa,q,$APP.Mx,a,$APP.lA,u],null)]))),$APP.MRa):null}():console.error("File path from page-block is not valid",h,d);return $APP.B.A($APP.MRa,k)?null:u$(g)},kLd=function(a,b){a=$APP.rp($APP.Pp(a,null),jLd(b),$APP.ISa,null);return $APP.n(a)?a:$APP.le},lLd=function(a,b){a=$APP.rp($APP.Pp(a,null),jLd(b),$APP.exa,null);return $APP.n(a)?a:$APP.le},mLd=function(a,b){var c=$APP.Pp(a,null),d=$APP.iD.C(c),e=lLd(c,
b),f=$APP.Yxa(c),g=$APP.n(null)?null:$APP.le,h=function(){return $APP.n(null)?null:function(k){return $APP.Dp.A($APP.NVa,k)}}();return function(k){k=e.C?e.C(k):e.call(null,k);if($APP.n(d.C?d.C(k):d.call(null,k)))return g.C?g.C(k):g.call(null,k);k=new $APP.m(null,3,[$APP.$o,k,$APP.Zo,c,$APP.iVa,f.C?f.C(k):f.call(null,k)],null);return h.C?h.C(k):h.call(null,k)}},nLd=function(a,b){return mLd(a,b)},oLd=function(a,b,c,d){if($APP.n($APP.Jw.C(b))){var e=$APP.Tg($APP.H.F(b,$APP.Hx,$APP.gJa.C(d))),f=$APP.Xv.C(d),
g=$APP.Da($APP.Jw.C(b)),h=$APP.oLa($APP.v(a),b);e=$APP.n(h)?"edn":e;var k=$APP.ux(g,f);g=$APP.hMa(g,f);(f=k&&!$APP.Fj(g))?(k=$APP.WWa.C(d),k=$APP.n(k)?$APP.Yl(k):$APP.Yl("yyyy_MM_dd"),g=$APP.bm(k,g)):(g=$APP.Lw.C(b),g=$APP.n(g)?g:$APP.Jw.C(b),g=$APP.LOa(g));d=f?$APP.nVa.C(d):$APP.n(h)?$APP.bTa.C(d):$APP.GWa.C(d);h=$APP.B.A(e,"markdown")?"md":e;d=$APP.$v(d,$APP.G([[$APP.t.C(g),".",h].join("")]));h=new $APP.m(null,1,[$APP.Xw,d],null);b=new $APP.O(null,2,5,$APP.Q,[new $APP.m(null,1,[$APP.Xw,d],null),
new $APP.m(null,2,[$APP.Jw,$APP.Jw.C(b),$APP.Ww,h],null)],null);$APP.Sw(a,b,null);$APP.n(c)&&(c.I?c.I():c.call(null))}},pLd=function(a,b,c,d,e,f,g){if($APP.n(a)){var h=function(){return iLd(a,$APP.v(b),c,d,e,f,g)},k=function(){var p=$APP.Ww.C(c);if($APP.n(p))return p;var q=$APP.rt.C($APP.Yw.C(c));if($APP.n(q)){p=$APP.Ww.C;var r=$APP.v(b);q=$APP.zt.A?$APP.zt.A(r,q):$APP.zt.call(null,r,q);p=p.call($APP.Ww,q)}else p=null;return p}();$APP.n(k)?h():oLd(b,c,h,f)}},qLd=function(a){for(var b=[],c=arguments.length,
d=0;;)if(d<c)b.push(arguments[d]),d+=1;else break;b=4<b.length?new $APP.dc(b.slice(4),0,null):null;$APP.bPa(arguments[0],arguments[1],arguments[2],arguments[3],b)},rLd=function(a){try{a.exec("CREATE TABLE IF NOT EXISTS blocks (\n                        id TEXT NOT NULL PRIMARY KEY,\n                        content TEXT NOT NULL,\n                        page TEXT)");a.exec("CREATE VIRTUAL TABLE IF NOT EXISTS blocks_fts USING fts5(id, content, page)");a:for(var b=$APP.y(new $APP.O(null,3,5,$APP.Q,
["CREATE TRIGGER IF NOT EXISTS blocks_ad AFTER DELETE ON blocks\n                  BEGIN\n                      DELETE from blocks_fts where id \x3d old.id;\n                  END;","CREATE TRIGGER IF NOT EXISTS blocks_ai AFTER INSERT ON blocks\n                  BEGIN\n                      INSERT INTO blocks_fts (id, content, page)\n                      VALUES (new.id, new.content, new.page);\n                  END;","CREATE TRIGGER IF NOT EXISTS blocks_au AFTER UPDATE ON blocks\n                  BEGIN\n                      DELETE from blocks_fts where id \x3d old.id;\n                      INSERT INTO blocks_fts (id, content, page)\n                      VALUES (new.id, new.content, new.page);\n                  END;"],
null)),c=null,d=0,e=0;;)if(e<d){var f=c.ia(null,e);a.exec(f);e+=1}else{var g=$APP.y(b);if(g){var h=g;if($APP.kd(h)){var k=$APP.Qb(h),p=$APP.Rb(h);h=k;var q=$APP.yc(k);b=p;c=h;d=q}else f=$APP.A(h),a.exec(f),b=$APP.jc(h),c=null,d=0;e=0}else break a}}catch(r){a=r,$APP.Dv.G($APP.G(["Failed to create tables and triggers"])),console.error(a)}},sLd=function(a){return["(",$APP.Nj.A(", ",$APP.mh.A(function(b){return["'",$APP.t.C(b),"'"].join("")},a)),")"].join("")},tLd=function(a,b){a.transaction(function(c){for(var d=
$APP.y(b),e=null,f=0,g=0;;)if(g<f){var h=e.ia(null,g);c.exec({sql:"INSERT INTO blocks (id, content, page) VALUES ($id, $content, $page) ON CONFLICT (id) DO UPDATE SET (content, page) \x3d ($content, $page)",bind:{$id:h.id,$content:h.content,$page:h.page}});g+=1}else if(d=$APP.y(d))e=d,$APP.kd(e)?(d=$APP.Qb(e),f=$APP.Rb(e),e=d,h=$APP.yc(d),d=f,f=h):(h=$APP.A(e),c.exec({sql:"INSERT INTO blocks (id, content, page) VALUES ($id, $content, $page) ON CONFLICT (id) DO UPDATE SET (content, page) \x3d ($content, $page)",
bind:{$id:h.id,$content:h.content,$page:h.page}}),d=$APP.jc(e),e=null,f=0),g=0;else return null})},uLd=function(a){return $APP.va(a,"$pfts_2lqh\x3e$ ")?a:[$APP.gh.F(a,0,250),250<$APP.yc(a)?"...":null].join("")},vLd=function(a,b,c,d,e){try{return $APP.gl(null,function(){return $APP.gl($APP.n(d)?a.exec({sql:b,bind:[c,d,e],rowMode:"array"}):a.exec({sql:b,bind:[c,e],rowMode:"array"}),function(g){return $APP.gl($APP.wi(g),function(h){return $APP.Zk($APP.mh.A(function(k){return $APP.Zr.F(k,3,uLd)},h))})})})}catch(g){var f=
g;$APP.Dv.G($APP.G([$APP.EC,"Search blocks failed: "]));return console.error(f)}},wLd=function(a){var b=$APP.uj($APP.uj($APP.uj($APP.uj($APP.uj(a," and "," AND ")," \x26 "," AND ")," or "," OR ")," | "," OR ")," not "," NOT ");return $APP.Lg.A(a,b)?$APP.uj(b,",",""):['"',b,'"'].join("")},xLd=function(a,b,c){c=$APP.nf(c);var d=$APP.H.A(c,$APP.Ft),e=$APP.H.A(c,$APP.OB);return $APP.Fj(b)?null:$APP.gl(null,function(){return $APP.gl(wLd(b),function(f){return $APP.gl(["%",$APP.uj(b,/\s+/,"%"),"%"].join(""),
function(g){return $APP.gl($APP.n(d)?d:20,function(h){return $APP.gl("snippet(blocks_fts, 1, ' $pfts_2lqh\x3e$ ', ' $\x3cpfts_2lqh$ ', '...', 32)",function(k){return $APP.gl(["select id, page, content, ",$APP.t.C(k)," from blocks_fts where "].join(""),function(p){return $APP.gl($APP.n(e)?"page \x3d ? and":"",function(q){return $APP.gl([$APP.t.C(p),$APP.t.C(q)," content match ? order by rank limit ?"].join(""),function(r){return $APP.gl([$APP.t.C(p),$APP.t.C(q)," content like ? limit ?"].join(""),
function(u){return $APP.gl(vLd(a,r,f,e,h),function(x){return $APP.gl(vLd(a,u,g,e,h),function(z){return $APP.gl($APP.mh.A(function(D){var F=$APP.C.F(D,0,null),J=$APP.C.F(D,1,null);$APP.C.F(D,2,null);D=$APP.C.F(D,3,null);return new $APP.m(null,3,[$APP.Gy,F,$APP.wx,D,$APP.OB,J],null)},$APP.lk.A(x,z)),function(D){return $APP.Zk($APP.Gf.A(h,$APP.So($APP.Gy,D)))})})})})})})})})})})})})},yLd=function(a,b,c){return $APP.n($APP.n(b)?c:b)?(a=$APP.rLa.C($APP.zt.A?$APP.zt.A(a,c):$APP.zt.call(null,a,c)),$APP.wf(function(d){return $APP.B.A(b,
$APP.rt.C($APP.Zw.C(d)))&&$APP.Lg.A(b,$APP.rt.C(d))?d:null},a)):null},zLd=function(a,b){return $APP.Nj.A(";; ",$APP.zl.A($APP.kb,$APP.mh.A(function(c){var d=$APP.C.F(c,0,null);c=$APP.C.F(c,1,null);c=$APP.zl.A($APP.Fj,$APP.mh.A(function(e){if($APP.Th(e)){var f=function(){var g=new $APP.O(null,2,5,$APP.Q,[$APP.Kw,e],null);return $APP.zt.A?$APP.zt.A(a,g):$APP.zt.call(null,a,g)}();return function(){var g=$APP.Qd($APP.Vw.C(f),"closed value")?$APP.wt.A(f,new $APP.O(null,2,5,$APP.Q,[$APP.Ly,$APP.$o],null)):
null;if($APP.n(g))return g;g=$APP.Lw.C(f);if($APP.n(g))return g;g=$APP.wt.A(f,new $APP.O(null,2,5,$APP.Q,[$APP.dy,$APP.rXa],null));g=$APP.n(g)?$APP.Nw.C(f):g;if($APP.n(g))return g;g=$APP.rt.C(f);return $APP.Nw.C(yLd(a,g,g))}()}return e},$APP.bd(c)?c:$APP.Pg([c])));return $APP.y(c)?[$APP.t.C($APP.Lw.C(function(){var e=new $APP.O(null,2,5,$APP.Q,[$APP.Kw,d],null);return $APP.zt.A?$APP.zt.A(a,e):$APP.zt.call(null,a,e)}())),": ",$APP.Nj.A("; ",c)].join(""):null},b)))},ALd=function(a,b,c){var d=$APP.nf(c),
e=$APP.H.A(d,$APP.Jw);c=$APP.H.A(d,$APP.Kw);var f=$APP.H.A(d,$APP.Yw),g=$APP.H.A(d,$APP.Nw),h=$APP.H.A(d,$APP.mx),k=$APP.H.A(d,$APP.Hx),p=null!=e,q=null==e,r=$APP.aw(a);if($APP.n(function(){if(p)if($APP.n(e))if("string"===typeof e){var u=new $APP.O(null,2,5,$APP.Q,[$APP.Jw,e],null);u=$APP.zt.A?$APP.zt.A(b,u):$APP.zt.call(null,b,u);u=$APP.B.A($APP.Vw.C(u),"whiteboard")||$APP.Qd($APP.Rg($APP.Vw.C(u)),"whiteboard")}else u=$APP.y(e)?$APP.Qd($APP.Rg($APP.Vw.C(e)),"whiteboard"):!1;else u=e;else u=p;return $APP.n(u)?
u:q&&1E4<$APP.yc(g)||$APP.$c(h)&&(q&&$APP.Fj(g)||r&&p)}()))return null;a=q?g:r?"":function(){var u=$APP.Ww.C;var x=$APP.rt.C(d);x=$APP.zt.A?$APP.zt.A(b,x):$APP.zt.call(null,b,x);u=u.call($APP.Ww,x);return null==u?null:$APP.vA.C(u)}();a=r&&$APP.y(h)?[$APP.t.C(a),$APP.Lg.A(a,"")?"\n":null,zLd(b,h)].join(""):a;return $APP.Fj(a)?null:new $APP.m(null,4,[$APP.Ek,$APP.t.C(c),$APP.OB,$APP.t.C($APP.Kw.C(f)),$APP.wx,null==a?null:$APP.as(a,!0),$APP.iw,k],null)},BLd=function(a){return $APP.n(a)?$APP.zl.A($APP.kb,
$APP.mh.A(function(b){var c=new $APP.O(null,2,5,$APP.Q,[$APP.Kw,b],null);c=$APP.zt.A?$APP.zt.A(a,c):$APP.zt.call(null,a,c);return null==$APP.Jw.C(c)&&$APP.Fj($APP.Nw.C(c))?null:new $APP.m(null,7,[$APP.rt,$APP.rt.C(c),$APP.Jw,$APP.Jw.C(c),$APP.Kw,b,$APP.Yw,$APP.rt.C($APP.Yw.C(c)),$APP.Nw,$APP.Nw.C(c),$APP.Hx,$APP.Hx.C(c),$APP.mx,$APP.mx.C(c)],null)},$APP.mh.A($APP.mt,$APP.Ds(a,$APP.Es,$APP.Kw,null,null,null)))):null},CLd=function(a,b){return $APP.yi($APP.zl.A($APP.kb,$APP.mh.A(function(c){return ALd(a,
b,c)},BLd(b))))},DLd=function(a){return $APP.n(a)?new $APP.m(null,3,[$APP.Ek,$APP.t.C($APP.Kw.C(a)),$APP.Xn,$APP.Jw.C(a),$APP.fC,$APP.Lw.C(a)],null):null},ELd=function(a){if($APP.n(a))if("string"===typeof a){var b;if(b=$APP.sa(a,"$$$")){b=$APP.yc(a);var c=$APP.yc(a);a=$APP.gh.F(a,3>c?c:3,c<b?c:b);b=$APP.Uo(a)}a=b}else a=$APP.Qd($APP.Rg($APP.Vw.C(a)),"hidden");else a=null;return a},FLd=function(a){var b=$APP.Ds(a,$APP.Es,$APP.Jw,null,null,null);b=$APP.mh.A(function(c){c=$APP.Cn.C(c);return $APP.zt.A?
$APP.zt.A(a,c):$APP.zt.call(null,a,c)},b);return $APP.zl.A(function(c){return ELd($APP.Jw.C(c))},b)},HLd=function(a,b,c){b=$APP.nf(b);var d=$APP.H.A(b,$APP.lt),e=$APP.H.A(b,$APP.jt);return $APP.y(c)?(b=$APP.Rg($APP.mh.A($APP.Cn,$APP.Rf.A($APP.Jr,c))),c=$APP.Rg($APP.mh.A($APP.Cn,$APP.Rf.A(function(f){return $APP.B.A($APP.Kw,$APP.nt.C(f))},$APP.zl.A($APP.Jr,c)))),a=$APP.aw(a)&&$APP.y(b)?$APP.Rg($APP.lk.A(b,$APP.Pf.G(function(f){return $APP.mh.A($APP.rt,$APP.ex.C($APP.zt.A?$APP.zt.A(d,f):$APP.zt.call(null,
d,f)))},$APP.G([b])))):b,new $APP.m(null,2,[GLd,$APP.zl.A(ELd,$APP.zl.A($APP.kb,$APP.mh.A(function(f){return $APP.zt.A?$APP.zt.A(e,f):$APP.zt.call(null,e,f)},c))),$APP.fVa,$APP.zl.A(ELd,$APP.zl.A($APP.kb,$APP.mh.A(function(f){return $APP.zt.A?$APP.zt.A(d,f):$APP.zt.call(null,d,f)},a)))],null)):null},ILd=function(a,b){var c=$APP.ot.C(b);c=$APP.Rf.A(function(d){return $APP.Qd(new $APP.Ng(null,new $APP.m(null,6,[$APP.Kw,null,$APP.mx,null,$APP.Ly,null,$APP.Nw,null,$APP.Jw,null,$APP.Lw,null],null),null),
$APP.nt.C(d))},c);return $APP.y(c)?HLd(a,b,c):null},KLd=function(a,b){var c=ILd(a,b),d=$APP.nf(c),e=$APP.H.A(d,$APP.fVa),f=$APP.H.A(d,GLd),g=$APP.Rf.A($APP.Jw,e),h=$APP.Rf.A($APP.Jw,f);($APP.y(g)||$APP.y(h))&&$APP.Ch.K(JLd,$APP.Ml,new $APP.O(null,2,5,$APP.Q,[a,$APP.dx],null),function(q){if($APP.n(q)){for(var r=$APP.y(h),u=null,x=0,z=0;;)if(z<x){var D=u.ia(null,z);q.remove(function(I,P,R,W,V){return function(E){return $APP.B.A($APP.Jw.C(V),$APP.qa(E,"name"))}}(r,u,x,z,D,g,h,c,d,e,f));z+=1}else{var F=
$APP.y(r);if(F){D=F;if($APP.kd(D))r=$APP.Qb(D),z=$APP.Rb(D),u=r,x=$APP.yc(r),r=z;else{var J=$APP.A(D);q.remove(function(I,P,R,W,V){return function(E){return $APP.B.A($APP.Jw.C(V),$APP.qa(E,"name"))}}(r,u,x,z,J,D,F,g,h,c,d,e,f));r=$APP.jc(D);u=null;x=0}z=0}else break}r=$APP.y(g);u=null;for(z=x=0;;)if(z<x)D=u.ia(null,z),q.remove(function(I,P,R,W,V){return function(E){return $APP.B.A($APP.t.C($APP.Kw.C(V)),$APP.qa(E,"id"))}}(r,u,x,z,D,g,h,c,d,e,f)),q.add($APP.yi(DLd(D))),z+=1;else if(F=$APP.y(r))D=F,
$APP.kd(D)?(r=$APP.Qb(D),z=$APP.Rb(D),u=r,x=$APP.yc(r),r=z):(J=$APP.A(D),q.remove(function(I,P,R,W,V){return function(E){return $APP.B.A($APP.t.C($APP.Kw.C(V)),$APP.qa(E,"id"))}}(r,u,x,z,J,D,F,g,h,c,d,e,f)),q.add($APP.yi(DLd(J))),r=$APP.jc(D),u=null,x=0),z=0;else break;return q}return null});if($APP.y(e)||$APP.y(f)){var k=$APP.zl.A($APP.kb,$APP.mh.A(function(q){return ALd(a,$APP.lt.C(b),q)},e)),p=$APP.Rg($APP.mh.A($APP.el.A($APP.t,$APP.Kw),f));return new $APP.m(null,2,[$APP.PVa,p,$APP.fVa,k],null)}return null},
LLd=function(a,b){return"string"===typeof a&&"string"===typeof b?$APP.yd($APP.$d.F(function(c,d){c=$APP.Zg.A(function(e){return $APP.Lg.A(d,e)},c);return $APP.y(c)?$APP.ic(c):$APP.qc(!1)},$APP.y($APP.as(b,!0)),$APP.y($APP.as(a,!0)))):null},QLd=function(a,b,c,d){if($APP.n(a)){c=$APP.as(c,!0);c=$APP.JMa(c);var e=$APP.B.A("#",$APP.A(c))?$APP.gh.A(c,1):c;if($APP.Fj(e))return null;c=function(){var f=$APP.wt.A($APP.v(JLd),new $APP.O(null,2,5,$APP.Q,[a,$APP.dx],null));$APP.n(f)||(f=$APP.yi($APP.mh.A(DLd,
FLd(b))),f=new MLd(f,$APP.xi(new $APP.m(null,4,[$APP.bq,new $APP.O(null,1,5,$APP.Q,["name"],null),NLd,!0,OLd,!0,PLd,1],null))),$APP.Ch.K(JLd,$APP.Yr,new $APP.O(null,2,5,$APP.Q,[a,$APP.dx],null),f));return f}();d=$APP.wi(c.search(e,$APP.xi(new $APP.m(null,1,[$APP.Ft,d],null))));return $APP.yi($APP.Rf.A(function(f){return LLd(e,f)},$APP.pu.C($APP.mh.A($APP.Ej,$APP.zl.A($APP.kb,$APP.mh.A(function(f){f=$APP.nf(f);f=$APP.H.A(f,$APP.mVa);return $APP.fC.C(f)},$APP.So(function(f){return(0,$APP.wa)($APP.wt.A(f,
new $APP.O(null,2,5,$APP.Q,[$APP.mVa,$APP.Xn],null)))},d)))))))}return null},SLd=function(a){for(var b=[],c=arguments.length,d=0;;)if(d<c)b.push(arguments[d]),d+=1;else break;b=1<b.length?new $APP.dc(b.slice(1),0,null):null;return RLd(arguments[0],b)},RLd=function(a,b){b=$APP.nf(b);b=$APP.H.F(b,$APP.hUa,!1);b=$APP.n(b)?$APP.tC:$APP.KC;return $APP.wt.A($APP.v(TLd),new $APP.O(null,2,5,$APP.Q,[a,b],null))},w$=function(a){return $APP.H.A($APP.v(ULd),a)},WLd=function(a){return $APP.H.A($APP.v(VLd),a)},
XLd=function(a){return $APP.wt.A($APP.v(x$),new $APP.O(null,2,5,$APP.Q,[$APP.oC,a],null))},YLd=function(a){$APP.Ch.A(x$,function(b){return $APP.On.G($APP.G([b,a]))})},ZLd=function(a){return $APP.n($APP.wt.F(a,new $APP.O(null,2,5,$APP.Q,[$APP.mx,$APP.Bw],null),!1))?$APP.Zi.G(a,$APP.rt,$APP.G([$APP.Kw,$APP.hx,$APP.Nw,$APP.Hx,$APP.Uw,$APP.Yw,$APP.Zw])):$APP.Zi.G(a,$APP.rt,$APP.G([$APP.Yw]))},cMd=function(a,b,c,d,e,f){var g=$APP.v(b),h=new $APP.O(null,1,5,$APP.Q,[$APP.Zt],null);c=$APP.iu?$APP.iu(g,h,
c):$APP.ju.call(null,g,h,c);g=$APP.rt.C(c);h=$APP.Qd($APP.Rg($APP.Vw.C(c)),"whiteboard");var k=$APP.v(b);var p=$APP.yc($APP.lHa(k,$APP.Yw,g));k=0===p&&$APP.Qd(new $APP.Ng(null,new $APP.m(null,2,[$APP.oy,null,$APP.Ix,null],null),null),d);if(1<=p||k){if(p=500<p||h){p=$APP.nf($APP.G([new $APP.m(null,1,[$APP.rSa,3E3],null)]));p=$APP.H.F(p,$APP.rSa,1E3);if($APP.n(a)){var q=$APP.wt.A($APP.v(x$),new $APP.O(null,2,5,$APP.Q,[$Ld,a],null)),r=null==q;p=r?r:$APP.Wo()-q>=p}else p=null;p=$APP.nb(p)}p?$APP.Pi(aMd,
new $APP.O(null,5,5,$APP.Q,[a,g,d,$APP.em($APP.Gl()),f],null)):(d=h?bMd:new $APP.O(null,1,5,$APP.Q,[$APP.Zt],null),d=$APP.qLa($APP.v(b),$APP.Jw.C(c),new $APP.m(null,1,[$APP.pLa,d],null)),d=h?$APP.mh.A(ZLd,d):d,$APP.B.A(1,$APP.yc(d))&&$APP.Fj($APP.Nw.C($APP.A(d)))&&null==$APP.Ww.C(c)&&!h||(d=h?d:$APP.iNa(a,$APP.v(b),d,$APP.Jw.C(c)),$APP.n(c)?pLd(a,b,c,d,k,e,f):console.error(["can't find page id: ",$APP.t.C(g)].join(""))))}},fMd=function(a,b){var c=dMd.C($APP.v(x$));if($APP.y(b)){var d=$APP.Rg($APP.mh.A($APP.Jc,
b));b=$APP.So(function(q){return $APP.Gf.A(3,q)},b);d=$APP.gs.A(d,$APP.Rg($APP.mh.A($APP.Jc,b)));d=$APP.y(d);for(var e=null,f=0,g=0;;)if(g<f){var h=e.ia(null,g);u$.C?u$.C(h):u$.call(null,h);g+=1}else if(d=$APP.y(d))e=d,$APP.kd(e)?(d=$APP.Qb(e),g=$APP.Rb(e),e=d,f=$APP.yc(d),d=g):(d=$APP.A(e),u$.C?u$.C(d):u$.call(null,d),d=$APP.jc(e),e=null,f=0),g=0;else break;b=$APP.y(b);d=null;for(var k=0,p=0;;)if(p<k){h=d.ia(null,p);e=$APP.C.F(h,0,null);f=$APP.C.F(h,1,null);g=$APP.C.F(h,2,null);$APP.C.F(h,3,null);
h=$APP.C.F(h,4,null);try{cMd(e,a,f,g,c,h)}catch(q){e=q,v$($APP.rB,$APP.zh.G($APP.G([new $APP.O(null,2,5,$APP.Q,[new $APP.O(null,4,5,$APP.Q,[$APP.$B,new $APP.O(null,2,5,$APP.Q,[$APP.dA,"Write file failed, please copy the changes to other editors in case of losing data."],null),"Error: ",$APP.t.C($APP.qa(e,"stack"))],null),$APP.Fs],null)]))),$APP.gw("frontend.worker.file",$APP.Fs,new $APP.m(null,2,[eMd,new $APP.m(null,1,[$APP.Fs,e],null),$APP.km,104],null)),u$.C?u$.C(h):u$.call(null,h)}p+=1}else if(b=
$APP.y(b)){if($APP.kd(b))e=$APP.Qb(b),b=$APP.Rb(b),d=e,k=e=$APP.yc(e);else{d=$APP.A(b);e=$APP.C.F(d,0,null);f=$APP.C.F(d,1,null);g=$APP.C.F(d,2,null);$APP.C.F(d,3,null);h=$APP.C.F(d,4,null);try{cMd(e,a,f,g,c,h)}catch(q){d=q,v$($APP.rB,$APP.zh.G($APP.G([new $APP.O(null,2,5,$APP.Q,[new $APP.O(null,4,5,$APP.Q,[$APP.$B,new $APP.O(null,2,5,$APP.Q,[$APP.dA,"Write file failed, please copy the changes to other editors in case of losing data."],null),"Error: ",$APP.t.C($APP.qa(d,"stack"))],null),$APP.Fs],
null)]))),$APP.gw("frontend.worker.file",$APP.Fs,new $APP.m(null,2,[eMd,new $APP.m(null,1,[$APP.Fs,d],null),$APP.km,104],null)),u$.C?u$.C(h):u$.call(null,h)}b=$APP.jc(b);d=null;k=0}p=0}else return null}else return null},gMd=function(a,b,c){var d=(d=SKd(a))?$APP.n(b)?$APP.nb($APP.OXa.C(c))&&$APP.nb($APP.cZa.C(c)):b:d;$APP.n(d)&&(d=WKd.C?WKd.C(b):WKd.call(null,b),$APP.Pi(aMd,new $APP.O(null,5,5,$APP.Q,[a,b,$APP.Jx.C(c),$APP.em($APP.Gl()),d],null)))},hMd=function(){$APP.EAa(aMd,1E3,$APP.G([$APP.vAa,
function(){return!0},$APP.wAa,function(a){if($APP.y(a)){var b=$APP.Fc(a),c=w$(b);return $APP.n(c)?fMd(c,a):console.error("DB is not found for ",b)}return null}]))},jMd=function(a){if($APP.aw(a)){var b=$APP.v(iMd);b=b.C?b.C(a):b.call(null,a);if($APP.n(b))return b;$APP.Ch.K(iMd,$APP.S,a,$APP.qD.newStore(["rtc-ops-",$APP.t.C(a)].join(""),"ops"));b=$APP.v(iMd);return b.C?b.C(a):b.call(null,a)}return null},kMd=function(a){return $APP.wk.A(function(b){var c=$APP.gC.C($APP.Ec(b));return $APP.n(c)?new $APP.m(null,
2,[$APP.Aq,c,$APP.$o,b],null):null},a)},lMd=function(a,b,c,d){return $APP.bz($APP.gl(null,function(){return $APP.Zk(function(){var e=jMd(a);if($APP.n(e)){var f=kMd(b);return $APP.gl(null,function(){return $APP.gl($APP.qD.clear(e),function(){return $APP.gl($APP.qD.setBatch($APP.xi(f),e),function(){return $APP.gl($APP.n(c)?$APP.qD.set("graph-uuid",c,e):null,function(){return $APP.Zk($APP.n(d)?$APP.qD.set("local-tx",d,e):null)})})})})}return null}())}))},mMd=function(a){return $APP.gl(null,function(){return $APP.Zk(function(){var b=
jMd(a);return $APP.n(b)?$APP.gl(null,function(){return $APP.gl($APP.qD.keys(b),function(c){return $APP.Zk($APP.fl($APP.kl($APP.hj.A(function(d){return $APP.qna($APP.qD.get(d,b),$APP.yk.A($APP.Hk,d))},c)),function(d){return $APP.hj.A(function(e){return $APP.Po.G(e,$APP.G([$APP.Qo,!0]))},d)}))})}):null}())})},y$=function(a){if("string"===typeof a)try{var b=$APP.n($APP.eh(/\D/,$APP.gh.A(a,1)))?NaN:parseInt(a,10);return $APP.n(isNaN(b))?a:b>Number.MAX_SAFE_INTEGER?a:b<Number.MIN_SAFE_INTEGER?a:b}catch(c){if(c instanceof
Error)return a;throw c;}else return a},nMd=function(a){if("string"===typeof a)try{var b=parseFloat(a);return $APP.n(isNaN(b))?a:b}catch(c){if(c instanceof Error)return a;throw c;}else return a},oMd=function(a){return a},pMd=function(a){return"string"===typeof a?$APP.nh.C(a):a},qMd=function(a){return"string"===typeof a?$APP.B.A("true",a)?!0:$APP.B.A("false",a)?!1:a:a},rMd=function(a){if("string"===typeof a)try{return $APP.n($APP.eh(/^[0-9a-f]{8}-[0-9a-f]{4}-[1-8][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/,
a))?$APP.Rh(a):a}catch(b){if(b instanceof Error)return a;throw b;}else return a},uMd=function(a){if("string"===typeof a)try{var b=Date,c=new $APP.Fl(2E3),d=a;d=(0,$APP.wa)(d);var e=-1==d.indexOf("T")?" ":"T",f=d.split(e),g;var h=f[0].match($APP.R1a);if(h){var k=Number(h[2]),p=Number(h[3]),q=Number(h[4]),r=Number(h[5]),u=Number(h[6])||1;c.setFullYear(Number(h[1]));if(q)c.setDate(1),c.setMonth(0),c.add(new $APP.nl($APP.zna,q-1));else if(r){c.setMonth(0);c.setDate(1);var x=c.getDay()||7;c.add(new $APP.nl($APP.zna,
(4>=x?1-x:8-x)+(Number(u)+7*(Number(r)-1))-1))}else k&&(c.setDate(1),c.setMonth(k-1)),p&&c.setDate(p);var z=!0}else z=!1;if(g=z){var D;if(!(D=2>f.length)){var F=f[1],J=F.match(sMd);if(J){var I=F.substring(0,F.length-J[0].length);if("Z"===J[0])var P=0;else P=60*Number(J[2])+Number(J[3]),P*="-"==J[1]?1:-1}else I=F;var R=I.match(tMd);if(R){if(J){var W=c.getYear(),V=c.getMonth(),E=c.getDate(),M=Number(R[1]),T=Number(R[2])||0,X=Number(R[3])||0,aa=R[4]?1E3*Number(R[4]):0;(d=0<=W&&100>W)&&(W+=400);let pa=
Date.UTC(W,V,E,M,T,X,aa);d&&(pa-=126227808E5);c.setTime(pa+6E4*P)}else c.setHours(Number(R[1])),c.setMinutes(Number(R[2])||0),c.setSeconds(Number(R[3])||0),c.setMilliseconds(R[4]?1E3*Number(R[4]):0);D=!0}else D=!1}g=D}return new b((g?c:null).getTime())}catch(pa){if(pa instanceof Error)return a;throw pa;}else return a},vMd=function(a){return"string"===typeof a?$APP.ph.C(a):a},z$=function(a){return null==a?null:$APP.t.C(a)},wMd=function(a){if($APP.oc(a))try{return a.toISOString()}catch(b){if(b instanceof
Error)return a;throw b;}else return a},xMd=function(a){return function(b){return $APP.fd(b)?$APP.rg.F($APP.lf,$APP.mh.C(function(c){var d=$APP.C.F(c,0,null);c=$APP.C.F(c,1,null);return new $APP.O(null,2,5,$APP.Q,[a.C?a.C(d):a.call(null,d),c],null)}),b):b}},yMd=function(a){return $APP.bd(a)?a:$APP.ed(a)?$APP.Rg(a):a},zMd=function(a){return $APP.jd(a)?a:$APP.ed(a)?$APP.be(a):a},AMd=function(a){a:{a=$APP.xr.C(a);var b=new $APP.O(null,5,5,$APP.Q,[new $APP.O(null,2,5,$APP.Q,[$APP.Gn,$APP.rb],null),new $APP.O(null,
2,5,$APP.Q,[$APP.Go,$APP.Me],null),new $APP.O(null,2,5,$APP.Q,[$APP.io,$APP.$b],null),new $APP.O(null,2,5,$APP.Q,[$APP.Gz,$APP.Dd],null),new $APP.O(null,2,5,$APP.Q,[$APP.CC,$APP.Kd],null)],null),c=$APP.y(b),d=$APP.A(c);$APP.jc(c);$APP.C.F(d,0,null);for($APP.C.F(d,1,null);;){b=$APP.y(b);c=$APP.A(b);b=$APP.jc(b);d=c;c=$APP.C.F(d,0,null);d=$APP.C.F(d,1,null);if($APP.uf(d,a)){a=c;break a}if(!b){a=null;break a}}}b=new $APP.m(null,4,[$APP.Go,pMd,$APP.io,vMd,$APP.Gz,y$,$APP.CC,nMd],null);return b.C?b.C(a):
b.call(null,a)},BMd=function(){return $APP.Ag([$APP.Fq,$APP.QTa,$APP.Sya,$APP.CC,$APP.aza,$APP.eza,$APP.Nya,$APP.io,$APP.Lya,$APP.eWa,$APP.Vya,$APP.Pya,$APP.Qya,$APP.Xya,$APP.Go,$APP.Tya,$APP.Zya,$APP.Gy,$APP.mo,$APP.Hya,$APP.Ur],[new $APP.m(null,1,[$APP.Vz,AMd],null),vMd,pMd,oMd,rMd,uMd,pMd,vMd,pMd,pMd,vMd,pMd,pMd,vMd,pMd,pMd,vMd,rMd,yMd,oMd,new $APP.m(null,1,[$APP.Vz,AMd],null)])},CMd=function(){return $APP.Ag([$APP.QTa,$APP.Sya,$APP.aza,$APP.eza,$APP.io,$APP.eWa,$APP.Vya,$APP.Qya,$APP.Xya,$APP.Go,
$APP.Tya,$APP.Zya,$APP.Gy],[z$,VKd,z$,wMd,z$,VKd,z$,VKd,z$,VKd,VKd,z$,z$])},DMd=function(){return $APP.On.G($APP.G([BMd(),$APP.Ag([$APP.wza,$APP.Qza,$APP.CC,$APP.Rza,$APP.uya,$APP.Gz,$APP.Nza,$APP.Fya,$APP.uza,$APP.yya,$APP.lo,$APP.Oza,$APP.tya,$APP.yq,$APP.yza,$APP.zya,$APP.Iya,$APP.rya,$APP.Hya,$APP.yz,$APP.Pza,$APP.wya],[qMd,y$,nMd,y$,y$,y$,y$,nMd,qMd,y$,zMd,y$,y$,xMd(VKd),y$,y$,qMd,nMd,nMd,qMd,y$,y$])]))},LMd=function(a){function b(g,h){return $APP.fd(g)?$APP.he(function(k,p,q){return $APP.S.F(k,
p,$APP.Mq(q,h))},g,g):$APP.Mq(g,null)}function c(g,h,k,p){if($APP.n(k)){var q=new $APP.O(null,1,5,$APP.Q,[new $APP.O(null,2,5,$APP.Q,[$APP.nh.C(p),k],null)],null);k=$APP.Ye(k)?q:$APP.Fe.A(q,new $APP.O(null,1,5,$APP.Q,[$APP.nh.A(p,$APP.Tg(k))],null))}else k=null;return new $APP.m(null,3,[EMd,g,$APP.Vi,h,$APP.bq,k],null)}var d=$APP.$p.A(QKd,jLd),e=$APP.be($APP.Pf.G(function(g){return $APP.fd(g)?new $APP.O(null,1,5,$APP.Q,[g],null):d(g)},$APP.G([$APP.wk.A($APP.le,a)]))),f=$APP.hj.A(function(g){var h=
$APP.Xn.C(g);return new $APP.m(null,2,[$APP.exa,c(FMd.C(g),GMd.C(g),h,"decode"),$APP.ISa,c(HMd.C(g),IMd.C(g),h,"encode")],null)},e);if($APP.y(e)){if("undefined"===typeof $APP.lp||"undefined"===typeof JMd||"undefined"===typeof A$)A$=function(g,h,k,p,q,r,u){this.kw=g;this.nw=h;this.Ql=k;this.mw=p;this.chain=q;this.Cs=r;this.Wx=u;this.V=393216;this.aa=0},A$.prototype.ga=function(g,h){return new A$(this.kw,this.nw,this.Ql,this.mw,this.chain,this.Cs,h)},A$.prototype.fa=function(){return this.Wx},A$.prototype.Cu=
$APP.Yb,A$.prototype.Zq=function(){return this.chain},A$.prototype.$q=function(g,h,k,p){var q=this;return $APP.$d.F(function(r,u){function x(P){return function(R){R=$APP.wt.A(P.C?P.C(h):P.call(null,h),R);return null==R?null:q.Ql.A?q.Ql.A(R,J):q.Ql.call(null,R,J)}}u=$APP.nf(u);u=$APP.H.A(u,k);u=$APP.nf(u);var z=$APP.H.A(u,$APP.bq),D=$APP.H.A(u,$APP.Vi),F=$APP.H.A(u,EMd),J=$APP.n(p)?p:$APP.tp($APP.Pp(h,null)),I=$APP.Zu.A(x($APP.vr),x($APP.hD));u=function(){var P=$APP.wf(I,z);if($APP.n(P))return P;P=
$APP.H.A(F,$APP.Jp.C(h));return $APP.n(P)?P:D}();return $APP.n(u)?(u=KMd(u,h,J),null==r?u:KMd(new $APP.O(null,2,5,$APP.Q,[r,u],null),h,J)):r},null,q.Cs)},A$.Ca=!0,A$.Aa="malli.transform/t_malli$transform102517",A$.Ea=function(g){return $APP.Kb(g,"malli.transform/t_malli$transform102517")};return new A$(a,c,b,d,e,f,$APP.lf)}return null},MMd=function(){return LMd($APP.G([new $APP.m(null,3,[$APP.Xn,$APP.Gn,FMd,DMd(),HMd,$APP.On.G($APP.G([CMd(),$APP.Ag([$APP.Qza,$APP.CC,$APP.Rza,$APP.uya,$APP.Gz,$APP.Nza,
$APP.yya,$APP.Oza,$APP.tya,$APP.yza,$APP.zya,$APP.BYa,$APP.Ur,$APP.Pza,$APP.wya],[z$,z$,z$,z$,z$,z$,z$,z$,z$,z$,z$,z$,z$,z$,z$])]))],null)]))},NMd=function(a,b){var c=$APP.nf(a);a=$APP.H.A(c,$APP.lB);c=$APP.H.A(c,B$);var d=$APP.nf(b);b=$APP.H.A(d,$APP.lB);d=$APP.H.A(d,B$);a=$APP.iv.A($APP.gs.A(a,d),b);c=$APP.iv.A($APP.gs.A(c,b),d);return $APP.y(a)||$APP.y(c)?(b=$APP.lf,a=$APP.y(a)?$APP.S.F(b,$APP.lB,a):b,$APP.y(c)?$APP.S.F(a,B$,c):a):null},C$=function(a,b){a=a.C?a.C(b):a.call(null,b);a=null==a?null:
$APP.Kg(a);a=null==a?null:$APP.mh.A($APP.el.A($APP.gC,$APP.Ec),a);a=null==a?null:$APP.y(a);return null==a?null:$APP.yf.A($APP.mz,a)},RMd=function(a,b,c,d,e){var f=$APP.y(a);$APP.A(f);$APP.jc(f);for(var g=b,h=c,k=d,p=e,q=a;;){var r=g,u=h,x=k,z=p,D=$APP.y(q),F=$APP.A(D),J=$APP.jc(D),I=F,P=J;if($APP.nb(I))return new $APP.m(null,4,[D$,r,E$,x,F$,u,G$,z],null);var R=I,W=$APP.C.F(R,0,null),V=$APP.C.F(R,1,null),E=$APP.nf(V),M=$APP.H.A(E,$APP.XB),T=$APP.H.A(E,H$),X=$APP.H.A(E,$APP.gC),aa=function(){var Gc=
M;return null==Gc?null:r.C?r.C(Gc):r.call(null,Gc)}(),pa=function(){var Gc=T;return null==Gc?null:x.C?x.C(Gc):x.call(null,Gc)}(),ra=W;switch(ra){case "move":var ua=function(){var Gc=$APP.H.A(aa,$APP.rA);Gc=null==Gc?null:$APP.Ec(Gc);Gc=null==Gc?null:$APP.gC.C(Gc);return null==Gc?null:Gc>X}();if($APP.n(ua)){var za=u,ya=x,Ga=z,Ja=P;g=r;h=za;k=ya;p=Ga;q=Ja}else{var Qa=$APP.Zr.K($APP.Yr(r,new $APP.O(null,2,5,$APP.Q,[M,$APP.oA],null),I),M,$APP.Zi,$APP.rA),Ia=C$(r,M),Na=C$(Qa,M),Ka=$APP.Zr.K($APP.Yr(r,new $APP.O(null,
2,5,$APP.Q,[M,$APP.oA],null),I),M,$APP.Zi,$APP.rA),pb=$APP.S.F($APP.Zi.A(u,Ia),Na,M),ib=x,yb=z,Ub=P;g=Ka;h=pb;k=ib;p=yb;q=Ub}continue;case "update":ua=function(){var Gc=$APP.H.A(aa,$APP.rA);Gc=null==Gc?null:$APP.Ec(Gc);Gc=null==Gc?null:$APP.gC.C(Gc);return null==Gc?null:Gc>X}();if($APP.n(ua)){var bc=u,hc=x,fc=z,uc=P;g=r;h=bc;k=hc;p=fc;q=uc}else{var mc=$APP.wt.A(r,new $APP.O(null,2,5,$APP.Q,[M,$APP.IA],null)),Kc=$APP.n(mc)?OMd(mc,I):I;Qa=$APP.Zr.K($APP.Yr(r,new $APP.O(null,2,5,$APP.Q,[M,$APP.IA],null),
Kc),M,$APP.Zi,$APP.rA);Ia=C$(r,M);Na=C$(Qa,M);var Cc=Qa,Xc=$APP.S.F($APP.Zi.A(u,Ia),Na,M),Oc=x,Dc=z,vc=P;g=Cc;h=Xc;k=Oc;p=Dc;q=vc}continue;case "remove":var Pc=function(){var Gc=$APP.H.A(aa,$APP.oA);Gc=null==Gc?null:$APP.Ec(Gc);Gc=null==Gc?null:$APP.gC.C(Gc);return null==Gc?null:Gc>X}();if($APP.n(Pc)){var hd=u,Wc=x,Qc=z,Zc=P;g=r;h=hd;k=Wc;p=Qc;q=Zc}else{Qa=$APP.S.F(r,M,new $APP.m(null,1,[$APP.rA,I],null));Ia=C$(r,M);Na=C$(Qa,M);var dd=Qa,ud=$APP.S.F($APP.Zi.A(u,Ia),Na,M),vd=x,pd=z,Pd=P;g=dd;h=ud;
k=vd;p=pd;q=Pd}continue;case "update-page":ua=function(){var Gc=$APP.H.A(aa,I$);Gc=null==Gc?null:$APP.Ec(Gc);Gc=null==Gc?null:$APP.gC.C(Gc);return null==Gc?null:Gc>X}();if($APP.n(ua)){var Td=u,Md=x,Gd=z,Cd=P;g=r;h=Td;k=Md;p=Gd;q=Cd}else{Qa=$APP.Zr.K($APP.Yr(r,new $APP.O(null,2,5,$APP.Q,[M,J$],null),I),M,$APP.Zi,I$);Ia=C$(r,M);Na=C$(Qa,M);var nd=Qa,Nd=$APP.S.F($APP.Zi.A(u,Ia),Na,M),ne=x,ge=z,Sf=P;g=nd;h=Nd;k=ne;p=ge;q=Sf}continue;case "remove-page":Pc=function(){var Gc=$APP.H.A(aa,J$);Gc=null==Gc?
null:$APP.Ec(Gc);Gc=null==Gc?null:$APP.gC.C(Gc);return null==Gc?null:Gc>X}();if($APP.n(Pc)){var Jf=u,ze=x,de=z,Fd=P;g=r;h=Jf;k=ze;p=de;q=Fd}else{Qa=$APP.S.F(r,M,new $APP.m(null,1,[I$,I],null));Ia=C$(r,M);Na=C$(Qa,M);var Be=Qa,Xe=$APP.S.F($APP.Zi.A(u,Ia),Na,M),Qe=x,Oe=z,$e=P;g=Be;h=Xe;k=Qe;p=Oe;q=$e}continue;case "update-asset":ua=function(){var Gc=$APP.H.A(pa,PMd);Gc=null==Gc?null:$APP.Ec(Gc);Gc=null==Gc?null:$APP.gC.C(Gc);return null==Gc?null:Gc>X}();if($APP.n(ua)){var pf=u,mf=x,Ie=z,ce=P;g=r;h=
pf;k=mf;p=Ie;q=ce}else{var Xd=$APP.S.F(x,T,new $APP.m(null,1,[QMd,I],null));Ia=C$(x,T);Na=C$(Xd,T);var id=r,rd=u,sd=Xd,Vd=$APP.S.F($APP.Zi.A(z,Ia),Na,T),Id=P;g=id;h=rd;k=sd;p=Vd;q=Id}continue;case "remove-asset":Pc=function(){var Gc=$APP.H.A(pa,QMd);Gc=null==Gc?null:$APP.Ec(Gc);Gc=null==Gc?null:$APP.gC.C(Gc);return null==Gc?null:Gc>X}();if($APP.n(Pc)){var ee=u,ac=x,Ud=z,ie=P;g=r;h=ee;k=ac;p=Ud;q=ie}else{Xd=$APP.S.F(x,T,new $APP.m(null,1,[PMd,I],null));Ia=C$(x,T);Na=C$(Xd,T);var He=r,Ke=u,je=Xd,ke=
$APP.S.F($APP.Zi.A(z,Ia),Na,T),Sc=P;g=He;h=Ke;k=je;p=ke;q=Sc}continue;default:throw Error(["No matching clause: ",$APP.t.C(ra)].join(""));}}},TMd=function(a,b){b=SMd.C?SMd.C(b):SMd.call(null,b);var c=$APP.H.A($APP.v(K$),a),d=$APP.nf(c);c=$APP.H.A(d,L$);c=$APP.nf(c);var e=$APP.H.A(c,D$),f=$APP.H.A(c,F$),g=$APP.H.A(c,E$),h=$APP.H.A(c,G$);d=$APP.H.A(d,M$);var k=$APP.nf(d);d=$APP.H.A(k,D$);var p=$APP.H.A(k,F$),q=$APP.H.A(k,E$);k=$APP.H.A(k,G$);d=RMd(b,d,p,q,k);d=$APP.nf(d);var r=$APP.H.A(d,D$),u=$APP.H.A(d,
F$);b=$APP.n(c)?RMd(b,e,f,g,h):null;b=$APP.nf(b);var x=$APP.H.A(b,D$),z=$APP.H.A(b,F$);$APP.Ch.K(K$,$APP.Zr,a,function(D){var F=$APP.nf(D);D=$APP.H.A(F,M$);F=$APP.H.A(F,L$);D=new $APP.m(null,1,[M$,$APP.S.G(D,D$,r,$APP.G([F$,u]))],null);return $APP.n(F)?$APP.S.F(D,L$,$APP.S.G(F,D$,x,$APP.G([F$,z]))):D})},UMd=function(a,b){b=SMd.C?SMd.C(b):SMd.call(null,b);var c=$APP.H.A($APP.v(K$),a),d=$APP.nf(c);c=$APP.H.A(d,L$);c=$APP.nf(c);var e=$APP.H.A(c,D$),f=$APP.H.A(c,F$),g=$APP.H.A(c,E$),h=$APP.H.A(c,G$);
d=$APP.H.A(d,M$);var k=$APP.nf(d);d=$APP.H.A(k,D$);var p=$APP.H.A(k,F$),q=$APP.H.A(k,E$);k=$APP.H.A(k,G$);d=RMd(b,d,p,q,k);d=$APP.nf(d);var r=$APP.H.A(d,E$),u=$APP.H.A(d,G$);b=$APP.n(c)?RMd(b,e,f,g,h):null;b=$APP.nf(b);var x=$APP.H.A(b,E$),z=$APP.H.A(b,G$);return $APP.Ch.K(K$,$APP.Zr,a,function(D){var F=$APP.nf(D);D=$APP.H.A(F,M$);F=$APP.H.A(F,L$);D=new $APP.m(null,1,[M$,$APP.S.G(D,E$,r,$APP.G([G$,u]))],null);return $APP.n(F)?$APP.S.F(D,L$,$APP.S.G(F,E$,x,$APP.G([G$,z]))):D})},VMd=function(a,b){return $APP.Ch.G(K$,
$APP.Ml,new $APP.O(null,2,5,$APP.Q,[a,M$],null),$APP.S,$APP.G([$APP.pZa,b]))},WMd=function(a,b){return $APP.Ch.K(K$,$APP.Zr,a,function(c){var d=$APP.nf(c);c=$APP.H.A(d,M$);d=$APP.H.A(d,L$);c=new $APP.m(null,1,[M$,$APP.S.F(c,$APP.gA,b)],null);return $APP.n(d)?$APP.S.F(c,L$,$APP.S.F(d,$APP.gA,b)):c})},XMd=function(a){var b=$APP.wt.A($APP.v(K$),new $APP.O(null,2,5,$APP.Q,[a,L$],null));return $APP.n(b)?$APP.Ch.K(K$,$APP.S,a,new $APP.m(null,1,[M$,b],null)):null},YMd=function(a){a=$APP.H.A($APP.v(K$),a);
a=null==a?null:M$.C(a);a=null==a?null:D$.C(a);a=null==a?null:$APP.Kg(a);return null==a?null:$APP.Pf.G($APP.Kg,$APP.G([a]))},ZMd=function(a){a=$APP.H.A($APP.v(K$),a);a=null==a?null:M$.C(a);return null==a?null:$APP.gA.C(a)},$Md=function(a){a=$APP.H.A($APP.v(K$),a);a=null==a?null:M$.C(a);return null==a?null:$APP.pZa.C(a)},aNd=function(a){a=$APP.H.A($APP.v(K$),a);a=null==a?null:M$.C(a);a=null==a?null:D$.C(a);a=null==a?null:$APP.Hg(a);return null==a?null:$APP.yc(a)},bNd=function(a,b){var c=$APP.H.A($APP.v(K$),
a);c=M$.C(c);var d=$APP.nf(c);c=$APP.H.A(d,F$);d=$APP.H.A(d,D$);var e=C$(d,b);$APP.Ch.G(K$,$APP.Ml,new $APP.O(null,2,5,$APP.Q,[a,M$],null),$APP.S,$APP.G([D$,$APP.Zi.A(d,b),F$,$APP.Zi.A(c,e)]))},eNd=function(a){return $APP.gl(null,function(){return $APP.gl(mMd(a),function(b){return $APP.gl($APP.rg.A($APP.lf,b),function(c){return $APP.gl($APP.H.A(c,"local-tx"),function(d){return $APP.Zk($APP.n(d)?function(){var e=$APP.H.A(c,"graph-uuid"),f=$APP.mh.A($APP.Ec,function(){var r=$APP.Yt.F($APP.A,$APP.Sr,
$APP.Rf.A($APP.el.A($APP.mb,$APP.A),b));return cNd.C?cNd.C(r):cNd.call(null,r)}());f=RMd(f,$APP.lf,$APP.rz($APP.Sr),$APP.lf,$APP.rz($APP.Sr));f=$APP.nf(f);var g=$APP.H.A(f,D$),h=$APP.H.A(f,F$),k=$APP.H.A(f,E$),p=$APP.H.A(f,G$),q=function(){var r=new $APP.m(null,4,[D$,g,F$,h,E$,k,G$,p],null);r=$APP.n(e)?$APP.S.F(r,$APP.gA,e):r;return $APP.n(d)?$APP.S.F(r,$APP.pZa,d):r}();$APP.Ch.K(K$,$APP.Zr,a,function(r){return $APP.Zi.A($APP.S.F(r,M$,q),L$)});return $APP.Dv.G($APP.G([dNd,a]))}():null)})})})})},gNd=
function(a){var b=$APP.H.A($APP.v(K$),a);b=M$.C(b);var c=$APP.nf(b),d=$APP.H.A(c,D$);b=$APP.H.A(c,$APP.pZa);c=$APP.H.A(c,$APP.gA);d=$APP.Pf.G($APP.Kg,$APP.G([$APP.Kg(d)]));d=fNd.C?fNd.C(d):fNd.call(null,d);return lMd(a,d,c,b)},hNd=function(a,b,c){var d=new $APP.O(null,1,5,$APP.Q,[$APP.Zt],null);b=$APP.iu?$APP.iu(b,d,c):$APP.ju.call(null,b,d,c);return $APP.B.A(1,$APP.yc(b))?(b=new $APP.O(null,1,5,$APP.Q,[$APP.Zt],null),$APP.iu?$APP.iu(a,b,c):$APP.ju.call(null,a,b,c)):b},iNd=function(a){a=$APP.nf(a);
var b=$APP.H.A(a,$APP.jt),c=$APP.H.A(a,$APP.lt),d=$APP.H.A(a,$APP.ot);a=$APP.H.A(a,$APP.vy);d=$APP.Rg($APP.hj.A($APP.A,d));d=$APP.$d.F(function(e,f){f=hNd(b,c,f);var g=$APP.rt.C($APP.Yw.C(f));g=$APP.n(g)?hNd(b,c,g):null;e=null!=f?$APP.Zr.K(e,$APP.qy,$APP.Fe,f):e;return null!=g?$APP.Zr.K(e,$APP.dx,$APP.Fe,g):e},new $APP.m(null,2,[$APP.qy,$APP.Og,$APP.dx,$APP.Og],null),d);a=$APP.Rg($APP.mh.A(function(e){return hNd(b,c,e)},$APP.zl.A($APP.kb,new $APP.O(null,2,5,$APP.Q,[$APP.wMa.C(a),$APP.aOa.C(a)],null))));
return $APP.y(a)?$APP.Zr.K(d,$APP.dx,$APP.iv,a):d},jNd=function(a){return $APP.wk.A(function(b){return $APP.B.A($APP.Kw,$APP.nt.C(b))&&!1===$APP.Jr.C(b)?$APP.mt.C(b):null},a)},mNd=function(a,b){a=$APP.nf(a);var c=$APP.H.A(a,$APP.jt),d=$APP.H.A(a,$APP.lt);b=$APP.zl.A($APP.Jw,b);var e=$APP.Bh.C($APP.Og);return $APP.Pf.G(function(f){if($APP.nb(function(){var r=$APP.Kw.C(f),u=$APP.v(e);return u.C?u.C(r):u.call(null,r)}())&&$APP.nb($APP.Jw.C(f))){var g=$APP.JLa(d,$APP.Kw.C(f),$APP.lf);g=$APP.mh.A($APP.rt,
$APP.Pf.G($APP.Gx,$APP.G([g])));var h=$APP.n(c)?$APP.Rg($APP.mh.A($APP.rt,$APP.Gx.C(function(){var r=$APP.rt.C(f);return $APP.zt.A?$APP.zt.A(c,r):$APP.zt.call(null,c,r)}()))):$APP.Og,k=$APP.Rg($APP.lk.G(function(){var r=$APP.rt.C($APP.Yw.C(f));return null==r?null:new $APP.O(null,1,5,$APP.Q,[r],null)}(),$APP.mh.A($APP.rt,$APP.Ow.C(f)),$APP.G([g])));g=$APP.Lg.A(h,k);h=$APP.LLa(d,$APP.Kw.C(f));var p=$APP.rg.A($APP.lf,$APP.mh.A(function(r){r=new $APP.O(null,2,5,$APP.Q,[$APP.Kw,r],null);r=$APP.zt.A?$APP.zt.A(d,
r):$APP.zt.call(null,d,r);return new $APP.O(null,2,5,$APP.Q,[$APP.rt.C(r),new $APP.m(null,2,[kNd,$APP.wt.A(r,new $APP.O(null,2,5,$APP.Q,[$APP.Zw,$APP.rt],null)),lNd,$APP.mh.A($APP.rt,$APP.Ow.C(r))],null)],null)},h)),q=$APP.mh.A(function(r){var u=$APP.C.F(r,0,null);r=$APP.C.F(r,1,null);var x=$APP.nf(r);r=$APP.H.A(x,lNd);var z=$APP.iv.G;a:{var D=$APP.Og;for(x=kNd.C(x);;)if(x=p.C?p.C(x):p.call(null,x),$APP.n(x))D=$APP.rg.A(D,lNd.C(x)),x=kNd.C(x);else break a}return new $APP.m(null,2,[$APP.rt,u,$APP.Gx,
z.call($APP.iv,k,r,$APP.G([D]))],null)},p);$APP.Ch.F(e,$APP.iv,$APP.Rg($APP.Le($APP.Kw.C(f),h)));return $APP.lk.A($APP.y(k)&&g?new $APP.O(null,1,5,$APP.Q,[new $APP.m(null,2,[$APP.rt,$APP.rt.C(f),$APP.Gx,k],null)],null):null,q)}return null},$APP.G([b]))},nNd=function(a,b){a=mNd(a,b);b=$APP.mh.A(function(c){return new $APP.O(null,3,5,$APP.Q,[$APP.xt,$APP.rt.C(c),$APP.Gx],null)},a);return $APP.lk.A(b,a)},oNd=function(a){a=$APP.nf(a);var b=$APP.H.A(a,$APP.ot),c=$APP.H.A(a,$APP.lt);return function(){var d=
$APP.pu.C($APP.mh.A($APP.mt,$APP.Rf.A(function(g){return $APP.Qd(new $APP.Ng(null,new $APP.m(null,3,[$APP.Uw,null,$APP.Zw,null,$APP.Yw,null],null),null),$APP.nt.C(g))},b))),e=$APP.pu.C($APP.mh.A($APP.mt,$APP.Rf.A(function(g){if($APP.Qd(new $APP.Ng(null,new $APP.m(null,2,[$APP.Ow,null,$APP.Gx,null],null),null),$APP.nt.C(g))){var h=$APP.Lg.A;var k=$APP.mt.C(g),p=$APP.rt.C,q=$APP.Yw.C;g=$APP.Cn.C(g);g=$APP.zt.A?$APP.zt.A(c,g):$APP.zt.call(null,c,g);h=h.call($APP.Lg,k,p.call($APP.rt,q.call($APP.Yw,g)))}else h=
null;return h},b))),f=$APP.mh.A($APP.Cn,$APP.Rf.A(function(g){return $APP.B.A("block",$APP.Pe($APP.nt.C(g)))},b));d=$APP.pu.C($APP.lk.A(d,f));d=$APP.wk.A(function(g){g="string"===typeof g&&$APP.Uo(g)?new $APP.O(null,2,5,$APP.Q,[$APP.Kw,g],null):g;return $APP.zt.A?$APP.zt.A(c,g):$APP.zt.call(null,c,g)},d);e=$APP.lk.A($APP.Pf.G(function(g){var h=function(){var q=$APP.n($APP.Jw.C(g))?$APP.rt.C(g):null;return $APP.n(q)?q:$APP.rt.C($APP.Yw.C(g))}(),k=new $APP.O(null,2,5,$APP.Q,[function(){var q=$APP.rt.C($APP.Zw.C(g));
return $APP.n(q)?new $APP.O(null,2,5,$APP.Q,[$APP.FC,q],null):null}(),new $APP.O(null,2,5,$APP.Q,[$APP.FC,$APP.rt.C(g)],null)],null),p=$APP.Gx.C(g);p=$APP.yf.A($APP.lk,$APP.wk.A(function(q){return $APP.B.A($APP.rt.C(q),h)?null:new $APP.O(null,2,5,$APP.Q,[new $APP.O(null,2,5,$APP.Q,[$APP.NA,$APP.rt.C(q)],null),new $APP.O(null,2,5,$APP.Q,[$APP.FC,$APP.rt.C(q)],null)],null)},p));return $APP.lk.A(k,p)},$APP.G([d])),$APP.Pf.G(function(g){return new $APP.O(null,2,5,$APP.Q,[new $APP.O(null,2,5,$APP.Q,[$APP.NA,
g],null),new $APP.O(null,2,5,$APP.Q,[$APP.FC,g],null)],null)},$APP.G([e])));return $APP.pu.C($APP.zl.A($APP.kb,e))}()},rNd=function(a){return $APP.Rj(function(b){var c=$APP.Uc(b);if($APP.n(pNd.C(c)))return $APP.yk.A(b,a);if($APP.n($APP.vWa.C(c))){var d=$APP.C.F(b,0,null);b=$APP.C.F(b,1,null);var e=$APP.n($APP.tD.C?$APP.tD.C(d):$APP.tD.call(null,d))?$APP.yk.A(b,a):b;return new $APP.O(null,2,5,$APP.Q,[d,new $APP.O(null,3,5,$APP.Q,[$APP.Cq,$APP.Gy,new $APP.O(null,2,5,$APP.Q,[$APP.Lq,function(f){return($APP.ed(f)||
$APP.bd(f))&&$APP.Lg.A($APP.VWa,d)?$APP.uf(e,f):e.C?e.C(f):e.call(null,f)}],null)],null)],null)}return b},qNd)},sNd=function(a){return $APP.mh.A(function(b){return $APP.n($APP.mx.C(b))?$APP.Zr.F(b,$APP.mx,function(c){return $APP.hj.A($APP.le,c)}):b},a)},tNd=function(a){return $APP.$d.F(function(b,c){return $APP.Qd($APP.P3a,$APP.nt.C(c))?$APP.Zr.na(b,$APP.Cn.C(c),$APP.Zr,$APP.nt.C(c),$APP.hv.A($APP.Fe,$APP.Og),$APP.mt.C(c)):$APP.Zr.ca(b,$APP.Cn.C(c),$APP.S,$APP.nt.C(c),$APP.mt.C(c))},$APP.lf,a)},wNd=
function(a,b){a=$APP.nf(a);var c=$APP.H.A(a,$APP.lt),d=$APP.H.A(a,$APP.ot);a=$APP.H.A(a,$APP.vy);b=$APP.nf(b);var e=$APP.H.A(b,uNd);b=$APP.pu.C($APP.mh.A($APP.Cn,d));d=$APP.Kg(tNd($APP.Pf.G(function(g){return $APP.Ds(c,$APP.Ks,g,null,null,null)},$APP.G([b]))));d=$APP.be(sNd(d));var f=function(){var g=rNd(c);return $APP.n(e)?$APP.oAa(g):g}();console.log("changed eids:",b,a);a=$APP.Dl.C($APP.Zxa(f,d));return $APP.n(a)?(console.error("Invalid datascript entities detected amongst changed entity ids:",
b),$APP.Rm(new $APP.m(null,1,[$APP.Dl,a],null)),$APP.Rm(new $APP.m(null,1,[vNd,d],null)),!1):!0},xNd=function(a,b){b=$APP.zt.A?$APP.zt.A(a,b):$APP.zt.call(null,a,b);var c=$APP.rt.C(b),d=$APP.gx.C(b);if($APP.y(d)){var e=$APP.Rg($APP.mh.A($APP.rt,d)),f=$APP.Tw(d,b);if($APP.Lg.A($APP.yc(f),$APP.yc(d))){b=new $APP.m(null,2,[$APP.pm,new $APP.m(null,3,[$APP.rt,c,$APP.Kw,$APP.Kw.C(b),$APP.Nw,$APP.Nw.C(b)],null),$APP.Fp,$APP.hj.A(function(p){return new $APP.m(null,3,[$APP.rt,$APP.rt.C(p),$APP.Nw,$APP.Nw.C(p),
$APP.Uw,$APP.rt.C($APP.Uw.C(p))],null)},d)],null);$APP.Dv.G($APP.G([$APP.EC,"Broken chain:"]));$APP.Rm(b);v$($APP.rB,$APP.zh.G($APP.G([new $APP.O(null,2,5,$APP.Q,[new $APP.O(null,2,5,$APP.Q,[$APP.$B,["Broken chain detected:\n",$APP.t.C(b)].join("")],null),$APP.Fs],null)])));var g=$APP.rt.C($APP.sLa(a,c,c)),h=$APP.Bh.C(e),k=function(){for(var p=$APP.Wf;;)if($APP.y($APP.v(h))){var q=$APP.Jc(p);if($APP.y($APP.Jc(p)))var r=q;else $APP.n(function(){var z=$APP.$c(p);return z?g:z}())?($APP.Ch.F(h,$APP.Bx,
g),r=new $APP.O(null,1,5,$APP.Q,[g],null)):r=function(){var z=$APP.A($APP.v(h));$APP.Ch.F(h,$APP.Bx,z);return new $APP.O(null,1,5,$APP.Q,[z],null)}();var u=r,x=function(){var z=$APP.rt.C;var D=$APP.Uw.C;var F=$APP.A(u);F=$APP.zt.A?$APP.zt.A(a,F):$APP.zt.call(null,a,F);z=z.call($APP.rt,D.call($APP.Uw,F));$APP.n(z)?($APP.Ch.F(h,$APP.Bx,z),z=!$APP.Qd($APP.Rg(u),z)&&$APP.Qd(e,z)?$APP.be($APP.Le(z,u)):null):z=null;return $APP.n(z)?z:u}();r=function(){var z=$APP.rt.C($APP.tLa(a,$APP.Jc(x)));$APP.n(z)?($APP.Ch.F(h,
$APP.Bx,z),z=!$APP.Qd($APP.Rg(x),z)&&$APP.Qd(e,z)?$APP.Fe.A(x,z):null):z=null;return $APP.n(z)?z:x}();p=$APP.$c(q)?$APP.Fe.A($APP.be($APP.Sg(p)),r):$APP.B.A(r,u)?$APP.Fe.A(p,$APP.Wf):$APP.Fe.A($APP.be($APP.Sg(p)),r)}else return p}();return $APP.yf.A($APP.lk,$APP.$l.A(function(p,q){return $APP.$l.A(function(r,u){u=new $APP.m(null,1,[$APP.rt,u],null);r=0===p&&0===r?c:0!==p&&0===r?$APP.Jc($APP.C.A(k,p-1)):0<r?$APP.C.A(q,r-1):null;return $APP.S.F(u,$APP.Uw,r)},q)},k))}}return null},yNd=function(a,b){b=
$APP.pu.C($APP.mh.A($APP.A,$APP.Hg(b)));return $APP.Pf.G(function(c){return xNd(a,c)},$APP.G([b]))},zNd=function(a,b){a=$APP.zt.A?$APP.zt.A(a,b):$APP.zt.call(null,a,b);a=$APP.BLa.C(a);return $APP.rg.A($APP.lf,$APP.zl.A(function(c){var d=$APP.C.F(c,0,null);$APP.C.F(c,1,null);return $APP.B.A(d,new $APP.O(null,2,5,$APP.Q,[null,null],null))},$APP.Jh(function(c){return new $APP.O(null,2,5,$APP.Q,[$APP.wt.A(c,new $APP.O(null,2,5,$APP.Q,[$APP.Zw,$APP.rt],null)),$APP.wt.A(c,new $APP.O(null,2,5,$APP.Q,[$APP.Uw,
$APP.rt],null))],null)},a)))},ANd=function(a,b){$APP.y(b)&&($APP.Dv.G($APP.G([$APP.EC,"Parent left id conflicts:"])),v$($APP.rB,$APP.zh.G($APP.G([new $APP.O(null,2,5,$APP.Q,[new $APP.O(null,2,5,$APP.Q,[$APP.$B,["Parent-left conflicts detected:\n",$APP.t.C(b)].join("")],null),$APP.Fs],null)]))));return $APP.Pf.G(function(c){$APP.C.F(c,0,null);c=$APP.C.F(c,1,null);var d=$APP.Yt.A($APP.cw,c);c=$APP.y(d);var e=$APP.A(c);c=$APP.jc(c);c=$APP.$l.A(function(g,h){return new $APP.m(null,3,[$APP.rt,$APP.rt.C(h),
$APP.Uw,$APP.rt.C($APP.C.A(d,0===g?g:g-1)),$APP.Zw,$APP.rt.C($APP.Zw.C(e))],null)},c);var f=function(){var g=$APP.tLa(a,$APP.rt.C(e));return $APP.n(g)?new $APP.O(null,1,5,$APP.Q,[new $APP.m(null,2,[$APP.rt,$APP.rt.C(g),$APP.Uw,$APP.rt.C($APP.Jc(d))],null)],null):null}();return $APP.lk.A(c,f)},$APP.G([b]))},BNd=function(a,b){a=zNd(a,b);return $APP.Rf.A(function(c){return 1<$APP.yc($APP.Ec(c))},a)},GNd=function(a,b){var c=$APP.nf($APP.lf),d=$APP.H.F(c,CNd,!0),e=$APP.H.F(c,DNd,!0);c=$APP.H.F(c,ENd,!1);
var f=$APP.v(a),g=$APP.zt.A?$APP.zt.A(f,b):$APP.zt.call(null,f,b);if(!$APP.n(function(){var p=$APP.oLa(f,g);return $APP.n(p)?p:$APP.$w(g)}())){c=$APP.n(c)?new $APP.m(null,1,[$APP.DSa,!0],null):$APP.lf;var h=$APP.Bh.C($APP.Wf);$APP.n(d)&&FNd(a,b,c,h);if($APP.n(e)&&(d=$APP.v(a),b=zNd(f,b),b=yNd(d,b),$APP.y(b))){var k=$APP.ot.C($APP.Sw(a,b,c));$APP.Ch.A(h,function(p){return $APP.lk.A(p,k)})}$APP.v(h)}},HNd=function(a,b){a=$APP.nf(a);var c=$APP.H.A(a,$APP.vy),d=$APP.Jx.C(c);$APP.n(d)?(d=$APP.Jx.C(c),
$APP.n(d)?((d=$APP.Qd(new $APP.Ng(null,new $APP.m(null,2,[$APP.qXa,null,$APP.Ix,null],null),null),d))?c=d:(d=$APP.OZa.C(c),c=$APP.n(d)?d:$APP.DUa.C(c)),c=$APP.nb(c)):c=null):c=d;return $APP.n(c)?nNd(a,b):null},INd=function(a,b){var c=$APP.lt.C(a);b=$APP.pu.C($APP.wk.A(function(d){var e=function(){var g=$APP.jt.C(a),h=new $APP.O(null,2,5,$APP.Q,[$APP.Kw,d],null);return $APP.zt.A?$APP.zt.A(g,h):$APP.zt.call(null,g,h)}();if($APP.n($APP.ey.C($APP.dy.C($APP.Zw.C(e))))){var f=function(){var g=$APP.rt.C($APP.Zw.C(e));
return $APP.zt.A?$APP.zt.A(c,g):$APP.zt.call(null,c,g)}();return $APP.$c($APP.gx.C(f))?f:null}return null},b));return $APP.y(b)?$APP.zl.A($APP.kb,$APP.Pf.G(function(d){var e=$APP.dy.C(d);e=$APP.nf(e);var f=$APP.H.A(e,$APP.NXa);e=$APP.H.A(e,$APP.ey);f=new $APP.O(null,2,5,$APP.Q,[$APP.Kw,f],null);f=$APP.zt.A?$APP.zt.A(c,f):$APP.zt.call(null,c,f);var g=$APP.S.F($APP.mx.C(f),e,"");return $APP.n($APP.n(f)?e:f)?new $APP.O(null,2,5,$APP.Q,[new $APP.O(null,2,5,$APP.Q,[$APP.nNa,$APP.rt.C(d)],null),new $APP.O(null,
4,5,$APP.Q,[$APP.tt,$APP.rt.C(f),$APP.mx,g],null)],null):null},$APP.G([b]))):null},JNd=function(a,b){b=$APP.nf(b);var c=$APP.H.A(b,$APP.jt),d=$APP.H.A(b,$APP.lt);b=$APP.H.A(b,$APP.ot);b=$APP.pu.C($APP.zl.A($APP.kb,$APP.mh.A(function(k){var p=$APP.rt.C,q=$APP.Yw.C,r=$APP.zt.A?$APP.zt.A(d,k):$APP.zt.call(null,d,k);k=$APP.n(r)?r:$APP.zt.A?$APP.zt.A(c,k):$APP.zt.call(null,c,k);return p.call($APP.rt,q.call($APP.Yw,k))},$APP.pu.C($APP.mh.A($APP.Cn,$APP.Rf.A(function(k){return $APP.Qd(new $APP.Ng(null,new $APP.m(null,
2,[$APP.Uw,null,$APP.Zw,null],null),null),$APP.nt.C(k))},b))))));b=$APP.y(b);for(var e=null,f=0,g=0;;)if(g<f){var h=e.ia(null,g);GNd(a,h);g+=1}else if(b=$APP.y(b))e=b,$APP.kd(e)?(b=$APP.Qb(e),f=$APP.Rb(e),e=b,h=$APP.yc(b),b=f,f=h):(h=$APP.A(e),GNd(a,h),b=$APP.jc(e),e=null,f=0),g=0;else return null},LNd=function(a,b,c,d){if($APP.n(function(){var f=$APP.cXa.C(d);return $APP.n(f)?$APP.aw(a):f}())){var e=wNd(c,$APP.YYa.C(d));$APP.n(function(){var f=$APP.wt.A(d,new $APP.O(null,2,5,$APP.Q,[$APP.YYa,KNd],
null));return $APP.n(f)?!e:f}())&&v$($APP.rB,$APP.zh.G($APP.G([new $APP.O(null,2,5,$APP.Q,[new $APP.O(null,1,5,$APP.Q,["Invalid DB!"],null),$APP.Fs],null)])))}return $APP.n(function(){var f=$APP.cXa.C(d);return $APP.n(f)?$APP.nb($APP.qVa.C(d)):f}())?JNd(b,c):null},NNd=function(a,b,c){var d=dMd.C($APP.v(x$));if($APP.n(MNd.C($APP.vy.C(c))))return null;var e=$APP.vy.C(c),f=$APP.nf(e),g=$APP.H.A(f,$APP.VA);f=$APP.H.A(f,$APP.LB);if($APP.n($APP.n(g)?g:f))return new $APP.m(null,1,[$APP.JUa,c],null);g=iNd(c);
g=$APP.nf(g);var h=$APP.H.A(g,$APP.dx),k=$APP.H.A(g,$APP.qy);SKd(a)&&function(){var r=$APP.pu.C($APP.mh.A($APP.rt,h));r=$APP.y(r);for(var u=null,x=0,z=0;;)if(z<x){var D=u.ia(null,z);gMd(a,D,e);z+=1}else if(r=$APP.y(r))u=r,$APP.kd(u)?(r=$APP.Qb(u),x=$APP.Rb(u),u=r,D=$APP.yc(r),r=x,x=D):(D=$APP.A(u),gMd(a,D,e),r=$APP.jc(u),u=null,x=0),z=0;else return null}();var p=$APP.Rg(jNd($APP.ot.C(c))),q=$APP.lk.G($APP.Rg(HNd(c,k)),$APP.y(p)?INd(c,p):null,$APP.G([function(){var r=$APP.zl.A(function(x){return $APP.Qd($APP.Rg(p),
$APP.Kw.C(x))},k),u=$APP.wt.A(c,new $APP.O(null,2,5,$APP.Q,[$APP.kt,$APP.TCa],null));return $APP.zl.A($APP.kb,$APP.mh.A(function(x){x=$APP.rt.C(x);return $APP.n(x)?new $APP.m(null,2,[$APP.rt,x,$APP.BA,u],null):null},r))}()]));g=function(){var r=$APP.y(q)?$APP.Sw(b,q,new $APP.m(null,2,[$APP.DSa,!0,MNd,!0],null)):null;return $APP.n(r)?r:c}();f=LNd(a,b,c,d);f=$APP.lk.G($APP.ot.C(c),f,$APP.G([$APP.ot.C(g)]));g=$APP.S.G(g,$APP.ot,f,$APP.G([$APP.jt,$APP.jt.C(c)]));d=$APP.n($APP.oTa.C(d))?null:oNd(g);return new $APP.m(null,
5,[$APP.JUa,g,$APP.NTa,d,$APP.ESa,p,$APP.dx,h,$APP.qy,k],null)},ONd=function(a){return $APP.$d.F(function(b,c){$APP.C.F(c,0,null);var d=$APP.C.F(c,1,null);$APP.C.F(c,2,null);var e=$APP.C.F(c,3,null);$APP.C.F(c,4,null);var f=$APP.H.A(b,d);if($APP.n(f)){$APP.C.F(f,0,null);$APP.C.F(f,1,null);$APP.C.F(f,2,null);var g=$APP.C.F(f,3,null);$APP.C.F(f,4,null);return g<=e?$APP.S.F(b,d,c):b}return $APP.S.F(b,d,c)},$APP.lf,a)},PNd=function(a,b,c,d){b=$APP.Rg($APP.H.A($APP.zt.A?$APP.zt.A(b,c):$APP.zt.call(null,
b,c),d));c=$APP.Rg($APP.H.A($APP.zt.A?$APP.zt.A(a,c):$APP.zt.call(null,a,c),d));a=$APP.gs.A(b,c);b=$APP.gs.A(c,b);c=$APP.lf;a=$APP.y(a)?$APP.Fe.A(c,new $APP.O(null,2,5,$APP.Q,[$APP.lB,a],null)):c;return $APP.y(b)?$APP.Fe.A(a,new $APP.O(null,2,5,$APP.Q,[B$,b],null)):a},QNd=function(a,b,c){b=$APP.mx.C($APP.zt.A?$APP.zt.A(b,c):$APP.zt.call(null,b,c));a=$APP.mx.C($APP.zt.A?$APP.zt.A(a,c):$APP.zt.call(null,a,c));a=$APP.mh.A($APP.el.A($APP.Rg,$APP.Hg),$APP.HAa(b,a));c=$APP.C.F(a,0,null);b=$APP.C.F(a,1,
null);var d=$APP.C.F(a,2,null);a=$APP.gs.G(b,c,$APP.G([d]));b=$APP.hs.A(d,b);c=$APP.iv.A(c,b);b=$APP.lf;c=$APP.y(c)?$APP.Fe.A(b,new $APP.O(null,2,5,$APP.Q,[$APP.lB,c],null)):b;return $APP.y(a)?$APP.Fe.A(c,new $APP.O(null,2,5,$APP.Q,[B$,a],null)):c},SNd=function(a,b,c){var d=ONd(c);if($APP.y(d)){var e=$APP.Rg($APP.Hg(d)),f=function(){var x=null==d?null:$APP.A(d);x=null==x?null:$APP.Ec(x);return null==x?null:$APP.A(x)}();c=$APP.nf(d);var g=$APP.H.A(c,$APP.Kw);$APP.C.F(g,0,null);$APP.C.F(g,1,null);var h=
$APP.C.F(g,2,null);$APP.C.F(g,3,null);var k=$APP.C.F(g,4,null);g=$APP.H.A(c,$APP.Jw);$APP.C.F(g,0,null);$APP.C.F(g,1,null);$APP.C.F(g,2,null);$APP.C.F(g,3,null);var p=$APP.C.F(g,4,null);g=$APP.H.A(c,$APP.Zw);$APP.C.F(g,0,null);$APP.C.F(g,1,null);$APP.C.F(g,2,null);$APP.C.F(g,3,null);var q=$APP.C.F(g,4,null);g=$APP.H.A(c,$APP.Uw);$APP.C.F(g,0,null);$APP.C.F(g,1,null);$APP.C.F(g,2,null);$APP.C.F(g,3,null);var r=$APP.C.F(g,4,null);c=$APP.H.A(c,$APP.Lw);$APP.C.F(c,0,null);$APP.C.F(c,1,null);$APP.C.F(c,
2,null);$APP.C.F(c,3,null);var u=$APP.C.F(c,4,null);c=$APP.n(function(){var x=$APP.nb(k);return x?$APP.n(h)?$APP.nb(p)&&$APP.Qd(e,$APP.Jw):h:x}())?new $APP.O(null,1,5,$APP.Q,[new $APP.O(null,2,5,$APP.Q,[I$,h],null)],null):$APP.n(function(){var x=$APP.nb(k);return x?h:x}())?new $APP.O(null,1,5,$APP.Q,[new $APP.O(null,2,5,$APP.Q,[$APP.rA,h],null)],null):function(){var x=$APP.y($APP.hs.A(e,new $APP.Ng(null,new $APP.m(null,7,[$APP.px,null,$APP.ny,null,$APP.mx,null,$APP.Ly,null,$APP.Pw,null,$APP.Nw,null,
$APP.Vw,null],null),null))),z=function(){var D=$APP.Wf;D=$APP.n($APP.n(q)?q:r)?$APP.Fe.A(D,new $APP.O(null,1,5,$APP.Q,[$APP.oA],null)):D;var F=(F=$APP.Qd(e,$APP.Jw))?p:F;$APP.n(F)||(F=(F=$APP.Qd(e,$APP.Lw))?u:F);return $APP.n(F)?$APP.Fe.A(D,new $APP.O(null,1,5,$APP.Q,[J$],null)):D}();x=$APP.yf.A($APP.On,$APP.wk.A(function(D){switch(D instanceof $APP.N?D.Z:null){case "block/link":case "block/schema":case "block/content":return $APP.jf([$APP.nh.C($APP.Tg(D)),null]);case "block/alias":D=PNd(a,b,f,$APP.px);
if($APP.y(D)){D=$APP.nf(D);var F=$APP.H.A(D,$APP.lB),J=$APP.H.A(D,B$),I=$APP.wk.A($APP.Kw,function(){var R=new $APP.O(null,1,5,$APP.Q,[$APP.Kw],null),W=$APP.mh.A($APP.rt,F);return $APP.ku?$APP.ku(b,R,W):$APP.lu.call(null,b,R,W)}()),P=$APP.wk.A($APP.Kw,function(){var R=new $APP.O(null,1,5,$APP.Q,[$APP.Kw],null),W=$APP.mh.A($APP.rt,J);return $APP.ku?$APP.ku(a,R,W):$APP.lu.call(null,a,R,W)}());return new $APP.m(null,1,[$APP.ay,function(){var R=$APP.lf;R=$APP.y(I)?$APP.Fe.A(R,new $APP.O(null,2,5,$APP.Q,
[$APP.lB,I],null)):R;return $APP.y(P)?$APP.Fe.A(R,new $APP.O(null,2,5,$APP.Q,[B$,P],null)):R}()],null)}return null;case "block/type":return D=PNd(a,b,f,$APP.Vw),$APP.y(D)?new $APP.m(null,1,[$APP.Bl,D],null):null;case "block/tags":return D=PNd(a,b,f,$APP.Pw),$APP.y(D)?(D=$APP.nf(D),F=$APP.H.A(D,$APP.lB),J=$APP.H.A(D,B$),I=$APP.wk.A($APP.Kw,function(){var R=new $APP.O(null,1,5,$APP.Q,[$APP.Kw],null),W=$APP.mh.A($APP.rt,F);return $APP.ku?$APP.ku(b,R,W):$APP.lu.call(null,b,R,W)}()),P=$APP.wk.A($APP.Kw,
function(){var R=new $APP.O(null,1,5,$APP.Q,[$APP.Kw],null),W=$APP.mh.A($APP.rt,J);return $APP.ku?$APP.ku(a,R,W):$APP.lu.call(null,a,R,W)}()),new $APP.m(null,1,[$APP.by,function(){var R=$APP.lf;R=$APP.y(I)?$APP.Fe.A(R,new $APP.O(null,2,5,$APP.Q,[$APP.lB,I],null)):R;return $APP.y(P)?$APP.Fe.A(R,new $APP.O(null,2,5,$APP.Q,[B$,P],null)):R}()],null)):null;case "block/properties":return D=QNd(a,b,f),$APP.y(D)?(D=$APP.nf(D),F=$APP.H.A(D,$APP.lB),J=$APP.H.A(D,B$),I=$APP.wk.A($APP.Kw,function(){var R=new $APP.O(null,
1,5,$APP.Q,[$APP.Kw],null),W=$APP.mh.A(function(V){return new $APP.O(null,2,5,$APP.Q,[$APP.Kw,V],null)},F);return $APP.ku?$APP.ku(b,R,W):$APP.lu.call(null,b,R,W)}()),new $APP.m(null,1,[$APP.Ep,function(){var R=$APP.lf;R=$APP.y(I)?$APP.Fe.A(R,new $APP.O(null,2,5,$APP.Q,[$APP.lB,I],null)):R;return $APP.y(J)?$APP.Fe.A(R,new $APP.O(null,2,5,$APP.Q,[B$,J],null)):R}()],null)):null;default:return null}},x));return $APP.y(x)?$APP.Fe.A(z,new $APP.O(null,2,5,$APP.Q,[$APP.IA,x],null)):z}();return $APP.wk.A(function(x){var z=
function(){var F=$APP.zt.A?$APP.zt.A(b,f):$APP.zt.call(null,b,f);F=null==F?null:$APP.Kw.C(F);return null==F?null:$APP.t.C(F)}(),D=$APP.A(x);D=D instanceof $APP.N?D.Z:null;switch(D){case "move":return $APP.n(z)?new $APP.O(null,2,5,$APP.Q,["move",new $APP.m(null,1,[$APP.XB,z],null)],null):null;case "update":return $APP.n(z)?new $APP.O(null,2,5,$APP.Q,["update",function(){var F=new $APP.m(null,1,[$APP.XB,z],null);return $APP.n($APP.Ec(x))?$APP.Fe.A(F,new $APP.O(null,2,5,$APP.Q,[RNd,$APP.Ec(x)],null)):
F}()],null):null;case "update-page":return $APP.n(z)?new $APP.O(null,2,5,$APP.Q,["update-page",new $APP.m(null,1,[$APP.XB,z],null)],null):null;case "remove":return new $APP.O(null,2,5,$APP.Q,["remove",new $APP.m(null,1,[$APP.XB,$APP.t.C($APP.Ec(x))],null)],null);case "remove-page":return new $APP.O(null,2,5,$APP.Q,["remove-page",new $APP.m(null,1,[$APP.XB,$APP.t.C($APP.Ec(x))],null)],null);default:throw Error(["No matching clause: ",$APP.t.C(D)].join(""));}},c)}return null},TNd=function(a,b){var c=
ONd(b);if($APP.y(c)){var d=function(){var q=null==c?null:$APP.A(c);q=null==q?null:$APP.Ec(q);return null==q?null:$APP.A(q)}();b=$APP.nf(c);var e=$APP.H.A(b,$APP.l0a);$APP.C.F(e,0,null);$APP.C.F(e,1,null);var f=$APP.C.F(e,2,null);$APP.C.F(e,3,null);var g=$APP.C.F(e,4,null);b=$APP.H.A(b,$APP.yXa);$APP.C.F(b,0,null);$APP.C.F(b,1,null);var h=$APP.C.F(b,2,null);$APP.C.F(b,3,null);var k=$APP.C.F(b,4,null);b=$APP.n(function(){var q=$APP.n(g)?f:g;return $APP.n(q)?q:$APP.n(k)?h:k}())?new $APP.O(null,1,5,$APP.Q,
[QMd],null):$APP.n(function(){var q=$APP.nb(g);return q?f:q}())?new $APP.O(null,2,5,$APP.Q,[PMd,f],null):null;if($APP.n(b)){e=function(){var q=$APP.zt.A?$APP.zt.A(a,d):$APP.zt.call(null,a,d);q=null==q?null:$APP.l0a.C(q);return null==q?null:$APP.t.C(q)}();var p=$APP.A(b);p=p instanceof $APP.N?p.Z:null;switch(p){case "update-asset":return $APP.n(e)?new $APP.O(null,2,5,$APP.Q,["update-asset",new $APP.m(null,1,[H$,e],null)],null):null;case "remove-asset":return new $APP.O(null,2,5,$APP.Q,["remove-asset",
new $APP.m(null,1,[H$,$APP.t.C($APP.Ec(b))],null)],null);default:throw Error(["No matching clause: ",$APP.t.C(p)].join(""));}}else return null}else return null},UNd=function(a,b,c,d){var e=$APP.mh.A($APP.be,d);d=$APP.Jh($APP.A,e);e=$APP.pu.C($APP.mh.A($APP.A,e));e=$APP.mh.A(d,e);d=$APP.wk.A($APP.yk.A(TNd,c),e);c=$APP.n($APP.Lc(d))?$APP.Pf.G($APP.yk.F(SNd,b,c),$APP.G([e])):null;var f=1E3*$APP.em($APP.Gl());b=$APP.$l.A(function(h,k){return new $APP.O(null,2,5,$APP.Q,[$APP.A(k),$APP.S.F($APP.Ec(k),$APP.gC,
h+f)],null)},c);var g=f+$APP.yc(c);c=$APP.$l.A(function(h,k){return new $APP.O(null,2,5,$APP.Q,[$APP.A(k),$APP.S.F($APP.Ec(k),$APP.gC,h+g)],null)},d);$APP.y(b)&&TMd(a,b);return $APP.y(c)?UMd(a,c):null},WNd=function(a,b){return XKd(b,VNd,function(c){var d=$APP.nf(c);c=$APP.H.A(d,$APP.ot);var e=$APP.H.A(d,$APP.vy),f=$APP.H.A(d,$APP.jt);d=$APP.H.A(d,$APP.lt);return $APP.n($APP.Hy.A(e,!0))?UNd(a,f,d,c):null})},ZNd=function(a,b){return XKd(b,XNd,function(c){var d=$APP.nf(c);c=$APP.H.A(d,$APP.vy);var e=
$APP.nf(c);e=$APP.H.A(e,MNd);var f=NNd(a,b,d),g=function(){var h=$APP.JUa.C(f);return $APP.n(h)?h:d}();if($APP.n(e))return null;c=$APP.zh.G($APP.G([$APP.On.G($APP.G([new $APP.m(null,4,[$APP.iLa,$APP.iLa.C(c),$APP.Mx,a,$APP.ot,$APP.ot.C(g),$APP.vy,c],null),$APP.Zi.A(f,$APP.JUa)]))]));v$($APP.ITa,c);return $APP.gl(null,function(){var h=KLd(a,g);var k=$APP.nf(h);h=$APP.H.A(k,$APP.PVa);k=$APP.H.A(k,$APP.fVa);var p=YNd.C($APP.v(x$));$APP.n(p)?($APP.y(h)&&p.search_delete_blocks(a,$APP.yi(h)),h=$APP.y(k)?
p.search_upsert_blocks(a,$APP.yi(k)):null):h=null;return $APP.Zk(h)})})},N$=function(a){if(a instanceof $APP.Uh)throw a;return a},bOd=function(a,b,c){a=new WebSocket($APP.ml($APP.v($Nd),a));a.onopen=function(){return $APP.zi(c)};a.onmessage=function(d){d=$APP.Po.G(JSON.parse(d.data),$APP.G([$APP.Qo,!0]));return $APP.Wi(b,d)};a.onclose=function(d){$APP.uz.G($APP.G([aOd]));return console.error(d)};return a},fOd=function(a){var b=$APP.Oi(1);$APP.Bi(function(){var c=function(){function e(f){var g=f[1];
if(7===g)return f[2]=f[7].readyState>cOd,f[1]=8,$APP.U;if(20===g){var h=f[8];g=N$(f[2]);f[9]=g;return $APP.Ki(f,21,h)}if(1===g)return f[2]=null,f[1]=2,$APP.U;if(4===g)return f[2]=f[2],f[1]=3,$APP.U;if(15===g)return f[2]=f[2],f[1]=11,$APP.U;if(21===g)return g=f[2],f[4]=$APP.ic(f[4]),f[2]=g,f[1]=18,$APP.U;if(13===g){g=$APP.Sh();g=$APP.t.C(g);h=O$.C(a);var k=$APP.Oi(1);var p=$APP.dj(h,g,k);f[11]=g;f[10]=h;f[8]=k;f[12]=p;f[2]=null;f[1]=16;return $APP.U}if(6===g)return f[2]=f[13],f[1]=8,$APP.U;if(17===
g)return f[2]=f[2],f[1]=15,$APP.U;if(3===g)return $APP.Mi(f,f[2]);if(12===g)return h=f[14],g=f[2],k=$APP.EA.C(a),h=$APP.Df(k,h),k=P$.C(a),k=$APP.v(k),f[16]=g,f[17]=h,f[15]=k,f[1]=$APP.n(k)?13:14,$APP.U;if(2===g)return f[4]=$APP.Le(5,f[4]),g=$APP.EA.C(a),g=$APP.v(g),h=null==g,f[7]=g,f[13]=h,f[1]=$APP.n(h)?6:7,$APP.U;if(19===g)throw f[4]=$APP.ic(f[4]),g=f[2],f[5]=g,g;if(11===g)return g=f[2],f[4]=$APP.ic(f[4]),f[2]=g,f[1]=3,$APP.U;if(9===g)return g=$APP.Oi(null),h=dOd.C(a),h=$APP.v(h),k=eOd.C(a),h=bOd(h,
k,g),f[14]=h,$APP.Ki(f,12,g);if(5===g)return f[4]=$APP.ic(f[4]),f[5]=f[2],f[1]=4,f[5]=null,$APP.U;if(14===g)return f[2]=null,f[1]=15,$APP.U;if(16===g)return k=f[11],g=f[15],f[4]=$APP.Le(18,f[4]),f[4]=$APP.Le(19,f[4]),g=$APP.Ag([$APP.IC,Q$,$APP.gA],["register-graph-updates",k,g]),g=R$.A?R$.A(a,g):R$.call(null,a,g),$APP.Ki(f,20,g);if(10===g)return f[2]=null,f[1]=11,$APP.U;if(18===g){p=f[10];k=f[11];h=f[8];f[4]=$APP.ic(f[4]);g=f[2];h=$APP.ej(p,k,h);k=f[5];if($APP.n(k))throw k;f[18]=h;f[2]=g;f[1]=17;
return $APP.U}return 8===g?(f[1]=$APP.n(f[2])?9:10,$APP.U):null}return function(){function f(k){for(;;){a:try{for(;;){var p=e(k);if(!$APP.Ne(p,$APP.U)){var q=p;break a}}}catch(r){q=r;k[2]=q;if($APP.y(k[4]))k[1]=$APP.A(k[4]);else throw q;q=$APP.U}if(!$APP.Ne(q,$APP.U))return q}}function g(){var k=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];k[0]=h;k[1]=1;return k}var h=null;h=function(k){switch(arguments.length){case 0:return g.call(this);case 1:return f.call(this,
k)}throw Error("Invalid arity: "+arguments.length);};h.I=g;h.C=f;return h}()}(),d=function(){var e=c();e[6]=b;return e}();return $APP.Ii(d)});return b},R$=function(a,b){var c=$APP.Oi(1);$APP.Bi(function(){var d=function(){function f(g){var h=g[1];if(1===h)return g[2]=null,g[1]=2,$APP.U;if(2===h)return g[4]=$APP.Le(5,g[4]),h=fOd(a),$APP.Ki(g,6,h);if(3===h)return $APP.Mi(g,g[2]);if(4===h)return g[2]=g[2],g[1]=3,$APP.U;if(5===h)return g[4]=$APP.ic(g[4]),g[5]=g[2],g[1]=4,g[5]=null,$APP.U;if(6===h){h=
N$(g[2]);var k=$APP.EA.C(a);k=$APP.v(k);var p=gOd.C?gOd.C(b):gOd.call(null,b);k=k.send(JSON.stringify($APP.xi(hOd.C?hOd.C(p):hOd.call(null,p))));g[4]=$APP.ic(g[4]);g[7]=h;g[2]=k;g[1]=3;return $APP.U}return null}return function(){function g(p){for(;;){a:try{for(;;){var q=f(p);if(!$APP.Ne(q,$APP.U)){var r=q;break a}}}catch(u){r=u;p[2]=r;if($APP.y(p[4]))p[1]=$APP.A(p[4]);else throw r;r=$APP.U}if(!$APP.Ne(r,$APP.U))return r}}function h(){var p=[null,null,null,null,null,null,null,null];p[0]=k;p[1]=1;return p}
var k=null;k=function(p){switch(arguments.length){case 0:return h.call(this);case 1:return g.call(this,p)}throw Error("Invalid arity: "+arguments.length);};k.I=h;k.C=g;return k}()}(),e=function(){var f=d();f[6]=c;return f}();return $APP.Ii(e)});return c},mOd=function(a,b){var c=$APP.Oi(1);$APP.Bi(function(){var d=function(){function f(g){var h=g[1];if(7===h)return h=g[2],g[4]=$APP.ic(g[4]),g[2]=h,g[1]=3,$APP.U;if(1===h)return g[2]=null,g[1]=2,$APP.U;if(4===h)return g[2]=g[2],g[1]=3,$APP.U;if(15===
h){var k=$APP.nf(g[2]);h=$APP.H.A(k,$APP.Vy);k=$APP.H.A(k,$APP.Ty);var p=$APP.uD.C?$APP.uD.C(h):$APP.uD.call(null,h);g[7]=h;g[8]=k;g[1]=$APP.n(p)?16:17;return $APP.U}if(13===h)return g[2]=g[9],g[1]=14,$APP.U;if(6===h)return h=g[10],g[4]=$APP.Le(8,g[4]),g[4]=$APP.Le(9,g[4]),h=$APP.S.F(b,Q$,h),h=R$(a,h),$APP.Ki(g,10,h);if(17===h){var q=g[7];k=g[8];h=g[10];p=[Q$,iOd,S$];k=$APP.Ag([$APP.Bl,$APP.Vy,$APP.Ty],[jOd,q,k]);h=$APP.Ag(p,[h,"get s3 object failed",k]);g[2]=h;g[1]=18;return $APP.U}if(3===h)return $APP.Mi(g,
g[2]);if(12===h)return h=g[11],k=$APP.Ag([$APP.LPa],[!1]),h=$APP.zQa(h,$APP.G([k])),$APP.Ki(g,15,h);if(2===h)return g[4]=$APP.Le(5,g[4]),h=$APP.Sh(),h=$APP.t.C(h),k=O$.C(a),p=$APP.Oi(1),q=$APP.dj(k,h,p),g[10]=h,g[12]=k,g[13]=p,g[14]=q,g[2]=null,g[1]=6,$APP.U;if(11===h)return h=g[2],k=kOd.C(h),g[9]=h,g[11]=k,g[1]=$APP.n(k)?12:13,$APP.U;if(9===h)throw g[4]=$APP.ic(g[4]),h=g[2],g[5]=h,h;if(5===h)return g[4]=$APP.ic(g[4]),g[5]=g[2],g[1]=4,g[5]=null,$APP.U;if(14===h)return h=g[2],h=lOd.C?lOd.C(h):lOd.call(null,
h),g[4]=$APP.ic(g[4]),g[2]=h,g[1]=8,$APP.U;if(16===h)return k=g[8],h=JSON.parse(k),h=$APP.Po.G(h,$APP.G([$APP.Qo,!0])),g[2]=h,g[1]=18,$APP.U;if(10===h)return p=g[13],h=N$(g[2]),g[15]=h,$APP.Ki(g,11,p);if(18===h)return g[2]=g[2],g[1]=14,$APP.U;if(8===h){q=g[12];h=g[10];p=g[13];g[4]=$APP.ic(g[4]);k=g[2];h=$APP.ej(q,h,p);p=g[5];if($APP.n(p))throw p;g[16]=h;g[2]=k;g[1]=7;return $APP.U}return null}return function(){function g(p){for(;;){a:try{for(;;){var q=f(p);if(!$APP.Ne(q,$APP.U)){var r=q;break a}}}catch(u){r=
u;p[2]=r;if($APP.y(p[4]))p[1]=$APP.A(p[4]);else throw r;r=$APP.U}if(!$APP.Ne(r,$APP.U))return r}}function h(){var p=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];p[0]=k;p[1]=1;return p}var k=null;k=function(p){switch(arguments.length){case 0:return h.call(this);case 1:return g.call(this,p)}throw Error("Invalid arity: "+arguments.length);};k.I=h;k.C=g;return k}()}(),e=function(){var f=d();f[6]=c;return f}();return $APP.Ii(e)});return c},pOd=function(a){a=a.readyState;
switch(a){case 0:return nOd;case 1:return $APP.zB;case 2:return oOd;case 3:return $APP.uq;default:throw Error(["No matching clause: ",$APP.t.C(a)].join(""));}},qOd=function(a){a=$APP.kHa(a);return $APP.wk.A(function(b){return $APP.y(b)?$APP.$d.F(function(c,d){if($APP.Qd(new $APP.Ng(null,new $APP.m(null,2,[$APP.Uw,null,$APP.Zw,null],null),null),$APP.nt.C(d))&&!$APP.Ed($APP.mt.C(d)))throw $APP.Al.A("invalid block data",new $APP.m(null,1,[$APP.ZCa,d],null));return $APP.Qd($APP.P3a,$APP.nt.C(d))?$APP.Zr.K(c,
$APP.nt.C(d),$APP.Fe,$APP.mt.C(d)):$APP.S.F(c,$APP.nt.C(d),$APP.mt.C(d))},new $APP.m(null,1,[$APP.rt,$APP.Cn.C($APP.A(b))],null),b):null},$APP.Ct.A($APP.Cn,a))},uOd=function(a,b,c){var d=$APP.Oi(1);$APP.Bi(function(){var e=function(){function g(h){var k=h[1];if(7===k){var p=h[7];k=h[2];var q=$APP.Ag([rOd],[p]);k=$APP.On.G($APP.G([k,q]));h[4]=$APP.ic(h[4]);h[2]=k;h[1]=4;return $APP.U}if(1===k){p=h[8];var r=h[9];k=h[10];k=$APP.Sh();k=$APP.t.C(k);q=O$.C(a);p=$APP.Oi(1);r=$APP.dj(q,k,p);h[9]=k;h[8]=q;
h[10]=p;h[11]=r;k=h;k[2]=null;k[1]=2;return $APP.U}if(4===k)return p=h[8],r=h[9],k=h[10],h[4]=$APP.ic(h[4]),q=h[2],k=$APP.ej(p,r,k),function(){var x=h[5];if($APP.n(x))throw x;return null}(),h[12]=k,k=h,k[2]=q,k[1]=3,$APP.U;if(15===k)return p=h[13],k=$APP.Al.A("upload graph failed",p),h[2]=k,h[1]=17,$APP.U;if(13===k)return p=h[14],h[15]=h[2],$APP.Ki(h,14,p);if(6===k)return k=h[10],q=h[2],p=$APP.v(c),p=qOd(p),p=$APP.UIa($APP.Wv,null).write(p),h[16]=q,h[7]=p,$APP.Ki(h,7,k);if(17===k)return k=h[2],h[4]=
$APP.ic(h[4]),h[2]=k,h[1]=11,$APP.U;if(3===k)return p=$APP.nf(h[2]),q=$APP.H.A(p,$APP.lw),k=$APP.H.A(p,$APP.Aq),p=$APP.H.A(p,rOd),p=$APP.Ag([$APP.Ty],[p]),q=gLd(q,$APP.G([p])),h[17]=k,$APP.Ki(h,8,q);if(12===k)throw h[4]=$APP.ic(h[4]),k=h,q=k[2],k[5]=q,q;if(2===k)return r=h[9],h[4]=$APP.Le(4,h[4]),h[4]=$APP.Le(5,h[4]),k=$APP.Ag([Q$,$APP.IC],[r,"presign-put-temp-s3-obj"]),k=R$(a,k),$APP.Ki(h,6,k);if(11===k)return r=h[18],q=h[19],p=h[14],h[4]=$APP.ic(h[4]),k=h[2],q=$APP.ej(r,q,p),function(){var x=h[5];
if($APP.n(x))throw x;return null}(),h[20]=q,q=h,q[2]=k,q[1]=10,$APP.U;if(9===k)return q=h[19],k=h[17],h[4]=$APP.Le(11,h[4]),h[4]=$APP.Le(12,h[4]),k=$APP.Ag([Q$,$APP.IC,sOd],[q,"full-upload-graph",k]),k=R$(a,k),$APP.Ki(h,13,k);if(5===k)throw h[4]=$APP.ic(h[4]),k=h,q=k[2],k[5]=q,q;if(14===k)return p=h[13],k=h[2],q=$APP.gA.C(k),q=$APP.nb(q),h[13]=k,h[1]=q?15:16,$APP.U;if(16===k)return p=h[13],k=$APP.Ch.K(K$,$APP.S,b,tOd),q=$APP.gA.C(p),q=WMd(b,q),p=$APP.cA.C(p),p=VMd(b,p),r=gNd(b),h[21]=k,h[22]=q,h[23]=
p,$APP.Ki(h,18,r);if(10===k)return $APP.Mi(h,h[2]);if(18===k)return p=h[13],h[24]=h[2],k=h,k[2]=p,k[1]=17,$APP.U;if(8===k){r=h[18];q=h[19];p=h[14];k=h[2];q=$APP.Sh();q=$APP.t.C(q);p=O$.C(a);r=$APP.Oi(1);var u=$APP.dj(p,q,r);h[25]=k;h[19]=q;h[18]=p;h[14]=r;h[26]=u;k=h;k[2]=null;k[1]=9;return $APP.U}return null}return function(){function h(q){for(;;){a:try{for(;;){var r=g(q);if(!$APP.Ne(r,$APP.U)){var u=r;break a}}}catch(x){u=x;q[2]=u;if($APP.y(q[4]))q[1]=$APP.A(q[4]);else throw u;u=$APP.U}if(!$APP.Ne(u,
$APP.U))return u}}function k(){var q=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];q[0]=p;q[1]=1;return q}var p=null;p=function(q){switch(arguments.length){case 0:return k.call(this);case 1:return h.call(this,q)}throw Error("Invalid arity: "+arguments.length);};p.I=k;p.C=h;return p}()}(),f=function(){var g=e();g[6]=d;return g}();return $APP.Ii(f)});return d},xOd=function(a){return $APP.hj.A(function(b){var c=
$APP.rt.C(b),d=$APP.rt.C($APP.Zw.C(b)),e=$APP.rt.C($APP.Uw.C(b)),f=$APP.mh.A($APP.rt,$APP.px.C(b)),g=$APP.mh.A($APP.rt,$APP.Pw.C(b)),h=$APP.wk.A($APP.el.A(vOd,$APP.ct),$APP.Vw.C(b)),k=function(){var r=$APP.Ly.C(b);return null==r?null:wOd.read(r)}(),p=function(){var r=$APP.mx.C(b);return null==r?null:wOd.read(r)}(),q=$APP.rt.C($APP.ny.C(b));c=$APP.S.F(b,$APP.rt,$APP.t.C(c));d=$APP.n(d)?$APP.S.F(c,$APP.Zw,$APP.t.C(d)):c;e=$APP.n(e)?$APP.S.F(d,$APP.Uw,$APP.t.C(e)):d;f=$APP.y(f)?$APP.S.F(e,$APP.px,$APP.mh.A($APP.t,
f)):e;g=$APP.y(g)?$APP.S.F(f,$APP.Pw,$APP.mh.A($APP.t,g)):f;h=$APP.y(h)?$APP.S.F(g,$APP.Vw,h):g;k=$APP.n(k)?$APP.S.F(h,$APP.Ly,k):h;p=$APP.n(p)?$APP.S.F(k,$APP.mx,p):k;return $APP.n(q)?$APP.S.F(p,$APP.ny,$APP.t.C(q)):p},a)},zOd=function(a){var b=$APP.Jh(function(e){return $APP.yd($APP.Jw.C(e))},a);b=$APP.Rg($APP.H.A(b,!1));var c=$APP.rg.A($APP.lf,$APP.mh.A($APP.Mj.A($APP.rt,$APP.le),a)),d=$APP.rg.A($APP.lf,$APP.mh.A(function(e){return new $APP.O(null,2,5,$APP.Q,[$APP.rt.C(e),$APP.rt.C(yOd(c,e))],
null)},b));return $APP.hj.A(function(e){e=$APP.S.F(e,$APP.Hx,$APP.Yv);var f=$APP.rt.C(e);f=d.C?d.C(f):d.call(null,f);return $APP.n(f)?$APP.S.F(e,$APP.Yw,f):e},a)},AOd=function(a,b){var c=$APP.Oi(1);$APP.Bi(function(){var d=function(){function f(g){var h=g[1];if(1===h)return g[2]=null,g[1]=2,$APP.U;if(2===h){var k=g[7];g[4]=$APP.Le(5,g[4]);k=$APP.nf(a);h=$APP.H.A(k,$APP.cA);k=$APP.H.A(k,$APP.qy);k=xOd(k);var p=zOd(k);k=$APP.v(x$);var q=YNd.C(k);k=$APP.gl(null,function(){return function(){return $APP.gl(q.createOrOpenDB(b),
function(){return $APP.gl(q.exportDB(b),function(){return $APP.gl(q.transact(b,p,null,dMd.C($APP.v(x$))),function(){return $APP.Zk(q.releaseAccessHandles(b))})})})}}());k=$APP.bz(k);g[7]=h;return $APP.Ki(g,6,k)}if(3===h)return $APP.Mi(g,g[2]);if(4===h)return g[2]=g[2],g[1]=3,$APP.U;if(5===h)return g[4]=$APP.ic(g[4]),g[5]=g[2],g[1]=4,g[5]=null,$APP.U;if(6===h){k=g[7];h=N$(g[2]);var r=$APP.Ag([$APP.Mx],[b]);r=$APP.zh.G($APP.G([r]));r=v$($APP.J_a,r);k=VMd(b,k);g[4]=$APP.ic(g[4]);g[8]=h;g[9]=r;g[2]=k;
g[1]=3;return $APP.U}return null}return function(){function g(p){for(;;){a:try{for(;;){var q=f(p);if(!$APP.Ne(q,$APP.U)){var r=q;break a}}}catch(u){r=u;p[2]=r;if($APP.y(p[4]))p[1]=$APP.A(p[4]);else throw r;r=$APP.U}if(!$APP.Ne(r,$APP.U))return r}}function h(){var p=[null,null,null,null,null,null,null,null,null,null];p[0]=k;p[1]=1;return p}var k=null;k=function(p){switch(arguments.length){case 0:return h.call(this);case 1:return g.call(this,p)}throw Error("Invalid arity: "+arguments.length);};k.I=
h;k.C=g;return k}()}(),e=function(){var f=d();f[6]=c;return f}();return $APP.Ii(e)});return c},FOd=function(a,b,c){var d=$APP.Oi(1);$APP.Bi(function(){var e=function(){function g(h){var k=h[1];if(7===k)return k=$APP.nf(h[2]),k=$APP.H.A(k,$APP.lw),k=hLd(k),$APP.Ki(h,11,k);if(1===k)return h[2]=null,h[1]=2,$APP.U;if(4===k)return h[2]=h[2],h[1]=3,$APP.U;if(15===k){k=h[7];var p=N$(h[2]),q=WMd(k,c),r=new $APP.cc(function(){return K$},BOd,$APP.Ag([$APP.Vn,$APP.Wn,$APP.Xn,$APP.Yn,$APP.Zn,$APP.$n,$APP.km,
$APP.ao,$APP.bo,$APP.co,$APP.eo],[!0,COd,DOd,"frontend/worker/rtc/op_mem_layer.cljs",30,1,107,107,$APP.gc,null,$APP.n(K$)?K$.T:null]));r=$APP.v(r);r=$APP.v(r);r=r.C?r.C(k):r.call(null,k);r=$APP.Dv.G($APP.G([EOd,k,r]));k=gNd(k);h[8]=p;h[9]=q;h[10]=r;return $APP.Ki(h,16,k)}if(13===k)return p=h[11],k=h[7],q=wOd.read(p),p=$APP.Ch.K(K$,$APP.S,k,tOd),k=AOd(q,k),h[12]=p,$APP.Ki(h,15,k);if(6===k)return q=h[13],k=h[14],h[4]=$APP.Le(8,h[4]),h[4]=$APP.Le(9,h[4]),p=$APP.Ag([Q$,$APP.IC,$APP.gA],[q,"full-download-graph",
c]),p=R$(a,p),h[15]=p,$APP.Ki(h,10,k);if(3===k)return $APP.Mi(h,h[2]);if(12===k)return k=h[16],k=$APP.Al.A("\x3cdownload-graph failed",k),h[2]=k,h[1]=14,$APP.U;if(2===k)return r=h[17],q=h[13],k=h[14],h[4]=$APP.Le(5,h[4]),k=$APP.Sh(),k=$APP.t.C(k),p=O$.C(a),q=$APP.Oi(1),r=$APP.dj(p,k,q),h[13]=k,h[17]=p,h[14]=q,h[18]=r,k=h,k[2]=null,k[1]=6,$APP.U;if(11===k)return k=h[16],q=$APP.nf(h[2]),r=$APP.H.A(q,$APP.Vy),p=$APP.H.A(q,$APP.Ty),k=["logseq_db_rtc-",$APP.t.C(b)].join(""),r=$APP.Lg.A(200,r),h[16]=q,
h[11]=p,h[7]=k,h[1]=r?12:13,$APP.U;if(9===k)throw h[4]=$APP.ic(h[4]),k=h,p=k[2],k[5]=p,p;return 5===k?(h[4]=$APP.ic(h[4]),k=h,k[5]=k[2],k[1]=4,k[5]=null,$APP.U):14===k?(k=h[2],h[4]=$APP.ic(h[4]),h[2]=k,h[1]=3,$APP.U):16===k?(h[2]=h[2],h[1]=14,$APP.U):10===k?(k=h[2],h[4]=$APP.ic(h[4]),h[2]=k,h[1]=8,$APP.U):8===k?(r=h[17],q=h[13],k=h[14],h[4]=$APP.ic(h[4]),p=h[2],k=$APP.ej(r,q,k),function(){var u=h[5];if($APP.n(u))throw u;return null}(),h[19]=k,k=h,k[2]=p,k[1]=7,$APP.U):null}return function(){function h(q){for(;;){a:try{for(;;){var r=
g(q);if(!$APP.Ne(r,$APP.U)){var u=r;break a}}}catch(x){u=x;q[2]=u;if($APP.y(q[4]))q[1]=$APP.A(q[4]);else throw u;u=$APP.U}if(!$APP.Ne(u,$APP.U))return u}}function k(){var q=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];q[0]=p;q[1]=1;return q}var p=null;p=function(q){switch(arguments.length){case 0:return k.call(this);case 1:return h.call(this,q)}throw Error("Invalid arity: "+arguments.length);};p.I=k;p.C=h;return p}()}(),f=function(){var g=e();
g[6]=d;return g}();return $APP.Ii(f)});return d},GOd=function(a,b,c,d){var e=$APP.hJa(a),f=$APP.mh.A($APP.Ej,new $APP.O(null,2,5,$APP.Q,[c,d],null)),g=$APP.C.F(f,0,null),h=$APP.C.F(f,1,null);d=$APP.mh.A($APP.nw,new $APP.O(null,2,5,$APP.Q,[c,d],null));c=$APP.C.F(d,0,null);d=$APP.C.F(d,1,null);f=$APP.mh.A(function(r){return $APP.va(r,"/")?$APP.uj(r,"/","."):r},new $APP.O(null,2,5,$APP.Q,[g,h],null));var k=$APP.C.F(f,0,null),p=$APP.C.F(f,1,null),q=function(){var r=$APP.B.A($APP.Gw,e);return r?(r=$APP.oYa.C(a),
$APP.n(r)?$APP.eh($APP.hh($APP.Vo("\\[\\[file:\\.*/.*%s\\.org\\]\\[(.*?)\\]\\]",$APP.G([k]))),b):r):r}();return $APP.uj($APP.n(q)?function(){var r=$APP.C.F(q,0,null),u=$APP.C.F(q,1,null),x=$APP.B.A(u,g)?h:u;u=$APP.uj($APP.uj(r,k,p),["[",$APP.t.C(u),"]"].join(""),["[",$APP.t.C(x),"]"].join(""));return $APP.uj(b,r,u)}():b,c,d)},HOd=function(a,b,c){b=$APP.Vo("#%s",$APP.G([b]));var d=$APP.n($APP.eh(/[\s\t]+/,c))?$APP.Vo("#[[%s]]",$APP.G([c])):["#",$APP.t.C(c)].join("");return $APP.uj(a,$APP.hh(["(?i)(^|\\s)(",
$APP.t.C($APP.yua(b)),")(?\x3d[,\\.]*($|\\s))"].join("")),function(e){$APP.C.F(e,0,null);var f=$APP.C.F(e,1,null);$APP.C.F(e,2,null);$APP.C.F(e,3,null);return[$APP.t.C(f),$APP.t.C(d)].join("")})},IOd=function(a,b,c,d,e){"string"===typeof b&&"string"===typeof c&&"string"===typeof d?(a=HOd(GOd(a,b,c,d),c,d),d=$APP.nh.C($APP.uj($APP.xj(d),/\s+/,"-")),c=(e=$APP.B.A($APP.Gw,e))?$APP.iKa(c):[$APP.t.C(c),"::"].join(""),e=e?$APP.iKa($APP.Tg(d)):[$APP.Tg(d),"::"].join(""),c=$APP.zua(a,c,e)):c=null;return c},
JOd=function(a,b,c,d,e){return $APP.Rj(function(f){if($APP.jd(f)&&$APP.Qd(new $APP.Ng(null,new $APP.m(null,2,["Label",null,"Search",null],null),null),$APP.A(f))&&$APP.Gj($APP.Ec(f),[$APP.t.C(c),"/"].join("")))f=new $APP.O(null,2,5,$APP.Q,[$APP.A(f),$APP.vj($APP.Ec(f),[$APP.t.C(c),"/"].join(""),[$APP.t.C(d),"/"].join(""))],null);else if("string"===typeof f)f=$APP.B.A(f,c)?d:IOd(a,f,c,d,e);else{var g=$APP.nh.C(f);g=$APP.n(g)?$APP.B.A($APP.Tg(f),c):g;f=$APP.n(g)?$APP.nh.C($APP.uj($APP.xj(d),/\s+/,"-")):
f}return f},b)},KOd=function(a,b,c){return $APP.be($APP.pu.C($APP.Le(new $APP.m(null,1,[$APP.rt,c],null),$APP.zl.A($APP.Pg([new $APP.m(null,1,[$APP.rt,b],null)]),a))))},LOd=function(a,b,c,d){var e=function(){var h=new $APP.O(null,2,5,$APP.Q,[$APP.Jw,$APP.Ro(c)],null);return $APP.zt.A?$APP.zt.A(a,h):$APP.zt.call(null,a,h)}(),f=function(){var h=new $APP.O(null,2,5,$APP.Q,[$APP.Jw,$APP.Ro(d)],null);return $APP.zt.A?$APP.zt.A(a,h):$APP.zt.call(null,a,h)}(),g=$APP.ex.C(function(){var h=$APP.rt.C(e);return $APP.zt.A?
$APP.zt.A(a,h):$APP.zt.call(null,a,h)}());return $APP.zl.A($APP.kb,$APP.mh.A(function(h){h=$APP.nf(h);var k=$APP.H.A(h,$APP.Kw),p=$APP.H.A(h,$APP.Nw),q=$APP.H.A(h,$APP.mx),r=$APP.H.A(h,$APP.Hx),u=function(){var z=IOd(b,p,c,d,r);return $APP.B.A(z,p)?null:z}(),x=function(){var z=JOd(b,q,c,d,r);return $APP.B.A(z,q)?null:z}();return $APP.n($APP.n(u)?u:x)?$APP.Lo(new $APP.m(null,5,[$APP.Kw,k,$APP.Nw,u,$APP.mx,x,$APP.Dy,$APP.y(x)?$APP.mh.A($APP.A,x):null,$APP.Ow,$APP.Rg($APP.mh.A($APP.rt,KOd($APP.Ow.C(h),
$APP.rt.C(e),$APP.rt.C(f))))],null)):null},g))},MOd=function(a,b,c,d,e,f){e=$APP.ZKa(e);return $APP.ZKa(f)?(f=$APP.A($APP.oua("/",f)),$APP.n(f)?(qLd(a,b,c,f),a=$APP.v(b),c=new $APP.O(null,2,5,$APP.Q,[$APP.Jw,$APP.Ro(f)],null),a=$APP.zt.A?$APP.zt.A(a,c):$APP.zt.call(null,a,c),d=new $APP.O(null,1,5,$APP.Q,[new $APP.m(null,2,[$APP.rt,$APP.rt.C(d),$APP.rx,$APP.rt.C(a)],null)],null),$APP.Sw(b,d,new $APP.m(null,1,[$APP.Hy,!0],null))):null):e?$APP.Sw(b,new $APP.O(null,1,5,$APP.Q,[new $APP.O(null,3,5,$APP.Q,
[$APP.xt,$APP.rt.C(d),$APP.rx],null)],null),new $APP.m(null,1,[$APP.Hy,!0],null)):null},NOd=function(a,b){function c(g){return $APP.uj(g,$APP.t.C(e),$APP.t.C(f))}var d=$APP.ex.C(a),e=$APP.Kw.C(a),f=$APP.Kw.C(b);return $APP.y(d)?$APP.Pf.G(function(g){g=$APP.nf(g);var h=$APP.H.A(g,$APP.dLa),k=$APP.H.A(g,$APP.mx),p=c(h);h=$APP.Lg.A(h,p)?new $APP.m(null,2,[$APP.rt,$APP.rt.C(g),$APP.Nw,p],null):null;p=$APP.Lo($APP.jJa(function(q){return $APP.ad(q)&&$APP.Th($APP.A(q))?$APP.hj.A(function(r){return $APP.B.A(r,
e)?f:r},q):$APP.Th(q)&&$APP.B.A(q,e)?f:$APP.ad(q)&&"string"===typeof $APP.A(q)?$APP.hj.A(c,q):"string"===typeof q?c(q):q},k));k=$APP.On.G($APP.G([h,$APP.Lg.A($APP.y(k),$APP.y(p))?new $APP.m(null,2,[$APP.rt,$APP.rt.C(g),$APP.mx,p],null):null]));return $APP.lk.A(new $APP.O(null,2,5,$APP.Q,[new $APP.O(null,4,5,$APP.Q,[$APP.tt,$APP.rt.C(g),$APP.Ow,$APP.rt.C(b)],null),new $APP.O(null,4,5,$APP.Q,[$APP.xt,$APP.rt.C(g),$APP.Ow,$APP.rt.C(a)],null)],null),$APP.n(k)?new $APP.O(null,1,5,$APP.Q,[k],null):null)},
$APP.G([d])):null},ROd=function(a,b,c,d,e,f){var g=$APP.nf(f);f=$APP.H.A(g,$APP.IVa);g=$APP.H.A(g,$APP.v0a);if($APP.n(function(){var J=$APP.xLa($APP.v(b),d);return $APP.n(J)?(J=$APP.xLa($APP.v(b),e),$APP.n(J)?$APP.Lg.A(d,e):J):J}())){var h=$APP.v(b),k=function(){var J=new $APP.O(null,2,5,$APP.Q,[$APP.Jw,e],null);return $APP.zt.A?$APP.zt.A(h,J):$APP.zt.call(null,h,J)}(),p=$APP.rt.C(k),q=function(){var J=new $APP.O(null,2,5,$APP.Q,[$APP.Jw,d],null);return $APP.zt.A?$APP.zt.A(h,J):$APP.zt.call(null,
h,J)}(),r=$APP.rt.C(q),u=function(){var J=new $APP.O(null,1,5,$APP.Q,[$APP.Zt],null);J=$APP.iu?$APP.iu(h,J,r):$APP.ju.call(null,h,J,r);J=null==J?null:$APP.Zx($APP.v(b),J);J=null==J?null:$APP.cNa(J,b);return null==J?null:$APP.ry.C(J)}(),x=$APP.GLa(h,p),z=$APP.aw(a),D=$APP.lHa($APP.v(b),$APP.Yw,r),F=$APP.hj.A($APP.Cn,D);D=function(){var J=new $APP.O(null,6,5,$APP.Q,[$APP.rt,$APP.Yw,$APP.Ow,$APP.Gx,$APP.Uw,$APP.Zw],null);return $APP.ku?$APP.ku(h,J,F):$APP.lu.call(null,h,J,F)}();D=$APP.mh.A(function(J){var I=
$APP.rt.C(J),P=new $APP.m(null,1,[$APP.rt,p],null);var R=$APP.Ow.C(J);R=$APP.be($APP.pu.C($APP.Le(new $APP.m(null,1,[$APP.rt,p],null),$APP.zl.A($APP.Pg([new $APP.m(null,1,[$APP.rt,r],null)]),R))));P=new $APP.m(null,3,[$APP.rt,I,$APP.Yw,P,$APP.Ow,R],null);I=$APP.n($APP.n(u)?$APP.B.A(I,$APP.rt.C(u)):u)?$APP.S.F(P,$APP.Uw,new $APP.m(null,1,[$APP.rt,$APP.n(x)?x:p],null)):P;return $APP.B.A($APP.Zw.C(J),new $APP.m(null,1,[$APP.rt,r],null))?$APP.S.F(I,$APP.Zw,new $APP.m(null,1,[$APP.rt,p],null)):I},D);k=
z?NOd(q,k):LOd(h,c,d,e);k=$APP.lk.A(D,k);OOd.mb?OOd.mb(a,b,c,f,g,POd,!0,QOd,k):OOd.call(null,a,b,c,f,g,POd,!0,QOd,k);$APP.qPa(a,b,d,function(){return null},$APP.G([new $APP.m(null,1,[$APP.iPa,!0],null)]))}},SOd=function(a,b,c){b=new $APP.O(null,2,5,$APP.Q,[$APP.Jw,b],null);b=$APP.zt.A?$APP.zt.A(a,b):$APP.zt.call(null,a,b);a=$APP.Ww.C(b);if($APP.n($APP.n(a)?$APP.nb($APP.fx.C(b)):a)){b=$APP.Xw.C(a);var d=$APP.LOa(c);c=$APP.Cj.A(b,"/");var e=$APP.Jc($APP.Cj.A($APP.Jc(c),"."));d=[$APP.t.C(d),".",$APP.t.C(e)].join("");
c=$APP.lk.A($APP.Sg(c),new $APP.O(null,1,5,$APP.Q,[d],null));c=$APP.Xo(c);return new $APP.m(null,3,[$APP.YB,b,$APP.iA,c,$APP.ot,new $APP.O(null,1,5,$APP.Q,[new $APP.m(null,2,[$APP.rt,$APP.rt.C(a),$APP.Xw,c],null)],null)],null)}return null},OOd=function(a){for(var b=[],c=arguments.length,d=0;;)if(d<c)b.push(arguments[d]),d+=1;else break;b=5<b.length?new $APP.dc(b.slice(5),0,null):null;return TOd(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],b)},TOd=function(a,b,c,d,e,f){f=$APP.nf(f);
var g=$APP.H.A(f,POd),h=$APP.H.A(f,QOd),k=$APP.v(b),p=$APP.Ro(d),q=$APP.Ro(e),r=$APP.aw(a);f=function(){var D=$APP.v(b),F=new $APP.O(null,1,5,$APP.Q,[$APP.Zt],null),J=new $APP.O(null,2,5,$APP.Q,[$APP.Jw,p],null);return $APP.iu?$APP.iu(D,F,J):$APP.ju.call(null,D,F,J)}();if($APP.n($APP.n(a)?f:a)){var u=$APP.Lw.C(f);g=$APP.n(g)?null:new $APP.O(null,1,5,$APP.Q,[new $APP.m(null,4,[$APP.rt,$APP.rt.C(f),$APP.Kw,$APP.Kw.C(f),$APP.Jw,q,$APP.Lw,e],null)],null);q=SOd(k,p,e);q=$APP.nf(q);var x=$APP.H.A(q,$APP.YB),
z=$APP.H.A(q,$APP.iA);q=$APP.H.A(q,$APP.ot);h=$APP.lk.G(g,h,$APP.G([r?null:$APP.zl.A($APP.kb,$APP.lk.A(LOd(k,c,d,e),q))]));$APP.Sw(b,h,new $APP.m(null,2,[$APP.Jx,$APP.pPa,$APP.ry,function(){var D=new $APP.m(null,2,[$APP.IVa,d,$APP.v0a,e],null);return $APP.n($APP.n(x)?z:x)?$APP.On.G($APP.G([D,new $APP.m(null,2,[$APP.YB,x,$APP.iA,z],null)])):D}()],null));return MOd(a,b,c,f,u,e)}return null},UOd=function(a,b,c,d,e){var f=$APP.$La($APP.v(b),d,new $APP.m(null,1,[$APP.qx,$APP.aw(a)],null)),g=function(){var F=
$APP.v(b),J=new $APP.O(null,1,5,$APP.Q,[$APP.Zt],null),I=new $APP.O(null,2,5,$APP.Q,[$APP.Jw,$APP.Ro(d)],null);return $APP.iu?$APP.iu(F,J,I):$APP.ju.call(null,F,J,I)}();f=$APP.Le(g,f);f=$APP.y(f);g=null;for(var h=0,k=0;;)if(k<h){var p=g.ia(null,k);p=$APP.nf(p);var q=$APP.H.A(p,$APP.Jw),r=$APP.H.A(p,$APP.Lw),u=function(){var F=r;return $APP.n(F)?F:q}(),x=ZKd(u,d,e);$APP.n(function(){var F=u;return $APP.n(F)?x:F}())&&(OOd(a,b,c,u,x),$APP.uz.G($APP.G(["Renamed ",u," to ",x])));k+=1}else if(f=$APP.y(f)){if($APP.kd(f))h=
$APP.Qb(f),f=$APP.Rb(f),g=h,h=$APP.yc(h);else{g=$APP.A(f);g=$APP.nf(g);q=$APP.H.A(g,$APP.Jw);r=$APP.H.A(g,$APP.Lw);var z=function(){var F=r;return $APP.n(F)?F:q}(),D=ZKd(z,d,e);$APP.n(function(){var F=z;return $APP.n(F)?D:F}())&&(OOd(a,b,c,z,D),$APP.uz.G($APP.G(["Renamed ",z," to ",D])));f=$APP.jc(f);g=null;h=0}k=0}else break},VOd=function(a,b,c,d,e){var f=$APP.nw($APP.Ro(d)),g=$APP.Vo("[[%s/",$APP.G([$APP.Ro(d)]));f=$Kd($APP.v(b),f);g=$Kd($APP.v(b),g);if($APP.n(f)){f=$APP.y(f);for(var h=null,k=0,
p=0;;)if(p<k){var q=h.ia(null,p);q=$APP.nf(q);var r=$APP.H.A(q,$APP.Jw),u=$APP.H.A(q,$APP.Lw),x=function(){var T=u;return $APP.n(T)?T:r}(),z=$APP.uj(x,$APP.nw(d),$APP.nw(e));$APP.n(function(){var T=x;return $APP.n(T)?z:T}())&&(OOd(a,b,c,x,z),$APP.uz.G($APP.G(["Renamed ",x," to ",z])));p+=1}else if(f=$APP.y(f)){if($APP.kd(f))k=$APP.Qb(f),f=$APP.Rb(f),h=k,k=$APP.yc(k);else{h=$APP.A(f);h=$APP.nf(h);var D=$APP.H.A(h,$APP.Jw),F=$APP.H.A(h,$APP.Lw),J=function(){var T=F;return $APP.n(T)?T:D}(),I=$APP.uj(J,
$APP.nw(d),$APP.nw(e));$APP.n(function(){var T=J;return $APP.n(T)?I:T}())&&(OOd(a,b,c,J,I),$APP.uz.G($APP.G(["Renamed ",J," to ",I])));f=$APP.jc(f);h=null;k=0}p=0}else break}if($APP.n(g))for(g=$APP.y(g),f=null,k=h=0;;)if(k<h){p=f.ia(null,k);p=$APP.nf(p);var P=$APP.H.A(p,$APP.Jw),R=$APP.H.A(p,$APP.Lw),W=function(){var T=R;return $APP.n(T)?T:P}(),V=$APP.uj(W,$APP.Vo("[[%s/",$APP.G([d])),$APP.Vo("[[%s/",$APP.G([e])));$APP.n(function(){var T=W;return $APP.n(T)?V:T}())&&(OOd(a,b,c,W,V),$APP.uz.G($APP.G(["Renamed ",
W," to ",V])));k+=1}else if(g=$APP.y(g)){if($APP.kd(g))h=$APP.Qb(g),g=$APP.Rb(g),f=h,h=$APP.yc(h);else{f=$APP.A(g);f=$APP.nf(f);P=$APP.H.A(f,$APP.Jw);R=$APP.H.A(f,$APP.Lw);var E=function(){var T=R;return $APP.n(T)?T:P}(),M=$APP.uj(E,$APP.Vo("[[%s/",$APP.G([d])),$APP.Vo("[[%s/",$APP.G([e])));$APP.n(function(){var T=E;return $APP.n(T)?M:T}())&&(OOd(a,b,c,E,M),$APP.uz.G($APP.G(["Renamed ",E," to ",M])));g=$APP.jc(g);f=null;h=0}k=0}else return null;else return null},XOd=function(a){for(var b=[],c=arguments.length,
d=0;;)if(d<c)b.push(arguments[d]),d+=1;else break;b=5<b.length?new $APP.dc(b.slice(5),0,null):null;return WOd(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],b)},WOd=function(a,b,c,d,e,f){f=$APP.nf(f);f=$APP.H.F(f,$APP.Hy,!0);var g=$APP.v(b);d=(0,$APP.wa)(d);e=(0,$APP.wa)(e);var h=$APP.Ro(d),k=function(){var u=new $APP.O(null,2,5,$APP.Q,[$APP.Jw,h],null);return $APP.zt.A?$APP.zt.A(g,u):$APP.zt.call(null,g,u)}(),p=$APP.Ro(e),q=function(){var u=new $APP.O(null,2,5,$APP.Q,[$APP.Jw,p],
null);return $APP.zt.A?$APP.zt.A(g,u):$APP.zt.call(null,g,u)}(),r=$APP.Lg.A(d,e);return $APP.Fj(e)?YOd:$APP.n($APP.n(k)?$APP.n(q)?$APP.Qd($APP.Vw.C(k),"whiteboard")||$APP.Qd($APP.Vw.C(q),"whiteboard"):q:k)?ZOd:$APP.n($APP.n(d)?$APP.n(e)?r:e:d)?($APP.B.A(h,p)?$APP.Sw(b,new $APP.O(null,1,5,$APP.Q,[new $APP.m(null,2,[$APP.rt,$APP.rt.C(k),$APP.Lw,e],null)],null),new $APP.m(null,2,[$APP.Hy,f,$APP.Jx,$APP.pPa],null)):$APP.n(function(){var u=$APP.Lg.A(h,p);if(u){u=$APP.v(b);var x=new $APP.O(null,2,5,$APP.Q,
[$APP.Jw,p],null);return $APP.zt.A?$APP.zt.A(u,x):$APP.zt.call(null,u,x)}return u}())?ROd(a,b,c,h,p,new $APP.m(null,3,[$APP.IVa,d,$APP.v0a,e,$APP.Hy,f],null)):UOd(a,b,c,d,e),VOd(a,b,c,d,e)):null},bPd=function(){$APP.Dv.G($APP.G([$Od,aPd]));var a=$APP.Oi(1);$APP.Bi(function(){var b=function(){return function(){function d(g){for(;;){a:try{for(;;){var h=1===g[1]?$APP.Mi(g,null):null;if(!$APP.Ne(h,$APP.U)){var k=h;break a}}}catch(p){k=p;g[2]=k;if($APP.y(g[4]))g[1]=$APP.A(g[4]);else throw k;k=$APP.U}if(!$APP.Ne(k,
$APP.U))return k}}function e(){var g=[null,null,null,null,null,null,null];g[0]=f;g[1]=1;return g}var f=null;f=function(g){switch(arguments.length){case 0:return e.call(this);case 1:return d.call(this,g)}throw Error("Invalid arity: "+arguments.length);};f.I=e;f.C=d;return f}()}(),c=function(){var d=b();d[6]=a;return d}();return $APP.Ii(c)});return a},fPd=function(a,b,c,d){var e=$APP.Oi(1);$APP.Bi(function(){var f=function(){function h(k){var p=k[1];if(62===p){var q=k,r=q;r[2]=null;r[1]=2;return $APP.U}if(7===
p){var u=k[7];k[4]=$APP.Le(10,k[4]);var x=$APP.y(u),z=null,D=0,F=0;k[8]=x;k[9]=z;k[10]=D;k[11]=F;var J=q=k;J[2]=null;J[1]=11;return $APP.U}if(59===p){var I=k[12],P=iOd.C(I),R=S$.C(I);throw $APP.Al.A(P,R);}if(20===p){var W=k[13],V=$APP.yXa.C(W),E=q=k;E[2]=V;E[1]=21;return $APP.U}if(58===p){I=k[12];var M=N$(k[2]),T=S$.C(M);k[12]=M;q=k;q[1]=$APP.n(T)?59:60;return $APP.U}if(60===p){var X=q=k;X[2]=null;X[1]=61;return $APP.U}if(27===p){var aa=k[14],pa=k[15],ra=k[16],ua=k[17],za=[$APP.Ag(pa,[aa,k[2]])],
ya=$APP.Ag(ua,["update-assets",b,new $APP.O(null,1,5,ra,za,null)]),Ga=mOd(a,ya);q=k;return $APP.Ki(q,18,Ga)}if(1===p){var Ja=q=k;Ja[2]=null;Ja[1]=2;return $APP.U}if(24===p){var Qa=k[18],Ia=k[2];k[18]=Ia;q=k;q[1]=$APP.n(Ia)?25:26;return $APP.U}if(55===p){var Na=q=k;Na[2]=null;Na[1]=56;return $APP.U}if(39===p){var Ka=k[19],pb=$APP.Qb(Ka),ib=$APP.Rb(Ka),yb=$APP.yc(pb);x=ib;z=pb;D=yb;F=0;k[8]=x;k[9]=z;k[10]=D;k[11]=F;var Ub=q=k;Ub[2]=null;Ub[1]=11;return $APP.U}if(46===p){var bc=k[20],hc=$APP.yXa.C(bc),
fc=q=k;fc[2]=hc;fc[1]=47;return $APP.U}if(4===p){var uc=k[21],mc=$APP.nf(uc);u=$APP.H.A(mc,cPd);aa=$APP.H.A(mc,H$);k[7]=u;k[14]=aa;var Kc=q=k;Kc[2]=null;Kc[1]=7;return $APP.U}if(54===p){var Cc=k[22],Xc=iOd.C(Cc),Oc=S$.C(Cc);throw $APP.Al.A(Xc,Oc);}if(15===p){var Dc=k[2],vc=q=k;vc[2]=Dc;vc[1]=12;return $APP.U}if(48===p){var Pc=q=k;Pc[2]=null;Pc[1]=50;return $APP.U}if(50===p){var hd=k[23],Wc=k[2];k[23]=Wc;q=k;q[1]=$APP.n(Wc)?51:52;return $APP.U}if(21===p){var Qc=k[24],Zc=k[2],dd=null==Zc;k[24]=Zc;q=
k;q[1]=$APP.n(dd)?22:23;return $APP.U}if(31===p){aa=k[14];var ud=$APP.Ag([$APP.IC,$APP.gA,$APP.TB],["update-assets",b,new $APP.O(null,1,5,$APP.Q,[aa],null)]),vd=mOd(a,ud);q=k;return $APP.Ki(q,32,vd)}if(32===p){var pd=k[25],Pd=N$(k[2]),Td=S$.C(Pd);k[25]=Pd;q=k;q[1]=$APP.n(Td)?33:34;return $APP.U}if(40===p){Ka=k[19];var Md=$APP.A(Ka),Gd=$APP.C.F(Md,0,null),Cd=$APP.C.F(Md,1,null);k[26]=Cd;q=k;var nd=Gd instanceof $APP.N?Gd.Z:null;switch(nd){case "update-asset":q[1]=43;break;case "remove-asset":q[1]=
57;break;default:throw Error(["No matching clause: ",$APP.t.C(nd)].join(""));}return $APP.U}if(56===p){var Nd=k[2],ne=q=k;ne[2]=Nd;ne[1]=42;return $APP.U}if(33===p){pd=k[25];var ge=iOd.C(pd),Sf=S$.C(pd);throw $APP.Al.A(ge,Sf);}if(13===p){z=k[9];F=k[11];var Jf=$APP.Mc(z,F),ze=$APP.C.F(Jf,0,null),de=$APP.C.F(Jf,1,null);k[27]=de;q=k;var Fd=ze instanceof $APP.N?ze.Z:null;switch(Fd){case "update-asset":q[1]=17;break;case "remove-asset":q[1]=31;break;default:throw Error(["No matching clause: ",$APP.t.C(Fd)].join(""));
}return $APP.U}if(22===p){var Be=q=k;Be[2]=null;Be[1]=24;return $APP.U}if(36===p){Ka=k[19];var Xe=$APP.kd(Ka);q=k;q[1]=Xe?39:40;return $APP.U}if(41===p){var Qe=k[2],Oe=q=k;Oe[2]=Qe;Oe[1]=38;return $APP.U}if(43===p){aa=k[14];bc=k[20];var $e=$APP.v(d),pf=new $APP.O(null,1,5,$APP.Q,[$APP.Zt],null),mf=new $APP.O(null,2,5,$APP.Q,[$APP.l0a,aa],null),Ie=$APP.iu?$APP.iu($e,pf,mf):$APP.ju.call(null,$e,pf,mf),ce=[$APP.IC,$APP.gA,$APP.sA],Xd=$APP.Q,id=[H$,dPd],rd=null==Ie;k[20]=Ie;k[28]=ce;k[29]=Xd;k[30]=id;
q=k;q[1]=$APP.n(rd)?45:46;return $APP.U}if(61===p){var sd=k[2],Vd=q=k;Vd[2]=sd;Vd[1]=42;return $APP.U}if(29===p){var Id=q=k;Id[2]=null;Id[1]=30;return $APP.U}if(44===p){Cc=k[22];var ee=N$(k[2]),ac=S$.C(ee);k[22]=ee;q=k;q[1]=$APP.n(ac)?54:55;return $APP.U}if(6===p){var Ud=k[2],ie=q=k;ie[2]=Ud;ie[1]=3;return $APP.U}if(28===p){var He=k[31],Ke=iOd.C(He),je=S$.C(He);throw $APP.Al.A(Ke,je);}if(64===p){var ke=k[2],Sc=q=k;Sc[2]=ke;Sc[1]=6;return $APP.U}if(51===p){hd=k[23];var Gc=q=k;Gc[2]=hd;Gc[1]=53;return $APP.U}if(25===
p){Qa=k[18];var Ad=q=k;Ad[2]=Qa;Ad[1]=27;return $APP.U}if(34===p){var Of=q=k;Of[2]=null;Of[1]=35;return $APP.U}if(17===p){aa=k[14];W=k[13];var oe=$APP.v(d),Ce=new $APP.O(null,1,5,$APP.Q,[$APP.Zt],null),vf=new $APP.O(null,2,5,$APP.Q,[$APP.l0a,aa],null),xc=$APP.iu?$APP.iu(oe,Ce,vf):$APP.ju.call(null,oe,Ce,vf);ua=[$APP.IC,$APP.gA,$APP.sA];ra=$APP.Q;pa=[H$,dPd];var If=null==xc;k[13]=xc;k[17]=ua;k[16]=ra;k[15]=pa;q=k;q[1]=$APP.n(If)?19:20;return $APP.U}if(3===p){var eg=k[2];q=k;return $APP.Mi(q,eg)}if(12===
p){aa=k[14];var Yf=k[2],ng=aa,Tf=$APP.H.A($APP.v(K$),c),bh=M$.C(Tf),kf=$APP.nf(bh),Ee=$APP.H.A(kf,G$),zf=$APP.H.A(kf,E$),Dg=C$(zf,ng);var rh=$APP.Ch.G(K$,$APP.Ml,new $APP.O(null,2,5,$APP.Q,[c,M$],null),$APP.S,$APP.G([E$,$APP.Zi.A(zf,ng),G$,$APP.Zi.A(Ee,Dg)]));k[4]=$APP.ic(k[4]);k[32]=Yf;k[33]=rh;var xh=q=k;xh[2]=$APP.U;xh[1]=8;return $APP.U}if(2===p){uc=k[21];var Zh=$APP.H.A($APP.v(K$),c),wh=M$.C(Zh),Zf=$APP.nf(wh),kj=$APP.H.A(Zf,G$),ui=$APP.H.A(Zf,E$),mi=$APP.A(kj);if($APP.n(mi)){$APP.C.F(mi,0,null);
var bj=$APP.C.F(mi,1,null);var Ei=new $APP.m(null,2,[H$,bj,cPd,ui.C?ui.C(bj):ui.call(null,bj)],null)}else Ei=null;k[21]=Ei;q=k;q[1]=$APP.n(Ei)?4:5;return $APP.U}if(23===p){Qc=k[24];var Sj=$APP.Xn.C(Qc),pj=q=k;pj[2]=Sj;pj[1]=24;return $APP.U}if(47===p){var ak=k[34],bk=k[2],ck=null==bk;k[34]=bk;q=k;q[1]=$APP.n(ck)?48:49;return $APP.U}if(35===p){var Ui=k[2],oh=q=k;oh[2]=Ui;oh[1]=16;return $APP.U}if(19===p){var Rk=q=k;Rk[2]=null;Rk[1]=21;return $APP.U}if(57===p){aa=k[14];var pl=$APP.Ag([$APP.IC,$APP.gA,
$APP.TB],["update-assets",b,new $APP.O(null,1,5,$APP.Q,[aa],null)]),Dh=mOd(a,pl);q=k;return $APP.Ki(q,58,Dh)}if(11===p){F=k[11];D=k[10];var yh=F<D;q=k;q[1]=$APP.n(yh)?13:14;return $APP.U}if(9===p){var Tc=$APP.Dv.G($APP.G([ePd,k[2]]));k[35]=Tc;var hg=q=k;hg[2]=null;hg[1]=8;return $APP.U}if(5===p){var Xg=q=k;Xg[2]=null;Xg[1]=6;return $APP.U}if(14===p){x=k[8];Ka=k[19];var Hh=$APP.y(x);k[19]=Hh;q=k;q[1]=Hh?36:37;return $APP.U}if(45===p){var Ah=q=k;Ah[2]=null;Ah[1]=47;return $APP.U}if(53===p){aa=k[14];
id=k[30];Xd=k[29];ce=k[28];var Ig=[$APP.Ag(id,[aa,k[2]])],qj=$APP.Ag(ce,["update-assets",b,new $APP.O(null,1,5,Xd,Ig,null)]),Ih=mOd(a,qj);q=k;return $APP.Ki(q,44,Ih)}if(26===p){var ff=q=k;ff[2]="default-name";ff[1]=27;return $APP.U}if(16===p){F=k[11];x=k[8];z=k[9];D=k[10];var Lf=x,xk=z,am=D,ni=F+1;k[36]=k[2];k[8]=Lf;k[9]=xk;k[10]=am;k[11]=ni;var Ji=q=k;Ji[2]=null;Ji[1]=11;return $APP.U}if(38===p){var td=k[2],cj=q=k;cj[2]=td;cj[1]=15;return $APP.U}if(30===p){var zj=k[2],Sk=q=k;Sk[2]=zj;Sk[1]=16;return $APP.U}if(10===
p){k[4]=$APP.ic(k[4]);q=k;q[5]=q[2];var qn=q;qn[1]=9;qn[5]=null;return $APP.U}if(18===p){He=k[31];var fi=N$(k[2]),bn=S$.C(fi);k[31]=fi;q=k;q[1]=$APP.n(bn)?28:29;return $APP.U}if(52===p){var al=q=k;al[2]="default-name";al[1]=53;return $APP.U}if(42===p){Ka=k[19];var Gk=k[2];x=$APP.jc(Ka);z=null;F=D=0;k[37]=Gk;k[8]=x;k[9]=z;k[10]=D;k[11]=F;var tg=q=k;tg[2]=null;tg[1]=11;return $APP.U}if(37===p){var Qi=q=k;Qi[2]=null;Qi[1]=38;return $APP.U}if(63===p){var kq=q=k;kq[2]=null;kq[1]=64;return $APP.U}if(8===
p){var Tt=$APP.B.A($APP.U,k[2]);q=k;q[1]=Tt?62:63;return $APP.U}if(49===p){ak=k[34];var ly=$APP.Xn.C(ak),kp=q=k;kp[2]=ly;kp[1]=50;return $APP.U}return null}return function(){function k(r){for(;;){a:try{for(;;){var u=h(r);if(!$APP.Ne(u,$APP.U)){var x=u;break a}}}catch(z){x=z;r[2]=x;if($APP.y(r[4]))r[1]=$APP.A(r[4]);else throw x;x=$APP.U}if(!$APP.Ne(x,$APP.U))return x}}function p(){var r=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,
null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];r[0]=q;r[1]=1;return r}var q=null;q=function(r){switch(arguments.length){case 0:return p.call(this);case 1:return k.call(this,r)}throw Error("Invalid arity: "+arguments.length);};q.I=p;q.C=k;return q}()}(),g=function(){var h=f();h[6]=e;return h}();return $APP.Ii(g)});return e},iPd=function(a){var b=$APP.Oi(1);$APP.Bi(function(){var c=function(){return function(){function e(h){for(;;){a:try{for(;;){var k=h,p=k[1];if(1===p){var q=
gPd.C(a),r=$APP.v(q),u=hPd.C(a),x=$APP.v(u),z=P$.C(a),D=$APP.v(z),F=fPd(a,D,r,x);var J=$APP.Ki(k,2,F)}else J=2===p?$APP.Mi(k,k[2]):null;if(!$APP.Ne(J,$APP.U)){var I=J;break a}}}catch(P){I=P;h[2]=I;if($APP.y(h[4]))h[1]=$APP.A(h[4]);else throw I;I=$APP.U}if(!$APP.Ne(I,$APP.U))return I}}function f(){var h=[null,null,null,null,null,null,null];h[0]=g;h[1]=1;return h}var g=null;g=function(h){switch(arguments.length){case 0:return f.call(this);case 1:return e.call(this,h)}throw Error("Invalid arity: "+arguments.length);
};g.I=f;g.C=e;return g}()}(),d=function(){var e=c();e[6]=b;return e}();return $APP.Ii(d)});return b},jPd=function(a,b){if($APP.n(b))return $APP.Oi(null);var c=$APP.Oi(1);$APP.Bi(function(){var d=function(){return function(){function f(k){for(;;){a:try{for(;;){var p=k,q=p[1];if(1===q){var r=$APP.Gi(2E3);var u=$APP.Ki(p,2,r)}else if(2===q){var x=p[2],z=a,D=$APP.H.A($APP.v(K$),z),F=null==D?null:M$.C(D),J=null==F?null:E$.C(F),I=null==J?null:$APP.Hg(J),P=0<(null==I?null:$APP.yc(I));p[7]=x;u=$APP.Mi(p,
P)}else u=null;if(!$APP.Ne(u,$APP.U)){var R=u;break a}}}catch(W){R=W;k[2]=R;if($APP.y(k[4]))k[1]=$APP.A(k[4]);else throw R;R=$APP.U}if(!$APP.Ne(R,$APP.U))return R}}function g(){var k=[null,null,null,null,null,null,null,null];k[0]=h;k[1]=1;return k}var h=null;h=function(k){switch(arguments.length){case 0:return g.call(this);case 1:return f.call(this,k)}throw Error("Invalid arity: "+arguments.length);};h.I=g;h.C=f;return h}()}(),e=function(){var f=d();f[6]=c;return f}();return $APP.Ii(e)});return c},
lPd=function(a){for(var b=[],c=arguments.length,d=0;;)if(d<c)b.push(arguments[d]),d+=1;else break;b=4<b.length?new $APP.dc(b.slice(4),0,null):null;return kPd(arguments[0],arguments[1],arguments[2],arguments[3],b)},kPd=function(a,b,c,d,e){e=$APP.nf(e);var f=$APP.H.A(e,mPd),g=$APP.Oi(1);$APP.Bi(function(){var h=function(){function p(q){var r=q[1];if(1===r){var u=q[8],x=q[9],z=q[10];r=gPd.C(a);r=$APP.Df(r,c);x=P$.C(a);x=$APP.Df(x,b);var D=hPd.C(a);D=$APP.Df(D,d);var F=$APP.nf(a),J=$APP.H.A(F,O$),I=nPd.C(a),
P=oPd.C(a),R=$APP.Ai(100),W=$APP.mh.C(lOd);R=$APP.yka(R,W);W=$APP.Oi(null);var V=pPd.C(a);V=$APP.Df(V,W);var E=$APP.dj(J,"push-assets-updates",R);q[11]=r;q[12]=x;q[13]=D;q[7]=F;q[9]=J;q[14]=I;q[15]=P;q[10]=R;q[8]=W;q[16]=V;q[17]=E;q[1]=$APP.n(f)?2:3;return $APP.U}if(2===r)return r=$APP.Ag([$APP.IC],["list-graphs"]),r=mOd(a,r),$APP.Ki(q,5,r);if(3===r)return q[2]=null,q[1]=4,$APP.U;if(4===r){x=q[9];I=q[14];P=q[15];z=q[10];u=q[8];r=q[2];var M=$APP.Oi(1);x=$APP.Bi(function(){var T=I,X=P,aa=z,pa=u;return function(){var ra=
function(){function za(ya){var Ga=ya[1];if(7===Ga){var Ja=$APP.nf(ya[2]);Ga=$APP.H.A(Ja,qPd);var Qa=$APP.H.A(Ja,aPd),Ia=$APP.H.A(Ja,rPd);Ja=$APP.H.A(Ja,$APP.ds);ya[7]=Qa;ya[8]=Ia;ya[9]=Ja;ya[1]=$APP.n(Ga)?26:27;return $APP.U}return 20===Ga?(Ga=$APP.Ag([$APP.ds],[!0]),ya[2]=Ga,ya[1]=22,$APP.U):27===Ga?(Qa=ya[7],ya[1]=$APP.n(Qa)?29:30,$APP.U):1===Ga?(Ga=$APP.v(T),Qa=jPd(c,$APP.nb(Ga)),ya[10]=Qa,ya[2]=null,ya[1]=2,$APP.U):24===Ga?(ya[2]=null,ya[1]=25,$APP.U):39===Ga?(Ga=sPd.C(a),Ga=$APP.Df(Ga,$APP.uq),
ya[2]=Ga,ya[1]=41,$APP.U):4===Ga?(Ja=ya[13],Ga=ya[2],Qa=$APP.C.F(Ga,0,null),Ia=$APP.C.F(Ga,1,null),Ja=$APP.B.A(Ia,Ja),ya[11]=Ga,ya[14]=Qa,ya[12]=Ia,ya[1]=Ja?5:6,$APP.U):15===Ga?(Ga=$APP.Ag([qPd],[!0]),ya[2]=Ga,ya[1]=16,$APP.U):21===Ga?(Ga=ya[12],Ga=$APP.B.A(Ga,$APP.Vi),ya[1]=Ga?23:24,$APP.U):31===Ga?(ya[2]=ya[2],ya[1]=28,$APP.U):32===Ga?(Ga=iPd(a),$APP.Ki(ya,35,Ga)):40===Ga?(ya[1]=42,$APP.U):33===Ga?(Ja=ya[9],ya[1]=$APP.n(Ja)?39:40,$APP.U):13===Ga?(ya[1]=$APP.n(ya[2])?14:15,$APP.U):22===Ga?(ya[2]=
ya[2],ya[1]=19,$APP.U):36===Ga?(Ga=$APP.Dv.G($APP.G([tPd,"quitting loop",ya[15]])),ya[2]=Ga,ya[1]=38,$APP.U):41===Ga?(ya[2]=ya[2],ya[1]=34,$APP.U):43===Ga?(ya[2]=null,ya[1]=44,$APP.U):29===Ga?(Ga=bPd(),Ga=$APP.Dv.G($APP.G([uPd,Ga])),Qa=$APP.v(T),Qa=jPd(c,$APP.nb(Qa)),ya[16]=Ga,ya[10]=Qa,ya[2]=null,ya[1]=2,$APP.U):44===Ga?(ya[2]=ya[2],ya[1]=41,$APP.U):6===Ga?(Ga=ya[12],Qa=ya[10],Ga=$APP.B.A(Ga,Qa),ya[1]=Ga?8:9,$APP.U):28===Ga?(ya[2]=ya[2],ya[1]=3,$APP.U):25===Ga?(ya[2]=ya[2],ya[1]=22,$APP.U):34===
Ga?(ya[2]=ya[2],ya[1]=31,$APP.U):17===Ga?(Ga=ya[11],Ga=$APP.C.F(Ga,0,null),Ga=$APP.Ag([aPd],[Ga]),ya[2]=Ga,ya[1]=19,$APP.U):3===Ga?$APP.Mi(ya,ya[2]):12===Ga?(ya[2]=ya[17],ya[1]=13,$APP.U):2===Ga?(Qa=ya[10],Ga=new $APP.O(null,4,5,$APP.Q,[X,Qa,aa,pa],null),ya[13]=X,ya[18]=aa,ya[19]=pa,$APP.Mka(ya,4,Ga,$APP.G([$APP.Ti,!0]))):23===Ga?(Qa=ya[14],ya[2]=Qa,ya[1]=25,$APP.U):35===Ga?(Ga=ya[2],Qa=$APP.eUa.C($APP.Vh(Ga)),Qa=$APP.B.A($APP.pUa,Qa),ya[15]=Ga,ya[1]=Qa?36:37,$APP.U):19===Ga?(ya[2]=ya[2],ya[1]=10,
$APP.U):11===Ga?(Ga=ya[20],ya[2]=!0===Ga,ya[1]=13,$APP.U):9===Ga?(Ga=ya[12],Qa=ya[18],Ga=$APP.B.A(Ga,Qa),ya[1]=Ga?17:18,$APP.U):5===Ga?(Ga=$APP.Ag([qPd],[!0]),ya[2]=Ga,ya[1]=7,$APP.U):14===Ga?(Ga=$APP.Ag([rPd],[!0]),ya[2]=Ga,ya[1]=16,$APP.U):26===Ga?(Ga=$APP.v(T),Qa=jPd(c,$APP.nb(Ga)),ya[10]=Qa,ya[2]=null,ya[1]=2,$APP.U):16===Ga?(ya[2]=ya[2],ya[1]=10,$APP.U):38===Ga?(ya[2]=ya[2],ya[1]=34,$APP.U):30===Ga?(Ia=ya[8],ya[1]=$APP.n(Ia)?32:33,$APP.U):10===Ga?(ya[2]=ya[2],ya[1]=7,$APP.U):18===Ga?(Ga=ya[12],
Qa=ya[19],Ga=$APP.B.A(Ga,Qa),ya[1]=Ga?20:21,$APP.U):42===Ga?(ya[2]=null,ya[1]=44,$APP.U):37===Ga?(Ga=$APP.v(T),Qa=jPd(c,$APP.nb(Ga)),ya[10]=Qa,ya[2]=null,ya[1]=2,$APP.U):8===Ga?(Ga=ya[11],Ga=$APP.C.F(Ga,0,null),Qa=$APP.v(T),ya[20]=Ga,ya[17]=Qa,ya[1]=$APP.n(Qa)?11:12,$APP.U):null}return function(){function ya(Qa){for(;;){a:try{for(;;){var Ia=za(Qa);if(!$APP.Ne(Ia,$APP.U)){var Na=Ia;break a}}}catch(Ka){Na=Ka;Qa[2]=Na;if($APP.y(Qa[4]))Qa[1]=$APP.A(Qa[4]);else throw Na;Na=$APP.U}if(!$APP.Ne(Na,$APP.U))return Na}}
function Ga(){var Qa=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];Qa[0]=Ja;Qa[1]=1;return Qa}var Ja=null;Ja=function(Qa){switch(arguments.length){case 0:return Ga.call(this);case 1:return ya.call(this,Qa)}throw Error("Invalid arity: "+arguments.length);};Ja.I=Ga;Ja.C=ya;return Ja}()}(),ua=function(){var za=ra();za[6]=M;return za}();return $APP.Ii(ua)}}());q[18]=r;q[19]=x;return $APP.Ki(q,6,M)}return 5===r?(r=N$(q[2]),x=$APP.Dv.G($APP.G([vPd,
r])),r=$APP.zi(f),q[20]=x,q[2]=r,q[1]=4,$APP.U):6===r?(x=q[9],z=q[10],r=q[2],x=$APP.ej(x,"push-assets-update",z),q[21]=r,$APP.Mi(q,x)):null}return function(){function q(x){for(;;){a:try{for(;;){var z=p(x);if(!$APP.Ne(z,$APP.U)){var D=z;break a}}}catch(F){D=F;x[2]=D;if($APP.y(x[4]))x[1]=$APP.A(x[4]);else throw D;D=$APP.U}if(!$APP.Ne(D,$APP.U))return D}}function r(){var x=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];x[0]=u;x[1]=1;return x}
var u=null;u=function(x){switch(arguments.length){case 0:return r.call(this);case 1:return q.call(this,x)}throw Error("Invalid arity: "+arguments.length);};u.I=r;u.C=q;return u}()}(),k=function(){var p=h();p[6]=g;return p}();return $APP.Ii(k)});return g},wPd=function(a){return $APP.Qd($APP.Rg($APP.Vw.C(a)),"whiteboard")},xPd=function(a,b){return $APP.Jh(function(c){c=$APP.nf(c);c=$APP.H.A(c,$APP.XB);c=new $APP.O(null,2,5,$APP.Q,[$APP.Kw,c],null);c=$APP.zt.A?$APP.zt.A(a,c):$APP.zt.call(null,a,c);c=
$APP.n(c)?wPd($APP.Zw.C(c)):null;return $APP.yd(c)},b)},BPd=function(a,b,c,d){$APP.Dv.G($APP.G([yPd,d]));d=xPd($APP.v(b),d);var e=$APP.nf(d);d=$APP.H.A(e,!0);e=$APP.H.A(e,!1);T$.F(zPd,b,$APP.mh.A($APP.XB,d));d=$APP.y(e);e=null;for(var f=0,g=0;;)if(g<f){var h=e.ia(null,g),k=function(){var p=$APP.v(b),q=new $APP.O(null,2,5,$APP.Q,[$APP.Kw,$APP.XB.C(h)],null);return $APP.zt.A?$APP.zt.A(p,q):$APP.zt.call(null,p,q)}();$APP.n(k)&&(T$.na($APP.Ix,a,b,c,new $APP.O(null,1,5,$APP.Q,[k],null),new $APP.m(null,
1,[$APP.ty,!1],null)),$APP.Dv.G($APP.G([APd,$APP.XB.C(h)])));g+=1}else if(d=$APP.y(d))e=d,$APP.kd(e)?(d=$APP.Qb(e),g=$APP.Rb(e),e=d,f=$APP.yc(d),d=g):(h=$APP.A(e),d=function(){var p=$APP.v(b),q=new $APP.O(null,2,5,$APP.Q,[$APP.Kw,$APP.XB.C(h)],null);return $APP.zt.A?$APP.zt.A(p,q):$APP.zt.call(null,p,q)}(),$APP.n(d)&&(T$.na($APP.Ix,a,b,c,new $APP.O(null,1,5,$APP.Q,[d],null),new $APP.m(null,1,[$APP.ty,!1],null)),$APP.Dv.G($APP.G([APd,$APP.XB.C(h)]))),d=$APP.jc(e),e=null,f=0),g=0;else return null},
EPd=function(a,b,c,d,e,f,g){if($APP.n(function(){var u=$APP.y(d);return u?e:u}())){var h=$APP.A(d),k=function(){var u=$APP.v(b),x=new $APP.O(null,2,5,$APP.Q,[$APP.Kw,h],null);return $APP.zt.A?$APP.zt.A(u,x):$APP.zt.call(null,u,x)}(),p=wPd(k),q=p?null:function(){var u=$APP.v(b),x=new $APP.O(null,2,5,$APP.Q,[$APP.Kw,e],null);return $APP.zt.A?$APP.zt.A(u,x):$APP.zt.call(null,u,x)}(),r=new $APP.m(null,1,[$APP.Kw,c],null);p=new $APP.O(null,3,5,$APP.Q,[p,null!=k,null!=q],null);if($APP.B.A(new $APP.O(null,
3,5,$APP.Q,[!1,!1,!0],null),p))$APP.n(f)?T$.na($APP.oy,a,b,new $APP.O(null,1,5,$APP.Q,[r],null),q,!0):T$.na($APP.jy,a,b,new $APP.O(null,1,5,$APP.Q,[new $APP.m(null,3,[$APP.Kw,c,$APP.Nw,"",$APP.Hx,$APP.Yv],null)],null),q,new $APP.m(null,2,[$APP.gy,!0,$APP.iy,!0],null));else if($APP.B.A(new $APP.O(null,3,5,$APP.Q,[!1,!0,!0],null),p))g=$APP.Lg.A($APP.Kw.C(k),$APP.Kw.C(q)),$APP.n(f)?T$.na($APP.oy,a,b,new $APP.O(null,1,5,$APP.Q,[r],null),q,g):T$.na($APP.jy,a,b,new $APP.O(null,1,5,$APP.Q,[new $APP.m(null,
3,[$APP.Kw,c,$APP.Nw,"",$APP.Hx,$APP.Yv],null)],null),q,new $APP.m(null,2,[$APP.gy,g,$APP.iy,!0],null));else if($APP.B.A(new $APP.O(null,3,5,$APP.Q,[!1,!0,!1],null),p))$APP.n(f)?T$.na($APP.oy,a,b,new $APP.O(null,1,5,$APP.Q,[r],null),k,!1):T$.na($APP.jy,a,b,new $APP.O(null,1,5,$APP.Q,[new $APP.m(null,3,[$APP.Kw,c,$APP.Nw,"",$APP.Hx,$APP.Yv],null)],null),k,new $APP.m(null,2,[$APP.gy,!1,$APP.iy,!0],null));else if($APP.B.A(new $APP.O(null,3,5,$APP.Q,[!0,!0,!1],null),p))null==$APP.Ep.C(g)&&($APP.n(f)?
T$.na($APP.oy,a,b,new $APP.O(null,1,5,$APP.Q,[r],null),k,!1):T$.na($APP.jy,a,b,new $APP.O(null,1,5,$APP.Q,[new $APP.m(null,3,[$APP.Kw,c,$APP.Nw,"",$APP.Hx,$APP.Yv],null)],null),k,new $APP.m(null,2,[$APP.gy,!1,$APP.iy,!0],null)));else if($APP.B.A(new $APP.O(null,3,5,$APP.Q,[!0,!0,!0],null),p))null==$APP.Ep.C(g)&&(g=$APP.Lg.A($APP.Kw.C(k),$APP.Kw.C(q)),$APP.n(f)?T$.na($APP.oy,a,b,new $APP.O(null,1,5,$APP.Q,[r],null),q,g):T$.na($APP.jy,a,b,new $APP.O(null,1,5,$APP.Q,[new $APP.m(null,3,[$APP.Kw,c,$APP.Nw,
"",$APP.Hx,$APP.Yv],null)],null),q,new $APP.m(null,2,[$APP.gy,g,$APP.iy,!0],null)));else throw $APP.Al.A("Don't know where to insert",new $APP.m(null,3,[$APP.XB,c,CPd,d,DPd,e],null));}},FPd=function(a){var b=$APP.rg.A($APP.lf,$APP.mh.A(function(e){var f=$APP.C.F(e,0,null);e=$APP.C.F(e,1,null);return new $APP.O(null,2,5,$APP.Q,[f,$APP.Rg($APP.Fe.A($APP.Kh.C(e),$APP.UB.C(e)))],null)},a)),c=$APP.Rg($APP.Hg(a)),d=function(){for(var e=$APP.Wf,f=c,g=$APP.A(f);;){if($APP.nb(g))return e;var h=b.C?b.C(g):
b.call(null,g);h=$APP.A($APP.hs.A(h,f));$APP.n(h)?g=h:(f=$APP.Bx.A(f,g),e=$APP.Fe.A(e,g),g=f,h=$APP.A(f),f=g,g=h)}}();return $APP.hj.A(a,d)},IPd=function(a,b,c,d){var e=function(){var g=new $APP.O(null,2,5,$APP.Q,[$APP.Kw,b],null);return $APP.zt.A?$APP.zt.A(a,g):$APP.zt.call(null,a,g)}(),f=$APP.A(c);return null==e?GPd:null==$APP.Uw.C(e)&&$APP.Lg.A($APP.Kw.C($APP.Zw.C(e)),f)?HPd:$APP.n(function(){var g=$APP.Uw.C(e);return $APP.n(g)?$APP.Lg.A($APP.Kw.C($APP.Zw.C(e)),f)||$APP.Lg.A($APP.Kw.C($APP.Uw.C(e)),
d):g}())?HPd:null},LPd=function(a,b,c){c=$APP.nf(c);var d=$APP.H.A(c,$APP.Kh);c=$APP.H.A(c,$APP.Ep);var e=$APP.v(b),f=$APP.A(d);d=function(){var k=new $APP.O(null,2,5,$APP.Q,[$APP.Kw,f],null);return $APP.zt.A?$APP.zt.A(e,k):$APP.zt.call(null,e,k)}();if($APP.n(d)){d=$APP.Jw.C(d);var g=JPd.read(c),h=$APP.CMa(a,e,$APP.Aw);c=function(){var k=$APP.fd(g);return k?$APP.H.A(g,h):k}();T$.F(KPd,b,new $APP.O(null,1,5,$APP.Q,[$APP.IMa(a,e,c,d)],null))}},NPd=function(a,b,c,d,e){var f=$APP.nf(e),g=$APP.H.A(f,$APP.Kh);
e=$APP.H.A(f,$APP.Ep);$APP.H.A(f,$APP.uSa);var h=$APP.hs.A($APP.Fe.A(MPd,$APP.wx),$APP.Rg($APP.Hg(f)));if($APP.y(h)){var k=$APP.A(g);g=function(){var q=$APP.v(b),r=new $APP.O(null,2,5,$APP.Q,[$APP.Kw,k],null);return $APP.zt.A?$APP.zt.A(q,r):$APP.zt.call(null,q,r)}();g=wPd(g);if($APP.n(g?e:g))LPd(a,b,f);else{var p=function(){var q=$APP.v(b),r=new $APP.O(null,2,5,$APP.Q,[$APP.Kw,d],null);return $APP.zt.A?$APP.zt.A(q,r):$APP.zt.call(null,q,r)}();e=function(){var q=$APP.Qd(h,$APP.wx)&&$APP.Lg.A($APP.wx.C(f),
$APP.Nw.C(p))?$APP.S.F(p,$APP.Nw,$APP.wx.C(f)):p;q=$APP.Qd(h,$APP.ww)?$APP.S.F(q,$APP.bw,$APP.ww.C(f)):q;q=$APP.Qd(h,$APP.Ew)?$APP.S.F(q,$APP.cw,$APP.Ew.C(f)):q;q=$APP.Qd(h,$APP.ay)?$APP.S.F(q,$APP.px,function(){var r=$APP.y($APP.ay.C(f));r=null==r?null:$APP.mh.A($APP.yk.A($APP.Hk,$APP.Kw),r);if(null==r)r=null;else{var u=$APP.v(b),x=new $APP.O(null,1,5,$APP.Q,[$APP.rt],null);r=$APP.ku?$APP.ku(u,x,r):$APP.lu.call(null,u,x,r)}return null==r?null:$APP.wk.A($APP.rt,r)}()):q;q=$APP.Qd(h,$APP.Bl)?$APP.S.F(q,
$APP.Vw,$APP.Bl.C(f)):q;q=$APP.Qd(h,$APP.Zo)?$APP.S.F(q,$APP.Ly,$APP.KIa(JPd,$APP.Zo.C(f))):q;q=$APP.Qd(h,$APP.by)?$APP.S.F(q,$APP.Pw,function(){var r=$APP.y($APP.by.C(f));r=null==r?null:$APP.mh.A($APP.yk.A($APP.Hk,$APP.Kw),r);if(null==r)r=null;else{var u=$APP.v(b),x=new $APP.O(null,1,5,$APP.Q,[$APP.rt],null);r=$APP.ku?$APP.ku(u,x,r):$APP.lu.call(null,u,x,r)}return null==r?null:$APP.Rf.A($APP.rt,r)}()):q;return $APP.Qd(h,$APP.Ep)?$APP.S.F(q,$APP.mx,$APP.KIa(JPd,$APP.Ep.C(f))):q}();T$.ca($APP.VB,a,
b,c,e)}}},QPd=function(a,b,c,d){$APP.Dv.G($APP.G([$APP.Mx,a,OPd,d]));for(var e=$APP.y(d),f=null,g=0,h=0;;)if(h<g){d=f.ia(null,h);var k=$APP.nf(d);d=k;var p=$APP.H.A(k,$APP.Kh),q=$APP.H.A(k,$APP.UB);k=$APP.H.A(k,U$);var r=IPd($APP.v(b),k,p,q),u=r;if($APP.B.A(GPd,u))EPd(a,b,k,p,q,!1,d);else if($APP.B.A(HPd,u))EPd(a,b,k,p,q,!0,d);else if(!$APP.B.A(null,u))throw Error(["No matching clause: ",$APP.t.C(u)].join(""));NPd(a,b,c,k,d);$APP.Dv.G($APP.G([PPd,k,r,p,q]));h+=1}else if(d=$APP.y(e)){e=d;if($APP.kd(e))p=
$APP.Qb(e),q=$APP.Rb(e),d=p,p=$APP.yc(p),e=q,f=d,g=p;else{d=$APP.A(e);d=f=$APP.nf(d);p=$APP.H.A(f,$APP.Kh);q=$APP.H.A(f,$APP.UB);k=$APP.H.A(f,U$);g=f=IPd($APP.v(b),k,p,q);if($APP.B.A(GPd,g))EPd(a,b,k,p,q,!1,d);else if($APP.B.A(HPd,g))EPd(a,b,k,p,q,!0,d);else if(!$APP.B.A(null,g))throw Error(["No matching clause: ",$APP.t.C(g)].join(""));NPd(a,b,c,k,d);$APP.Dv.G($APP.G([PPd,k,f,p,q]));e=$APP.jc(e);f=null;g=0}h=0}else return null},TPd=function(a,b,c,d){$APP.Dv.G($APP.G([RPd,d]));d=$APP.y(d);for(var e=
null,f=0,g=0;;)if(g<f){var h=e.ia(null,g),k=$APP.nf(h);h=k;var p=$APP.H.A(k,$APP.Kh),q=$APP.H.A(k,$APP.UB);k=$APP.H.A(k,U$);if($APP.n(function(){var u=p;return $APP.n(u)?q:u}())){var r=IPd($APP.v(b),k,p,q);switch(r instanceof $APP.N?r.Z:null){case "not-exist":EPd(a,b,k,p,q,!1,h);break;case "wrong-pos":EPd(a,b,k,p,q,!0,h)}}NPd(a,b,c,k,h);$APP.Dv.G($APP.G([SPd,k]));g+=1}else if(d=$APP.y(d)){if($APP.kd(d))e=$APP.Qb(d),d=$APP.Rb(d),h=e,f=$APP.yc(e),e=h;else{h=$APP.A(d);h=e=$APP.nf(h);p=$APP.H.A(e,$APP.Kh);
q=$APP.H.A(e,$APP.UB);k=$APP.H.A(e,U$);if($APP.n(function(){var u=p;return $APP.n(u)?q:u}()))switch(e=IPd($APP.v(b),k,p,q),e instanceof $APP.N?e.Z:null){case "not-exist":EPd(a,b,k,p,q,!1,h);break;case "wrong-pos":EPd(a,b,k,p,q,!0,h)}NPd(a,b,c,k,h);$APP.Dv.G($APP.G([SPd,k]));d=$APP.jc(d);e=null;f=0}g=0}else return null},UPd=function(a,b,c,d){var e=XLd(a);d=$APP.y(d);for(var f=null,g=0,h=0;;)if(h<g){var k=f.ia(null,h),p=$APP.nf(k);k=p;var q=$APP.H.A(p,U$),r=$APP.H.A(p,$APP.hA),u=$APP.H.A(p,$APP.fC),
x=$APP.Lw.C(function(){var J=$APP.v(b),I=new $APP.O(null,2,5,$APP.Q,[$APP.Kw,q],null);return $APP.zt.A?$APP.zt.A(J,I):$APP.zt.call(null,J,I)}()),z=function(){var J=$APP.v(b),I=new $APP.O(null,2,5,$APP.Q,[$APP.Jw,r],null);return $APP.zt.A?$APP.zt.A(J,I):$APP.zt.call(null,J,I)}();p=new $APP.m(null,3,[$APP.Fy,!1,$APP.Gy,q,$APP.Hy,!1],null);$APP.n(function(){var J=z;return $APP.n(J)?$APP.Lg.A($APP.Kw.C(z),q):J}())?(XOd(a,b,e,u,$APP.Vo("%s-%s-CONFLICT",$APP.G([u,$APP.em($APP.Gl())]))),$APP.bPa(a,b,e,u,
$APP.G([p]))):$APP.n(function(){var J=x;return $APP.n(J)?$APP.Lg.A(x,u):J}())?WOd(a,b,e,x,u,$APP.G([new $APP.m(null,1,[$APP.Hy,!1],null)])):$APP.bPa(a,b,e,u,$APP.G([p]));NPd(a,b,c,q,k);h+=1}else if(d=$APP.y(d)){if($APP.kd(d))f=$APP.Qb(d),d=$APP.Rb(d),k=f,g=$APP.yc(f),f=k;else{k=$APP.A(d);k=f=$APP.nf(k);q=$APP.H.A(f,U$);r=$APP.H.A(f,$APP.hA);u=$APP.H.A(f,$APP.fC);var D=$APP.Lw.C(function(){var J=$APP.v(b),I=new $APP.O(null,2,5,$APP.Q,[$APP.Kw,q],null);return $APP.zt.A?$APP.zt.A(J,I):$APP.zt.call(null,
J,I)}()),F=function(){var J=$APP.v(b),I=new $APP.O(null,2,5,$APP.Q,[$APP.Jw,r],null);return $APP.zt.A?$APP.zt.A(J,I):$APP.zt.call(null,J,I)}();f=new $APP.m(null,3,[$APP.Fy,!1,$APP.Gy,q,$APP.Hy,!1],null);$APP.n(function(){var J=F;return $APP.n(J)?$APP.Lg.A($APP.Kw.C(F),q):J}())?(XOd(a,b,e,u,$APP.Vo("%s-%s-CONFLICT",$APP.G([u,$APP.em($APP.Gl())]))),$APP.bPa(a,b,e,u,$APP.G([f]))):$APP.n(function(){var J=D;return $APP.n(J)?$APP.Lg.A(D,u):J}())?WOd(a,b,e,D,u,$APP.G([new $APP.m(null,1,[$APP.Hy,!1],null)])):
$APP.bPa(a,b,e,u,$APP.G([f]));NPd(a,b,c,q,k);d=$APP.jc(d);f=null;g=0}h=0}else return null},WPd=function(a,b,c){c=$APP.y(c);for(var d=null,e=0,f=0;;)if(f<e){var g=d.ia(null,f),h=$APP.Jw.C(function(){var k=$APP.v(b),p=new $APP.O(null,2,5,$APP.Q,[$APP.Kw,$APP.XB.C(g)],null);return $APP.zt.A?$APP.zt.A(k,p):$APP.zt.call(null,k,p)}());$APP.n(h)&&$APP.qPa(a,b,h,null,$APP.G([new $APP.m(null,2,[VPd,!1,$APP.Hy,!1],null)]));f+=1}else if(c=$APP.y(c))d=c,$APP.kd(d)?(c=$APP.Qb(d),f=$APP.Rb(d),d=c,e=$APP.yc(c),
c=f):(g=$APP.A(d),c=$APP.Jw.C(function(){var k=$APP.v(b),p=new $APP.O(null,2,5,$APP.Q,[$APP.Kw,$APP.XB.C(g)],null);return $APP.zt.A?$APP.zt.A(k,p):$APP.zt.call(null,k,p)}()),$APP.n(c)&&$APP.qPa(a,b,c,null,$APP.G([new $APP.m(null,2,[VPd,!1,$APP.Hy,!1],null)])),c=$APP.jc(d),d=null,e=0),f=0;else return null},YPd=function(a,b){return $APP.$d.F(function(c,d){switch($APP.A(d)){case "move":var e=$APP.XB.C($APP.Ec(d));d=$APP.H.A(c,e);var f=$APP.sC.C(d);switch(f instanceof $APP.N?f.Z:null){case "remove":return $APP.Zi.A(c,
$APP.XB.C(d));case "move":return $APP.Zi.A(c,U$.C(d));default:return c}case "update":e=$APP.XB.C($APP.Ec(d));f=$APP.Rg($APP.Hg(RNd.C($APP.Ec(d))));d=$APP.H.A(c,e);if($APP.n(d)){var g=$APP.S.F;var h=$APP.sC.C(d);var k=new $APP.Ng(null,new $APP.m(null,2,[$APP.oA,null,XPd,null],null),null);h=k.C?k.C(h):k.call(null,h);return g.call($APP.S,c,e,$APP.n(h)?$APP.yf.F($APP.Zi,d,f):d)}return c;default:return c}},a,b)},hQd=function(a,b,c,d){var e=$APP.Oi(1);$APP.Bi(function(){var f=function(){function h(k){var p=
k[1];if(7===p)return $APP.Mi(k,k[2]);if(20===p){p=k[7];var q=k[8];p=YPd(p,q);k[2]=p;k[1]=22;return $APP.U}if(27===p)return p=k[9],p=BPd(a,b,c,p),k[2]=p,k[1]=28,$APP.U;if(1===p){var r=k[10];p=k[11];r=$APP.cA.C(d);p=ZPd.C(d);q=$Md(a);var u=0<r;k[10]=r;k[12]=p;k[13]=q;k[11]=u;k[1]=$APP.n(u)?2:3;return $APP.U}if(24===p)return q=k[14],p=UPd(a,b,c,q),k[2]=p,k[1]=25,$APP.U;if(39===p)return k[2]=null,k[1]=40,$APP.U;if(4===p)return k[1]=$APP.nb(k[2])?5:6,$APP.U;if(15===p)return r=k[15],k[2]=r,k[1]=16,$APP.U;
if(21===p)return p=k[7],k[2]=p,k[1]=22,$APP.U;if(31===p)return k[16]=k[2],k[1]=$APP.n(!1)?32:33,$APP.U;if(32===p){var x=k[17];p=console.time(SPd);q=TPd(a,b,c,x);r=console.timeEnd(SPd);k[18]=p;k[19]=r;k[2]=q;k[1]=34;return $APP.U}if(40===p)return k[2]=k[2],k[1]=19,$APP.U;if(33===p)return x=k[17],p=TPd(a,b,c,x),k[2]=p,k[1]=34,$APP.U;if(13===p)return k[2]=k[2],k[1]=10,$APP.U;if(22===p)return r=k[10],p=k[12],q=k[13],p=k[7],q=k[8],p=$APP.Jh(function(){return function(z){$APP.C.F(z,0,null);z=$APP.C.F(z,
1,null);return $APP.H.A(z,$APP.sC)}}(),k[2]),q=$APP.yk.A($APP.rg,$APP.sg),p=$APP.rja(p,q),r=$APP.nf(p),p=$APP.H.A(r,$APP.rA),u=$APP.H.A(r,$APP.oA),x=$APP.H.A(r,XPd),q=$APP.H.A(r,J$),r=$APP.H.A(r,I$),p=$APP.Kg(p),u=FPd(u),x=$APP.Kg(x),q=$APP.Kg(q),r=$APP.Kg(r),k[9]=p,k[20]=u,k[17]=x,k[14]=q,k[21]=r,k[1]=$APP.n(!1)?23:24,$APP.U;if(36===p)return r=k[21],p=WPd(a,b,r),k[2]=p,k[1]=37,$APP.U;if(29===p)return u=k[20],p=console.time(PPd),q=QPd(a,b,c,u),r=console.timeEnd(PPd),k[22]=p,k[23]=r,k[2]=q,k[1]=31,
$APP.U;if(6===p)return r=k[10],q=k[13],k[1]=$APP.n(r<=q)?8:9,$APP.U;if(28===p)return k[24]=k[2],k[1]=$APP.n(!1)?29:30,$APP.U;if(25===p)return k[25]=k[2],k[1]=$APP.n(!1)?26:27,$APP.U;if(34===p)return k[26]=k[2],k[1]=$APP.n(!1)?35:36,$APP.U;if(17===p)return q=k[8],p=$Pd.C(d),q=YMd(a),k[7]=p,k[8]=q,k[1]=$APP.n(q)?20:21,$APP.U;if(3===p)return p=k[11],k[2]=p,k[1]=4,$APP.U;if(12===p)return p=k[12],q=k[13],r=k[15],p=p<=q,k[15]=p,k[1]=$APP.n(p)?14:15,$APP.U;if(2===p)return p=k[12],k[2]=0<p,k[1]=4,$APP.U;
if(23===p)return q=k[14],p=console.time(aQd),q=UPd(a,b,c,q),r=console.timeEnd(aQd),k[27]=p,k[28]=r,k[2]=q,k[1]=25,$APP.U;if(35===p)return r=k[21],p=console.time(bQd),q=WPd(a,b,r),r=console.timeEnd(bQd),k[29]=p,k[30]=r,k[2]=q,k[1]=37,$APP.U;if(19===p)return k[2]=k[2],k[1]=13,$APP.U;if(11===p)return r=k[10],p=k[12],q=k[13],p=$APP.Dv.G($APP.G([cQd,dQd,r,eQd,p,fQd,q])),k[31]=p,k[2]=cQd,k[1]=13,$APP.U;if(9===p)return q=k[13],p=k[12],k[1]=$APP.n(q<p)?11:12,$APP.U;if(5===p)throw k=$APP.Ag([$APP.ry],[d]),
$APP.Al.A("invalid remote-data",k);if(14===p)return q=k[13],r=k[10],k[2]=q<=r,k[1]=16,$APP.U;if(26===p)return p=k[9],q=console.time(APd),p=BPd(a,b,c,p),r=console.timeEnd(APd),k[32]=q,k[33]=r,k[2]=p,k[1]=28,$APP.U;if(16===p)return k[1]=$APP.n(k[2])?17:18,$APP.U;if(38===p)throw r=k[10],p=k[12],q=k[13],k=$APP.Ag([dQd,eQd,fQd],[r,p,q]),$APP.Al.A("unreachable",k);return 30===p?(u=k[20],p=QPd(a,b,c,u),k[2]=p,k[1]=31,$APP.U):10===p?(k[2]=k[2],k[1]=7,$APP.U):18===p?(k[1]=38,$APP.U):37===p?(r=k[10],p=k[2],
q=VMd(a,r),k[34]=p,k[2]=q,k[1]=19,$APP.U):8===p?(r=k[10],p=k[12],q=k[13],p=$APP.Dv.G($APP.G([gQd,dQd,r,dQd,p,fQd,q])),k[2]=p,k[1]=10,$APP.U):null}return function(){function k(r){for(;;){a:try{for(;;){var u=h(r);if(!$APP.Ne(u,$APP.U)){var x=u;break a}}}catch(z){x=z;r[2]=x;if($APP.y(r[4]))r[1]=$APP.A(r[4]);else throw x;x=$APP.U}if(!$APP.Ne(x,$APP.U))return x}}function p(){var r=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,
null,null,null,null,null,null,null,null,null,null];r[0]=q;r[1]=1;return r}var q=null;q=function(r){switch(arguments.length){case 0:return p.call(this);case 1:return k.call(this,r)}throw Error("Invalid arity: "+arguments.length);};q.I=p;q.C=k;return q}()}(),g=function(){var h=f();h[6]=e;return h}();return $APP.Ii(g)});return e},iQd=function(a,b,c,d){$APP.Dv.G($APP.G([aPd,d]));var e=$APP.Oi(1);$APP.Bi(function(){var f=function(){function h(k){var p=k[1];if(1===p)return p=hQd(a,b,c,d),$APP.Ki(k,2,p);
if(2===p){p=k[2];var q=$APP.B.A(p,cQd);k[7]=p;k[1]=q?3:4;return $APP.U}return 3===p?(p=k[7],k[2]=p,k[1]=5,$APP.U):4===p?(k[2]=null,k[1]=5,$APP.U):5===p?$APP.Mi(k,k[2]):null}return function(){function k(r){for(;;){a:try{for(;;){var u=h(r);if(!$APP.Ne(u,$APP.U)){var x=u;break a}}}catch(z){x=z;r[2]=x;if($APP.y(r[4]))r[1]=$APP.A(r[4]);else throw x;x=$APP.U}if(!$APP.Ne(x,$APP.U))return x}}function p(){var r=[null,null,null,null,null,null,null,null];r[0]=q;r[1]=1;return r}var q=null;q=function(r){switch(arguments.length){case 0:return p.call(this);
case 1:return k.call(this,r)}throw Error("Invalid arity: "+arguments.length);};q.I=p;q.C=k;return q}()}(),g=function(){var h=f();h[6]=e;return h}();return $APP.Ii(g)});return e},jQd=function(a,b){b=$APP.nf(b);var c=$APP.H.A(b,$APP.lB);b=$APP.H.A(b,B$);var d=$APP.wk.A($APP.Kw,function(){var f=$APP.v(a),g=new $APP.O(null,1,5,$APP.Q,[$APP.Kw],null),h=$APP.mh.A(function(k){return new $APP.O(null,2,5,$APP.Q,[$APP.Kw,k],null)},c);return $APP.ku?$APP.ku(f,g,h):$APP.lu.call(null,f,g,h)}()),e=$APP.lf;d=$APP.y(d)?
$APP.S.F(e,$APP.lB,d):e;return $APP.y(b)?$APP.S.F(d,B$,b):d},tQd=function(a,b,c){var d=$APP.Bh.C($APP.Og),e=$APP.Bh.C($APP.Wf),f=$APP.nf(c);c=$APP.H.A(f,$APP.oA);var g=$APP.H.A(f,$APP.rA),h=$APP.H.A(f,$APP.IA),k=$APP.H.A(f,J$);f=$APP.H.A(f,I$);var p=$APP.wf($APP.el.A($APP.XB,$APP.Ec),new $APP.O(null,3,5,$APP.Q,[c,h,k],null));if($APP.n(p)){var q=function(){var x=$APP.v(b),z=new $APP.O(null,2,5,$APP.Q,[$APP.Kw,p],null);return $APP.zt.A?$APP.zt.A(x,z):$APP.zt.call(null,x,z)}();if($APP.n(q)){var r=function(){var x=
null==q?null:$APP.Uw.C(q);return null==x?null:$APP.Kw.C(x)}(),u=function(){var x=null==q?null:$APP.Zw.C(q);return null==x?null:$APP.Kw.C(x)}();$APP.n(u)&&$APP.n(c)&&V$.pb($APP.$Na,kQd,u,lQd,r,$APP.XB,p,W$,e,mQd,d);$APP.n(h)&&V$.qb(nQd,$APP.Mx,a,$APP.Nx,b,$APP.Xm,q,nQd,h,kQd,u,lQd,r,W$,e);$APP.n(k)&&V$.mb(oQd,$APP.Mx,a,$APP.Nx,b,$APP.XB,p,W$,e)}}$APP.n(g)&&V$.mb(pQd,$APP.Mx,a,$APP.Nx,b,pQd,g,W$,e);$APP.n(f)&&V$.mb(qQd,$APP.Mx,a,$APP.Nx,b,qQd,f,W$,e);return new $APP.m(null,2,[rQd,$APP.v(e),sQd,$APP.v(d)],
null)},uQd=function(a){for(var b=[],c=arguments.length,d=0;;)if(d<c)b.push(arguments[d]),d+=1;else break;d=2<b.length?new $APP.dc(b.slice(2),0,null):null;a:{b=arguments[0];c=arguments[1];d=$APP.nf(d);d=$APP.H.F(d,$APP.Dn,50);for(var e=null,f=null,g=null,h=$APP.lf;;){if($APP.$c(e)&&$APP.$c(g)&&$APP.yc(h)>=d){b=h;break a}if($APP.$c(e)&&$APP.$c(g))if(f=b,f=$APP.H.A($APP.v(K$),f),f=M$.C(f),f=$APP.nf(f),e=$APP.H.A(f,F$),f=$APP.H.A(f,D$),e=$APP.A(e),$APP.n(e)?($APP.C.F(e,0,null),e=$APP.C.F(e,1,null),f=
new $APP.m(null,2,[$APP.XB,e,cPd,f.C?f.C(e):f.call(null,e)],null)):f=null,$APP.n(f))f=$APP.nf(f),e=$APP.H.A(f,cPd),f=$APP.H.A(f,$APP.XB),bNd(b,f);else{b=h;break a}else if($APP.$c(e)&&$APP.y(g)){f=$APP.y(g);g=$APP.A(f);e=$APP.jc(f);f=g;g=e;var k=b;e=f;k=$APP.H.A($APP.v(K$),k);k=M$.C(k);k=$APP.nf(k);k=$APP.H.A(k,D$);e=k.C?k.C(e):k.call(null,e);bNd(b,f)}else if($APP.y(e)){e=tQd(b,c,e);k=$APP.nf(e);e=$APP.H.A(k,rQd);var p=$APP.H.A(k,sQd);k=$APP.iv;var q=k.A;g=$APP.Rg(g);var r=b;r=$APP.H.A($APP.v(K$),
r);r=null==r?null:M$.C(r);r=null==r?null:D$.C(r);r=null==r?null:$APP.Hg(r);r=null==r?null:$APP.Rg(r);p=null==r?null:$APP.hs.A($APP.Rg(p),r);g=q.call(k,g,p);h=$APP.S.F(h,f,$APP.rg.A($APP.lf,e));f=e=null}else{b=null;break a}}}return b},wQd=function(a){var b=$APP.rg.F($APP.lf,$APP.wk.C(function(k){var p=$APP.C.F(k,0,null);k=$APP.C.F(k,1,null);k=$APP.H.A(k,$APP.oA);return $APP.n(k)?new $APP.O(null,2,5,$APP.Q,[p,vQd.C(k)],null):null}),a),c=$APP.Rg($APP.Hg(b)),d=function(){for(var k=$APP.Wf,p=c,q=$APP.A(p);;){if($APP.nb(q))return k;
var r=b.C?b.C(q):b.call(null,q);r=$APP.H.A(p,r);$APP.n(r)?q=r:(p=$APP.Bx.A(p,q),k=$APP.Fe.A(k,q),q=p,r=$APP.A(p),p=q,q=r)}}();d=$APP.wk.A(function(k){k=$APP.wt.A(a,new $APP.O(null,2,5,$APP.Q,[k,$APP.oA],null));return null==k?null:new $APP.O(null,2,5,$APP.Q,[$APP.oA,k],null)},d);var e=$APP.wk.A(function(k){$APP.C.F(k,0,null);k=$APP.C.F(k,1,null);k=$APP.rA.C(k);return null==k?null:new $APP.O(null,2,5,$APP.Q,[$APP.rA,k],null)},a),f=$APP.wk.A(function(k){$APP.C.F(k,0,null);k=$APP.C.F(k,1,null);k=$APP.IA.C(k);
return null==k?null:new $APP.O(null,2,5,$APP.Q,[$APP.IA,k],null)},a),g=$APP.wk.A(function(k){$APP.C.F(k,0,null);k=$APP.C.F(k,1,null);k=J$.C(k);return null==k?null:new $APP.O(null,2,5,$APP.Q,[J$,k],null)},a),h=$APP.wk.A(function(k){$APP.C.F(k,0,null);k=$APP.C.F(k,1,null);k=I$.C(k);return null==k?null:new $APP.O(null,2,5,$APP.Q,[I$,k],null)},a);return $APP.lk.G(g,e,$APP.G([d,f,h]))},EQd=function(a){var b=$APP.Oi(1);$APP.Bi(function(){var c=function(){function e(f){var g=f[1];if(7===g)return f[2]=f[7],
f[1]=9,$APP.U;if(1===g){g=gPd.C(a);g=$APP.v(g);var h=hPd.C(a);h=$APP.v(h);var k=xQd.C(a);k=$APP.v(k);var p=$APP.H.A($APP.v(K$),g);p=$APP.nf(p);p=$APP.H.A(p,M$);p=$APP.Ch.K(K$,$APP.Yr,new $APP.O(null,2,5,$APP.Q,[g,L$],null),p);f[8]=g;f[9]=h;f[10]=k;f[11]=p;f[2]=null;f[1]=2;return $APP.U}if(4===g)return g=f[8],h=$APP.Dv.G($APP.G([yQd,f[2]])),g=XMd(g),f[12]=h,f[13]=g,f[2]=null,f[1]=3,$APP.U;if(15===g)return g=f[8],h=$APP.Dv.G($APP.G([zQd])),g=XMd(g),f[14]=h,f[15]=g,f[2]=null,f[1]=13,$APP.U;if(13===g)return f[2]=
f[2],f[1]=12,$APP.U;if(6===g)return g=N$(f[2]),h=S$.C(g),f[16]=g,f[17]=h,f[1]=$APP.n(h)?10:11,$APP.U;if(17===g)throw g=f[8],h=f[17],XMd(g),f=$APP.Ag([AQd],[h]),$APP.Al.A("Unavailable",f);if(3===g)return $APP.Mi(f,f[2]);if(12===g)return g=f[2],f[4]=$APP.ic(f[4]),f[2]=g,f[1]=3,$APP.U;if(2===g)return g=f[8],h=f[9],f[4]=$APP.Le(5,f[4]),h=uQd(g,h),h=wQd(h),g=$Md(g),k=[$APP.IC,$APP.gA,cPd,ZPd],p=P$.C(a),p=$APP.v(p),f[19]=h,f[7]=g,f[20]=k,f[21]=p,f[1]=$APP.n(g)?7:8,$APP.U;if(11===g){g=f[8];h=f[9];k=f[10];
p=f[16];var q=$APP.Ch.G(K$,$APP.Zr,g,$APP.Zi,$APP.G([L$]));g=hQd(g,h,k,p);f[22]=q;return $APP.Ki(f,18,g)}if(9===g)return p=f[21],h=f[19],k=f[20],g=$APP.Ag(k,["apply-ops",p,h,f[2]]),g=mOd(a,g),$APP.Ki(f,6,g);if(5===g)return f[4]=$APP.ic(f[4]),f[5]=f[2],f[1]=4,f[5]=null,$APP.U;if(14===g)return g=f[8],h=$APP.Dv.G($APP.G([BQd])),g=XMd(g),f[23]=h,f[24]=g,f[2]=null,f[1]=13,$APP.U;if(16===g)return p=f[16],g=f[8],h=$APP.Dv.G($APP.G([CQd,p])),g=XMd(g),f[25]=h,f[26]=g,f[2]=null,f[1]=13,$APP.U;if(10===g){h=
f[17];g=$APP.Bl.C(h);switch(g instanceof $APP.N?g.Z:null){case "graph-lock-failed":f[1]=14;break;case "graph-lock-missing":f[1]=15;break;case "get-s3-object-failed":f[1]=16;break;default:f[1]=17}return $APP.U}return 18===g?(p=f[16],g=f[2],h=$APP.cA.C(p),h=$APP.Dv.G($APP.G([DQd,$APP.cA,h])),f[27]=g,f[2]=h,f[1]=12,$APP.U):8===g?(f[2]=1,f[1]=9,$APP.U):null}return function(){function f(k){for(;;){a:try{for(;;){var p=e(k);if(!$APP.Ne(p,$APP.U)){var q=p;break a}}}catch(r){q=r;k[2]=q;if($APP.y(k[4]))k[1]=
$APP.A(k[4]);else throw q;q=$APP.U}if(!$APP.Ne(q,$APP.U))return q}}function g(){var k=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];k[0]=h;k[1]=1;return k}var h=null;h=function(k){switch(arguments.length){case 0:return g.call(this);case 1:return f.call(this,k)}throw Error("Invalid arity: "+arguments.length);};h.I=g;h.C=f;return h}()}(),d=function(){var e=c();e[6]=b;return e}();return $APP.Ii(d)});return b},
FQd=function(a,b){if($APP.n(b))return $APP.Oi(null);var c=$APP.Oi(1);$APP.Bi(function(){var d=function(){return function(){function f(k){for(;;){a:try{for(;;){var p=k,q=p[1];if(1===q){var r=$APP.Gi(2E3);var u=$APP.Ki(p,2,r)}else if(2===q){var x=p[2],z=0<aNd(a);p[7]=x;u=$APP.Mi(p,z)}else u=null;if(!$APP.Ne(u,$APP.U)){var D=u;break a}}}catch(F){D=F;k[2]=D;if($APP.y(k[4]))k[1]=$APP.A(k[4]);else throw D;D=$APP.U}if(!$APP.Ne(D,$APP.U))return D}}function g(){var k=[null,null,null,null,null,null,null,null];
k[0]=h;k[1]=1;return k}var h=null;h=function(k){switch(arguments.length){case 0:return g.call(this);case 1:return f.call(this,k)}throw Error("Invalid arity: "+arguments.length);};h.I=g;h.C=f;return h}()}(),e=function(){var f=d();f[6]=c;return f}();return $APP.Ii(e)});return c},HQd=function(a){for(var b=[],c=arguments.length,d=0;;)if(d<c)b.push(arguments[d]),d+=1;else break;b=5<b.length?new $APP.dc(b.slice(5),0,null):null;return GQd(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],
b)},GQd=function(a,b,c,d,e,f){f=$APP.nf(f);var g=$APP.H.A(f,mPd);$APP.H.A(f,$APP.Hl);var h=$APP.Oi(1);$APP.Bi(function(){var k=function(){function q(r){var u=r[1];if(7===u){var x=r[7];r[8]=r[2];return $APP.Ki(r,8,x)}if(1===u){var z=r[10];u=gPd.C(a);u=$APP.Df(u,c);x=hPd.C(a);x=$APP.Df(x,d);var D=xQd.C(a),F=$APP.Df(D,e);D=IQd.C(a);var J=$APP.Df(D,$APP.zB),I=$APP.Ch.K(X$,$APP.Zr,$APP.ZTa,$APP.pc),P=$APP.nf(a);D=$APP.H.A(P,O$);var R=$APP.H.A(P,JQd),W=$APP.Ai(100),V=$APP.mh.C(lOd),E=$APP.yka(W,V);W=$APP.Oi(null);
var M=KQd.C(a),T=LQd.C(a),X=MQd.C(a);V=NQd.C(a);V=$APP.Df(V,W);var aa=fOd(a);r[11]=u;r[12]=x;r[13]=F;r[14]=J;r[15]=I;r[9]=P;r[16]=D;r[17]=R;r[18]=E;r[10]=W;r[19]=M;r[20]=T;r[21]=X;r[22]=V;return $APP.Ki(r,2,aa)}if(4===u)return D=r[16],E=r[18],u=r[2],x=$APP.dj(D,"push-updates",E),r[23]=u,r[24]=x,r[1]=$APP.n(g)?9:10,$APP.U;if(6===u)throw r[4]=$APP.ic(r[4]),u=r,x=u[2],u[5]=x,x;if(3===u)return D=r[25],r[4]=$APP.Le(5,r[4]),r[4]=$APP.Le(6,r[4]),u=$APP.Ag([$APP.IC,Q$,$APP.gA],["register-graph-updates",D,
b]),u=R$(a,u),$APP.Ki(r,7,u);if(12===u)return D=r[16],E=r[18],u=r[2],x=$APP.ej(D,"push-updates",E),r[26]=u,$APP.Mi(r,x);if(2===u)return F=r[27],D=r[25],x=r[7],u=r[2],x=P$.C(a),x=$APP.Df(x,b),D=$APP.Sh(),D=$APP.t.C(D),F=O$.C(a),J=$APP.Oi(1),I=$APP.dj(F,D,J),r[28]=u,r[29]=x,r[25]=D,r[27]=F,r[7]=J,r[30]=I,u=r,u[2]=null,u[1]=3,$APP.U;if(11===u){T=r[20];M=r[19];R=r[17];X=r[21];E=r[18];z=r[10];D=r[16];u=r[2];var pa=$APP.Oi(1);x=$APP.Bi(function(){var ra=T,ua=M,za=X,ya=E,Ga=z;return function(){var Ja=function(){function Ia(Na){var Ka=
Na[1];if(7===Ka){var pb=$APP.nf(Na[2]);Ka=$APP.H.A(pb,aPd);var ib=$APP.H.A(pb,OQd),yb=$APP.H.A(pb,$APP.ds);pb=$APP.H.A(pb,qPd);Na[7]=Ka;Na[8]=ib;Na[9]=yb;Na[1]=$APP.n(pb)?29:30;return $APP.U}return 20===Ka?(Ka=Na[10],Ka=$APP.C.F(Ka,0,null),Ka=$APP.Ag([aPd],[Ka]),Na[2]=Ka,Na[1]=22,$APP.U):27===Ka?(Na[2]=null,Na[1]=28,$APP.U):1===Ka?(Ka=$APP.v(ua),Ka=FQd(c,$APP.nb(Ka)),Na[11]=Ka,Na[2]=null,Na[1]=2,$APP.U):24===Ka?(ib=Na[12],Ka=$APP.B.A(ib,$APP.Vi),Na[1]=Ka?26:27,$APP.U):39===Ka?(Ka=EQd(a),$APP.Ki(Na,
42,Ka)):46===Ka?(Na[2]=null,Na[1]=48,$APP.U):4===Ka?(pb=Na[13],Ka=Na[2],ib=$APP.C.F(Ka,0,null),yb=$APP.C.F(Ka,1,null),pb=$APP.B.A(yb,pb),Na[10]=Ka,Na[14]=ib,Na[12]=yb,Na[1]=pb?5:6,$APP.U):15===Ka?(Na[2]=Na[15],Na[1]=16,$APP.U):48===Ka?(Na[2]=Na[2],Na[1]=45,$APP.U):21===Ka?(ib=Na[12],Ka=$APP.B.A(ib,Na[16]),Na[1]=Ka?23:24,$APP.U):31===Ka?(Na[2]=Na[2],Na[1]=3,$APP.U):32===Ka?(Ka=Na[7],Ka=iQd(c,d,e,Ka),$APP.Ki(Na,35,Ka)):40===Ka?(yb=Na[9],Na[1]=$APP.n(yb)?43:44,$APP.U):33===Ka?(ib=Na[8],Na[1]=$APP.n(ib)?
39:40,$APP.U):13===Ka?(Na[2]=Na[2],Na[1]=10,$APP.U):22===Ka?(Na[2]=Na[2],Na[1]=13,$APP.U):36===Ka?(Ka=$APP.Pi(ra,!0),Na[2]=Ka,Na[1]=38,$APP.U):41===Ka?(Na[2]=Na[2],Na[1]=34,$APP.U):43===Ka?(Ka=$APP.EA.C(a),Ka=$APP.v(Ka),Ka.onopen=null,Ka.onclose=null,Ka.onmessage=null,Ka.onerror=null,Ka=Ka.close(),ib=IQd.C(a),ib=$APP.Df(ib,$APP.uq),Na[17]=Ka,Na[2]=ib,Na[1]=45,$APP.U):29===Ka?(Ka=$APP.v(ua),Ka=FQd(c,$APP.nb(Ka)),Na[11]=Ka,Na[2]=null,Na[1]=2,$APP.U):44===Ka?(Na[1]=46,$APP.U):6===Ka?(ib=Na[12],Ka=$APP.B.A(ib,
Na[18]),Na[1]=Ka?8:9,$APP.U):28===Ka?(Na[2]=Na[2],Na[1]=25,$APP.U):25===Ka?(Na[2]=Na[2],Na[1]=22,$APP.U):34===Ka?(Na[2]=Na[2],Na[1]=31,$APP.U):17===Ka?(Ka=$APP.Ag([OQd],[!0]),Na[2]=Ka,Na[1]=19,$APP.U):3===Ka?$APP.Mi(Na,Na[2]):12===Ka?(ib=Na[12],Ka=$APP.B.A(ib,Na[19]),Na[1]=Ka?20:21,$APP.U):2===Ka?(Ka=Na[11],Ka=new $APP.O(null,5,5,$APP.Q,[za,ra,Ka,ya,Ga],null),Na[13]=za,Na[18]=ra,Na[19]=ya,Na[16]=Ga,$APP.Mka(Na,4,Ka,$APP.G([$APP.Ti,!0]))):23===Ka?(Ka=$APP.Ag([$APP.ds],[!0]),Na[2]=Ka,Na[1]=25,$APP.U):
47===Ka?(Na[2]=null,Na[1]=48,$APP.U):35===Ka?(Ka=$APP.B.A(Na[2],cQd),Na[1]=Ka?36:37,$APP.U):19===Ka?(Na[2]=Na[2],Na[1]=13,$APP.U):11===Ka?(Ka=Na[10],Ka=$APP.C.F(Ka,0,null),ib=$APP.v(ua),Na[20]=Ka,Na[15]=ib,Na[1]=$APP.n(ib)?14:15,$APP.U):9===Ka?(ib=Na[12],Ka=Na[11],Ka=$APP.B.A(ib,Ka),Na[1]=Ka?11:12,$APP.U):5===Ka?(Ka=$APP.Ag([qPd],[!0]),Na[2]=Ka,Na[1]=7,$APP.U):14===Ka?(Ka=Na[20],Na[2]=!0===Ka,Na[1]=16,$APP.U):45===Ka?(Na[2]=Na[2],Na[1]=41,$APP.U):26===Ka?(ib=Na[14],Na[2]=ib,Na[1]=28,$APP.U):16===
Ka?(Na[1]=$APP.n(Na[2])?17:18,$APP.U):38===Ka?(ib=Na[2],Ka=$APP.v(ua),Ka=FQd(c,$APP.nb(Ka)),Na[21]=ib,Na[11]=Ka,Na[2]=null,Na[1]=2,$APP.U):30===Ka?(Ka=Na[7],Na[1]=$APP.n(Ka)?32:33,$APP.U):10===Ka?(Na[2]=Na[2],Na[1]=7,$APP.U):18===Ka?(Ka=$APP.Ag([qPd],[!0]),Na[2]=Ka,Na[1]=19,$APP.U):42===Ka?(ib=Na[2],Ka=$APP.v(ua),Ka=FQd(c,$APP.nb(Ka)),Na[22]=ib,Na[11]=Ka,Na[2]=null,Na[1]=2,$APP.U):37===Ka?(Na[2]=null,Na[1]=38,$APP.U):8===Ka?(Ka=$APP.Ag([OQd],[!0]),Na[2]=Ka,Na[1]=10,$APP.U):null}return function(){function Na(ib){for(;;){a:try{for(;;){var yb=
Ia(ib);if(!$APP.Ne(yb,$APP.U)){var Ub=yb;break a}}}catch(bc){Ub=bc;ib[2]=Ub;if($APP.y(ib[4]))ib[1]=$APP.A(ib[4]);else throw Ub;Ub=$APP.U}if(!$APP.Ne(Ub,$APP.U))return Ub}}function Ka(){var ib=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];ib[0]=pb;ib[1]=1;return ib}var pb=null;pb=function(ib){switch(arguments.length){case 0:return Ka.call(this);case 1:return Na.call(this,ib)}throw Error("Invalid arity: "+arguments.length);};pb.I=
Ka;pb.C=Na;return pb}()}(),Qa=function(){var Ia=Ja();Ia[6]=pa;return Ia}();return $APP.Ii(Qa)}}());r[31]=u;r[32]=x;return $APP.Ki(r,12,pa)}return 9===u?(u=$APP.zi(g),r[2]=u,r[1]=11,$APP.U):5===u?(F=r[27],D=r[25],x=r[7],r[4]=$APP.ic(r[4]),u=r[2],x=$APP.ej(F,D,x),function(){var ra=r[5];if($APP.n(ra))throw ra;return null}(),r[33]=x,x=r,x[2]=u,x[1]=4,$APP.U):10===u?(r[2]=null,r[1]=11,$APP.U):8===u?(u=r[2],r[4]=$APP.ic(r[4]),r[2]=u,r[1]=5,$APP.U):null}return function(){function r(z){for(;;){a:try{for(;;){var D=
q(z);if(!$APP.Ne(D,$APP.U)){var F=D;break a}}}catch(J){F=J;z[2]=F;if($APP.y(z[4]))z[1]=$APP.A(z[4]);else throw F;F=$APP.U}if(!$APP.Ne(F,$APP.U))return F}}function u(){var z=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];z[0]=x;z[1]=1;return z}var x=null;x=function(z){switch(arguments.length){case 0:return u.call(this);case 1:return r.call(this,z)}throw Error("Invalid arity: "+
arguments.length);};x.I=u;x.C=r;return x}()}(),p=function(){var q=k();q[6]=h;return q}();return $APP.Ii(p)});return h},SQd=function(a,b,c){c=$APP.nf(c);var d=$APP.H.A(c,PQd),e=$APP.H.A(c,QQd),f=$APP.Oi(1);$APP.Bi(function(){var g=function(){function k(p){var q=p[1];if(7===q)return q=p[7],q=$APP.S.F(q,PQd,d),p[2]=q,p[1]=9,$APP.U;if(1===q){q=$APP.Sh();q=$APP.t.C(q);var r=O$.C(a);var u=$APP.Oi(1);var x=$APP.dj(r,q,u);p[9]=q;p[8]=r;p[10]=u;p[11]=x;p[2]=null;p[1]=2;return $APP.U}if(4===q){r=p[8];u=p[9];
x=p[10];p[4]=$APP.ic(p[4]);q=p[2];r=$APP.ej(r,u,x);u=p[5];if($APP.n(u))throw u;p[12]=r;p[2]=q;p[1]=3;return $APP.U}if(15===q)return q=$APP.Dv.G($APP.G([RQd,$APP.Mz])),p[2]=q,p[1]=16,$APP.U;if(13===q)return q=p[2],p[4]=$APP.ic(p[4]),p[2]=q,p[1]=4,$APP.U;if(6===q)return x=p[10],p[13]=p[2],$APP.Ki(p,13,x);if(3===q)return q=p[2],r=iOd.C(q),p[14]=q,p[15]=r,p[1]=$APP.n(r)?14:15,$APP.U;if(12===q)return q=R$(a,p[2]),$APP.Ki(p,6,q);if(2===q)return u=p[9],p[4]=$APP.Le(4,p[4]),p[4]=$APP.Le(5,p[4]),q=$APP.Ag([Q$,
$APP.IC,$APP.gA],[u,"grant-access",b]),p[7]=q,p[1]=$APP.n(d)?7:8,$APP.U;if(11===q)return q=p[16],p[2]=q,p[1]=12,$APP.U;if(9===q)return q=p[2],p[16]=q,p[1]=$APP.n(e)?10:11,$APP.U;if(5===q)throw p[4]=$APP.ic(p[4]),q=p[2],p[5]=q,q;return 14===q?(r=p[14],q=p[15],r=S$.C(r),q=$APP.Dv.G($APP.G([RQd,q,r])),p[2]=q,p[1]=16,$APP.U):16===q?$APP.Mi(p,p[2]):10===q?(q=p[16],q=$APP.S.F(q,QQd,e),p[2]=q,p[1]=12,$APP.U):8===q?(q=p[7],p[2]=q,p[1]=9,$APP.U):null}return function(){function p(u){for(;;){a:try{for(;;){var x=
k(u);if(!$APP.Ne(x,$APP.U)){var z=x;break a}}}catch(D){z=D;u[2]=z;if($APP.y(u[4]))u[1]=$APP.A(u[4]);else throw z;z=$APP.U}if(!$APP.Ne(z,$APP.U))return z}}function q(){var u=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];u[0]=r;u[1]=1;return u}var r=null;r=function(u){switch(arguments.length){case 0:return q.call(this);case 1:return p.call(this,u)}throw Error("Invalid arity: "+arguments.length);};r.I=q;r.C=p;return r}()}(),h=function(){var k=g();k[6]=f;return k}();
return $APP.Ii(h)})},TQd=function(a){var b=$APP.Oi(1);$APP.Bi(function(){var c=function(){return function(){function e(h){for(;;){a:try{for(;;){var k=void 0,p=h,q=p[1];if(1===q){var r=KQd.C(a),u=$APP.Ch.A(r,$APP.nb),x=MQd.C(a);p[7]=u;k=p;var z=$APP.Li(k,2,x,!0)}else if(2===q){var D=p[2],F=KQd.C(a),J=$APP.v(F);p[8]=D;k=p;z=$APP.Mi(k,J)}else z=null;if(!$APP.Ne(z,$APP.U)){var I=z;break a}}}catch(P){I=P;h[2]=I;if($APP.y(h[4]))h[1]=$APP.A(h[4]);else throw I;I=$APP.U}if(!$APP.Ne(I,$APP.U))return I}}function f(){var h=
[null,null,null,null,null,null,null,null,null];h[0]=g;h[1]=1;return h}var g=null;g=function(h){switch(arguments.length){case 0:return f.call(this);case 1:return e.call(this,h)}throw Error("Invalid arity: "+arguments.length);};g.I=f;g.C=e;return g}()}(),d=function(){var e=c();e[6]=b;return e}();return $APP.Ii(d)});return b},XQd=function(a,b){var c=$APP.ona(),d=$APP.Oi(1);$APP.Bi(function(){var e=function(){function g(h){var k=h[1];if(7===k)return h[1]=$APP.n(h[2])?8:9,$APP.U;if(1===k)return k=null==
a,h[7]=a,h[1]=$APP.n(k)?2:3,$APP.U;if(4===k)return k=h[2],h[8]=k,h[1]=$APP.n(null==k)?5:6,$APP.U;if(15===k){var p=h[9];h[10]=h[2];return $APP.Ki(h,16,p)}if(13===k){var q=h[11];k=h[12];p=h[9];h[4]=$APP.ic(h[4]);var r=h[2];k=$APP.ej(q,k,p);p=h[5];if($APP.n(p))throw p;h[13]=k;h[2]=r;h[1]=12;return $APP.U}if(6===k)return k=h[8],k=$APP.v(k),h[2]=k,h[1]=7,$APP.U;if(17===k)return k=h[15],r=$APP.Dv.G($APP.G([UQd,iOd,h[14],S$,k])),k=$APP.$k(c,null),h[16]=r,h[2]=k,h[1]=19,$APP.U;if(3===k)return k=h[7],k=P$.C(k),
h[2]=k,h[1]=4,$APP.U;if(12===k)return h[2]=h[2],h[1]=10,$APP.U;if(2===k)return h[2]=null,h[1]=4,$APP.U;if(19===k)return k=h[2],h[4]=$APP.ic(h[4]),h[2]=k,h[1]=13,$APP.U;if(11===k)return k=h[12],h[4]=$APP.Le(13,h[4]),h[4]=$APP.Le(14,h[4]),r=[Q$,$APP.IC,VQd,$APP.gA],p=new $APP.O(null,1,5,$APP.Q,[b],null),q=P$.C(a),q=$APP.v(q),k=$APP.Ag(r,[k,"query-block-content-versions",p,q]),k=R$(a,k),$APP.Ki(h,15,k);if(9===k)return h[2]=null,h[1]=10,$APP.U;if(5===k)return h[2]=null,h[1]=7,$APP.U;if(14===k)throw h[4]=
$APP.ic(h[4]),k=h[2],h[5]=k,k;return 16===k?(p=$APP.nf(h[2]),r=$APP.H.A(p,iOd),k=$APP.H.A(p,S$),p=$APP.H.A(p,WQd),h[14]=r,h[15]=k,h[17]=p,h[1]=$APP.n(r)?17:18,$APP.U):10===k?$APP.Mi(h,h[2]):18===k?(p=h[17],k=$APP.yi(p),k=$APP.$k(c,k),h[2]=k,h[1]=19,$APP.U):8===k?(k=$APP.Sh(),k=$APP.t.C(k),r=O$.C(a),p=$APP.Oi(1),q=$APP.dj(r,k,p),h[12]=k,h[11]=r,h[9]=p,h[18]=q,h[2]=null,h[1]=11,$APP.U):null}return function(){function h(q){for(;;){a:try{for(;;){var r=g(q);if(!$APP.Ne(r,$APP.U)){var u=r;break a}}}catch(x){u=
x;q[2]=u;if($APP.y(q[4]))q[1]=$APP.A(q[4]);else throw u;u=$APP.U}if(!$APP.Ne(u,$APP.U))return u}}function k(){var q=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];q[0]=p;q[1]=1;return q}var p=null;p=function(q){switch(arguments.length){case 0:return k.call(this);case 1:return h.call(this,q)}throw Error("Invalid arity: "+arguments.length);};p.I=k;p.C=h;return p}()}(),f=function(){var g=e();g[6]=d;return g}();return $APP.Ii(f)});return c},YQd=function(a,
b){var c=ZMd(a),d=$Md(a);a=aNd(a);c=new $APP.m(null,3,[$APP.gA,c,$APP.pZa,d,$APP.GTa,a],null);return $APP.n(b)?$APP.On.G($APP.G([c,new $APP.m(null,3,[$APP.bYa,$APP.v(IQd.C(b)),$APP.y0a,function(){var e=$APP.v($APP.EA.C(b));return null==e?null:pOd(e)}(),$APP.SVa,function(){var e=KQd.C(b);return $APP.n(e)?$APP.v(e):null}()],null)])):c},$Qd=function(a,b,c){var d=$APP.Oi(1);$APP.Bi(function(){var e=function(){function g(h){var k=h[1];if(1===k){var p=$APP.Oi($APP.Ai(100));var q=$APP.Oi(null);k=bOd(b,p,
q);h[7]=p;h[8]=k;return $APP.Ki(h,2,q)}return 2===k?(k=h[8],q=h[7],p=h[2],k=$APP.Ag([$APP.EA,MQd,IQd,gPd,eOd,NQd,$APP.ZTa,LQd,O$,P$,hPd,dOd,KQd,xQd],[$APP.Bh.C(k),$APP.Oi($APP.Ai(1)),$APP.Bh.G($APP.uq,$APP.G([$APP.oRa,ZQd])),$APP.Bh.C(a),q,$APP.Bh.C(null),0,$APP.Oi($APP.Ai(1)),$APP.Oka(q,Q$),$APP.Bh.C(null),$APP.Bh.C(null),$APP.Bh.C(b),$APP.Bh.G(!0,$APP.G([$APP.oRa,$APP.qd])),$APP.Bh.C(null)]),h[9]=p,h[10]=k,h[1]=$APP.n(c)?3:4,$APP.U):3===k?(k=h[10],p=$APP.Df(X$,k),k=$APP.Ch.K(X$,$APP.Zr,$APP.ZTa,
$APP.pc),h[11]=p,h[2]=k,h[1]=5,$APP.U):4===k?(h[2]=null,h[1]=5,$APP.U):5===k?(k=h[10],h[12]=h[2],$APP.Mi(h,k)):null}return function(){function h(q){for(;;){a:try{for(;;){var r=g(q);if(!$APP.Ne(r,$APP.U)){var u=r;break a}}}catch(x){u=x;q[2]=u;if($APP.y(q[4]))q[1]=$APP.A(q[4]);else throw u;u=$APP.U}if(!$APP.Ne(u,$APP.U))return u}}function k(){var q=[null,null,null,null,null,null,null,null,null,null,null,null,null];q[0]=p;q[1]=1;return q}var p=null;p=function(q){switch(arguments.length){case 0:return k.call(this);
case 1:return h.call(this,q)}throw Error("Invalid arity: "+arguments.length);};p.I=k;p.C=h;return p}()}(),f=function(){var g=e();g[6]=d;return g}();return $APP.Ii(f)});return d},bRd=function(a,b,c){var d=$APP.Oi(1);$APP.Bi(function(){var e=function(){function g(h){var k=h[1];if(1===k)return k=$Qd(a,c,!0),$APP.Ki(h,2,k);if(2===k){var p=h[2];var q=$APP.Ag([$APP.EA,pPd,gPd,eOd,O$,P$,hPd,oPd,dOd,sPd,xQd,nPd],[$APP.EA.C(p),$APP.Bh.C(null),$APP.Bh.C(null),eOd.C(p),O$.C(p),$APP.Bh.C(null),$APP.Bh.C(null),
$APP.Oi($APP.Ai(1)),dOd.C(p),$APP.Bh.C(null),$APP.Bh.C(null),$APP.Bh.G(!0,$APP.G([$APP.oRa,$APP.qd]))]);var r=$APP.Df(aRd,q);k=XLd(a);var u=ZMd(a);h[7]=p;h[8]=q;h[10]=r;h[11]=k;h[9]=u;h[1]=$APP.n(u)?3:4;return $APP.U}return 3===k?(k=h[11],r=h[7],q=h[9],p=h[8],k=$APP.fJa(k),k=HQd(r,q,a,b,k),p=lPd(p,q,a,b),h[12]=p,$APP.Ki(h,6,k)):4===k?(k=$APP.zh.G($APP.G([new $APP.O(null,2,5,$APP.Q,[new $APP.O(null,2,5,$APP.Q,[$APP.$B,new $APP.O(null,2,5,$APP.Q,[$APP.dA,"RTC is not supported for this graph"],null)],
null),$APP.Fs],null)])),k=v$($APP.rB,k),h[2]=k,h[1]=5,$APP.U):5===k?$APP.Mi(h,h[2]):6===k?(p=h[12],h[13]=h[2],$APP.Ki(h,7,p)):7===k?(h[2]=h[2],h[1]=5,$APP.U):null}return function(){function h(q){for(;;){a:try{for(;;){var r=g(q);if(!$APP.Ne(r,$APP.U)){var u=r;break a}}}catch(x){u=x;q[2]=u;if($APP.y(q[4]))q[1]=$APP.A(q[4]);else throw u;u=$APP.U}if(!$APP.Ne(u,$APP.U))return u}}function k(){var q=[null,null,null,null,null,null,null,null,null,null,null,null,null,null];q[0]=p;q[1]=1;return q}var p=null;
p=function(q){switch(arguments.length){case 0:return k.call(this);case 1:return h.call(this,q)}throw Error("Invalid arity: "+arguments.length);};p.I=k;p.C=h;return p}()}(),f=function(){var g=e();g[6]=d;return g}();return $APP.Ii(f)})},cRd=function(){var a=function(){var b=$APP.v(X$);b=null==b?null:NQd.C(b);return null==b?null:$APP.v(b)}();$APP.n(a)&&$APP.zi(a);a=function(){var b=$APP.v(aRd);b=null==b?null:pPd.C(b);return null==b?null:$APP.v(b)}();$APP.n(a)&&$APP.zi(a)},dRd=function(a,b){var c=$APP.ona(),
d=$APP.Oi(1);$APP.Bi(function(){var e=function(){function g(h){var k=h[1];if(7===k)return k=$APP.yi(h[2]),k=$APP.$k(c,k),$APP.Mi(h,k);if(1===k)return k=$APP.v(X$),h[7]=k,h[1]=$APP.n(k)?2:3,$APP.U;if(4===k){k=h[2];var p=$APP.Sh();p=$APP.t.C(p);var q=O$.C(k);var r=$APP.Oi(1);var u=$APP.dj(q,p,r);h[8]=k;h[10]=p;h[9]=q;h[11]=r;h[12]=u;h[2]=null;h[1]=6;return $APP.U}if(6===k)return p=h[10],k=h[8],h[4]=$APP.Le(8,h[4]),h[4]=$APP.Le(9,h[4]),p=$APP.Ag([Q$,$APP.IC],[p,"list-graphs"]),k=R$(k,p),$APP.Ki(h,10,
k);if(3===k)return k=$Qd(a,b,!0),$APP.Ki(h,5,k);if(2===k)return k=h[7],h[2]=k,h[1]=4,$APP.U;if(11===k)return k=$APP.bC.C(h[2]),h[4]=$APP.ic(h[4]),h[2]=k,h[1]=8,$APP.U;if(9===k)throw h[4]=$APP.ic(h[4]),k=h[2],h[5]=k,k;if(5===k)return h[2]=h[2],h[1]=4,$APP.U;if(10===k)return r=h[11],h[13]=h[2],$APP.Ki(h,11,r);if(8===k){q=h[9];p=h[10];r=h[11];h[4]=$APP.ic(h[4]);k=h[2];p=$APP.ej(q,p,r);q=h[5];if($APP.n(q))throw q;h[14]=p;h[2]=k;h[1]=7;return $APP.U}return null}return function(){function h(q){for(;;){a:try{for(;;){var r=
g(q);if(!$APP.Ne(r,$APP.U)){var u=r;break a}}}catch(x){u=x;q[2]=u;if($APP.y(q[4]))q[1]=$APP.A(q[4]);else throw u;u=$APP.U}if(!$APP.Ne(u,$APP.U))return u}}function k(){var q=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];q[0]=p;q[1]=1;return q}var p=null;p=function(q){switch(arguments.length){case 0:return k.call(this);case 1:return h.call(this,q)}throw Error("Invalid arity: "+arguments.length);};p.I=k;p.C=h;return p}()}(),f=function(){var g=e();g[6]=d;return g}();return $APP.Ii(f)});
return c},gRd=function(a){if($APP.n($APP.v(eRd)))return null;var b=WLd(a);return $APP.n(b)?b:$APP.gl(null,function(){return $APP.gl($APP.v(fRd).installOpfsSAHPoolVfs({name:["logseq-pool-",YKd(a)].join(""),initialCapacity:20}),function(c){$APP.Ch.K(VLd,$APP.S,a,c);return $APP.Zk(c)})})},jRd=function(){return $APP.n($APP.v(fRd))?null:$APP.gl(null,function(){return $APP.gl(location.href,function(a){return $APP.gl($APP.va(a,"electron\x3dtrue"),function(b){return $APP.gl($APP.va(a,"publishing\x3dtrue"),
function(c){return $APP.gl($APP.Df(eRd,c),function(){return $APP.gl([$APP.t.C(self.location.protocol),"//",$APP.t.C(self.location.host)].join(""),function(d){return $APP.gl($APP.n(b)?new URL("sqlite3.wasm",location.href):[$APP.t.C(d),$APP.uj(self.location.pathname,"db-worker.js","")].join(""),function(e){return $APP.gl(hRd.default($APP.xi(new $APP.m(null,3,[$APP.lw,e,$APP.MVa,console.log,iRd,console.error],null))),function(f){$APP.Df(fRd,f);return $APP.Zk(null)})})})})})})})})},kRd=function(a){return $APP.gl(null,
function(){return $APP.gl(gRd(a),function(b){return $APP.Zk($APP.n(b)?b.exportFile("/db.sqlite"):null)})})},lRd=function(a,b,c){var d=SLd(a);return d.transaction(function(e){for(var f=$APP.y(b),g=null,h=0,k=0;;)if(k<h){var p=g.ia(null,k);e.exec({sql:"INSERT INTO kvs (addr, content) values ($addr, $content) on conflict(addr) do update set content \x3d $content",bind:p});k+=1}else if(f=$APP.y(f))g=f,$APP.kd(g)?(f=$APP.Qb(g),k=$APP.Rb(g),g=f,h=$APP.yc(f),f=k):(f=$APP.A(g),e.exec({sql:"INSERT INTO kvs (addr, content) values ($addr, $content) on conflict(addr) do update set content \x3d $content",
bind:f}),f=$APP.jc(g),g=null,h=0),k=0;else break;e=$APP.y(c);f=null;for(k=h=0;;)if(k<h)g=f.ia(null,k),d.exec({sql:"Delete from kvs where addr \x3d ?",bind:[g]}),k+=1;else if(e=$APP.y(e))f=e,$APP.kd(f)?(e=$APP.Qb(f),h=$APP.Rb(f),f=e,g=$APP.yc(e),e=h,h=g):(g=$APP.A(f),d.exec({sql:"Delete from kvs where addr \x3d ?",bind:[g]}),e=$APP.jc(f),f=null,h=0),k=0;else return null})},nRd=function(a){var b=$APP.lf;if("undefined"===typeof $APP.L2a||"undefined"===typeof mRd||"undefined"===typeof Y$)Y$=function(c,
d,e){this.La=c;this.pw=d;this.Xx=e;this.V=393216;this.aa=0},Y$.prototype.ga=function(c,d){return new Y$(this.La,this.pw,d)},Y$.prototype.fa=function(){return this.Xx},Y$.prototype.jt=function(c,d,e){var f=this;$APP.Dv.G($APP.G([$APP.EC,["SQLite store addr+data count: ",$APP.t.C($APP.yc(d))].join("")]));var g=$APP.mh.A(function(k){var p=$APP.C.F(k,0,null);k=$APP.C.F(k,1,null);return{$addr:p,$content:$APP.zh.G($APP.G([k]))}},d),h=$APP.Oi(1);$APP.Bi(function(){var k=function(){return function(){function q(x){for(;;){a:try{for(;;){var z=
x;if(1===z[1]){var D=lRd(f.La,g,e);var F=$APP.Mi(z,D)}else F=null;if(!$APP.Ne(F,$APP.U)){var J=F;break a}}}catch(I){J=I;x[2]=J;if($APP.y(x[4]))x[1]=$APP.A(x[4]);else throw J;J=$APP.U}if(!$APP.Ne(J,$APP.U))return J}}function r(){var x=[null,null,null,null,null,null,null];x[0]=u;x[1]=1;return x}var u=null;u=function(x){switch(arguments.length){case 0:return r.call(this);case 1:return q.call(this,x)}throw Error("Invalid arity: "+arguments.length);};u.I=r;u.C=q;return u}()}(),p=function(){var q=k();q[6]=
h;return q}();return $APP.Ii(p)});return h},Y$.prototype.it=function(c,d){c=SLd(this.La);d=$APP.Fc(c.exec({sql:"select content from kvs where addr \x3d ?",bind:[d],rowMode:"array"}));return $APP.n(d)?$APP.aD.C(d):null},Y$.Ca=!0,Y$.Aa="frontend.db-worker/t_frontend$db_worker105929",Y$.Ea=function(c){return $APP.Kb(c,"frontend.db-worker/t_frontend$db_worker105929")};return new Y$(a,b,$APP.lf)},oRd=function(a,b,c){$APP.Ch.F(TLd,$APP.Zi,a);$APP.Ch.F(ULd,$APP.Zi,a);$APP.n(b)&&b.close();$APP.n(c)&&c.close();
b=WLd(a);$APP.n(b)&&b.releaseAccessHandles();return $APP.Ch.F(VLd,$APP.Zi,a)},pRd=function(a){for(var b=$APP.y($APP.v(TLd)),c=null,d=0,e=0;;)if(e<d){var f=c.ia(null,e),g=$APP.C.F(f,0,null);f=$APP.C.F(f,1,null);var h=$APP.nf(f);f=$APP.H.A(h,$APP.KC);h=$APP.H.A(h,$APP.tC);$APP.B.A(a,g)||oRd(g,f,h);e+=1}else if(g=$APP.y(b))b=g,$APP.kd(b)?(c=$APP.Qb(b),b=$APP.Rb(b),g=c,d=$APP.yc(c),c=g):(c=$APP.A(b),g=$APP.C.F(c,0,null),c=$APP.C.F(c,1,null),c=$APP.nf(c),f=$APP.H.A(c,$APP.KC),h=$APP.H.A(c,$APP.tC),$APP.B.A(a,
g)||oRd(g,f,h),b=$APP.jc(b),c=null,d=0),e=0;else return null},qRd=function(a){var b=$APP.v(TLd);b=b.C?b.C(a):b.call(null,a);var c=$APP.nf(b);b=$APP.H.A(c,$APP.KC);c=$APP.H.A(c,$APP.tC);return oRd(a,b,c)},rRd=function(a){return $APP.n($APP.v(eRd))?$APP.gl(null,function(){return $APP.gl($APP.v(fRd).oo1.DB,function(b){return $APP.gl(new b("/db.sqlite","ct"),function(c){return $APP.gl(new b("/search-db.sqlite","ct"),function(d){return $APP.Zk(new $APP.O(null,2,5,$APP.Q,[c,d],null))})})})}):$APP.gl(null,
function(){return $APP.gl(gRd(a),function(b){return $APP.gl(b.getCapacity(),function(c){return $APP.gl(0===c?b.acquireAccessHandles():null,function(){return $APP.gl(new b.OpfsSAHPoolDb("/db.sqlite"),function(d){return $APP.gl(new b.OpfsSAHPoolDb("search/db.sqlite"),function(e){return $APP.Zk(new $APP.O(null,2,5,$APP.Q,[d,e],null))})})})})})})},tRd=function(a){return $APP.n(SLd(a))?null:$APP.gl(null,function(){return $APP.gl(rRd(a),function(b){var c=$APP.C.F(b,0,null),d=$APP.C.F(b,1,null);return $APP.gl($APP.Dv.G($APP.G([$APP.EC,
$APP.KC,c,sRd,d])),function(){return $APP.gl(nRd(a),function(e){return $APP.Zk(function(){$APP.Ch.K(TLd,$APP.S,a,new $APP.m(null,2,[$APP.KC,c,$APP.tC,d],null));c.exec("PRAGMA locking_mode\x3dexclusive");c.exec("create table if not exists kvs (addr INTEGER primary key, content TEXT)");rLd(d);var f=$APP.pJa(a),g=fLd(e,f);$APP.Ch.K(ULd,$APP.S,a,g);$APP.gl(null,function(){return $APP.gl(eNd(a),function(){$APP.Ch.F($APP.Gv.C($APP.Uc(g)),$APP.Zi,VNd);$APP.Ch.F($APP.Gv.C($APP.Uc(g)),$APP.Zi,XNd);$APP.aw(a)&&
null!=$Md(a)&&WNd(a,g);var h=ZNd(a,g);return $APP.Zk(h)})});return null}())})})})})},uRd=function(a){return $APP.n(a)?$APP.gl(null,function(){return $APP.Zk(function(){return function d(c){return $APP.fl($APP.kl(new $APP.O(null,1,5,$APP.Q,[c],null)),function(e){var f=$APP.C.F(e,0,null);return $APP.gl(null,function(){return $APP.Zk($APP.gl(null,function(){return $APP.gl(a.next(),function(g){return $APP.Zk($APP.n(g.done)?f:d($APP.Fe.A(f,g.value)))})}))})})}($APP.Wf)}())}):null},vRd=function(){function a(b){return $APP.B.A(b.kind,
"directory")}return $APP.gl(null,function(){return $APP.gl(navigator.storage.getDirectory(),function(b){return $APP.Zk($APP.gl(null,function(){return $APP.Zk(function(){return function f(d,e){return $APP.fl($APP.kl(new $APP.O(null,2,5,$APP.Q,[d,e],null)),function(g){var h=$APP.C.F(g,0,null),k=$APP.C.F(g,1,null);return $APP.gl(null,function(){return $APP.Zk($APP.$c(k)?h:$APP.gl(null,function(){return $APP.gl($APP.A(k),function(p){return $APP.gl($APP.Fe.A(h,p),function(q){return $APP.gl(a(p)?p.values():
null,function(r){return $APP.gl($APP.n(r)?uRd(r):null,function(u){return $APP.gl($APP.Rf.A(a,u),function(x){return $APP.gl($APP.lk.A(q,u),function(z){return $APP.gl($APP.lk.A(x,$APP.ic(k)),function(D){return $APP.Zk(f(z,D))})})})})})})})}))})})}($APP.Wf,new $APP.O(null,1,5,$APP.Q,[b],null))}())}))})})},wRd=function(a){return $APP.hl($APP.gl(null,function(){return $APP.gl(navigator.storage.getDirectory(),function(b){return $APP.gl(b.getDirectoryHandle([".",["logseq-pool-",YKd(a)].join("")].join("")),
function(){return $APP.Zk(!0)})})}),function(){return!1})},xRd=function(a){return RLd(a,$APP.G([new $APP.m(null,1,[$APP.hUa,!0],null)]))},tMd=/^(\d{2})(?::?(\d{2})(?::?(\d{2})(\.\d+)?)?)?$/,sMd=/Z|(?:([-+])(\d{2})(?::?(\d{2}))?)$/,t$,jLd=function jLd(a){return null!=a&&$APP.Yb===a.Cu?a:$APP.Nc(a)?(a=a.I?a.I():a.call(null),jLd.C?jLd.C(a):jLd.call(null,a)):null==a?TKd():$APP.Dp.A($APP.C_a,new $APP.m(null,1,[$APP.$o,a],null))};$APP.l=aLd.prototype;$APP.l.sa=function(a,b){return this.ba(null,b,null)};
$APP.l.ba=function(a,b,c){switch(b instanceof $APP.N?b.Z:null){case "storage":return this.storage;default:return $APP.H.F(this.H,b,c)}};$APP.l.xa=function(a,b,c){return $APP.$d.F(function(d,e){var f=$APP.C.F(e,0,null);e=$APP.C.F(e,1,null);return b.F?b.F(d,f,e):b.call(null,d,f,e)},c,this)};
$APP.l.la=function(a,b,c){return $APP.jh(b,function(d){return $APP.jh(b,$APP.lh,""," ","",c,d)},"#datascript.storage.StorageAdapter{",", ","}",c,$APP.lk.A(new $APP.O(null,1,5,$APP.Q,[new $APP.O(null,2,5,$APP.Q,[$APP.ys,this.storage],null)],null),this.H))};$APP.l.va=function(){return new $APP.mg(this,1,new $APP.O(null,1,5,$APP.Q,[$APP.ys],null),$APP.n(this.H)?$APP.Tb(this.H):$APP.tf())};$APP.l.fa=function(){return this.J};$APP.l.ta=function(){return new aLd(this.storage,this.J,this.H,this.O)};
$APP.l.pa=function(){return 1+$APP.yc(this.H)};$APP.l.oa=function(){var a=this.O;return null!=a?a:this.O=a=1627330428^$APP.nc(this)};$APP.l.ka=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.B.A(this.storage,b.storage)&&$APP.B.A(this.H,b.H)};$APP.l.ya=function(a,b){return $APP.Qd(new $APP.Ng(null,new $APP.m(null,1,[$APP.ys,null],null),null),b)?$APP.Zi.A($APP.Ib($APP.rg.A($APP.lf,this),this.J),b):new aLd(this.storage,this.J,$APP.of($APP.Zi.A(this.H,b)),null)};
$APP.l.wa=function(a,b){switch(b instanceof $APP.N?b.Z:null){case "storage":return!0;default:return $APP.Qd(this.H,b)}};$APP.l.ha=function(a,b,c){return $APP.n($APP.Ne.A?$APP.Ne.A($APP.ys,b):$APP.Ne.call(null,$APP.ys,b))?new aLd(c,this.J,this.H,null):new aLd(this.storage,this.J,$APP.S.F(this.H,b,c),null)};$APP.l.qa=function(){return $APP.y($APP.lk.A(new $APP.O(null,1,5,$APP.Q,[new $APP.Rd($APP.ys,this.storage,null)],null),this.H))};$APP.l.ga=function(a,b){return new aLd(this.storage,b,this.H,this.O)};
$APP.l.ra=function(a,b){return $APP.jd(b)?this.ha(null,$APP.Mc(b,0),$APP.Mc(b,1)):$APP.$d.F($APP.Ab,this,b)};$APP.l.Ou=function(a,b,c){a=$APP.n($APP.n(c)?b instanceof $APP.xBa&&$APP.Qd($APP.Rg(b.De),c):c)?$APP.vEa.xb(null,$APP.vEa.Ya(null)+1):$APP.n(c)?c:$APP.vEa.xb(null,$APP.vEa.Ya(null)+1);c=$APP.hj.A($APP.oEa,b.keys);c=new $APP.m(null,1,[$APP.bq,c],null);b=b instanceof $APP.xBa?$APP.S.F(c,$APP.s0a,b.De):c;$APP.Sb($APP.ou,$APP.Vf.A($APP.v($APP.ou),new $APP.O(null,2,5,$APP.Q,[a,b],null)));return a};
$APP.l.Nu=function(a,b){a=RKd(this.storage,b);a=$APP.nf(a);var c=$APP.H.A(a,$APP.bq);a=$APP.H.A(a,$APP.s0a);if($APP.n(c)){c=$APP.RAa($APP.mh.A(function(e){var f=$APP.C.F(e,0,null),g=$APP.C.F(e,1,null),h=$APP.C.F(e,2,null);e=$APP.C.F(e,3,null);return $APP.As.K(f,g,h,e)},c));b=new $APP.m(null,2,[$APP.ps,b,$APP.wBa,!1],null);if($APP.n(a)){var d=Array($APP.yc(a));return $APP.uBa(c,d,a,$APP.G([b]))}return $APP.xs.G(c,$APP.G([b]))}return null};$APP.l.Vx=function(){return null};
$APP.l.Mu=function(a,b){return $APP.Ch.K($APP.xEa,$APP.Zr,this.storage,function(c){return $APP.rg.A(c,$APP.zl.A($APP.kb,b))})};
var kOd=new $APP.N(null,"s3-presign-url","s3-presign-url",-714097497),nQd=new $APP.N(null,"update-op","update-op",447969937),yRd=new $APP.N(null,"this","this",-611633625),G$=new $APP.N(null,"epoch-\x3easset-uuid-sorted-map","epoch-\x3easset-uuid-sorted-map",2053134043),nOd=new $APP.N(null,"connecting","connecting",-1347943866),ePd=new $APP.N("frontend.worker.rtc.asset-sync","unknown-ex","frontend.worker.rtc.asset-sync/unknown-ex",-1610928757),U$=new $APP.N(null,"self","self",-1547428899),zRd=new $APP.N("frontend.worker.react",
"custom","frontend.worker.react/custom",1148305719),IQd=new $APP.N(null,"*rtc-state","*rtc-state",-21969375),oOd=new $APP.N(null,"closing","closing",-1862893890),O$=new $APP.N(null,"data-from-ws-pub","data-from-ws-pub",-774120717),M$=new $APP.N(null,"current-branch","current-branch",873754793),vNd=new $APP.N(null,"entity-maps","entity-maps",1211331718),yPd=new $APP.N(null,"remove-ops","remove-ops",1092982894),ARd=new $APP.N("rtc","remote-batch-txs","rtc/remote-batch-txs",-559588876),BRd=new $APP.N("block-type",
"class","block-type/class",-255869386),mPd=new $APP.N(null,"loop-started-ch","loop-started-ch",-1386292476),hPd=new $APP.N(null,"*db-conn","*db-conn",1411380916),sQd=new $APP.N(null,"depend-on-block-uuids","depend-on-block-uuids",407575644),ZOd=new $APP.N(null,"merge-whiteboard-pages","merge-whiteboard-pages",287177049),iOd=new $APP.N(null,"ex-message","ex-message",1526142375),CRd=new $APP.N("block-type","macros","block-type/macros",-362067167),rQd=new $APP.N(null,"remote-ops","remote-ops",1178110828),
I$=new $APP.N(null,"remove-page","remove-page",-1679345876),CPd=new $APP.N(null,"remote-parents","remote-parents",1298599492),P$=new $APP.N(null,"*graph-uuid","*graph-uuid",722695732),GMd=new $APP.N(null,"default-decoder","default-decoder",808357161),DRd=new $APP.N("malli.transform","map-of-key-decoders","malli.transform/map-of-key-decoders",-1029175759),L$=new $APP.N(null,"old-branch","old-branch",-95656804),GLd=new $APP.N(null,"blocks-to-remove","blocks-to-remove",818616402),EMd=new $APP.N(null,
"transformers","transformers",-734201565),iRd=new $APP.N(null,"printErr","printErr",-1323332006),QMd=new $APP.N(null,"update-asset","update-asset",501550582),DPd=new $APP.N(null,"remote-left","remote-left",-1963136922),eOd=new $APP.N(null,"data-from-ws-chan","data-from-ws-chan",1434761574),cQd=new $APP.N("frontend.worker.rtc.core","need-pull-remote-data","frontend.worker.rtc.core/need-pull-remote-data",-806740178),PPd=new $APP.N(null,"apply-remote-move-ops","apply-remote-move-ops",1600501517),uPd=
new $APP.N("frontend.worker.rtc.asset-sync","\x3cpush-data-from-ws-handler","frontend.worker.rtc.asset-sync/\x3cpush-data-from-ws-handler",-371395791),RPd=new $APP.N(null,"update-ops","update-ops",1840358994),IMd=new $APP.N(null,"default-encoder","default-encoder",117541207),XPd=new $APP.N(null,"update-attrs","update-attrs",1528055735),RNd=new $APP.N(null,"updated-attrs","updated-attrs",-194090551),uNd=new $APP.N(null,"closed-schema?","closed-schema?",264902537),$Od=new $APP.N("frontend.worker.rtc.asset-sync",
"push-data-from-ws","frontend.worker.rtc.asset-sync/push-data-from-ws",819832462),VPd=new $APP.N(null,"redirect-to-home?","redirect-to-home?",-1800055308),ERd=new $APP.N("decode","string","decode/string",-108229948),vQd=new $APP.N(null,"target-uuid","target-uuid",-603957653),$Ld=new $APP.N("db","latest-transact-time","db/latest-transact-time",202350481),CNd=new $APP.N(null,"fix-parent-left?","fix-parent-left?",-1137969508),XNd=new $APP.N(null,"sync-db","sync-db",-166283514),POd=new $APP.N(null,"merge?",
"merge?",-2004416151),NLd=new $APP.N(null,"shouldSort","shouldSort",-1733947834),FRd=new $APP.N(null,"notify-main-thread","notify-main-thread",884804301),zQd=new $APP.N(null,"graph-lock-missing","graph-lock-missing",-736248772),YOd=new $APP.N(null,"invalid-empty-name","invalid-empty-name",-1837009122),GRd=new $APP.N("malli.transform","json-vectors","malli.transform/json-vectors",-1108071835),xQd=new $APP.N(null,"*date-formatter","*date-formatter",2076037469),vPd=new $APP.N("frontend.worker.rtc.asset-sync",
"just-for-test","frontend.worker.rtc.asset-sync/just-for-test",934697866),GPd=new $APP.N(null,"not-exist","not-exist",-1832922632),kNd=new $APP.N(null,"parent-id","parent-id",-1400729131),fQd=new $APP.N(null,"local-t","local-t",-2128577077),oQd=new $APP.N(null,"update-page-op","update-page-op",1640000564),qQd=new $APP.N(null,"remove-page-op","remove-page-op",-70089318),F$=new $APP.N(null,"epoch-\x3eblock-uuid-sorted-map","epoch-\x3eblock-uuid-sorted-map",1201376810),HRd=new $APP.N("malli.transform",
"invalid-transformer","malli.transform/invalid-transformer",-1717093616),oPd=new $APP.N(null,"toggle-auto-push-assets-update-ops-chan","toggle-auto-push-assets-update-ops-chan",1091937624),IRd=new $APP.N("malli.transform","too-deep-compilation","malli.transform/too-deep-compilation",-1157462070),HPd=new $APP.N(null,"wrong-pos","wrong-pos",-1024799173),dNd=new $APP.N("frontend.worker.rtc.op-mem-layer","\x3cinit-load-from-indexeddb!","frontend.worker.rtc.op-mem-layer/\x3cinit-load-from-indexeddb!",
721714022),EOd=new $APP.N("frontend.worker.rtc.full-upload-download-graph","download-graph","frontend.worker.rtc.full-upload-download-graph/download-graph",-873971009),dQd=new $APP.N(null,"remote-t","remote-t",-1375604239),ZPd=new $APP.N(null,"t-before","t-before",-507640180),dOd=new $APP.N(null,"*token","*token",-482442375),aPd=new $APP.N(null,"push-data-from-ws","push-data-from-ws",-1442567323),JRd=new $APP.w(null,"p1__102655#","p1__102655#",852437195,null),KRd=new $APP.N("block-type","property",
"block-type/property",1199682094),PMd=new $APP.N(null,"remove-asset","remove-asset",-1739744854),pPd=new $APP.N(null,"*stop-asset-sync-loop-chan","*stop-asset-sync-loop-chan",-1773280253),QOd=new $APP.N(null,"other-tx","other-tx",337309802),cPd=new $APP.N(null,"ops","ops",1237330063),sRd=new $APP.N(null,"search-db","search-db",2064652145),VNd=new $APP.N(null,"gen-ops","gen-ops",-558095490),OLd=new $APP.N(null,"tokenize","tokenize",1336117716),BOd=new $APP.w("frontend.worker.rtc.op-mem-layer","*ops-store",
"frontend.worker.rtc.op-mem-layer/*ops-store",-1477224849,null),MQd=new $APP.N(null,"toggle-auto-push-client-ops-chan","toggle-auto-push-client-ops-chan",-145280064),H$=new $APP.N(null,"asset-uuid","asset-uuid",-1797647247),yQd=new $APP.N("frontend.worker.rtc.core","unknown-ex","frontend.worker.rtc.core/unknown-ex",933559954),OPd=new $APP.N(null,"sorted-move-ops","sorted-move-ops",-1376028583),D$=new $APP.N(null,"block-uuid-\x3eops","block-uuid-\x3eops",685364161),DOd=new $APP.w(null,"*ops-store",
"*ops-store",-528108295,null),WQd=new $APP.N(null,"versions","versions",536521978),APd=new $APP.N(null,"apply-remote-remove-ops","apply-remote-remove-ops",-1032543236),lQd=new $APP.N(null,"left-uuid","left-uuid",405553863),MNd=new $APP.N(null,"pipeline-replace?","pipeline-replace?",-758892518),CQd=new $APP.N("frontend.worker.rtc.core","get-s3-object-failed","frontend.worker.rtc.core/get-s3-object-failed",-153141937),QQd=new $APP.N(null,"target-user-emails","target-user-emails",-25552368),aQd=new $APP.N(null,
"apply-remote-update-page-ops","apply-remote-update-page-ops",-1428664455),DNd=new $APP.N(null,"fix-broken-chain?","fix-broken-chain?",-894948392),HMd=new $APP.N(null,"encoders","encoders",-111722908),pNd=new $APP.N(null,"add-db","add-db",-1814456640),LRd=new $APP.w(null,"p1__102657#","p1__102657#",-69294881,null),FMd=new $APP.N(null,"decoders","decoders",1132818244),MRd=new $APP.N(null,"insert-blocks?","insert-blocks?",-393496700),NRd=new $APP.w(null,"transact!","transact!",817805717,null),LQd=new $APP.N(null,
"force-push-client-ops-chan","force-push-client-ops-chan",59689331),YNd=new $APP.N("worker","object","worker/object",881291071),PLd=new $APP.N(null,"minMatchCharLength","minMatchCharLength",-46930554),ORd=new $APP.N("frontend.db-worker","download-graph-failed","frontend.db-worker/download-graph-failed",2112232821),OQd=new $APP.N(null,"client-op-update","client-op-update",-1472249758),bQd=new $APP.N(null,"apply-remote-remove-page-ops","apply-remote-remove-page-ops",-917701158),AQd=new $APP.N(null,
"remote-ex","remote-ex",231483810),E$=new $APP.N(null,"asset-uuid-\x3eops","asset-uuid-\x3eops",-1676332642),aOd=new $APP.N(null,"ws-stopped","ws-stopped",-2088337595),KNd=new $APP.N(null,"fail-invalid?","fail-invalid?",2067343710),B$=new $APP.N(null,"retract","retract",-1549826125),sOd=new $APP.N(null,"s3-key","s3-key",696218166),dPd=new $APP.N(null,"asset-name","asset-name",-1412454368),J$=new $APP.N(null,"update-page","update-page",-503479891),COd=new $APP.w(null,"frontend.worker.rtc.op-mem-layer",
"frontend.worker.rtc.op-mem-layer",1938242288,null),$Pd=new $APP.N(null,"affected-blocks","affected-blocks",1873706240),rOd=new $APP.N(null,"all-blocks-str","all-blocks-str",1904494073),PRd=new $APP.N(null,"failed-ops","failed-ops",-653595454),SPd=new $APP.N(null,"apply-remote-update-ops","apply-remote-update-ops",-38907266),Q$=new $APP.N(null,"req-id","req-id",-471642231),NQd=new $APP.N(null,"*stop-rtc-loop-chan","*stop-rtc-loop-chan",1200773616),QRd=new $APP.N(null,"conflicts-tx","conflicts-tx",
1257439975),DQd=new $APP.N(null,"\x3cclient-op-update-handler","\x3cclient-op-update-handler",-2021295860),PQd=new $APP.N(null,"target-user-uuids","target-user-uuids",-739511872),RRd=new $APP.N("frontend.worker.react","react-query-keys","frontend.worker.react/react-query-keys",-1655577384),lNd=new $APP.N(null,"block-ref-ids","block-ref-ids",-280941211),sPd=new $APP.N(null,"*assets-update-state","*assets-update-state",833100125),UQd=new $APP.N("frontend.worker.rtc.core","\x3cget-block-content-versions",
"frontend.worker.rtc.core/\x3cget-block-content-versions",-657844976),KPd=new $APP.N(null,"upsert-whiteboard-block","upsert-whiteboard-block",765052357),SRd=new $APP.N("malli.transform","compiled","malli.transform/compiled",-1910053091),TRd=new $APP.w(null,"p1__102653#","p1__102653#",276352557,null),URd=new $APP.w(null,"logseq.outliner.transaction","logseq.outliner.transaction",638583615,null),S$=new $APP.N(null,"ex-data","ex-data",-309040259),dMd=new $APP.N("worker","context","worker/context",-1507477131),
W$=new $APP.N(null,"*remote-ops","*remote-ops",234002129),eMd=new $APP.N("file","write-file-error","file/write-file-error",-1260826625),kQd=new $APP.N(null,"parent-uuid","parent-uuid",-2003485227),eQd=new $APP.N(null,"remote-t-before","remote-t-before",-1778889484),pQd=new $APP.N(null,"remove-op","remove-op",1576450797),VRd=new $APP.N("block-type","whiteboard","block-type/whiteboard",-1077635082),rPd=new $APP.N(null,"client-assets-update","client-assets-update",-1902884044),JQd=new $APP.N(null,"_client-op-update-chan",
"_client-op-update-chan",1498833346),RQd=new $APP.N("frontend.worker.rtc.core","\x3cgrant-graph-access-to-others","frontend.worker.rtc.core/\x3cgrant-graph-access-to-others",1882264893),gQd=new $APP.N("frontend.worker.rtc.core","skip","frontend.worker.rtc.core/skip",959999327),gPd=new $APP.N(null,"*repo","*repo",-2120083580),WRd=new $APP.N("frontend.worker.react","affected-keys","frontend.worker.react/affected-keys",1349828143),zPd=new $APP.N(null,"delete-whiteboard-blocks","delete-whiteboard-blocks",
-881390968),qPd=new $APP.N(null,"continue","continue",-207346553),VQd=new $APP.N(null,"block-uuids","block-uuids",-1313492773),tPd=new $APP.N("frontend.worker.rtc.asset-sync","\x3cloop-for-assets-sync","frontend.worker.rtc.asset-sync/\x3cloop-for-assets-sync",-1347369088),ENd=new $APP.N(null,"replace-tx?","replace-tx?",-659417392),KQd=new $APP.N(null,"*auto-push-client-ops?","*auto-push-client-ops?",-1146746470),nPd=new $APP.N(null,"*auto-push-assets-update-ops?","*auto-push-assets-update-ops?",-303623587),
mQd=new $APP.N(null,"*depend-on-block-uuid-set","*depend-on-block-uuid-set",-431701684),BQd=new $APP.N(null,"graph-lock-failed","graph-lock-failed",-561597533),jOd=new $APP.N(null,"get-s3-object-failed","get-s3-object-failed",-146074641);var hRd=$APP.ll(619);var MLd=$APP.ll(620);var JLd=$APP.Bh.C(null);var x$=$APP.Bh.C(new $APP.m(null,6,[YNd,null,$Ld,$APP.lf,dMd,$APP.lf,$APP.oC,$APP.lf,$APP.$z,null,ARd,null],null)),$Nd=$APP.Bh.C(null),fRd=$APP.Bh.C(null),TLd=$APP.Bh.C(null),ULd=$APP.Bh.C(null),VLd=$APP.Bh.C(null);var aMd,XRd=nLd(new $APP.O(null,6,5,$APP.Q,[$APP.ar,new $APP.O(null,2,5,$APP.Q,[$APP.Mx,$APP.Gn],null),new $APP.O(null,2,5,$APP.Q,[$APP.PTa,$APP.yB],null),new $APP.O(null,2,5,$APP.Q,[$APP.Jx,$APP.yB],null),new $APP.O(null,2,5,$APP.Q,[$APP.gC,$APP.Gz],null),new $APP.O(null,2,5,$APP.Q,[$APP.iLa,$APP.Gz],null)],null),null),YRd=$APP.mh.C(XRd);aMd=$APP.yka(1E4,YRd);
var bMd=new $APP.O(null,10,5,$APP.Q,[$APP.mx,$APP.Kw,$APP.Nw,$APP.Hx,$APP.cw,$APP.bw,$APP.hx,new $APP.m(null,1,[$APP.Yw,new $APP.O(null,1,5,$APP.Q,[$APP.Kw],null)],null),new $APP.m(null,1,[$APP.Uw,new $APP.O(null,1,5,$APP.Q,[$APP.Kw],null)],null),new $APP.m(null,1,[$APP.Zw,new $APP.O(null,1,5,$APP.Q,[$APP.Kw],null)],null)],null);var iMd=$APP.Bh.C($APP.lf);var JMd={},A$,KMd=function KMd(a,b,c){if($APP.Nc(a))return new $APP.m(null,1,[$APP.Zp,a],null);if($APP.fd(a)&&$APP.Qd(a,$APP.Vz)){var e=SRd.A(c,0),f=$APP.S.F(c,SRd,e+1);10<=e&&$APP.Dp.A(IRd,new $APP.m(null,3,[yRd,a,$APP.Zo,b,$APP.PA,f],null));e=function(){var g=$APP.Vz.C(a);g=g.A?g.A(b,f):g.call(null,b,f);return KMd.F?KMd.F(g,b,f):KMd.call(null,g,b,f)}();return $APP.n(e)?$APP.On.G($APP.G([$APP.Zi.A(a,$APP.Vz),e])):null}return $APP.fd(a)&&($APP.Qd(a,$APP.Zp)||$APP.Qd(a,$APP.Nwa))?a:$APP.ad(a)?$APP.$d.A(function(g,
h){g=$APP.nf(g);var k=$APP.H.A(g,$APP.Zp),p=$APP.H.A(g,$APP.Nwa);h=$APP.nf(h);var q=$APP.H.A(h,$APP.Zp),r=$APP.H.A(h,$APP.Nwa);return new $APP.m(null,2,[$APP.Zp,$APP.n($APP.n(k)?q:k)?function(u){u=k.C?k.C(u):k.call(null,u);return q.C?q.C(u):q.call(null,u)}:$APP.n(k)?k:q,$APP.Nwa,$APP.n($APP.n(p)?r:p)?function(u){u=r.C?r.C(u):r.call(null,u);return p.C?p.C(u):p.call(null,u)}:$APP.n(p)?p:r],null)},$APP.wk.A(function(g){return KMd.F?KMd.F(g,b,c):KMd.call(null,g,b,c)},a)):null==a?null:$APP.zd(a)?new $APP.m(null,
1,[$APP.Zp,a],null):$APP.Dp.A(HRd,new $APP.m(null,1,[$APP.$o,a],null))},Z$=function Z$(a){switch(arguments.length){case 0:return Z$.I();case 1:return Z$.C(arguments[0]);default:throw Error(["Invalid arity: ",$APP.t.C(arguments.length)].join(""));}};Z$.I=function(){return Z$.C(null)};
Z$.C=function(a){a=$APP.nf(a);var b=$APP.H.A(a,GRd),c=$APP.H.F(a,DRd,DMd());return LMd($APP.G([new $APP.m(null,3,[$APP.Xn,$APP.Wv,FMd,function(){var d=$APP.S.F(BMd(),$APP.yq,new $APP.m(null,1,[$APP.Vz,function(e){e=null==e?null:$APP.xr.C(e);e=null==e?null:$APP.A(e);e=null==e?null:$APP.Jp.C(e);e=null==e?null:c.C?c.C(e):c.call(null,e);e=null==e?null:$APP.$p.A(e,VKd);e=null==e?null:xMd(e);return $APP.n(e)?e:xMd(VKd)}],null));return $APP.n(b)?$APP.S.F(d,$APP.lo,zMd):d}(),HMd,CMd()],null)]))};Z$.R=1;var ZRd=new $APP.O(null,9,5,$APP.Q,[$APP.Rq,new $APP.m(null,1,[$APP.Sq,$APP.A],null),new $APP.O(null,2,5,$APP.Q,["move",new $APP.O(null,3,5,$APP.Q,[$APP.ar,new $APP.O(null,2,5,$APP.Q,[$APP.sC,$APP.Gn],null),new $APP.O(null,2,5,$APP.Q,[$APP.$o,new $APP.O(null,3,5,$APP.Q,[$APP.ko,new $APP.O(null,2,5,$APP.Q,[$APP.XB,$APP.Gy],null),new $APP.O(null,2,5,$APP.Q,[$APP.gC,$APP.Gz],null)],null)],null)],null)],null),new $APP.O(null,2,5,$APP.Q,["remove",new $APP.O(null,3,5,$APP.Q,[$APP.ar,new $APP.O(null,2,5,
$APP.Q,[$APP.sC,$APP.Gn],null),new $APP.O(null,2,5,$APP.Q,[$APP.$o,new $APP.O(null,3,5,$APP.Q,[$APP.ko,new $APP.O(null,2,5,$APP.Q,[$APP.XB,$APP.Gy],null),new $APP.O(null,2,5,$APP.Q,[$APP.gC,$APP.Gz],null)],null)],null)],null)],null),new $APP.O(null,2,5,$APP.Q,["update",new $APP.O(null,3,5,$APP.Q,[$APP.ar,new $APP.O(null,2,5,$APP.Q,[$APP.sC,$APP.Gn],null),new $APP.O(null,2,5,$APP.Q,[$APP.$o,new $APP.O(null,4,5,$APP.Q,[$APP.ko,new $APP.O(null,2,5,$APP.Q,[$APP.XB,$APP.Gy],null),new $APP.O(null,3,5,$APP.Q,
[RNd,new $APP.m(null,1,[$APP.wq,!0],null),new $APP.O(null,9,5,$APP.Q,[$APP.ko,new $APP.m(null,1,[$APP.uq,!0],null),new $APP.O(null,3,5,$APP.Q,[$APP.Zo,new $APP.m(null,1,[$APP.wq,!0],null),$APP.GA],null),new $APP.O(null,3,5,$APP.Q,[$APP.wx,new $APP.m(null,1,[$APP.wq,!0],null),$APP.GA],null),new $APP.O(null,3,5,$APP.Q,[$APP.Ax,new $APP.m(null,1,[$APP.wq,!0],null),$APP.GA],null),new $APP.O(null,3,5,$APP.Q,[$APP.ay,new $APP.m(null,1,[$APP.wq,!0],null),new $APP.O(null,3,5,$APP.Q,[$APP.ko,new $APP.O(null,
3,5,$APP.Q,[$APP.lB,new $APP.m(null,1,[$APP.wq,!0],null),new $APP.O(null,2,5,$APP.Q,[$APP.mo,$APP.Gy],null)],null),new $APP.O(null,3,5,$APP.Q,[B$,new $APP.m(null,1,[$APP.wq,!0],null),new $APP.O(null,2,5,$APP.Q,[$APP.mo,$APP.Gy],null)],null)],null)],null),new $APP.O(null,3,5,$APP.Q,[$APP.Bl,new $APP.m(null,1,[$APP.wq,!0],null),new $APP.O(null,3,5,$APP.Q,[$APP.ko,new $APP.O(null,3,5,$APP.Q,[$APP.lB,new $APP.m(null,1,[$APP.wq,!0],null),new $APP.O(null,2,5,$APP.Q,[$APP.mo,$APP.Gn],null)],null),new $APP.O(null,
3,5,$APP.Q,[B$,new $APP.m(null,1,[$APP.wq,!0],null),new $APP.O(null,2,5,$APP.Q,[$APP.mo,$APP.Gn],null)],null)],null)],null),new $APP.O(null,3,5,$APP.Q,[$APP.by,new $APP.m(null,1,[$APP.wq,!0],null),new $APP.O(null,3,5,$APP.Q,[$APP.ko,new $APP.O(null,3,5,$APP.Q,[$APP.lB,new $APP.m(null,1,[$APP.wq,!0],null),new $APP.O(null,2,5,$APP.Q,[$APP.mo,$APP.Gy],null)],null),new $APP.O(null,3,5,$APP.Q,[B$,new $APP.m(null,1,[$APP.wq,!0],null),new $APP.O(null,2,5,$APP.Q,[$APP.mo,$APP.Gy],null)],null)],null)],null),
new $APP.O(null,3,5,$APP.Q,[$APP.Ep,new $APP.m(null,1,[$APP.wq,!0],null),new $APP.O(null,3,5,$APP.Q,[$APP.ko,new $APP.O(null,3,5,$APP.Q,[$APP.lB,new $APP.m(null,1,[$APP.wq,!0],null),new $APP.O(null,2,5,$APP.Q,[$APP.mo,$APP.Gy],null)],null),new $APP.O(null,3,5,$APP.Q,[B$,new $APP.m(null,1,[$APP.wq,!0],null),new $APP.O(null,2,5,$APP.Q,[$APP.mo,$APP.Gy],null)],null)],null)],null)],null)],null),new $APP.O(null,2,5,$APP.Q,[$APP.gC,$APP.Gz],null)],null)],null)],null)],null),new $APP.O(null,2,5,$APP.Q,["update-page",
new $APP.O(null,3,5,$APP.Q,[$APP.ar,new $APP.O(null,2,5,$APP.Q,[$APP.sC,$APP.Gn],null),new $APP.O(null,2,5,$APP.Q,[$APP.$o,new $APP.O(null,3,5,$APP.Q,[$APP.ko,new $APP.O(null,2,5,$APP.Q,[$APP.XB,$APP.Gy],null),new $APP.O(null,2,5,$APP.Q,[$APP.gC,$APP.Gz],null)],null)],null)],null)],null),new $APP.O(null,2,5,$APP.Q,["remove-page",new $APP.O(null,3,5,$APP.Q,[$APP.ar,new $APP.O(null,2,5,$APP.Q,[$APP.sC,$APP.Gn],null),new $APP.O(null,2,5,$APP.Q,[$APP.$o,new $APP.O(null,3,5,$APP.Q,[$APP.ko,new $APP.O(null,
2,5,$APP.Q,[$APP.XB,$APP.Gy],null),new $APP.O(null,2,5,$APP.Q,[$APP.gC,$APP.Gz],null)],null)],null)],null)],null),new $APP.O(null,2,5,$APP.Q,["update-asset",new $APP.O(null,3,5,$APP.Q,[$APP.ar,new $APP.O(null,2,5,$APP.Q,[$APP.sC,$APP.Gn],null),new $APP.O(null,2,5,$APP.Q,[$APP.$o,new $APP.O(null,3,5,$APP.Q,[$APP.ko,new $APP.O(null,2,5,$APP.Q,[H$,$APP.Gy],null),new $APP.O(null,2,5,$APP.Q,[$APP.gC,$APP.Gz],null)],null)],null)],null)],null),new $APP.O(null,2,5,$APP.Q,["remove-asset",new $APP.O(null,3,
5,$APP.Q,[$APP.ar,new $APP.O(null,2,5,$APP.Q,[$APP.sC,$APP.Gn],null),new $APP.O(null,2,5,$APP.Q,[$APP.$o,new $APP.O(null,3,5,$APP.Q,[$APP.ko,new $APP.O(null,2,5,$APP.Q,[H$,$APP.Gy],null),new $APP.O(null,2,5,$APP.Q,[$APP.gC,$APP.Gz],null)],null)],null)],null)],null)],null),$Rd=new $APP.O(null,2,5,$APP.Q,[$APP.Xr,ZRd],null),cNd;
cNd=nLd(new $APP.O(null,2,5,$APP.Q,[$APP.Xr,new $APP.O(null,3,5,$APP.Q,[$APP.ar,new $APP.O(null,2,5,$APP.Q,[$APP.Aq,$APP.Gz],null),new $APP.O(null,2,5,$APP.Q,[$APP.sC,ZRd],null)],null)],null),Z$);$APP.iD.C($Rd);
var SMd=mLd($Rd,Z$),fNd=kLd($Rd,Z$),aSd=new $APP.O(null,7,5,$APP.Q,[$APP.ko,new $APP.O(null,3,5,$APP.Q,[$APP.gA,new $APP.m(null,1,[$APP.wq,!0],null),$APP.Gn],null),new $APP.O(null,3,5,$APP.Q,[$APP.pZa,new $APP.m(null,1,[$APP.wq,!0],null),$APP.Gz],null),new $APP.O(null,2,5,$APP.Q,[D$,new $APP.O(null,3,5,$APP.Q,[$APP.yq,$APP.Gy,new $APP.O(null,3,5,$APP.Q,[$APP.yq,new $APP.O(null,6,5,$APP.Q,[$APP.Fq,$APP.oA,$APP.rA,$APP.IA,J$,I$],null),$APP.yB],null)],null)],null),new $APP.O(null,2,5,$APP.Q,[E$,new $APP.O(null,
3,5,$APP.Q,[$APP.yq,$APP.Gy,new $APP.O(null,3,5,$APP.Q,[$APP.yq,new $APP.O(null,3,5,$APP.Q,[$APP.Fq,QMd,PMd],null),$APP.yB],null)],null)],null),new $APP.O(null,2,5,$APP.Q,[F$,new $APP.O(null,3,5,$APP.Q,[$APP.yq,$APP.Gz,$APP.Gy],null)],null),new $APP.O(null,2,5,$APP.Q,[G$,new $APP.O(null,3,5,$APP.Q,[$APP.yq,$APP.Gz,$APP.Gy],null)],null)],null),bSd=nLd(new $APP.O(null,3,5,$APP.Q,[$APP.yq,$APP.Gn,new $APP.O(null,3,5,$APP.Q,[$APP.ko,new $APP.O(null,2,5,$APP.Q,[M$,aSd],null),new $APP.O(null,3,5,$APP.Q,
[L$,new $APP.m(null,1,[$APP.wq,!0],null),new $APP.O(null,2,5,$APP.Q,[$APP.Qk,aSd],null)],null)],null)],null),null),K$=$APP.Bh.G($APP.lf,$APP.G([$APP.oRa,bSd])),OMd=function OMd(a,b){var d=$APP.gC.C($APP.Ec(a)),e=$APP.gC.C($APP.Ec(b));if(d>e)return OMd.A?OMd.A(b,a):OMd.call(null,b,a);var f=RNd.C($APP.Ec(a)),g=RNd.C($APP.Ec(b)),h=NMd($APP.ay.C(f),$APP.ay.C(g)),k=NMd($APP.Bl.C(f),$APP.Bl.C(g));d=NMd($APP.by.C(f),$APP.by.C(g));b=NMd($APP.Ep.C(f),$APP.Ep.C(g));f=$APP.On.G($APP.G([$APP.Mg(f,new $APP.O(null,
3,5,$APP.Q,[$APP.Zo,$APP.wx,$APP.Ax],null)),$APP.Mg(g,new $APP.O(null,3,5,$APP.Q,[$APP.Zo,$APP.wx,$APP.Ax],null))]));f=$APP.n(h)?$APP.S.F(f,$APP.ay,h):f;k=$APP.n(k)?$APP.S.F(f,$APP.Bl,k):f;d=$APP.n(d)?$APP.S.F(k,$APP.by,d):k;b=$APP.n(b)?$APP.S.F(d,$APP.Ep,b):d;return new $APP.O(null,2,5,$APP.Q,["update",new $APP.m(null,3,[$APP.XB,$APP.XB.C($APP.Ec(a)),RNd,b,$APP.gC,e],null)],null)},tOd=new $APP.m(null,1,[M$,new $APP.m(null,4,[D$,$APP.lf,F$,$APP.rz($APP.Sr),E$,$APP.lf,G$,$APP.rz($APP.Sr)],null)],null);
(function(){var a=$APP.Oi(1);$APP.Bi(function(){var b=function(){function d(e){var f=e[1];if(7===f)return e[7]=e[2],e[2]=null,e[1]=2,$APP.U;if(1===f)return e[2]=null,e[1]=2,$APP.U;if(4===f){f=e[2];var g=$APP.$z.C($APP.v(x$));e[9]=f;e[8]=g;e[1]=$APP.n(g)?5:6;return $APP.U}return 13===f?(e[2]=e[2],e[1]=7,$APP.U):6===f?(e[2]=null,e[1]=7,$APP.U):3===f?$APP.Mi(e,e[2]):12===f?(e[2]=null,e[1]=13,$APP.U):2===f?(f=$APP.Gi(3E3),$APP.Ki(e,4,f)):11===f?(f=e[8],f=gNd(f),$APP.Ki(e,14,f)):9===f?(e[2]=e[10],e[1]=
10,$APP.U):5===f?(f=e[8],f=$APP.aw(f),e[10]=f,e[1]=f?8:9,$APP.U):14===f?(e[2]=e[2],e[1]=13,$APP.U):10===f?(e[1]=$APP.n(e[2])?11:12,$APP.U):8===f?(f=e[8],g=$APP.v(K$),f=g.C?g.C(f):g.call(null,f),f=$APP.Qd(f,M$),e[2]=f,e[1]=10,$APP.U):null}return function(){function e(h){for(;;){a:try{for(;;){var k=d(h);if(!$APP.Ne(k,$APP.U)){var p=k;break a}}}catch(q){p=q;h[2]=p;if($APP.y(h[4]))h[1]=$APP.A(h[4]);else throw p;p=$APP.U}if(!$APP.Ne(p,$APP.U))return p}}function f(){var h=[null,null,null,null,null,null,
null,null,null,null,null];h[0]=g;h[1]=1;return h}var g=null;g=function(h){switch(arguments.length){case 0:return f.call(this);case 1:return e.call(this,h)}throw Error("Invalid arity: "+arguments.length);};g.I=f;g.C=e;return g}()}(),c=function(){var d=b();d[6]=a;return d}();return $APP.Ii(c)});return a})();$APP.Yj($APP.FC,$APP.jj($APP.yma,$APP.jj($APP.ci,new $APP.O(null,1,5,$APP.Q,[TRd],null),$APP.jj($APP.mk,$APP.FC,TRd)),$APP.Cr),$APP.vma(new $APP.O(null,2,5,$APP.Q,[$APP.jj($APP.tB,new $APP.O(null,1,5,$APP.Q,[$APP.Uj],null),$APP.jj($APP.mk,$APP.FC,$APP.Uj)),$APP.Cr],null),new $APP.O(null,2,5,$APP.Q,[function(a){return $APP.B.A($APP.FC,a)},$APP.Dd],null)));
$APP.Yj($APP.XRa,$APP.jj($APP.yma,$APP.jj($APP.ci,new $APP.O(null,1,5,$APP.Q,[JRd],null),$APP.jj($APP.mk,$APP.XRa,JRd))),$APP.vma(new $APP.O(null,1,5,$APP.Q,[$APP.jj($APP.tB,new $APP.O(null,1,5,$APP.Q,[$APP.Uj],null),$APP.jj($APP.mk,$APP.XRa,$APP.Uj))],null),new $APP.O(null,1,5,$APP.Q,[function(a){return $APP.B.A($APP.XRa,a)}],null)));
$APP.Yj($APP.NA,$APP.jj($APP.yma,$APP.jj($APP.ci,new $APP.O(null,1,5,$APP.Q,[LRd],null),$APP.jj($APP.mk,$APP.NA,LRd)),$APP.Cr),$APP.vma(new $APP.O(null,2,5,$APP.Q,[$APP.jj($APP.tB,new $APP.O(null,1,5,$APP.Q,[$APP.Uj],null),$APP.jj($APP.mk,$APP.NA,$APP.Uj)),$APP.Cr],null),new $APP.O(null,2,5,$APP.Q,[function(a){return $APP.B.A($APP.NA,a)},$APP.Dd],null)));$APP.Yj(zRd,$APP.yr,$APP.tb);
$APP.Yj(RRd,$APP.jj($APP.uC,$APP.Xm,$APP.FC,$APP.XYa,$APP.XRa,$APP.Dx,$APP.NA,$APP.NB,zRd),$APP.SC(new $APP.O(null,4,5,$APP.Q,[$APP.Xm,$APP.XYa,$APP.Dx,$APP.NB],null),new $APP.O(null,4,5,$APP.Q,[$APP.FC,$APP.XRa,$APP.NA,zRd],null),new $APP.O(null,4,5,$APP.Q,[$APP.FC,$APP.XRa,$APP.NA,zRd],null),null));$APP.Yj(WRd,$APP.jj($APP.nA,RRd),$APP.zk(RRd,RRd,new $APP.m(null,4,[$APP.uk,!0,$APP.pk,null,$APP.rk,$APP.jj($APP.nA,RRd),$APP.qk,function(a){return $APP.ad(a)}],null),null));var cSd=$APP.rg.A(new $APP.O(null,2,5,$APP.Q,[$APP.Rq,new $APP.m(null,1,[$APP.Sq,$APP.Rc(function(a,b){var c=$APP.wt.A;b=new $APP.O(null,2,5,$APP.Q,[$APP.Kw,$APP.A(b)],null);a=$APP.zt.A?$APP.zt.A(a,b):$APP.zt.call(null,a,b);return c.call($APP.wt,a,new $APP.O(null,2,5,$APP.Q,[$APP.Ly,$APP.Bl],null))},new $APP.m(null,1,[pNd,!0],null))],null)],null),$APP.mh.A(function(a){var b=$APP.C.F(a,0,null);a=$APP.C.F(a,1,null);return $APP.Rc(new $APP.O(null,2,5,$APP.Q,[b,$APP.jd(a)?$APP.Jc(a):a],null),new $APP.m(null,
1,[$APP.vWa,!0],null))},$APP.P4a)),dSd=new $APP.O(null,2,5,$APP.Q,[$APP.Xr,cSd],null),$$=new $APP.O(null,8,5,$APP.Q,[new $APP.O(null,2,5,$APP.Q,[$APP.Kw,$APP.Gy],null),new $APP.O(null,2,5,$APP.Q,[$APP.cw,$APP.Gz],null),new $APP.O(null,2,5,$APP.Q,[$APP.bw,$APP.Gz],null),new $APP.O(null,2,5,$APP.Q,[$APP.Hx,new $APP.O(null,2,5,$APP.Q,[$APP.Fq,$APP.Yv],null)],null),new $APP.O(null,3,5,$APP.Q,[$APP.mx,new $APP.m(null,1,[$APP.wq,!0],null),dSd],null),new $APP.O(null,3,5,$APP.Q,[$APP.Ow,new $APP.m(null,1,
[$APP.wq,!0],null),new $APP.O(null,2,5,$APP.Q,[$APP.mo,$APP.Gz],null)],null),new $APP.O(null,3,5,$APP.Q,[$APP.Pw,new $APP.m(null,1,[$APP.wq,!0],null),new $APP.O(null,2,5,$APP.Q,[$APP.mo,$APP.Gz],null)],null),new $APP.O(null,3,5,$APP.Q,[$APP.BA,new $APP.m(null,1,[$APP.wq,!0],null),$APP.Gz],null)],null),eSd=new $APP.O(null,6,5,$APP.Q,[new $APP.O(null,2,5,$APP.Q,[$APP.Jw,$APP.Gn],null),new $APP.O(null,2,5,$APP.Q,[$APP.Lw,$APP.Gn],null),new $APP.O(null,3,5,$APP.Q,[$APP.Vw,new $APP.m(null,1,[$APP.wq,!0],
null),new $APP.O(null,5,5,$APP.Q,[$APP.Fq,new $APP.Ng(null,new $APP.m(null,1,["property",null],null),null),new $APP.Ng(null,new $APP.m(null,1,["class",null],null),null),new $APP.Ng(null,new $APP.m(null,1,["whiteboard",null],null),null),new $APP.Ng(null,new $APP.m(null,1,["hidden",null],null),null)],null)],null),new $APP.O(null,2,5,$APP.Q,[$APP.fx,$APP.yz],null),new $APP.O(null,3,5,$APP.Q,[$APP.px,new $APP.m(null,1,[$APP.wq,!0],null),new $APP.O(null,2,5,$APP.Q,[$APP.mo,$APP.Gz],null)],null),new $APP.O(null,
3,5,$APP.Q,[$APP.Gx,new $APP.m(null,1,[$APP.wq,!0],null),new $APP.O(null,2,5,$APP.Q,[$APP.mo,$APP.Gz],null)],null)],null),fSd=$APP.be($APP.lk.G(new $APP.O(null,4,5,$APP.Q,[$APP.ko,new $APP.O(null,3,5,$APP.Q,[$APP.hx,new $APP.m(null,1,[$APP.wq,!0],null),$APP.yz],null),new $APP.O(null,3,5,$APP.Q,[$APP.Cx,new $APP.m(null,1,[$APP.wq,!0],null),$APP.Gz],null),new $APP.O(null,3,5,$APP.Q,[$APP.rx,new $APP.m(null,1,[$APP.wq,!0],null),$APP.Gz],null)],null),eSd,$APP.G([$$]))),gSd=$APP.be($APP.lk.G(new $APP.O(null,
3,5,$APP.Q,[$APP.ko,new $APP.O(null,3,5,$APP.Q,[$APP.rx,new $APP.m(null,1,[$APP.wq,!0],null),$APP.Gz],null),new $APP.O(null,3,5,$APP.Q,[$APP.Ly,new $APP.m(null,1,[$APP.wq,!0],null),new $APP.O(null,2,5,$APP.Q,[$APP.ko,new $APP.O(null,3,5,$APP.Q,[$APP.Ep,new $APP.m(null,1,[$APP.wq,!0],null),new $APP.O(null,2,5,$APP.Q,[$APP.lo,$APP.Gy],null)],null)],null)],null)],null),eSd,$APP.G([$$]))),hSd=new $APP.O(null,4,5,$APP.Q,[new $APP.O(null,3,5,$APP.Q,[$APP.WB,new $APP.m(null,1,[$APP.wq,!0],null),new $APP.O(null,
3,5,$APP.Q,[$APP.Fq,$APP.JWa,$APP.Xz],null)],null),new $APP.O(null,3,5,$APP.Q,[$APP.Hq,new $APP.m(null,1,[$APP.wq,!0],null),new $APP.O(null,2,5,$APP.Q,[$APP.lo,$APP.Gy],null)],null),new $APP.O(null,3,5,$APP.Q,[$APP.jB,new $APP.m(null,1,[$APP.wq,!0],null),$APP.Gn],null),new $APP.O(null,3,5,$APP.Q,[$APP.KB,new $APP.m(null,1,[$APP.wq,!0],null),new $APP.O(null,2,5,$APP.Q,[$APP.mo,new $APP.O(null,3,5,$APP.Q,[$APP.lq,$APP.Gy,$APP.Go],null)],null)],null)],null),iSd=new $APP.O(null,2,5,$APP.Q,[new $APP.O(null,
3,5,$APP.Q,[$APP.yA,new $APP.m(null,1,[$APP.wq,!0],null),$APP.yz],null),new $APP.O(null,3,5,$APP.Q,[$APP.UA,new $APP.m(null,1,[$APP.wq,!0],null),$APP.Gn],null)],null),jSd=$APP.be($APP.lk.G(new $APP.O(null,2,5,$APP.Q,[$APP.ko,new $APP.O(null,2,5,$APP.Q,[$APP.Ly,$APP.be($APP.lk.G(new $APP.O(null,2,5,$APP.Q,[$APP.ko,new $APP.O(null,2,5,$APP.Q,[$APP.Bl,$APP.yf.F($APP.Hk,$APP.Fq,$APP.rg.A($APP.M4a,$APP.N4a))],null)],null),iSd,$APP.G([hSd])))],null)],null),eSd,$APP.G([$$]))),kSd=$APP.rg.A(new $APP.O(null,
2,5,$APP.Q,[$APP.Rq,new $APP.m(null,1,[$APP.Sq,$APP.Bl],null)],null),$APP.mh.A(function(a){return new $APP.O(null,2,5,$APP.Q,[a,$APP.be($APP.lk.G(new $APP.O(null,2,5,$APP.Q,[$APP.ko,new $APP.O(null,2,5,$APP.Q,[$APP.Bl,$APP.Go],null)],null),iSd,$APP.G([$APP.zl.A(function(b){return!$APP.EOa(a,$APP.A(b))},hSd)])))],null)},$APP.N4a)),lSd=$APP.be($APP.lk.G(new $APP.O(null,2,5,$APP.Q,[$APP.ko,new $APP.O(null,3,5,$APP.Q,[$APP.Ly,new $APP.m(null,1,[$APP.wq,!0],null),kSd],null)],null),eSd,$APP.G([$$]))),mSd=
new $APP.O(null,4,5,$APP.Q,[$APP.Rq,new $APP.m(null,1,[$APP.Sq,function(a){return $APP.Qd($APP.K4a,$APP.Jw.C(a))}],null),new $APP.O(null,2,5,$APP.Q,[!0,jSd],null),new $APP.O(null,2,5,$APP.Q,[$APP.Dxa,lSd],null)],null),nSd=$APP.be($APP.lk.G(new $APP.O(null,2,5,$APP.Q,[$APP.ko,new $APP.O(null,3,5,$APP.Q,[$APP.dy,new $APP.m(null,1,[$APP.wq,!0],null),new $APP.O(null,2,5,$APP.Q,[$APP.ko,new $APP.O(null,2,5,$APP.Q,[$APP.x1a,$APP.Gy],null)],null)],null)],null),eSd,$APP.G([$$]))),oSd=new $APP.O(null,6,5,
$APP.Q,[$APP.Rq,new $APP.m(null,1,[$APP.Sq,$APP.Vw],null),new $APP.O(null,2,5,$APP.Q,[new $APP.Ng(null,new $APP.m(null,1,["property",null],null),null),mSd],null),new $APP.O(null,2,5,$APP.Q,[new $APP.Ng(null,new $APP.m(null,1,["class",null],null),null),gSd],null),new $APP.O(null,2,5,$APP.Q,[new $APP.Ng(null,new $APP.m(null,1,["hidden",null],null),null),nSd],null),new $APP.O(null,2,5,$APP.Q,[$APP.Dxa,fSd],null)],null),pSd=new $APP.O(null,15,5,$APP.Q,[new $APP.O(null,2,5,$APP.Q,[$APP.Nw,$APP.Gn],null),
new $APP.O(null,2,5,$APP.Q,[$APP.Uw,$APP.Gz],null),new $APP.O(null,2,5,$APP.Q,[$APP.Zw,$APP.Gz],null),new $APP.O(null,3,5,$APP.Q,[$APP.dy,new $APP.m(null,1,[$APP.wq,!0],null),new $APP.O(null,4,5,$APP.Q,[$APP.ko,new $APP.O(null,2,5,$APP.Q,[$APP.NXa,$APP.Gy],null),new $APP.O(null,2,5,$APP.Q,[$APP.ey,$APP.Gy],null),new $APP.O(null,3,5,$APP.Q,[$APP.rXa,new $APP.m(null,1,[$APP.wq,!0],null),$APP.Gy],null)],null)],null),new $APP.O(null,2,5,$APP.Q,[$APP.Yw,$APP.Gz],null),new $APP.O(null,3,5,$APP.Q,[$APP.Gx,
new $APP.m(null,1,[$APP.wq,!0],null),new $APP.O(null,2,5,$APP.Q,[$APP.mo,$APP.Gz],null)],null),new $APP.O(null,3,5,$APP.Q,[$APP.Lx,new $APP.m(null,1,[$APP.wq,!0],null),new $APP.O(null,2,5,$APP.Q,[$APP.mo,$APP.Gz],null)],null),new $APP.O(null,3,5,$APP.Q,[$APP.ny,new $APP.m(null,1,[$APP.wq,!0],null),$APP.Gz],null),new $APP.O(null,3,5,$APP.Q,[$APP.v_a,new $APP.m(null,1,[$APP.wq,!0],null),new $APP.O(null,2,5,$APP.Q,[$APP.mo,$APP.Gz],null)],null),new $APP.O(null,3,5,$APP.Q,[$APP.HC,new $APP.m(null,1,[$APP.wq,
!0],null),$APP.Gn],null),new $APP.O(null,3,5,$APP.Q,[$APP.CZa,new $APP.m(null,1,[$APP.wq,!0],null),$APP.Gz],null),new $APP.O(null,3,5,$APP.Q,[$APP.s1a,new $APP.m(null,1,[$APP.wq,!0],null),$APP.Gz],null),new $APP.O(null,3,5,$APP.Q,[$APP.u_a,new $APP.m(null,1,[$APP.wq,!0],null),$APP.yz],null),new $APP.O(null,3,5,$APP.Q,[$APP.kC,new $APP.m(null,1,[$APP.wq,!0],null),$APP.Gn],null),new $APP.O(null,3,5,$APP.Q,[$APP.hx,new $APP.m(null,1,[$APP.wq,!0],null),$APP.yz],null)],null),qSd=$APP.be($APP.lk.G(new $APP.O(null,
1,5,$APP.Q,[$APP.ko],null),new $APP.O(null,4,5,$APP.Q,[new $APP.O(null,2,5,$APP.Q,[$APP.Nw,$APP.Gn],null),new $APP.O(null,2,5,$APP.Q,[$APP.Zw,$APP.Gz],null),new $APP.O(null,2,5,$APP.Q,[$APP.Yw,$APP.Gz],null),new $APP.O(null,3,5,$APP.Q,[$APP.Gx,new $APP.m(null,1,[$APP.wq,!0],null),new $APP.O(null,2,5,$APP.Q,[$APP.mo,$APP.Gz],null)],null)],null),$APP.G([$$]))),rSd=$APP.be($APP.lk.G(new $APP.O(null,1,5,$APP.Q,[$APP.ko],null),new $APP.O(null,3,5,$APP.Q,[new $APP.O(null,2,5,$APP.Q,[$APP.Vw,new $APP.O(null,
2,5,$APP.Q,[$APP.Ur,new $APP.Ng(null,new $APP.m(null,1,["closed value",null],null),null)],null)],null),new $APP.O(null,3,5,$APP.Q,[$APP.Ly,new $APP.m(null,1,[$APP.wq,!0],null),new $APP.O(null,3,5,$APP.Q,[$APP.ko,new $APP.O(null,2,5,$APP.Q,[$APP.$o,new $APP.O(null,3,5,$APP.Q,[$APP.lq,$APP.Gn,$APP.CC],null)],null),new $APP.O(null,3,5,$APP.Q,[$APP.UA,new $APP.m(null,1,[$APP.wq,!0],null),$APP.Gn],null)],null)],null),new $APP.O(null,2,5,$APP.Q,[$APP.dy,new $APP.O(null,2,5,$APP.Q,[$APP.ko,new $APP.O(null,
2,5,$APP.Q,[$APP.ey,$APP.Gy],null)],null)],null)],null),$APP.G([$APP.zl.A(function(a){a=$APP.A(a);var b=new $APP.Ng(null,new $APP.m(null,3,[$APP.Uw,null,$APP.dy,null,$APP.Nw,null],null),null);return b.C?b.C(a):b.call(null,a)},pSd),$$]))),sSd=$APP.be($APP.lk.G(new $APP.O(null,1,5,$APP.Q,[$APP.ko],null),pSd,$APP.G([$$]))),tSd=new $APP.O(null,6,5,$APP.Q,[$APP.ko,new $APP.O(null,2,5,$APP.Q,[$APP.Kw,$APP.Gy],null),new $APP.O(null,3,5,$APP.Q,[$APP.BA,new $APP.m(null,1,[$APP.wq,!0],null),$APP.Gz],null),
new $APP.O(null,2,5,$APP.Q,[$APP.vA,$APP.Gn],null),new $APP.O(null,2,5,$APP.Q,[$APP.Xw,$APP.Gn],null),new $APP.O(null,2,5,$APP.Q,[$APP.pC,$APP.oc],null)],null),uSd=new $APP.O(null,3,5,$APP.Q,[$APP.ko,new $APP.O(null,2,5,$APP.Q,[$APP.l0a,$APP.Gy],null),new $APP.O(null,2,5,$APP.Q,[$APP.yXa,$APP.ko],null)],null),vSd=new $APP.O(null,4,5,$APP.Q,[$APP.ko,new $APP.O(null,2,5,$APP.Q,[$APP.ct,$APP.Go],null),new $APP.O(null,2,5,$APP.Q,[$APP.tYa,$APP.Gz],null),new $APP.O(null,3,5,$APP.Q,[$APP.BA,new $APP.m(null,
1,[$APP.wq,!0],null),$APP.Gz],null)],null),wSd=new $APP.O(null,4,5,$APP.Q,[$APP.ko,new $APP.O(null,2,5,$APP.Q,[$APP.ct,$APP.Go],null),new $APP.O(null,3,5,$APP.Q,[$APP.TUa,new $APP.m(null,1,[$APP.wq,!0],null),$APP.Gn],null),new $APP.O(null,3,5,$APP.Q,[$APP.BA,new $APP.m(null,1,[$APP.wq,!0],null),$APP.Gz],null)],null),qNd=new $APP.O(null,2,5,$APP.Q,[$APP.Xr,new $APP.O(null,8,5,$APP.Q,[$APP.lq,oSd,new $APP.O(null,4,5,$APP.Q,[$APP.lq,sSd,rSd,qSd],null),tSd,vSd,wSd,new $APP.O(null,6,5,$APP.Q,[$APP.ko,
new $APP.O(null,2,5,$APP.Q,[$APP.ct,$APP.Gn],null),new $APP.O(null,2,5,$APP.Q,[$APP.Kw,$APP.Gy],null),new $APP.O(null,2,5,$APP.Q,[$APP.Vw,new $APP.O(null,2,5,$APP.Q,[$APP.Ur,new $APP.Ng(null,new $APP.m(null,1,["macro",null],null),null)],null)],null),new $APP.O(null,2,5,$APP.Q,[$APP.mx,dSd],null),new $APP.O(null,3,5,$APP.Q,[$APP.BA,new $APP.m(null,1,[$APP.wq,!0],null),$APP.Gz],null)],null),uSd],null)],null),xSd=$APP.Rg($APP.mh.A($APP.A,$APP.Rf.A(function(a){return $APP.B.A($APP.Jc(a),new $APP.O(null,
2,5,$APP.Q,[$APP.mo,$APP.Gz],null))},$APP.lk.G(eSd,pSd,$APP.G([$$]))))),ySd=$APP.y($APP.zl.A(xSd,$APP.Q3a));if(ySd)throw $APP.Al.A(["The malli DB schema is missing the following cardinality-many ref attributes from datascript's schema: ",$APP.Nj.A(", ",ySd)].join(""),$APP.lf);
var zSd=$APP.Rg($APP.mh.A($APP.A,$APP.Rf.A(function(a){return $APP.B.A($APP.Jc(a),$APP.Gz)},$APP.lk.G(eSd,pSd,$APP.G([$$,$APP.ic(fSd)]))))),ASd=$APP.y($APP.zl.A($APP.Zu.A(zSd,new $APP.Ng(null,new $APP.m(null,1,[$APP.Ww,null],null),null)),$APP.R3a));if(ASd)throw $APP.Al.A(["The malli DB schema is missing the following cardinality-one ref attributes from datascript's schema: ",$APP.Nj.A(", ",ASd)].join(""),$APP.lf);
var BSd=$APP.Rg($APP.mh.A($APP.A,$APP.zl.A(function(a){return $APP.B.A($APP.Jc(a),new $APP.O(null,2,5,$APP.Q,[$APP.mo,$APP.Gz],null))},$APP.lk.G($APP.ic(tSd),$APP.ic(uSd),$APP.G([$APP.ic(wSd),$APP.ic(vSd),$APP.ic(gSd),$APP.lk.G(eSd,pSd,$APP.G([$$,$APP.ic(fSd)]))]))))),CSd=$APP.y($APP.zl.A($APP.Zu.A(BSd,new $APP.Ng(null,new $APP.m(null,1,[$APP.K_a,null],null),null)),$APP.S3a));
if(CSd)throw $APP.Al.A(["The malli DB schema is missing the following non ref attributes from datascript's schema: ",$APP.Nj.A(", ",CSd)].join(""),$APP.lf);var FNd=function FNd(a,b,c,d){var f=$APP.v(a),g=BNd(f,b);f=$APP.y(g)?ANd(f,g):null;if($APP.y(f)){$APP.Dv.G($APP.G([$APP.EC,QRd]));$APP.Rm(f);var h=$APP.ot.C($APP.Sw(a,f,c));$APP.Ch.A(d,function(k){return $APP.lk.A(k,h)});return $APP.y(BNd($APP.v(a),b))?FNd.K?FNd.K(a,b,c,d):FNd.call(null,a,b,c,d):null}return null};var DSd=new $APP.O(null,8,5,$APP.Q,[new $APP.O(null,3,5,$APP.Q,[$APP.ww,new $APP.m(null,1,[$APP.wq,!0],null),$APP.Gz],null),new $APP.O(null,3,5,$APP.Q,[$APP.Ew,new $APP.m(null,1,[$APP.wq,!0],null),$APP.Gz],null),new $APP.O(null,3,5,$APP.Q,[$APP.ay,new $APP.m(null,1,[$APP.wq,!0],null),new $APP.O(null,2,5,$APP.Q,[$APP.Qk,new $APP.O(null,2,5,$APP.Q,[$APP.Xr,$APP.Gy],null)],null)],null),new $APP.O(null,3,5,$APP.Q,[$APP.Bl,new $APP.m(null,1,[$APP.wq,!0],null),new $APP.O(null,2,5,$APP.Q,[$APP.Qk,new $APP.O(null,
2,5,$APP.Q,[$APP.Xr,$APP.Gn],null)],null)],null),new $APP.O(null,3,5,$APP.Q,[$APP.Zo,new $APP.m(null,1,[$APP.wq,!0],null),new $APP.O(null,2,5,$APP.Q,[$APP.Qk,$APP.Gn],null)],null),new $APP.O(null,3,5,$APP.Q,[$APP.by,new $APP.m(null,1,[$APP.wq,!0],null),new $APP.O(null,2,5,$APP.Q,[$APP.Qk,new $APP.O(null,2,5,$APP.Q,[$APP.Xr,$APP.Gy],null)],null)],null),new $APP.O(null,3,5,$APP.Q,[$APP.Ep,new $APP.m(null,1,[$APP.wq,!0],null),new $APP.O(null,2,5,$APP.Q,[$APP.Qk,$APP.Gn],null)],null),new $APP.O(null,
3,5,$APP.Q,[$APP.Ax,new $APP.m(null,1,[$APP.wq,!0],null),new $APP.O(null,2,5,$APP.Q,[$APP.Qk,$APP.Gy],null)],null)],null),MPd=$APP.rg.F($APP.Og,$APP.mh.C($APP.A),DSd),ESd=new $APP.O(null,6,5,$APP.Q,[$APP.Fq,"property","class","whiteboard","hidden","closed value"],null),FSd=new $APP.O(null,7,5,$APP.Q,[$APP.Rq,new $APP.m(null,2,[$APP.Sq,$APP.A,ERd,function(a){return $APP.Zr.F(a,0,$APP.nh)}],null),new $APP.O(null,2,5,$APP.Q,[$APP.oA,new $APP.O(null,3,5,$APP.Q,[$APP.$q,$APP.Go,new $APP.O(null,4,5,$APP.Q,
[$APP.ko,new $APP.O(null,2,5,$APP.Q,[$APP.XB,$APP.Gy],null),new $APP.O(null,2,5,$APP.Q,[vQd,$APP.Gy],null),new $APP.O(null,2,5,$APP.Q,[$APP.gy,$APP.yz],null)],null)],null)],null),new $APP.O(null,2,5,$APP.Q,[$APP.rA,new $APP.O(null,3,5,$APP.Q,[$APP.$q,$APP.Go,new $APP.O(null,2,5,$APP.Q,[$APP.ko,new $APP.O(null,2,5,$APP.Q,[VQd,new $APP.O(null,2,5,$APP.Q,[$APP.Xr,$APP.Gy],null)],null)],null)],null)],null),new $APP.O(null,2,5,$APP.Q,[$APP.IA,new $APP.O(null,3,5,$APP.Q,[$APP.$q,$APP.Go,new $APP.O(null,
13,5,$APP.Q,[$APP.ko,new $APP.O(null,2,5,$APP.Q,[$APP.XB,$APP.Gy],null),new $APP.O(null,3,5,$APP.Q,[vQd,new $APP.m(null,1,[$APP.wq,!0],null),$APP.Gy],null),new $APP.O(null,3,5,$APP.Q,[$APP.gy,new $APP.m(null,1,[$APP.wq,!0],null),$APP.yz],null),new $APP.O(null,3,5,$APP.Q,[$APP.wx,new $APP.m(null,1,[$APP.wq,!0],null),$APP.Gn],null),new $APP.O(null,3,5,$APP.Q,[$APP.ww,new $APP.m(null,1,[$APP.wq,!0],null),$APP.Gz],null),new $APP.O(null,3,5,$APP.Q,[$APP.Ew,new $APP.m(null,1,[$APP.wq,!0],null),$APP.Gz],
null),new $APP.O(null,3,5,$APP.Q,[$APP.by,new $APP.m(null,1,[$APP.wq,!0],null),new $APP.O(null,3,5,$APP.Q,[$APP.ko,new $APP.O(null,3,5,$APP.Q,[$APP.lB,new $APP.m(null,1,[$APP.wq,!0],null),new $APP.O(null,2,5,$APP.Q,[$APP.Qk,new $APP.O(null,2,5,$APP.Q,[$APP.mo,$APP.Gy],null)],null)],null),new $APP.O(null,3,5,$APP.Q,[B$,new $APP.m(null,1,[$APP.wq,!0],null),new $APP.O(null,2,5,$APP.Q,[$APP.Qk,new $APP.O(null,2,5,$APP.Q,[$APP.mo,$APP.Gy],null)],null)],null)],null)],null),new $APP.O(null,3,5,$APP.Q,[$APP.ay,
new $APP.m(null,1,[$APP.wq,!0],null),new $APP.O(null,3,5,$APP.Q,[$APP.ko,new $APP.O(null,3,5,$APP.Q,[$APP.lB,new $APP.m(null,1,[$APP.wq,!0],null),new $APP.O(null,2,5,$APP.Q,[$APP.Qk,new $APP.O(null,2,5,$APP.Q,[$APP.mo,$APP.Gy],null)],null)],null),new $APP.O(null,3,5,$APP.Q,[B$,new $APP.m(null,1,[$APP.wq,!0],null),new $APP.O(null,2,5,$APP.Q,[$APP.Qk,new $APP.O(null,2,5,$APP.Q,[$APP.mo,$APP.Gy],null)],null)],null)],null)],null),new $APP.O(null,3,5,$APP.Q,[$APP.Bl,new $APP.m(null,1,[$APP.wq,!0],null),
new $APP.O(null,3,5,$APP.Q,[$APP.ko,new $APP.O(null,3,5,$APP.Q,[$APP.lB,new $APP.m(null,1,[$APP.wq,!0],null),new $APP.O(null,2,5,$APP.Q,[$APP.Qk,new $APP.O(null,2,5,$APP.Q,[$APP.mo,ESd],null)],null)],null),new $APP.O(null,3,5,$APP.Q,[B$,new $APP.m(null,1,[$APP.wq,!0],null),new $APP.O(null,2,5,$APP.Q,[$APP.Qk,new $APP.O(null,2,5,$APP.Q,[$APP.mo,ESd],null)],null)],null)],null)],null),new $APP.O(null,3,5,$APP.Q,[$APP.Zo,new $APP.m(null,1,[$APP.wq,!0],null),$APP.Gn],null),new $APP.O(null,3,5,$APP.Q,[$APP.Ep,
new $APP.m(null,1,[$APP.wq,!0],null),new $APP.O(null,3,5,$APP.Q,[$APP.ko,new $APP.O(null,3,5,$APP.Q,[$APP.lB,new $APP.m(null,1,[$APP.wq,!0],null),new $APP.O(null,2,5,$APP.Q,[$APP.Xr,new $APP.O(null,3,5,$APP.Q,[$APP.$q,$APP.Gy,$APP.Gn],null)],null)],null),new $APP.O(null,3,5,$APP.Q,[B$,new $APP.m(null,1,[$APP.wq,!0],null),new $APP.O(null,2,5,$APP.Q,[$APP.mo,$APP.Gy],null)],null)],null)],null),new $APP.O(null,3,5,$APP.Q,[$APP.Ax,new $APP.m(null,1,[$APP.wq,!0],null),$APP.Gy],null)],null)],null)],null),
new $APP.O(null,2,5,$APP.Q,[J$,new $APP.O(null,3,5,$APP.Q,[$APP.$q,$APP.Go,new $APP.O(null,4,5,$APP.Q,[$APP.ko,new $APP.O(null,2,5,$APP.Q,[$APP.XB,$APP.Gy],null),new $APP.O(null,2,5,$APP.Q,[$APP.hA,$APP.Gn],null),new $APP.O(null,2,5,$APP.Q,[$APP.fC,$APP.Gn],null)],null)],null)],null),new $APP.O(null,2,5,$APP.Q,[I$,new $APP.O(null,3,5,$APP.Q,[$APP.$q,$APP.Go,new $APP.O(null,2,5,$APP.Q,[$APP.ko,new $APP.O(null,2,5,$APP.Q,[$APP.XB,$APP.Gy],null)],null)],null)],null)],null),GSd=new $APP.O(null,9,5,$APP.Q,
[$APP.ko,new $APP.O(null,2,5,$APP.Q,[Q$,$APP.Gn],null),new $APP.O(null,3,5,$APP.Q,[$APP.cA,new $APP.m(null,1,[$APP.wq,!0],null),$APP.Gz],null),new $APP.O(null,3,5,$APP.Q,[ZPd,new $APP.m(null,1,[$APP.wq,!0],null),$APP.Gz],null),new $APP.O(null,3,5,$APP.Q,[PRd,new $APP.m(null,1,[$APP.wq,!0],null),new $APP.O(null,2,5,$APP.Q,[$APP.Xr,FSd],null)],null),new $APP.O(null,3,5,$APP.Q,[kOd,new $APP.m(null,1,[$APP.wq,!0],null),$APP.Gn],null),new $APP.O(null,3,5,$APP.Q,[$Pd,new $APP.m(null,1,[$APP.wq,!0],null),
new $APP.O(null,3,5,$APP.Q,[$APP.yq,$APP.Gy,new $APP.O(null,7,5,$APP.Q,[$APP.Rq,new $APP.m(null,2,[$APP.Sq,$APP.sC,ERd,function(a){return $APP.Zr.F(a,$APP.sC,$APP.nh)}],null),new $APP.O(null,2,5,$APP.Q,[$APP.oA,$APP.yf.F($APP.Fe,new $APP.O(null,7,5,$APP.Q,[$APP.ko,new $APP.m(null,1,[$APP.uq,!0],null),new $APP.O(null,2,5,$APP.Q,[$APP.sC,$APP.Go],null),new $APP.O(null,2,5,$APP.Q,[U$,$APP.Gy],null),new $APP.O(null,2,5,$APP.Q,[$APP.Kh,new $APP.O(null,2,5,$APP.Q,[$APP.Xr,$APP.Gy],null)],null),new $APP.O(null,
2,5,$APP.Q,[$APP.UB,$APP.Gy],null),new $APP.O(null,3,5,$APP.Q,[$APP.wx,new $APP.m(null,1,[$APP.wq,!0],null),$APP.Gn],null)],null),DSd)],null),new $APP.O(null,2,5,$APP.Q,[$APP.rA,new $APP.O(null,4,5,$APP.Q,[$APP.ko,new $APP.m(null,1,[$APP.uq,!0],null),new $APP.O(null,2,5,$APP.Q,[$APP.sC,$APP.Go],null),new $APP.O(null,2,5,$APP.Q,[$APP.XB,$APP.Gy],null)],null)],null),new $APP.O(null,2,5,$APP.Q,[XPd,$APP.yf.F($APP.Fe,new $APP.O(null,7,5,$APP.Q,[$APP.ko,new $APP.m(null,1,[$APP.uq,!0],null),new $APP.O(null,
2,5,$APP.Q,[$APP.sC,$APP.Go],null),new $APP.O(null,2,5,$APP.Q,[U$,$APP.Gy],null),new $APP.O(null,3,5,$APP.Q,[$APP.Kh,new $APP.m(null,1,[$APP.wq,!0],null),new $APP.O(null,2,5,$APP.Q,[$APP.Xr,$APP.Gy],null)],null),new $APP.O(null,3,5,$APP.Q,[$APP.UB,new $APP.m(null,1,[$APP.wq,!0],null),$APP.Gy],null),new $APP.O(null,3,5,$APP.Q,[$APP.wx,new $APP.m(null,1,[$APP.wq,!0],null),$APP.Gn],null)],null),DSd)],null),new $APP.O(null,2,5,$APP.Q,[J$,$APP.yf.F($APP.Fe,new $APP.O(null,6,5,$APP.Q,[$APP.ko,new $APP.m(null,
1,[$APP.uq,!0],null),new $APP.O(null,2,5,$APP.Q,[$APP.sC,$APP.Go],null),new $APP.O(null,2,5,$APP.Q,[U$,$APP.Gy],null),new $APP.O(null,2,5,$APP.Q,[$APP.hA,$APP.Gn],null),new $APP.O(null,2,5,$APP.Q,[$APP.fC,$APP.Gn],null)],null),DSd)],null),new $APP.O(null,2,5,$APP.Q,[I$,new $APP.O(null,4,5,$APP.Q,[$APP.ko,new $APP.m(null,1,[$APP.uq,!0],null),new $APP.O(null,2,5,$APP.Q,[$APP.sC,$APP.Go],null),new $APP.O(null,2,5,$APP.Q,[$APP.XB,$APP.Gy],null)],null)],null)],null)],null)],null),new $APP.O(null,3,5,$APP.Q,
[S$,new $APP.m(null,1,[$APP.wq,!0],null),new $APP.O(null,2,5,$APP.Q,[$APP.ko,new $APP.O(null,2,5,$APP.Q,[$APP.Bl,$APP.Go],null)],null)],null),new $APP.O(null,3,5,$APP.Q,[iOd,new $APP.m(null,1,[$APP.wq,!0],null),$APP.yB],null)],null),lOd=mLd(GSd,MMd);$APP.iD.C(GSd);
var HSd=$APP.oAa(new $APP.O(null,12,5,$APP.Q,[$APP.Rq,new $APP.m(null,1,[$APP.Sq,$APP.IC],null),new $APP.O(null,2,5,$APP.Q,["list-graphs",new $APP.O(null,3,5,$APP.Q,[$APP.ko,new $APP.O(null,2,5,$APP.Q,[Q$,$APP.Gn],null),new $APP.O(null,2,5,$APP.Q,[$APP.IC,$APP.Gn],null)],null)],null),new $APP.O(null,2,5,$APP.Q,["register-graph-updates",new $APP.O(null,4,5,$APP.Q,[$APP.ko,new $APP.O(null,2,5,$APP.Q,[Q$,$APP.Gn],null),new $APP.O(null,2,5,$APP.Q,[$APP.IC,$APP.Gn],null),new $APP.O(null,2,5,$APP.Q,[$APP.gA,
$APP.Gn],null)],null)],null),new $APP.O(null,2,5,$APP.Q,["apply-ops",new $APP.O(null,6,5,$APP.Q,[$APP.ko,new $APP.O(null,2,5,$APP.Q,[Q$,$APP.Gn],null),new $APP.O(null,2,5,$APP.Q,[$APP.IC,$APP.Gn],null),new $APP.O(null,2,5,$APP.Q,[$APP.gA,$APP.Gn],null),new $APP.O(null,2,5,$APP.Q,[cPd,new $APP.O(null,2,5,$APP.Q,[$APP.Xr,FSd],null)],null),new $APP.O(null,2,5,$APP.Q,[ZPd,$APP.Gz],null)],null)],null),new $APP.O(null,2,5,$APP.Q,["presign-put-temp-s3-obj",new $APP.O(null,3,5,$APP.Q,[$APP.ko,new $APP.O(null,
2,5,$APP.Q,[Q$,$APP.Gn],null),new $APP.O(null,2,5,$APP.Q,[$APP.IC,$APP.Gn],null)],null)],null),new $APP.O(null,2,5,$APP.Q,["full-download-graph",new $APP.O(null,4,5,$APP.Q,[$APP.ko,new $APP.O(null,2,5,$APP.Q,[Q$,$APP.Gn],null),new $APP.O(null,2,5,$APP.Q,[$APP.IC,$APP.Gn],null),new $APP.O(null,2,5,$APP.Q,[$APP.gA,$APP.Gn],null)],null)],null),new $APP.O(null,2,5,$APP.Q,["full-upload-graph",new $APP.O(null,4,5,$APP.Q,[$APP.ko,new $APP.O(null,2,5,$APP.Q,[Q$,$APP.Gn],null),new $APP.O(null,2,5,$APP.Q,[$APP.IC,
$APP.Gn],null),new $APP.O(null,2,5,$APP.Q,[sOd,$APP.Gn],null)],null)],null),new $APP.O(null,2,5,$APP.Q,["grant-access",new $APP.O(null,6,5,$APP.Q,[$APP.ko,new $APP.O(null,2,5,$APP.Q,[Q$,$APP.Gn],null),new $APP.O(null,2,5,$APP.Q,[$APP.IC,$APP.Gn],null),new $APP.O(null,2,5,$APP.Q,[$APP.gA,$APP.Gy],null),new $APP.O(null,3,5,$APP.Q,[PQd,new $APP.m(null,1,[$APP.wq,!0],null),new $APP.O(null,2,5,$APP.Q,[$APP.Xr,$APP.Gy],null)],null),new $APP.O(null,3,5,$APP.Q,[QQd,new $APP.m(null,1,[$APP.wq,!0],null),new $APP.O(null,
2,5,$APP.Q,[$APP.Xr,$APP.Gn],null)],null)],null)],null),new $APP.O(null,2,5,$APP.Q,["query-block-content-versions",new $APP.O(null,5,5,$APP.Q,[$APP.ko,new $APP.O(null,2,5,$APP.Q,[Q$,$APP.Gn],null),new $APP.O(null,2,5,$APP.Q,[$APP.IC,$APP.Gn],null),new $APP.O(null,2,5,$APP.Q,[$APP.gA,$APP.Gn],null),new $APP.O(null,2,5,$APP.Q,[VQd,new $APP.O(null,2,5,$APP.Q,[$APP.Xr,$APP.Gy],null)],null)],null)],null),new $APP.O(null,2,5,$APP.Q,["query-blocks",new $APP.O(null,5,5,$APP.Q,[$APP.ko,new $APP.O(null,2,5,
$APP.Q,[Q$,$APP.Gn],null),new $APP.O(null,2,5,$APP.Q,[$APP.IC,$APP.Gn],null),new $APP.O(null,2,5,$APP.Q,[$APP.gA,$APP.Gy],null),new $APP.O(null,2,5,$APP.Q,[VQd,new $APP.O(null,2,5,$APP.Q,[$APP.Xr,$APP.Gy],null)],null)],null)],null),new $APP.O(null,2,5,$APP.Q,["update-assets",new $APP.O(null,6,5,$APP.Q,[$APP.ko,new $APP.O(null,2,5,$APP.Q,[Q$,$APP.Gn],null),new $APP.O(null,2,5,$APP.Q,[$APP.IC,$APP.Gn],null),new $APP.O(null,2,5,$APP.Q,[$APP.gA,$APP.Gy],null),new $APP.O(null,3,5,$APP.Q,[$APP.sA,new $APP.m(null,
1,[$APP.wq,!0],null),new $APP.O(null,2,5,$APP.Q,[$APP.Xr,new $APP.O(null,3,5,$APP.Q,[$APP.ko,new $APP.O(null,2,5,$APP.Q,[H$,$APP.Gy],null),new $APP.O(null,2,5,$APP.Q,[dPd,$APP.Gn],null)],null)],null)],null),new $APP.O(null,3,5,$APP.Q,[$APP.TB,new $APP.m(null,1,[$APP.wq,!0],null),new $APP.O(null,2,5,$APP.Q,[$APP.Xr,$APP.Gy],null)],null)],null)],null)],null)),hOd=kLd(HSd,MMd),gOd=mLd(HSd,MMd);var cOd=$APP.B.A("default","nodejs")?1:WebSocket.OPEN;var wOd=$APP.JIa($APP.Wv,null),vOd=new $APP.m(null,4,[KRd,"property",BRd,"class",VRd,"whiteboard",CRd,"macros"],null),yOd=$APP.Eh(function(a,b){b=$APP.Zw.C(b);return $APP.n(b)?(b=a.C?a.C(b):a.call(null,b),$APP.n(b)?$APP.n($APP.Jw.C(b))?b:yOd.A?yOd.A(a,b):yOd.call(null,a,b):null):null});$APP.nAa(URd,NRd,new $APP.O(null,3,5,$APP.Q,[$APP.Kp,new $APP.O(null,3,5,$APP.Q,[$APP.$q,new $APP.O(null,3,5,$APP.Q,[$APP.lq,$APP.io,$APP.ko],null),$APP.yB],null),$APP.yB],null),new $APP.m(null,5,[$APP.Yn,"logseq/outliner/transaction.cljc",$APP.km,10,$APP.$n,16,$APP.ao,10,$APP.Zn,25],null));var ISd=new $APP.O(null,14,5,$APP.Q,[$APP.ko,new $APP.m(null,1,[$APP.uq,!0],null),new $APP.O(null,2,5,$APP.Q,[P$,$APP.yB],null),new $APP.O(null,2,5,$APP.Q,[gPd,$APP.yB],null),new $APP.O(null,2,5,$APP.Q,[hPd,$APP.yB],null),new $APP.O(null,2,5,$APP.Q,[dOd,$APP.yB],null),new $APP.O(null,2,5,$APP.Q,[xQd,$APP.yB],null),new $APP.O(null,2,5,$APP.Q,[$APP.EA,$APP.yB],null),new $APP.O(null,2,5,$APP.Q,[sPd,$APP.yB],null),new $APP.O(null,2,5,$APP.Q,[eOd,$APP.yB],null),new $APP.O(null,2,5,$APP.Q,[O$,$APP.yB],
null),new $APP.O(null,2,5,$APP.Q,[nPd,$APP.yB],null),new $APP.O(null,2,5,$APP.Q,[oPd,$APP.yB],null),new $APP.O(null,2,5,$APP.Q,[pPd,$APP.yB],null)],null);(function(){var a=$APP.iD.C(ISd);return function(b){return $APP.n(a.C?a.C(b):a.call(null,b))?!0:$APP.Dv.G($APP.G([$APP.qAa(ISd,b)]))}})();var aRd=$APP.Bh.C(null);var JSd=new $APP.O(null,16,5,$APP.Q,[$APP.ko,new $APP.m(null,1,[$APP.uq,!0],null),new $APP.O(null,2,5,$APP.Q,[P$,$APP.yB],null),new $APP.O(null,2,5,$APP.Q,[gPd,$APP.yB],null),new $APP.O(null,2,5,$APP.Q,[hPd,$APP.yB],null),new $APP.O(null,2,5,$APP.Q,[dOd,$APP.yB],null),new $APP.O(null,2,5,$APP.Q,[xQd,$APP.yB],null),new $APP.O(null,2,5,$APP.Q,[eOd,$APP.yB],null),new $APP.O(null,2,5,$APP.Q,[O$,$APP.yB],null),new $APP.O(null,2,5,$APP.Q,[NQd,$APP.yB],null),new $APP.O(null,2,5,$APP.Q,[$APP.EA,$APP.yB],
null),new $APP.O(null,2,5,$APP.Q,[IQd,$APP.yB],null),new $APP.O(null,2,5,$APP.Q,[MQd,$APP.yB],null),new $APP.O(null,2,5,$APP.Q,[KQd,$APP.yB],null),new $APP.O(null,2,5,$APP.Q,[LQd,$APP.yB],null),new $APP.O(null,2,5,$APP.Q,[$APP.ZTa,$APP.yB],null)],null);(function(){var a=$APP.iD.C(JSd);return function(b){return $APP.n(a.C?a.C(b):a.call(null,b))?!0:$APP.Dv.G($APP.G([$APP.qAa(JSd,b)]))}})();
var ZQd=$APP.iD.C(new $APP.O(null,3,5,$APP.Q,[$APP.Fq,$APP.zB,$APP.uq],null)),KSd=$APP.UIa($APP.Wv,null),JPd=$APP.JIa($APP.Wv,null),T$=function(){var a=$APP.Bh.C($APP.lf),b=$APP.Bh.C($APP.lf),c=$APP.Bh.C($APP.lf),d=$APP.Bh.C($APP.lf),e=$APP.H.F($APP.lf,$APP.hB,$APP.Lh.I?$APP.Lh.I():$APP.Lh.call(null));return new $APP.Ph($APP.ph.A("frontend.worker.rtc.core","transact-db!"),function(){function f(g,h){if(1<arguments.length)for(var k=0,p=Array(arguments.length-1);k<p.length;)p[k]=arguments[k+1],++k;return g}
f.R=1;f.Y=function(g){var h=$APP.A(g);$APP.ic(g);return h};f.G=function(g){return g};return f}(),$APP.Vi,e,a,b,c,d)}();
T$.da(null,$APP.Ix,function(){function a(c,d){var e=null;if(1<arguments.length){e=0;for(var f=Array(arguments.length-1);e<f.length;)f[e]=arguments[e+1],++e;e=new $APP.dc(f,0,null)}return b.call(this,c,e)}function b(c,d){var e=$APP.xy,f=$APP.rD,g=new $APP.m(null,2,[$APP.Hy,!1,$APP.Jz,new $APP.m(null,2,[$APP.Mx,$APP.A(d),$APP.Nx,$APP.Ec(d)],null)],null);c=$APP.n(e)?$APP.S.F(g,$APP.AB,!0):g;if($APP.n(e))return $APP.n(f)&&$APP.Vf.A(f,c),$APP.yf.A($APP.xOa,d);e=$APP.lf;g=$APP.n($APP.H.F(g,$APP.Hy,!0))?
$APP.S.F(e,$APP.Hy,!0):e;e=$APP.xy;f=$APP.rD;var h=$APP.sD,k=$APP.Mb($APP.Wf),p=$APP.Mb($APP.Wf);$APP.xy=k;$APP.rD=p;$APP.sD=g;try{$APP.Vf.A($APP.rD,c);$APP.yf.A($APP.xOa,d);var q=$APP.Ob($APP.xy),r=$APP.Pf.G($APP.ot,$APP.G([q])),u=$APP.A($APP.mh.A($APP.vy,q)),x=$APP.lk.A(r,$APP.zC.C(c)),z=$APP.Ob($APP.rD),D=$APP.yf.A($APP.On,$APP.Ge(z)),F=$APP.On.G($APP.G([$APP.Zi.G(D,$APP.zC,$APP.G([$APP.AC,$APP.AB])),u]));return $APP.y(x)?$APP.n($APP.AB.C(c))?null:$APP.Ux(x,$APP.Zi.A(F,$APP.Jz),$APP.Jz.C(F)):null}finally{$APP.sD=
h,$APP.rD=f,$APP.xy=e}}a.R=1;a.Y=function(c){var d=$APP.A(c);c=$APP.ic(c);return b(d,c)};a.G=b;return a}());
T$.da(null,$APP.oy,function(){function a(c,d){var e=null;if(1<arguments.length){e=0;for(var f=Array(arguments.length-1);e<f.length;)f[e]=arguments[e+1],++e;e=new $APP.dc(f,0,null)}return b.call(this,c,e)}function b(c,d){var e=$APP.xy,f=$APP.rD,g=new $APP.m(null,2,[$APP.Hy,!1,$APP.Jz,new $APP.m(null,2,[$APP.Mx,$APP.A(d),$APP.Nx,$APP.Ec(d)],null)],null);c=$APP.n(e)?$APP.S.F(g,$APP.AB,!0):g;if($APP.n(e))return $APP.n(f)&&$APP.Vf.A(f,c),$APP.yf.A($APP.By,d);e=$APP.lf;g=$APP.n($APP.H.F(g,$APP.Hy,!0))?
$APP.S.F(e,$APP.Hy,!0):e;e=$APP.xy;f=$APP.rD;var h=$APP.sD,k=$APP.Mb($APP.Wf),p=$APP.Mb($APP.Wf);$APP.xy=k;$APP.rD=p;$APP.sD=g;try{$APP.Vf.A($APP.rD,c);$APP.yf.A($APP.By,d);var q=$APP.Ob($APP.xy),r=$APP.Pf.G($APP.ot,$APP.G([q])),u=$APP.A($APP.mh.A($APP.vy,q)),x=$APP.lk.A(r,$APP.zC.C(c)),z=$APP.Ob($APP.rD),D=$APP.yf.A($APP.On,$APP.Ge(z)),F=$APP.On.G($APP.G([$APP.Zi.G(D,$APP.zC,$APP.G([$APP.AC,$APP.AB])),u]));return $APP.y(x)?$APP.n($APP.AB.C(c))?null:$APP.Ux(x,$APP.Zi.A(F,$APP.Jz),$APP.Jz.C(F)):null}finally{$APP.sD=
h,$APP.rD=f,$APP.xy=e}}a.R=1;a.Y=function(c){var d=$APP.A(c);c=$APP.ic(c);return b(d,c)};a.G=b;return a}());
T$.da(null,$APP.jy,function(){function a(c,d){var e=null;if(1<arguments.length){e=0;for(var f=Array(arguments.length-1);e<f.length;)f[e]=arguments[e+1],++e;e=new $APP.dc(f,0,null)}return b.call(this,c,e)}function b(c,d){var e=$APP.xy,f=$APP.rD,g=new $APP.m(null,2,[$APP.Hy,!1,$APP.Jz,new $APP.m(null,2,[$APP.Mx,$APP.A(d),$APP.Nx,$APP.Ec(d)],null)],null);c=$APP.n(e)?$APP.S.F(g,$APP.AB,!0):g;if($APP.n(e))return $APP.n(f)&&$APP.Vf.A(f,c),$APP.yf.A($APP.Ay,d);e=$APP.lf;g=$APP.n($APP.H.F(g,$APP.Hy,!0))?
$APP.S.F(e,$APP.Hy,!0):e;e=$APP.xy;f=$APP.rD;var h=$APP.sD,k=$APP.Mb($APP.Wf),p=$APP.Mb($APP.Wf);$APP.xy=k;$APP.rD=p;$APP.sD=g;try{$APP.Vf.A($APP.rD,c);$APP.yf.A($APP.Ay,d);var q=$APP.Ob($APP.xy),r=$APP.Pf.G($APP.ot,$APP.G([q])),u=$APP.A($APP.mh.A($APP.vy,q)),x=$APP.lk.A(r,$APP.zC.C(c)),z=$APP.Ob($APP.rD),D=$APP.yf.A($APP.On,$APP.Ge(z)),F=$APP.On.G($APP.G([$APP.Zi.G(D,$APP.zC,$APP.G([$APP.AC,$APP.AB])),u]));return $APP.y(x)?$APP.n($APP.AB.C(c))?null:$APP.Ux(x,$APP.Zi.A(F,$APP.Jz),$APP.Jz.C(F)):null}finally{$APP.sD=
h,$APP.rD=f,$APP.xy=e}}a.R=1;a.Y=function(c){var d=$APP.A(c);c=$APP.ic(c);return b(d,c)};a.G=b;return a}());
T$.da(null,$APP.VB,function(){function a(c,d){var e=null;if(1<arguments.length){e=0;for(var f=Array(arguments.length-1);e<f.length;)f[e]=arguments[e+1],++e;e=new $APP.dc(f,0,null)}return b.call(this,c,e)}function b(c,d){var e=$APP.xy,f=$APP.rD,g=new $APP.m(null,2,[$APP.Hy,!1,$APP.Jz,new $APP.m(null,2,[$APP.Mx,$APP.A(d),$APP.Nx,$APP.Ec(d)],null)],null);c=$APP.n(e)?$APP.S.F(g,$APP.AB,!0):g;if($APP.n(e))return $APP.n(f)&&$APP.Vf.A(f,c),$APP.yf.A($APP.yy,d);e=$APP.lf;g=$APP.n($APP.H.F(g,$APP.Hy,!0))?
$APP.S.F(e,$APP.Hy,!0):e;e=$APP.xy;f=$APP.rD;var h=$APP.sD,k=$APP.Mb($APP.Wf),p=$APP.Mb($APP.Wf);$APP.xy=k;$APP.rD=p;$APP.sD=g;try{$APP.Vf.A($APP.rD,c);$APP.yf.A($APP.yy,d);var q=$APP.Ob($APP.xy),r=$APP.Pf.G($APP.ot,$APP.G([q])),u=$APP.A($APP.mh.A($APP.vy,q)),x=$APP.lk.A(r,$APP.zC.C(c)),z=$APP.Ob($APP.rD),D=$APP.yf.A($APP.On,$APP.Ge(z)),F=$APP.On.G($APP.G([$APP.Zi.G(D,$APP.zC,$APP.G([$APP.AC,$APP.AB])),u]));return $APP.y(x)?$APP.n($APP.AB.C(c))?null:$APP.Ux(x,$APP.Zi.A(F,$APP.Jz),$APP.Jz.C(F)):null}finally{$APP.sD=
h,$APP.rD=f,$APP.xy=e}}a.R=1;a.Y=function(c){var d=$APP.A(c);c=$APP.ic(c);return b(d,c)};a.G=b;return a}());T$.da(null,zPd,function(a,b,c){return $APP.Sw(b,$APP.hj.A(function(d){return new $APP.O(null,2,5,$APP.Q,[$APP.nNa,new $APP.O(null,2,5,$APP.Q,[$APP.Kw,d],null)],null)},c),new $APP.m(null,1,[$APP.Hy,!1],null))});T$.da(null,KPd,function(a,b,c){return $APP.Sw(b,c,new $APP.m(null,1,[$APP.Hy,!1],null))});
var V$=function(){var a=$APP.Bh.C($APP.lf),b=$APP.Bh.C($APP.lf),c=$APP.Bh.C($APP.lf),d=$APP.Bh.C($APP.lf),e=$APP.H.F($APP.lf,$APP.hB,$APP.Lh.I?$APP.Lh.I():$APP.Lh.call(null));return new $APP.Ph($APP.ph.A("frontend.worker.rtc.core","local-block-ops-\x3eremote-ops-aux"),function(){function f(g,h){if(1<arguments.length)for(var k=0,p=Array(arguments.length-1);k<p.length;)p[k]=arguments[k+1],++k;return g}f.R=1;f.Y=function(g){var h=$APP.A(g);$APP.ic(g);return h};f.G=function(g){return g};return f}(),$APP.Vi,
e,a,b,c,d)}();
V$.da(null,$APP.$Na,function(){function a(c,d){var e=null;if(1<arguments.length){e=0;for(var f=Array(arguments.length-1);e<f.length;)f[e]=arguments[e+1],++e;e=new $APP.dc(f,0,null)}return b.call(this,c,e)}function b(c,d){var e=$APP.nf(d),f=$APP.H.A(e,kQd),g=$APP.H.A(e,lQd);c=$APP.H.A(e,$APP.XB);d=$APP.H.A(e,W$);e=$APP.H.A(e,mQd);if($APP.n(f)){var h=$APP.n(g)?g:f;f=$APP.Lg.A(g,f);$APP.Ch.F(d,$APP.Fe,new $APP.O(null,2,5,$APP.Q,[$APP.oA,new $APP.m(null,3,[$APP.XB,c,vQd,h,$APP.gy,f],null)],null));return $APP.Ch.F(e,
$APP.Fe,h)}return null}a.R=1;a.Y=function(c){var d=$APP.A(c);c=$APP.ic(c);return b(d,c)};a.G=b;return a}());
V$.da(null,nQd,function(){function a(c,d){var e=null;if(1<arguments.length){e=0;for(var f=Array(arguments.length-1);e<f.length;)f[e]=arguments[e+1],++e;e=new $APP.dc(f,0,null)}return b.call(this,c,e)}function b(c,d){var e=$APP.nf(d);c=$APP.H.A(e,$APP.Nx);var f=$APP.H.A(e,$APP.Xm);d=$APP.H.A(e,nQd);var g=$APP.H.A(e,lQd),h=$APP.H.A(e,kQd);e=$APP.H.A(e,W$);var k=$APP.Kw.C(f),p=RNd.C($APP.Ec(d)),q=$APP.Qd(p,$APP.ay)?jQd(c,$APP.ay.C(p)):null,r=$APP.Qd(p,$APP.by)?jQd(c,$APP.by.C(p)):null,u=$APP.Qd(p,$APP.Bl)?
function(){var F=$APP.Bl.C(p),J=$APP.nf(F);F=$APP.H.A(J,$APP.lB);J=$APP.H.A(J,B$);var I=$APP.Rg($APP.Vw.C(f));F=$APP.hs.A(F,I);J=$APP.gs.A(J,I);I=$APP.lf;F=$APP.y(F)?$APP.S.F(I,$APP.lB,F):I;return $APP.y(J)?$APP.S.F(F,B$,J):F}():null,x=$APP.Qd(p,$APP.Ep)?function(){var F=$APP.Ep.C(p);F=$APP.nf(F);var J=$APP.H.A(F,$APP.lB);F=$APP.H.A(F,B$);var I=$APP.mx.C(f);J=$APP.rg.A($APP.Wf,$APP.rja($APP.Mg(I,J),$APP.yk.A($APP.VIa,KSd)));I=$APP.lf;J=$APP.y(J)?$APP.S.F(I,$APP.lB,J):I;return $APP.y(F)?$APP.S.F(J,
B$,F):J}():null,z=$APP.n(g)?g:h,D=$APP.Lg.A(g,h);return $APP.Ch.F(e,$APP.Fe,new $APP.O(null,2,5,$APP.Q,[$APP.IA,function(){var F=new $APP.m(null,1,[$APP.XB,k],null);F=$APP.n($APP.bw.C(f))?$APP.S.F(F,$APP.ww,$APP.bw.C(f)):F;F=$APP.n($APP.cw.C(f))?$APP.S.F(F,$APP.Ew,$APP.cw.C(f)):F;F=$APP.Qd(p,$APP.Zo)?$APP.S.F(F,$APP.Zo,$APP.VIa(KSd,$APP.Ly.C(f))):F;F=$APP.n(q)?$APP.S.F(F,$APP.ay,q):F;F=$APP.n(u)?$APP.S.F(F,$APP.Bl,u):F;F=$APP.n(r)?$APP.S.F(F,$APP.by,r):F;F=$APP.n(x)?$APP.S.F(F,$APP.Ep,x):F;F=$APP.n(function(){var J=
$APP.Qd(p,$APP.wx);return J?$APP.Nw.C(f):J}())?$APP.S.F(F,$APP.wx,$APP.Nw.C(f)):F;F=$APP.n(function(){var J=$APP.Qd(p,$APP.Ax);return J?$APP.Kw.C($APP.ny.C(f)):J}())?$APP.S.F(F,$APP.Ax,$APP.Kw.C($APP.ny.C(f))):F;return $APP.n(z)?$APP.S.G(F,vQd,z,$APP.G([$APP.gy,D])):F}()],null))}a.R=1;a.Y=function(c){var d=$APP.A(c);c=$APP.ic(c);return b(d,c)};a.G=b;return a}());
V$.da(null,oQd,function(){function a(c,d){var e=null;if(1<arguments.length){e=0;for(var f=Array(arguments.length-1);e<f.length;)f[e]=arguments[e+1],++e;e=new $APP.dc(f,0,null)}return b.call(this,c,e)}function b(c,d){d=$APP.nf(d);var e=$APP.H.A(d,$APP.Nx);c=$APP.H.A(d,$APP.XB);d=$APP.H.A(d,W$);e=$APP.v(e);var f=new $APP.O(null,2,5,$APP.Q,[$APP.Kw,c],null);e=$APP.zt.A?$APP.zt.A(e,f):$APP.zt.call(null,e,f);return $APP.n(e)?(f=$APP.nf(e),e=$APP.H.A(f,$APP.Jw),f=$APP.H.A(f,$APP.Lw),$APP.Ch.F(d,$APP.Fe,
new $APP.O(null,2,5,$APP.Q,[J$,new $APP.m(null,3,[$APP.XB,c,$APP.hA,e,$APP.fC,$APP.n(f)?f:e],null)],null))):null}a.R=1;a.Y=function(c){var d=$APP.A(c);c=$APP.ic(c);return b(d,c)};a.G=b;return a}());
V$.da(null,pQd,function(){function a(c,d){var e=null;if(1<arguments.length){e=0;for(var f=Array(arguments.length-1);e<f.length;)f[e]=arguments[e+1],++e;e=new $APP.dc(f,0,null)}return b.call(this,c,e)}function b(c,d){c=$APP.nf(d);d=$APP.H.A(c,$APP.Nx);var e=$APP.H.A(c,pQd);c=$APP.H.A(c,W$);e=$APP.XB.C($APP.Ec(e));if($APP.n(e)){d=$APP.v(d);var f=new $APP.O(null,2,5,$APP.Q,[$APP.Kw,e],null);c=null==($APP.zt.A?$APP.zt.A(d,f):$APP.zt.call(null,d,f))?$APP.Ch.F(c,$APP.Fe,new $APP.O(null,2,5,$APP.Q,[$APP.rA,
new $APP.m(null,1,[VQd,new $APP.O(null,1,5,$APP.Q,[e],null)],null)],null)):null}else c=null;return c}a.R=1;a.Y=function(c){var d=$APP.A(c);c=$APP.ic(c);return b(d,c)};a.G=b;return a}());
V$.da(null,qQd,function(){function a(c,d){var e=null;if(1<arguments.length){e=0;for(var f=Array(arguments.length-1);e<f.length;)f[e]=arguments[e+1],++e;e=new $APP.dc(f,0,null)}return b.call(this,c,e)}function b(c,d){c=$APP.nf(d);d=$APP.H.A(c,$APP.Nx);var e=$APP.H.A(c,qQd);c=$APP.H.A(c,W$);e=$APP.XB.C($APP.Ec(e));if($APP.n(e)){d=$APP.v(d);var f=new $APP.O(null,2,5,$APP.Q,[$APP.Kw,e],null);c=null==($APP.zt.A?$APP.zt.A(d,f):$APP.zt.call(null,d,f))?$APP.Ch.F(c,$APP.Fe,new $APP.O(null,2,5,$APP.Q,[I$,new $APP.m(null,
1,[$APP.XB,e],null)],null)):null}else c=null;return c}a.R=1;a.Y=function(c){var d=$APP.A(c);c=$APP.ic(c);return b(d,c)};a.G=b;return a}());var X$=$APP.Bh.C(null);$APP.sh(X$,FRd,function(a,b,c,d){a=gPd.C(d);return $APP.n(a)?(d=YQd($APP.v(a),d),c=YQd($APP.v(a),c),$APP.Lg.A(d,c)||$APP.B.A($APP.zB,$APP.bYa.C(d))?v$($APP.ATa,$APP.zh.G($APP.G([d]))):null):null});var mRd={},Y$,eRd=$APP.Bh.C(!1),LSd=class extends Object{constructor(){super()}};$APP.l=LSd.prototype;$APP.l.getVersion=function(){var a=$APP.v(fRd);return $APP.n(a)?a.version:null};$APP.l.init=function(a){$APP.Df($Nd,a);return jRd()};
$APP.l.listDB=function(){return $APP.gl(null,function(){return $APP.gl(vRd(),function(a){return $APP.gl($APP.pu.C($APP.wk.A(function(b){return $APP.B.A(b.kind,"directory")&&$APP.sa(b.name,".logseq-pool-")?$APP.uj($APP.uj(b.name.replace(".logseq-pool-",""),"+3A+",":"),"++","/"):null},a)),function(b){return $APP.Zk($APP.yi(b))})})})};$APP.l.createOrOpenDB=function(a){return $APP.gl(null,function(){return $APP.gl(pRd(a),function(){return $APP.Zk(tRd(a))})})};
$APP.l.getMaxTx=function(a){a=w$(a);return $APP.n(a)?$APP.Ns.C($APP.v(a)):null};$APP.l.q=function(a,b){a=w$(a);return $APP.n(a)?(b=$APP.aD.C(b),b=$APP.yf.K($APP.cx,$APP.A(b),$APP.v(a),$APP.ic(b)),$APP.yi(b)):null};
$APP.l.transact=function(a,b,c,d){$APP.n(a)&&$APP.Ch.K(x$,$APP.Yr,new $APP.O(null,2,5,$APP.Q,[$Ld,a],null),$APP.Wo());var e=w$(a);if($APP.n(e))try{var f="string"===typeof b?$APP.aD.C(b):b,g="string"===typeof c?$APP.aD.C(c):c,h="string"===typeof d?$APP.aD.C(d):d;$APP.n(h)&&$APP.Ch.K(x$,$APP.S,dMd,h);var k=$APP.n($APP.LB.C(g))?g:function(){var p=$APP.nb($APP.nXa.C(g))?$APP.S.F(g,$APP.pHa,!0):g;return $APP.Zi.A(p,MRd)}();$APP.n(function(){var p=$APP.$Oa.C(g);if($APP.n(p)){p=$APP.aPa.C(g);if($APP.n(p)){if(p=
$APP.y(f)){p=$APP.v(e);var q=new $APP.O(null,2,5,$APP.Q,[$APP.Jw,$APP.aPa.C(g)],null);return $APP.zt.A?$APP.zt.A(p,q):$APP.zt.call(null,p,q)}return p}return p}return p}())||($APP.n(!1)?(console.time("Worker db transact"),$APP.Sw(e,f,k),console.timeEnd("Worker db transact")):$APP.Sw(e,f,k));return null}catch(p){return a=p,$APP.Dv.G($APP.G([$APP.EC,$APP.Fs])),console.error(a)}else return null};$APP.l.getInitialData=function(a){a=w$(a);return $APP.n(a)?$APP.aJa($APP.be($APP.kHa($APP.v(a)))):null};
$APP.l.unsafeUnlinkDB=function(a){return $APP.gl(null,function(){return $APP.gl(gRd(a),function(b){return $APP.gl(qRd(a),function(){return $APP.gl($APP.n(b)?b.removeVfs():null,function(){return $APP.Zk(null)})})})})};$APP.l.releaseAccessHandles=function(a){a=WLd(a);return $APP.n(a)?a.releaseAccessHandles():null};$APP.l.dbExists=function(a){return wRd(a)};$APP.l.exportDB=function(a){return kRd(a)};
$APP.l.importDb=function(a,b){return $APP.Fj(a)?null:$APP.gl(null,function(){return $APP.gl(gRd(a),function(c){return $APP.Zk(c.importDb("/db.sqlite",b))})})};$APP.l.search_blocks=function(a,b,c){return $APP.gl(null,function(){return $APP.gl(xRd(a),function(d){return $APP.gl(xLd(d,b,$APP.wi(c)),function(e){return $APP.Zk($APP.yi(e))})})})};$APP.l.search_upsert_blocks=function(a,b){return $APP.gl(null,function(){return $APP.gl(xRd(a),function(c){tLd(c,b);return $APP.Zk(null)})})};
$APP.l.search_delete_blocks=function(a,b){return $APP.gl(null,function(){return $APP.gl(xRd(a),function(c){var d=["DELETE from blocks WHERE id IN ",sLd(b)].join("");c.exec(d);return $APP.Zk(null)})})};$APP.l.search_truncate_tables=function(a){return $APP.gl(null,function(){return $APP.gl(xRd(a),function(b){b.exec("delete from blocks");b.exec("delete from blocks_fts");return $APP.Zk(null)})})};$APP.l.search_build_blocks_indice=function(a){var b=w$(a);return $APP.n(b)?CLd(a,$APP.v(b)):null};
$APP.l.search_build_pages_indice=function(a){var b=w$(a);return $APP.n(b)?CLd(a,$APP.v(b)):null};$APP.l.page_search=function(a,b,c){var d=w$(a);return $APP.n(d)?QLd(a,$APP.v(d),b,c):null};$APP.l.page_rename=function(a,b,c){var d=w$(a);if($APP.n(d)){var e=XLd(a);a=XOd(a,d,e,b,c);return $APP.yi(new $APP.m(null,1,[$APP.Lz,a],null))}return null};$APP.l.file_writes_finished_QMARK_=function(){return $APP.$c($APP.v($APP.Q4a))};$APP.l.page_file_saved=function(a){u$.C?u$.C(a):u$.call(null,a);return null};
$APP.l.sync_app_state=function(a){a=$APP.aD.C(a);YLd(a);return null};$APP.l.rtc_start=function(a,b){var c=w$(a);$APP.n(c)&&bRd(a,c,b);return null};$APP.l.rtc_stop=function(){cRd();return null};
$APP.l.rtc_toggle_sync=function(){var a=$APP.ona(),b=$APP.Oi(1);$APP.Bi(function(){var c=function(){return function(){function e(h){for(;;){a:try{for(;;){var k=h,p=k[1];if(1===p){var q=$APP.v(X$);var r=$APP.n(q)?TQd(q):null;var u=$APP.Ki(k,2,r)}else if(2===p){var x=$APP.$k(a,k[2]);u=$APP.Mi(k,x)}else u=null;if(!$APP.Ne(u,$APP.U)){var z=u;break a}}}catch(D){z=D;h[2]=z;if($APP.y(h[4]))h[1]=$APP.A(h[4]);else throw z;z=$APP.U}if(!$APP.Ne(z,$APP.U))return z}}function f(){var h=[null,null,null,null,null,
null,null];h[0]=g;h[1]=1;return h}var g=null;g=function(h){switch(arguments.length){case 0:return f.call(this);case 1:return e.call(this,h)}throw Error("Invalid arity: "+arguments.length);};g.I=f;g.C=e;return g}()}(),d=function(){var e=c();e[6]=b;return e}();return $APP.Ii(d)});return a};$APP.l.rtc_grant_graph_access=function(a,b,c){var d=$APP.v(X$);$APP.n(d)&&SQd(d,a,$APP.G([PQd,b,QQd,c]));return null};
$APP.l.rtc_upload_graph=function(a,b){var c=w$(a);if($APP.n(c)){var d=$APP.Oi(1);$APP.Bi(function(){var e=function(){function g(h){var k=h[1];if(1===k)return h[2]=null,h[1]=2,$APP.U;if(2===k)return h[4]=$APP.Le(5,h[4]),k=$Qd(a,b,!1),$APP.Ki(h,6,k);if(3===k)return $APP.Mi(h,h[2]);if(4===k){k=h[2];var p=$APP.zh.G($APP.G([new $APP.O(null,2,5,$APP.Q,[new $APP.O(null,2,5,$APP.Q,[$APP.$B,new $APP.O(null,2,5,$APP.Q,[$APP.dA,"upload graph failed"],null)],null),$APP.Fs],null)]));p=v$($APP.rB,p);k=$APP.Dv.G($APP.G([ORd,
k]));h[7]=p;h[2]=k;h[1]=3;return $APP.U}if(5===k)return h[4]=$APP.ic(h[4]),h[5]=h[2],h[1]=4,h[5]=null,$APP.U;if(6===k)return k=uOd(h[2],a,c),$APP.Ki(h,7,k);if(7===k){k=h[2];p=WNd(a,c);var q=$APP.zh.G($APP.G([new $APP.O(null,1,5,$APP.Q,[new $APP.O(null,2,5,$APP.Q,[$APP.$B,new $APP.O(null,2,5,$APP.Q,[$APP.dA,"Upload graph successfully"],null)],null)],null)]));q=v$($APP.rB,q);h[4]=$APP.ic(h[4]);h[8]=k;h[9]=p;h[2]=q;h[1]=3;return $APP.U}return null}return function(){function h(q){for(;;){a:try{for(;;){var r=
g(q);if(!$APP.Ne(r,$APP.U)){var u=r;break a}}}catch(x){u=x;q[2]=u;if($APP.y(q[4]))q[1]=$APP.A(q[4]);else throw u;u=$APP.U}if(!$APP.Ne(u,$APP.U))return u}}function k(){var q=[null,null,null,null,null,null,null,null,null,null];q[0]=p;q[1]=1;return q}var p=null;p=function(q){switch(arguments.length){case 0:return k.call(this);case 1:return h.call(this,q)}throw Error("Invalid arity: "+arguments.length);};p.I=k;p.C=h;return p}()}(),f=function(){var g=e();g[6]=d;return g}();return $APP.Ii(f)})}return null};
$APP.l.rtc_download_graph=function(a,b,c){var d=$APP.Oi(1);$APP.Bi(function(){var e=function(){function g(h){var k=h[1];if(1===k)return k=$Qd(a,b,!1),$APP.Ki(h,2,k);if(2===k)return k=h[2],h[7]=k,h[2]=null,h[1]=3,$APP.U;if(3===k)return k=h[7],h[4]=$APP.Le(6,h[4]),k=FOd(k,a,c),$APP.Ki(h,7,k);if(4===k)return $APP.Mi(h,h[2]);if(5===k){k=h[2];var p=$APP.zh.G($APP.G([new $APP.O(null,2,5,$APP.Q,[new $APP.O(null,2,5,$APP.Q,[$APP.$B,new $APP.O(null,2,5,$APP.Q,[$APP.dA,"download graph failed"],null)],null),
$APP.Fs],null)]));p=v$($APP.rB,p);k=$APP.Dv.G($APP.G([ORd,k]));h[8]=p;h[2]=k;h[1]=4;return $APP.U}return 6===k?(h[4]=$APP.ic(h[4]),h[5]=h[2],h[1]=5,h[5]=null,$APP.U):7===k?(k=N$(h[2]),p=$APP.zh.G($APP.G([new $APP.O(null,1,5,$APP.Q,[new $APP.O(null,2,5,$APP.Q,[$APP.$B,new $APP.O(null,2,5,$APP.Q,[$APP.dA,"download graph successfully"],null)],null)],null)])),p=v$($APP.rB,p),h[4]=$APP.ic(h[4]),h[9]=k,h[2]=p,h[1]=4,$APP.U):null}return function(){function h(q){for(;;){a:try{for(;;){var r=g(q);if(!$APP.Ne(r,
$APP.U)){var u=r;break a}}}catch(x){u=x;q[2]=u;if($APP.y(q[4]))q[1]=$APP.A(q[4]);else throw u;u=$APP.U}if(!$APP.Ne(u,$APP.U))return u}}function k(){var q=[null,null,null,null,null,null,null,null,null,null];q[0]=p;q[1]=1;return q}var p=null;p=function(q){switch(arguments.length){case 0:return k.call(this);case 1:return h.call(this,q)}throw Error("Invalid arity: "+arguments.length);};p.I=k;p.C=h;return p}()}(),f=function(){var g=e();g[6]=d;return g}();return $APP.Ii(f)});return null};
$APP.l.rtc_push_pending_ops=function(){$APP.Pi(LQd.C($APP.v(X$)),!0);return null};$APP.l.rtc_get_graphs=function(a,b){return dRd(a,b)};$APP.l.rtc_get_block_content_versions=function(a){return XQd($APP.v(X$),a)};$APP.l.rtc_get_debug_state=function(a){return $APP.yi(YQd(a,$APP.v(X$)))};$APP.l.dangerousRemoveAllDbs=function(){var a=this;return $APP.gl(null,function(){return $APP.gl(a.listDB(),function(b){return $APP.Zk($APP.kl($APP.mh.A(function(c){return a.unsafeUnlinkDB(c)},b)))})})};try{var MSd=new LSd;$APP.Ch.K(x$,$APP.S,YNd,MSd);hMd();$APP.L4a.expose(MSd)}catch(a){throw console.error("An error occurred when calling (frontend.db-worker/init)"),a;};
}).call(this);